(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"++Rr":function(e,t,n){},"+3pQ":function(e,t,n){},"+Ft7":function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return p}));var o={month:"numeric",day:"numeric",year:"numeric"},i={month:"short",day:"numeric",year:"numeric"},c={month:"short",day:"numeric",year:"numeric"},s={weekday:"long",month:"long",day:"numeric",year:"numeric"},u={hour:"numeric",minute:"numeric",second:"numeric"},l={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},d={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},f={hour:"numeric",minute:"numeric",timeZoneName:"short"},p={SHORT:r({},{month:"numeric",day:"numeric",year:"numeric"},{hour:"numeric",minute:"numeric"}),MEDIUM:r({},o,u),LONG:r({},i,l),FULL:r({},c,d),NATURAL:r({},s,f)}},"+Ml8":function(e,t,n){},"+hrH":function(e,t,n){},"+nBP":function(e,t,n){},"+nQR":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getActivityState",(function(){return MS})),n.d(r,"getActivityData",(function(){return xS})),n.d(r,"getIsLoading",(function(){return FS})),n.d(r,"getStudentData",(function(){return US})),n.d(r,"getAllStudentsData",(function(){return VS})),n.d(r,"getGradebookStudentData",(function(){return GS})),n.d(r,"getMembers",(function(){return qS})),n.d(r,"getIsMilestoneLoading",(function(){return BS})),n.d(r,"getIsMeetingLoading",(function(){return WS})),n.d(r,"getResultPartials",(function(){return QS})),n.d(r,"getIsResultsPartialsLoading",(function(){return YS})),n.d(r,"getSelectedInProgressPartials",(function(){return HS})),n.d(r,"getSelectedReadyToSubmitPartials",(function(){return zS})),n.d(r,"getActivityLog",(function(){return KS})),n.d(r,"getGroupId",(function(){return XS})),n.d(r,"getGroupCommentsIsLoading",(function(){return JS})),n.d(r,"getGroupMembers",(function(){return ZS})),n.d(r,"getTeamEvalIsLoading",(function(){return $S})),n.d(r,"getRemoveSubmissionIsLoading",(function(){return eC})),n.d(r,"getPeerReviewCommentIsLoading",(function(){return tC})),n.d(r,"getIsPreviewLoading",(function(){return nC})),n.d(r,"getPostSubmissionMedia",(function(){return rC})),n.d(r,"getPostSubmissionText",(function(){return aC})),n.d(r,"getStudentGroup",(function(){return oC})),n.d(r,"getStudentGroupName",(function(){return iC})),n.d(r,"getStudentActivityResult",(function(){return cC})),n.d(r,"getQASettings",(function(){return sC})),n.d(r,"getStudentGroupReviewType",(function(){return uC})),n.d(r,"isShowGroupMembers",(function(){return lC})),n.d(r,"getActivityType",(function(){return dC})),n.d(r,"getStudentGroups",(function(){return fC})),n.d(r,"getActivityId",(function(){return pC})),n.d(r,"getActivityName",(function(){return mC})),n.d(r,"getGradeReportUrl",(function(){return bC})),n.d(r,"getCommentsReportUrl",(function(){return yC})),n.d(r,"getDueDate",(function(){return vC})),n.d(r,"getDataForStudent",(function(){return hC})),n.d(r,"getActivityResultPartialsForStudent",(function(){return gC})),n.d(r,"getActivityResultPartialsCreatedCountForStudent",(function(){return EC})),n.d(r,"getActivityResultForStudent",(function(){return wC})),n.d(r,"getActivityResultSubmitter",(function(){return OC})),n.d(r,"getSubmitterId",(function(){return SC})),n.d(r,"getRubric",(function(){return CC})),n.d(r,"getGroupReviewRubric",(function(){return _C})),n.d(r,"isRubricReviewEnabled",(function(){return IC})),n.d(r,"isRubricSelfReviewEnabled",(function(){return TC})),n.d(r,"isFiveStarEnabled",(function(){return RC})),n.d(r,"getFeedbackCommentIsLoading",(function(){return PC})),n.d(r,"getActivityCommentIsLoading",(function(){return AC})),n.d(r,"getCurrentGradingStudentId",(function(){return NC})),n.d(r,"isDeleteResultLoading",(function(){return jC})),n.d(r,"getTermClass",(function(){return kC})),n.d(r,"getTermClassId",(function(){return DC})),n.d(r,"getRubricEvaluations",(function(){return LC})),n.d(r,"getReviewReleasedAt",(function(){return MC})),n.d(r,"getIsReviewAnonymous",(function(){return xC})),n.d(r,"getGroupReviewType",(function(){return FC})),n.d(r,"getQAAnswers",(function(){return UC})),n.d(r,"isDeletingQAAnswer",(function(){return VC})),n.d(r,"getActivityDataWithContext",(function(){return GC})),n.d(r,"isAutoAnalysisScoreEnabled",(function(){return qC})),n.d(r,"isAutoAnalysisEnabled",(function(){return BC})),n.d(r,"getReflectionSettings",(function(){return WC})),n.d(r,"isReflectionQuestionsEnabled",(function(){return QC})),n.d(r,"getReflectionQuestions",(function(){return YC})),n.d(r,"hasReflectionQuestions",(function(){return HC})),n.d(r,"getReflectionAnswers",(function(){return zC})),n.d(r,"hasReflectionAnswers",(function(){return KC})),n.d(r,"needReflectionAnswers",(function(){return XC})),n.d(r,"isPeerReviewEnabled",(function(){return JC})),n.d(r,"getPeerReviewType",(function(){return ZC})),n.d(r,"getPeerReviewRequiredCount",(function(){return $C})),n.d(r,"getPeerReviewDueDate",(function(){return e_})),n.d(r,"getStudentPeerReviews",(function(){return t_})),n.d(r,"getFilteredStudentPeerReviews",(function(){return n_})),n.d(r,"isPeerReviewGradingEnabled",(function(){return r_})),n.d(r,"getGradedPeerReviewWeight",(function(){return a_})),n.d(r,"isCommentingAnonymous",(function(){return o_})),n.d(r,"isReviewerAnonymous",(function(){return i_})),n.d(r,"isSubmitterAnonymous",(function(){return c_})),n.d(r,"getEducatorGrade",(function(){return s_})),n.d(r,"getOverallGrade",(function(){return u_})),n.d(r,"getGradeParts",(function(){return l_})),n.d(r,"getMainGradePart",(function(){return d_})),n.d(r,"getPeerReviewGradePart",(function(){return f_})),n.d(r,"getInteractiveVideoMultipleChoiceGradePart",(function(){return p_})),n.d(r,"getIsGradeDraftAllowed",(function(){return m_})),n.d(r,"getGradeType",(function(){return b_}));n("ooXq");var a=n("q1tI"),o=n.n(a),i=n("17x9"),c=n.n(i),s=n("/MKj"),u=n("55Ip"),l=n("8bCP"),d=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function f(e){if("serviceWorker"in navigator){if(new URL("/spa-build",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/spa-build","/service-worker.js");d?(!function(e,t){fetch(e).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):p(e,t)})).catch((function(){l.b.debug("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){l.b.debug("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):p(t,e)}))}}function p(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(l.b.debug("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(l.b.debug("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){l.b.warn("Error during service worker registration:",e)}))}var m=n("wNa6"),b=n("TJpk"),y=n("Ty5D"),v=n("838P"),h=(n("IgdK"),n("mYpz")),g=n("TSYQ"),E=n.n(g),w=n("LvDl"),O=n.n(w),S=n("h3Re"),C=n("Z+gg"),_=n("Dl6w"),I=n("i8i4"),T=n.n(I);n("EiwA");function R(e){return(R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=A(t).call(this,e),n=!a||"object"!==R(a)&&"function"!==typeof a?j(r):a,k(j(j(n)),"animateBubbles",(function(){for(var e=n.state,t=e.minBubbleSize,r=e.maxBubbleSize,a=T.a.findDOMNode(n.bubbleContainer).getElementsByClassName("bubble-ele-container"),o=0;o<a.length;o++){var i=a[o],c=Math.floor(90*Math.random()),s=t+Math.floor(Math.random()*(r+1)),u=Math.floor(10*Math.random()),l=Math.floor(6*Math.random()),d=Math.floor(3*Math.random());i.style.left=c+"%",i.style["animation-duration"]=l+"s",i.style["animation-delay"]=u+"s",i.style.filter="blur("+d+"px)";for(var f=0;f<i.children.length;f++)i.children[f].style.width=s+"px",i.children[f].style.height=s+"px",i.children[f].style["background-color"]="#"+(16777215*Math.random()<<0).toString(16)}})),k(j(j(n)),"render",(function(){for(var e=n.state.bubbleCount,t=[],r=0;r<e;r++)t.push(o.a.createElement("div",{key:"key_"+r,className:"bubble-ele-container"},o.a.createElement("div",{className:"bubble-ele"})));return o.a.createElement("div",{ref:function(e){n.bubbleContainer=e}},t)})),n.state={bubbleCount:30,minBubbleSize:4,maxBubbleSize:14},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.animateBubbles()}}])&&P(n.prototype,r),a&&P(n,a),t}(a.Component),L=n("06YE"),M=n("GAH+"),x=n("s/Ur"),F=n.n(x),U=n("ZD0w"),V=n("7dPE"),G=n("l+NT"),q=n.n(G),B=n("Ga2B"),W=n.n(B);n("gnXi");var Q=Object(U.withI18n)()((function(e){var t=e.i18n,n=o.a.createElement("img",{className:"browser-logo",alt:t._("Google Chrome"),src:q.a}),r=o.a.createElement("img",{className:"browser-logo",alt:t._("Firefox"),src:W.a});return o.a.createElement("div",{className:"supported-browsers browser-options"},o.a.createElement(U.Trans,{id:"We recommend using the latest version of {chromeImage} Chrome, {firefoxImage} Firefox, or Edge (Chromium version).",values:{chromeImage:n,firefoxImage:r}}))}));n("e40F");function Y(e){return(Y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=K(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Y(a)&&"function"!==typeof a?J(r):a,Z(J(J(n)),"onClose",(function(){var e=n.props.onClose;e&&e()})),Z(J(J(n)),"getDialogComponent",(function(e){var t=n.props.i18n,r=t._("Looks like your browser isn't fully supported."),a={ariaLabel:t._("Unsupported Browser"),contentClassName:"dialog-content",dialogClassName:E()("unsupported-browser-dialog",e?"mobile-preview":null),id:"unsupported-browser-dialog",onHide:n.onClose,title:e?"":r};return o.a.createElement(V.a,H({dialogStyle:{height:"auto",width:e?"100%":"70%"}},a),o.a.createElement("div",{className:"dialog-contents"},e?o.a.createElement("h3",{className:"mobile-title"},r):"",o.a.createElement("div",{className:"feature-restriction-msg"},t._("You won't be able to record audio/video.")),o.a.createElement(Q,null)))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F.a,{query:"(min-width: 551px)"},this.getDialogComponent(!1)),o.a.createElement(F.a,{query:"(max-width: 550px)"},this.getDialogComponent(!0)))}}])&&z(n.prototype,r),a&&z(n,a),t}(a.Component);$.propTypes={onClose:c.a.func.isRequired};var ee=Object(U.withI18n)()($),te=n("u4EO"),ne=n("3fhg"),re=n("LFYD"),ae=n("J4l3"),oe=n.n(ae),ie=n("rgrG"),ce=n.n(ie),se=n("te1l"),ue=n.n(se),le=n("Uu12"),de=n("MSUi"),fe=n("HCbP");function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var me=function(e){var t=e.i18n;if(!e.isLogoVisible)return null;var n=fe.a.showPoweredByBongoLogo()?{src:ce.a}:fe.a.showPoweredByBongoTextLogo()?{src:ue.a,className:"powered-by-logo-small"}:{src:oe.a};return o.a.createElement("div",pe({},le.k.logo,{className:E()("powered-by",e.className)}),o.a.createElement("img",{className:E()("powered-by-logo",n.className),alt:t._("Powered by Bongo"),src:n.src}))};me.propTypes={className:c.a.string,i18n:c.a.object.isRequired,isLogoVisible:c.a.bool};var be=Object(U.withI18n)()(Object(s.b)((function(e){return{isLogoVisible:de.g(e)}}))(me)),ye=n("P5jQ"),ve=n.n(ye);function he(e){return o.a.createElement("div",{className:E()(ve.a.page,e.className)},o.a.createElement("nav",{className:E()(ve.a.header,e.headerContentClassName)},e.headerContent),o.a.createElement("div",{className:E()(ve.a.main,e.contentClassName)},o.a.createElement("aside",{className:E()(ve.a.left,e.leftContentClassName)},e.leftContent),o.a.createElement("main",{className:E()(ve.a.center)},o.a.createElement("div",{className:E()(ve.a.centerContent,e.centerContentClassName)},e.children),o.a.createElement("div",{className:E()(ve.a.footer,e.footerContentClassName)},o.a.createElement(be,null))),o.a.createElement("aside",{className:E()(ve.a.right,e.rightContentClassName)},e.rightContent)))}he.defaultProps={},he.propTypes={centerContentClassName:c.a.string,children:c.a.any,className:c.a.string,contentClassName:c.a.string,footerContent:c.a.node,footerContentClassName:c.a.string,headerContent:c.a.node,headerContentClassName:c.a.string,leftContent:c.a.node,leftContentClassName:c.a.string,rightContent:c.a.node,rightContentClassName:c.a.string};var ge=he,Ee=n("/iAH"),we=n("kbsL"),Oe=n("giI2"),Se=n("PwM7"),Ce=n("Rt9s"),_e=n.n(Ce),Ie=(new Date).getTime(),Te=function(e,t){return e?new Date(e).toString():t},Re=function(e){var t=e.i18n,n=e.message,r=e.errorCode,a=e.serverTime,i=n||"<no detailed message>",c=r||"(none)",s=window.location!==window.parent.location?document.referrer:"(N/A)",u=O.a.get(window,"location.hostname","(unknown)"),l=Te(a,"(unknown)"),d=Te(Ie,"(unknown)"),f=O.a.get(window,"navigator.userAgent","(unknown)");return o.a.createElement("div",{className:_e.a.technicalDetailsContainer},o.a.createElement("div",{className:_e.a.technicalDetails},o.a.createElement("p",{className:_e.a.technicalDetailsMessage},i),o.a.createElement("p",null,"Error Code: ".concat(c)),o.a.createElement("p",null,"Parent Frame URL: ".concat(s)),o.a.createElement("p",null,"Hostname: ".concat(u)),o.a.createElement("p",null,"Server Clock: ".concat(l)),o.a.createElement("p",null,"User Clock: ".concat(d)),o.a.createElement("p",null,"User Agent: ".concat(f))),o.a.createElement(we.d,{id:"button-technical-details-copy",className:_e.a.copyButton,onClick:function(){var e="";e+="== Bongo Load Error ==\n",e+="".concat(i,"\n"),e+="----------------------\n",e+="Error Code: ".concat(c,"\n"),e+="Parent Frame URL: ".concat(s,"\n"),e+="Hostname: ".concat(u,"\n"),e+="Server Clock: ".concat(l,"\n"),e+="User Clock: ".concat(d,"\n"),e+="User Agent: ".concat(f,"\n"),e+="======================\n",Object(Se.a)(e)},tooltip:{label:t._("Copy details to clipboard")}},re.a.CONTENT_COPY))};Re.propTypes={errorCode:c.a.string,message:c.a.string,serverTime:c.a.any,i18n:c.a.object.isRequired};var Pe=Object(U.withI18n)()(Re),Ae=n("HUs/"),Ne=n.n(Ae);function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ke=function(e){var t=e.i18n,n=e.type,r=e.title,i=e.message,c=e.details,u=r||t._("Unable to Load Bongo"),l=i||t._("There was an issue processing your request"),d=Object(s.c)(de.d),f=O.a.get(d,ne.e.CONTEXT_ERROR_CODE),p=Object(s.c)(de.e),m=c||O.a.get(p,ne.e.PARAMS_ERROR_MESSAGE),b=O.a.get(p,ne.e.PARAMS_ERROR_TIME),y=je(Object(a.useState)(!1),2),v=y[0],h=y[1],g=o.a.createElement(we.b,{className:Ne.a.technicalDetailsButton,onClick:function(){h(!0)}},t._("Show Support Details"),o.a.createElement(Oe.a,{className:Ne.a.moreOptionsIcon},re.a.EXPAND));return o.a.createElement(ge,{className:E()(Ne.a.page),centerContentClassName:Ne.a.pageContent},o.a.createElement(Ee.b,{type:n,title:u,messageContainerClassName:Ne.a.messageContainer,message:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Ne.a.messageText},l),v?o.a.createElement(Pe,{errorCode:f,message:m,serverTime:b}):g)}))};ke.defaultProps={type:Ee.b.NOTE_TYPES.ERROR},ke.propTypes={type:c.a.oneOf(O.a.values(Ee.b.NOTE_TYPES)),title:c.a.string,message:c.a.string,details:c.a.string,i18n:c.a.object.isRequired};var De=Object(U.withI18n)()(ke),Le=function(e){var t=e.i18n,n=e.details;return o.a.createElement(De,{message:t._("There was an issue communicating with the server. Please try again later."),details:n})};Le.propTypes={details:c.a.string,i18n:c.a.object.isRequired};var Me=Object(U.withI18n)()(Le),xe=n("NlSD"),Fe=n("lTCR"),Ue=n.n(Fe),Ve=n("7cfX"),Ge=n.n(Ve),qe=n("MOhp"),Be={},We={ACTIVE:"active",FILTERS:"filters"},Qe=n("HNnK"),Ye=n("UyA7"),He=n("h4t+"),ze=n("tslA"),Ke=n.n(ze);function Xe(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\nquery getEnvironmentConfig {\n  configuration {\n    runtimeConfig {\n      key\n      value\n    }\n  }\n}\n"]);return Xe=function(){return e},e}function Je(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Je(o,r,a,i,c,"next",e)}function c(e){Je(o,r,a,i,c,"throw",e)}i(void 0)}))}}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et=Object(l.c)("env-conf"),tt=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$e(this,"initialize",(function(){if(!t.isInitialized){et.debug("Initializing EnvironmentConfigService...");var e=Ge()((function(){return Object(Qe.h)(m.a.getState())})),n=Ge()((function(){return Object(Ye.i)(m.a.getState())})),r=Ge()((function(){return Object(Ye.m)(m.a.getState())}));m.a.subscribe(e(t.reprocessFeatureConfig)),m.a.subscribe(n(t.reprocessFeatureConfig)),m.a.subscribe(r(t.reprocessFeatureConfig)),t.fetchEnvironmentConfig(),et.debug("... initialized."),t.isInitialized=!0}})),$e(this,"fetchEnvironmentConfig",Ze(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:et.debug(">>> Fetching environment config"),xe.a.query({query:nt}).then((function(e){var t=e.data.configuration;et.debug("<<< Fetched environment config:",t),m.a.dispatch(qe.s(t)),m.a.dispatch(qe.z(!1))})).catch((function(e){var t="EnvironmentConfigService: Failed to fetch configuration data";l.b.error(t,e);var n={errors:[t]};m.a.dispatch(qe.s(n)),m.a.dispatch(qe.z(!1))}));case 2:case"end":return e.stop()}}),e,this)})))),$e(this,"fetchFeatureConfig",Ze(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return et.debug(">>> Fetching feature config"),e.prev=1,e.next=4,fetch(Ke.a,{method:"GET",cache:"no-cache"});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,et.debug("<<< Fetched feature config:",r),t.processFeatureConfig(r),t.featureConfig=r,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),et.warn("EnvironmentConfigService:: Failed to fetch and process feature config",e.t0);case 16:t.fetchFeatureConfigTimeout=setTimeout(t.fetchFeatureConfig,3e5);case 17:case"end":return e.stop()}}),e,this,[[1,13]])})))),$e(this,"reprocessFeatureConfig",(function(){t.debouncedProcessFeatureConfig||(t.debouncedProcessFeatureConfig=O.a.debounce(t.processFeatureConfig)),t.debouncedProcessFeatureConfig(t.featureConfig)})),$e(this,"processFeatureConfig",(function(e){if(e){et.debug(">>> Processing feature config");var n=t.getSessionData();et.debug("Matching filters against Session Data:",n);var r={};O.a.forEach(Be,(function(a){var o="is".concat(a,"Active");r[o]=t.isFeatureActive(e[a],n)})),m.a.dispatch(qe.t(r)),et.debug("<<< Finished processing feature config:",r)}})),$e(this,"isFeatureActive",(function(e,t){if(!e)return!1;var n=e[We.ACTIVE];if(!n||!O.a.isBoolean(n))return!1;var r=e[We.FILTERS];if(r&&O.a.isArray(r)&&!O.a.isEmpty(r)){for(var a=0;a<r.length;a++){var o=r[a];if(!O.a.isEmpty(o)&&O.a.isMatch(t,o))return!0}return!1}return!0})),$e(this,"getSessionData",(function(){var e=m.a.getState();return{region:{name:Object(He.d)()},institution:Object(Ye.i)(e),termClass:Object(Ye.m)(e),user:Object(Qe.h)(e)}}))};$e(tt,"isInitialized",!1),$e(tt,"fetchFeatureConfigTimeout",null),$e(tt,"featureConfig",{}),$e(tt,"debouncedProcessFeatureConfig",null);var nt=Ue()(Xe()),rt=new tt,at=n("fbOa"),ot=n("G4qV"),it=n("upk1"),ct=Object(ot.a)(it.a,(function(e){return e.modal})),st=Object(ot.a)(ct,(function(e){return e.currentModal})),ut=Object(ot.a)(it.a,(function(e){return e.session})),lt=Object(ot.a)(ut,(function(e){return e.hasUnsupportedBrowserMessageBeenDismissed})),dt=n("Y7ox"),ft=n("ChKr"),pt=n("G19t"),mt=n("ok3h"),bt=n("2Gxn"),yt=n("6SRB");function vt(e){return(vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return!t||"object"!==vt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ot=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gt(this,Et(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.location,r=new URLSearchParams(n.search);t(Object(qe.B)(r.get("lti-scope")))}},{key:"render",value:function(){return null}}])&&ht(n.prototype,r),a&&ht(n,a),t}(a.Component),St=Object(y.k)(Object(s.b)()(Ot)),Ct=n("nseW");var _t=new function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){var t=!1;return Ct.l.forEach((function(n){Object(y.g)(e,{path:n,exact:!1,strict:!1})&&(t=!0)})),t},(n="isAnonymousPath")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r};function It(e){return(It="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t){return!t||"object"!==It(t)&&"function"!==typeof t?Nt(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e,t){return(At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var jt=function(e){function t(e){var r,a,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=Rt(this,Pt(t).call(this,e)),a=Nt(Nt(r)),i={pathToComponent:null},(o="state")in a?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i;var c=new URLSearchParams(window.location.search);return Boolean(c.get("debug"))?(n.e(12).then(n.bind(null,"M1op")).then((function(e){r.setState({pathToComponent:e.default})})),r):Rt(r)}var r,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){var e=this.state.pathToComponent;if(!e)return null;var t=O.a.map(e,(function(e,t){return o.a.createElement(y.b,{key:t,path:t,component:e})}));return o.a.createElement(y.d,null,t)}}])&&Tt(r.prototype,a),i&&Tt(r,i),t}(a.Component),kt=n("J1aS"),Dt=n("j15M"),Lt=n("VQZn"),Mt=n("6ZeI");function xt(e){var t=e.reloadData,n=e.message,r=e.buttonTitle;return o.a.createElement(Lt.a,null,o.a.createElement("span",{className:"u-mr-5px"},n),o.a.createElement(we.h,{id:"button-error-reload-data",onClick:t},r))}xt.propTypes={reloadData:c.a.func.isRequired,message:c.a.string.isRequired,buttonTitle:c.a.string.isRequired};var Ft,Ut,Vt,Gt=xt;function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bt={SCHEDULED:"STATUS__SCHEDULED",READY:"STATUS__MEETING_TIME",STARTED:"STATUS__STARTED",FINISHED:"STATUS__FINISHED",PROCESSED:"STATUS__PROCESSED",NOT_HELD:"STATUS__WAS_NOT_HELD",CANCELED:"STATUS__CANCELED"},Wt="scheduled",Qt="meeting_time",Yt="started",Ht="finished",zt="processed",Kt="was_not_held",Xt="canceled",Jt=(qt(Ft={},Bt.SCHEDULED,!0),qt(Ft,Bt.READY,!0),qt(Ft,Wt,!0),qt(Ft,Qt,!0),Ft),Zt=(qt(Ut={},Bt.STARTED,!0),qt(Ut,Yt,!0),Ut),$t=(qt(Vt={},Bt.FINISHED,!0),qt(Vt,Bt.PROCESSED,!0),qt(Vt,Bt.NOT_HELD,!0),qt(Vt,Bt.CANCELED,!0),qt(Vt,Ht,!0),qt(Vt,zt,!0),qt(Vt,Kt,!0),qt(Vt,Xt,!0),Vt),en={D2L_FREEMIUM_EXPIRED:"RA__D2L_FREEMIUM_EXPIRED",AVAILABLE:"RA__AVAILABLE",NOT_READY:"RA__NOT_READY"},tn={RESOURCE:"RESOURCE",ACTIVITY:"ACTIVITY"},nn="ROLE_STUDENT",rn="ROLE_EDUCATOR";function an(e){return(an="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t){return!t||"object"!==an(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ln=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cn(this,sn(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.media,n=e.isLoading,r=e.hasError,a=e.reloadData,i=e.i18n,c=e.isEmbeded;if(n||!t&&!r)return o.a.createElement(te.a,{loading:!0});var s=t&&o.a.createElement(Mt.a,{media:t,logMediaWatching:!1,playerId:"External player #"+t.dbId}),u=o.a.createElement(Gt,{reloadData:a,message:i._("Failed to load media"),buttonTitle:i._("Try again")}),l=t&&t.recordingAvailability&&t.recordingAvailability===en.D2L_FREEMIUM_EXPIRED,d=i._("This meeting is no longer available.");return c?r?u:l?o.a.createElement("p",null,d):s:o.a.createElement(Dt.a,{title:t?t.title:""},r&&u,t&&o.a.createElement(Lt.a,null,l?o.a.createElement("p",null,d):s))}}])&&on(n.prototype,r),a&&on(n,a),t}(a.Component),dn=Object(U.withI18n)()(ln),fn=n("92Bf");function pn(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    query getMedia ($dbId: Int!, $signature: String!){\n        mediaForPlayExternally(dbId: $dbId, signature: $signature) {\n            dbId\n            srcUrl\n            title\n            recordingAvailability\n            caption {\n                ...MediaCaption\n            }\n            transcript {\n                src\n                fileSizeBytes\n            }\n            slaveMedia {\n                dbId\n                srcUrl\n            }\n            meetingAssets {\n                svgUrl\n                cursorUrl\n                zoomsUrl\n                chatMessagesUrl\n                eventsUrl\n            }\n        }\n    }\n    ","\n"]);return pn=function(){return e},e}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getMedia",value:function(e,t){return xe.a.query({query:yn,variables:{dbId:e,signature:t}}).then((function(e){return e.errors&&e.errors.length>0?Promise.reject(e.errors):Promise.resolve(e.data.mediaForPlayExternally)}))}}],(n=null)&&mn(t.prototype,n),r&&mn(t,r),e}(),yn=Ue()(pn(),fn.c);function vn(e){return(vn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function gn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){hn(o,r,a,i,c,"next",e)}function c(e){hn(o,r,a,i,c,"throw",e)}i(void 0)}))}}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _n=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=wn(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==vn(a)&&"function"!==typeof a?Sn(r):a,Cn(Sn(Sn(n)),"state",{media:void 0,isLoading:!1,hasError:!1}),Cn(Sn(Sn(n)),"getMedia",gn(regeneratorRuntime.mark((function e(){var t,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.match.params,r=t.mediaId,a=t.signature,e.prev=1,n.setState({isLoading:!0,hasError:!1}),o=null,!(i=n.getMediaOverride())){e.next=9;break}o=i,e.next=12;break;case 9:return e.next=11,bn.getMedia(+r,a);case 11:o=e.sent;case 12:n.setState({isLoading:!1,hasError:!1,media:o}),l.b.info(o),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),n.setState({isLoading:!1,hasError:!0}),l.b.error(e.t0);case 20:case"end":return e.stop()}}),e,this,[[1,16]])})))),Cn(Sn(Sn(n)),"getMediaOverride",(function(){var e=new URLSearchParams(window.location.search).get("mediaOverride");if(e&&sessionStorage[e])try{return JSON.parse(sessionStorage[e]).data.mediaForPlayExternally}catch(t){l.b.debug("Found mediaOverride of '".concat(e,"' but could not parse content:"),sessionStorage[e],t)}return null})),Cn(Sn(Sn(n)),"isEmbeded",(function(){return"1"===new URLSearchParams(window.location.search).get("embedded")})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getMedia().catch()}},{key:"render",value:function(){var e=this.state,t=e.media,n=e.isLoading,r=e.hasError;return o.a.createElement(dn,{media:t,reloadData:this.getMedia,isEmbeded:this.isEmbeded(),isLoading:n,hasError:r})}}])&&En(n.prototype,r),a&&En(n,a),t}(a.Component),In=n("BulX");function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rn={contentName:null,contentId:null},Pn=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Tn(this,"useExternalData",!0),Tn(this,"externalData",Rn),Tn(this,"storeExternalData",(function(e){l.b.debug("[ContentLinkingUtil] storeExternalData",e),t.externalData.contentId=e[ne.e.PARAMS_EXTERNAL_RESOURCE_ID],t.externalData.contentName=e[ne.e.PARAMS_EXTERNAL_RESOURCE_NAME],t.useExternalData=!0})),Tn(this,"getContentId",(function(){return t.useExternalData?t.externalData.contentId:null})),Tn(this,"getContentName",(function(){return t.useExternalData?t.externalData.contentName:null})),Tn(this,"clear",(function(){l.b.debug("[ContentLinkingUtil] cleared"),t.useExternalData=!1,t.externalData=Rn,window.localStorage.removeItem("ltiData")}));var n=e.readLegacyLtiDataFromStorage();n&&O.a.isObject(n)&&(this.externalData.contentId=O.a.get(n,"activityLtiIdentifier"),this.externalData.contentName=O.a.get(n,"activityLtiName"))};Tn(Pn,"readLegacyLtiDataFromStorage",(function(){l.b.debug("[ContentLinkingUtil] readLegacyLtiDataFromStorage");try{var e=window.localStorage.getItem("ltiData");return l.b.debug("[ContentLinkingUtil] ".concat("ltiData"),e),JSON.parse(e)}catch(t){return null}}));var An=new Pn;function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jn(e,t,n[t])}))}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kn,Dn,Ln,Mn,xn,Fn,Un,Vn,Gn,qn,Bn=Object(l.c)("launch"),Wn=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jn(this,"translateContextToPathParams",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return O.a.forEach(e,(function(e,n){if(e){var r=ne.d[n];r?t[r]=e:t[n]=e}})),Bn.debug('Translated context "'.concat(JSON.stringify(e),'" to path parameters "').concat(JSON.stringify(t),'"')),t})),jn(this,"pathGenerator",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(O.a.isFunction(e.pathGenerator))return e.pathGenerator(n,r);if(e.pathPattern){var a=Object(y.f)(e.pathPattern,t.translateContextToPathParams(n));return a}if(e.pathPatterns){var o=O.a.get(n,ne.e.CONTEXT_USER_TYPE),i=O.a.get(e.pathPatterns,o);return Object(y.f)(i,t.translateContextToPathParams(n))}})),jn(this,"alternatePathGenerator",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=O.a.get(n,ne.e.CONTEXT_USER_TYPE),i=O.a.get(r,ne.e.PARAMS_EXTERNAL_COURSE_ID);return o===ne.g.EDUCATOR&&a[ne.e.CONTEXT_COURSE_ID]&&!O.a.isEmpty(i)?Object(y.f)(In.f.EDUCATOR_COURSE_CREATE,t.translateContextToPathParams(n)):null})),jn(this,"validator",(function(e,n,r){if(r&&r.error)return{valid:!1,message:function(e){return e._(r.errorMessage)}};var a=O.a.transform(e.requiredContext,(function(e,t){e[t]=n[t]}),{}),o=t.validateContext(a),i=o.isContextValid,c=o.missingContextKeys;if(Bn.debug("Launch view context is ".concat(i?"valid":"invalid"," (missingContextKeys=").concat(JSON.stringify(c),")")),!i)return{valid:!1,alternatePath:t.alternatePathGenerator(e,n,r,c)};var s=e.validator;return s?s(n,r):{valid:!0}})),jn(this,"validateContext",(function(e){var t=!0,n={};return O.a.forEach(e,(function(e,r){O.a.isNumber(e)||O.a.isBoolean(e)||O.a.isString(e)&&e.length>0||(Bn.error('Property "'.concat(r,'" is required to display the requested view but it was not found or has an invalid value ("').concat(e,'") in the sessionStorage bongo_launchpoint_settings')),t=!1,n[r]=!0)})),{isContextValid:t,missingContextKeys:n}})),jn(this,"activity",{pathGenerator:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=O.a.get(e,ne.e.CONTEXT_ACTIVITY_ID),a=O.a.get(n,ne.e.PARAMS_TYPE),o=ne.a[a],i=null;switch(O.a.get(e,ne.e.CONTEXT_USER_TYPE)){case ne.g.EDUCATOR:An.clear(),r?i=In.f.EDUCATOR_ACTIVITY_OVERVIEW:o?(An.storeExternalData(n),i=In.f.EDUCATOR_ACTIVITY_CREATE):i=In.f.EDUCATOR_COURSE_CONTENT_ACTIVITY_CREATE;break;case ne.g.STUDENT:i=r?In.f.STUDENT_ACTIVITY:In.f.STUDENT_RESOURCE_ERROR}return i?Object(y.f)(i,t.translateContextToPathParams(Nn({},e,{activityType:o}))):null}}),jn(this,"activityLearner",{validator:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O.a.get(e,ne.e.CONTEXT_USER_TYPE);if(n!==ne.g.EDUCATOR)return{valid:!1};var r=O.a.get(e,ne.e.CONTEXT_LEARNER_ID),a=O.a.get(t,ne.e.PARAMS_LEARNER_ID);return r?{valid:!0}:a?{valid:!1,message:function(e){return e._("This view could not be loaded because the learner was not found in this course")}}:{valid:!1,message:function(e){return e._("This view could not be loaded (no learnerId was provided)")}}},pathGenerator:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=null;switch(O.a.get(e,ne.e.CONTEXT_USER_TYPE)){case ne.g.EDUCATOR:n=In.f.EDUCATOR_ACTIVITY_STUDENT_DETAILS;break;case ne.g.STUDENT:}return n?Object(y.f)(n,t.translateContextToPathParams(e)):null}})};function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yn=(Qn(qn={},ne.h.ACTIVITIES,{type:ne.h.ACTIVITIES,requiredContext:[ne.e.CONTEXT_USER_TYPE,ne.e.CONTEXT_COURSE_ID],pathPatterns:(kn={},Qn(kn,ne.g.EDUCATOR,In.f.EDUCATOR_ACTIVITY_LIST),Qn(kn,ne.g.STUDENT,In.f.STUDENT_ACTIVITY_LIST),kn)}),Qn(qn,ne.h.ACTIVITY,{type:ne.h.ACTIVITY,requiredContext:[ne.e.CONTEXT_USER_TYPE,ne.e.CONTEXT_COURSE_ID],pathPatterns:null,pathGenerator:Wn.activity.pathGenerator}),Qn(qn,ne.h.ACTIVITY_SETTINGS,{type:ne.h.ACTIVITY_SETTINGS,requiredContext:[ne.e.CONTEXT_USER_TYPE,ne.e.CONTEXT_COURSE_ID,ne.e.CONTEXT_ACTIVITY_ID],pathPatterns:(Dn={},Qn(Dn,ne.g.EDUCATOR,In.f.EDUCATOR_ACTIVITY_SETTINGS),Qn(Dn,ne.g.STUDENT,null),Dn)}),Qn(qn,ne.h.ACTIVITY_LEARNER,{type:ne.h.ACTIVITY_LEARNER,requiredContext:[ne.e.CONTEXT_USER_TYPE,ne.e.CONTEXT_COURSE_ID,ne.e.CONTEXT_ACTIVITY_ID],pathPatterns:null,pathGenerator:Wn.activityLearner.pathGenerator,validator:Wn.activityLearner.validator}),Qn(qn,ne.h.LIBRARY,{type:ne.h.LIBRARY,requiredContext:[ne.e.CONTEXT_USER_TYPE,ne.e.CONTEXT_COURSE_ID],pathPatterns:(Ln={},Qn(Ln,ne.g.EDUCATOR,In.f.EDUCATOR_LIBRARY),Qn(Ln,ne.g.STUDENT,null),Ln)}),Qn(qn,ne.h.MEETINGS,{type:ne.h.MEETINGS,requiredContext:[ne.e.CONTEXT_USER_TYPE,ne.e.CONTEXT_COURSE_ID],pathPatterns:(Mn={},Qn(Mn,ne.g.EDUCATOR,In.f.EDUCATOR_MEETINGS),Qn(Mn,ne.g.STUDENT,In.f.STUDENT_MEETINGS_LIST),Mn)}),Qn(qn,ne.h.MEETING,{type:ne.h.MEETING,requiredContext:[ne.e.CONTEXT_USER_TYPE,ne.e.CONTEXT_COURSE_ID,ne.e.CONTEXT_MEETING_ID],pathPatterns:(xn={},Qn(xn,ne.g.EDUCATOR,In.f.EDUCATOR_COURSE_MEETING),Qn(xn,ne.g.STUDENT,In.f.STUDENT_COURSE_MEETING),Qn(xn,ne.g.ANON,In.f.ANON_COURSE_MEETING),xn)}),Qn(qn,ne.h.RUBRICS,{type:ne.h.RUBRICS,requiredContext:[ne.e.CONTEXT_USER_TYPE,ne.e.CONTEXT_COURSE_ID],pathPatterns:(Fn={},Qn(Fn,ne.g.EDUCATOR,In.f.EDUCATOR_RUBRICS_LIST),Qn(Fn,ne.g.STUDENT,null),Fn)}),Qn(qn,ne.h.COURSE_CREATE,{type:ne.h.COURSE_CREATE,requiredContext:[ne.e.CONTEXT_USER_TYPE],pathPatterns:(Un={},Qn(Un,ne.g.EDUCATOR,In.f.EDUCATOR_COURSE_CREATE),Qn(Un,ne.g.STUDENT,null),Un)}),Qn(qn,ne.h.RESOURCE_CREATE,{type:ne.h.RESOURCE_CREATE,requiredContext:[ne.e.CONTEXT_USER_TYPE,ne.e.CONTEXT_COURSE_ID],pathPatterns:(Vn={},Qn(Vn,ne.g.EDUCATOR,In.f.EDUCATOR_COURSE_CONTENT_CREATE),Qn(Vn,ne.g.STUDENT,null),Vn)}),Qn(qn,ne.h.ACTIVITY_CREATE,{type:ne.h.ACTIVITY_CREATE,requiredContext:[ne.e.CONTEXT_USER_TYPE,ne.e.CONTEXT_COURSE_ID],pathPatterns:(Gn={},Qn(Gn,ne.g.EDUCATOR,In.f.EDUCATOR_COURSE_CONTENT_ACTIVITY_CREATE),Qn(Gn,ne.g.STUDENT,null),Gn)}),Qn(qn,ne.h.ERROR,{type:ne.h.ERROR,requiredContext:[],pathPattern:In.f.ERROR}),qn),Hn=n("nbG6");n("TMv0");function zn(e){return(zn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var $n=function(e){function t(){var e,n,r,a,i,c,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return r=this,a=(e=Xn(t)).call.apply(e,[this].concat(l)),n=!a||"object"!==zn(a)&&"function"!==typeof a?Zn(r):a,i=Zn(Zn(n)),s=function(){var e=n.props.details;return e?o.a.createElement("div",{className:"launch-error-details"},e):null},(c="renderDetails")in i?Object.defineProperty(i,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[c]=s,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n;return o.a.createElement(Dt.a,null,o.a.createElement(Hn.a,null,o.a.createElement(Hn.d,{title:e._("Unable to Launch - Integration Error")}),o.a.createElement(Hn.c,null,o.a.createElement(Ee.a,{type:Ee.a.NOTE_TYPES.ERROR,message:e._("There was an issue processing this request")}),this.renderDetails())))}}])&&Kn(n.prototype,r),a&&Kn(n,a),t}(o.a.PureComponent);$n.propTypes={details:c.a.any,i18n:c.a.object};var er=Object(U.withI18n)()($n);function tr(e){return(tr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e,t){return!t||"object"!==tr(t)&&"function"!==typeof t?ir(e):t}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function or(e,t){return(or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sr=Object(l.c)("launch"),ur={invalidMessage:null},lr=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cr(ir(ir(n=rr(this,ar(t).call(this,e)))),"getDefaultInvalidMessage",(function(){return n.props.i18n._("Unable to launch specified view")}));var r=e.i18n,a=e.hasLaunchpoint,o=e.launchpoint,i=e.history,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){cr(e,t,n[t])}))}return e}({},ur);if(sr.debug("Using launchpoint settings (".concat(a,")"),JSON.stringify(o)),a){var s=null,u=o.route,l=o.view,d=o.context,f=o.parameters;if(u)return i.replace(u),rr(n);if(l){sr.debug("Launch view of '".concat(l,"' is requested, checking supplied context and parameters"));var p=Yn[l];if(p){var m=Wn.validator(p,d,f),b=m.valid,y=m.message,v=m.alternatePath;if(b)try{s=Wn.pathGenerator(p,d,f)}catch(h){sr.error("Launch view of '".concat(l,"' failed path generation"),h)}else sr.warn("Launch view of '".concat(l,"' failed validation")),v?(sr.warn("Using alternate path '".concat(v,"'")),s=v):y&&(c.invalidMessage=y(r))}else sr.error("Invalid launch view (view='".concat(l,"')"))}if(s)return i.replace(s),rr(n)}return sr.error("bongo-launchpoint-settings: ".concat(JSON.stringify(o))),n.state=c,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.getDefaultInvalidMessage();if(this.state){var t=this.state.invalidMessage;t&&(e=t)}if(e)return o.a.createElement(er,{details:e})}}])&&nr(n.prototype,r),a&&nr(n,a),t}(o.a.PureComponent);lr.propTypes={history:c.a.any,match:c.a.any,location:c.a.any,hasLaunchpoint:c.a.bool,launchpoint:c.a.object,i18n:c.a.object};var dr=Object(y.k)(Object(s.b)((function(e){return{hasLaunchpoint:de.f(e),launchpoint:de.b(e)}}))(Object(U.withI18n)()(lr))),fr=n("0TIy"),pr=n("szwm"),mr=n("ZmiZ"),br=n("jUYa");function yr(e){return(yr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(){return(vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Er(e,t){return(Er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sr={WEBCAM_ONLY:"webcam only",WEBCAM_DESKSHARE:"webcam deskshare",DESKSHARE:"deskshare",AUDIO:"audio only"},Cr=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=gr(t).call(this,e),n=!a||"object"!==yr(a)&&"function"!==typeof a?wr(r):a,Or(wr(wr(n)),"showRecorder",(function(){localStorage.setItem("recorderStandActivityId",n.state.activityId),n.setState({showRecorder:!0})})),Or(wr(wr(n)),"hideRecorder",(function(){n.setState({showRecorder:!1})})),Or(wr(wr(n)),"onActivityIdChange",(function(e){n.setState({activityId:e})})),Or(wr(wr(n)),"onModeChange",(function(e){n.setState({mode:e})}));var o=localStorage.getItem("recorderStandActivityId");return n.state={activityId:o||"",showRecorder:!1,webcam:Sr.DESKSHARE},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Er(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.showRecorder,n=e.activityId,r=e.mode,a=this.props.i18n,i={};r===Sr.WEBCAM_ONLY&&(i.canShareDesktop=!1),r===Sr.WEBCAM_DESKSHARE&&(i.canShareDesktop=!0),r===Sr.DESKSHARE&&(i.onlyDesktopMode=!0),r===Sr.AUDIO&&(i.onlyAudio=!0);var c=+n>0;return o.a.createElement("div",{style:{width:"50%",margin:"0 auto"}},!t&&o.a.createElement("div",null,o.a.createElement(mr.b,{id:"Activity id",name:"Activity id",label:"Activity id",onChange:this.onActivityIdChange,value:""+n}),o.a.createElement(br.a,{id:"mode",name:"mode",type:"radio",label:"Recorder Type",ariaLabel:a._("Recorder Type"),enabled:c,onChange:this.onModeChange,controls:[{label:"Camera Only",value:Sr.WEBCAM_ONLY},{label:"Camera + Screen",value:Sr.WEBCAM_DESKSHARE},{label:"Screen Only",value:Sr.DESKSHARE},{label:"Audio Only",value:Sr.AUDIO}]}),o.a.createElement(we.h,{id:"button-recorder-show",primary:!0,ariaLabel:"Show Recorder",enabled:c,onClick:this.showRecorder},"Show Recorder")),t&&o.a.createElement(Lt.a,null,o.a.createElement(fr.b,vr({recorderId:"StandRecorder",mediaType:pr.a.ACTIVITY_RESULT,activityId:+n,onFinish:this.hideRecorder},i))))}}])&&hr(n.prototype,r),a&&hr(n,a),t}(a.Component),_r=Object(U.withI18n)()(Cr),Ir=n("+psP");function Tr(e){return(Tr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e,t){return!t||"object"!==Tr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pr(this,Ar(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement(Ir.a,{svgUrl:"https://encoded-staging-virginia-youseeu-com.s3.amazonaws.com/i-3/educator/_4/3694-1519719005_73279eb9b6cac318a5641bfa3447b46b/shapes.svg",cursorUrl:"https://encoded-staging-virginia-youseeu-com.s3.amazonaws.com/i-3/educator/_4/3694-1519719005_73279eb9b6cac318a5641bfa3447b46b/cursor.xml",zoomsUrl:"https://encoded-staging-virginia-youseeu-com.s3.amazonaws.com/i-3/educator/_4/3694-1519719005_73279eb9b6cac318a5641bfa3447b46b/panzooms.xml",chatMessagesUrl:"https://encoded-staging-virginia-youseeu-com.s3.amazonaws.com/i-3/educator/_4/3694-1519719005_73279eb9b6cac318a5641bfa3447b46b/slides_new.xml",playerId:"BbbTestPlayer",playerOptions:{sources:[{src:"https://encoded-staging-virginia-youseeu-com.s3.amazonaws.com/i-3/educator/_4/3694-1519719005_73279eb9b6cac318a5641bfa3447b46b/__4_73279eb9b6cac318a5641bfa3447b46b.mp4",type:"video/mp4"}]},videoUrl:"https://encoded-staging-virginia-youseeu-com.s3.amazonaws.com/i-3/educator/_4/3694-1519719005_73279eb9b6cac318a5641bfa3447b46b/__4_73279eb9b6cac318a5641bfa3447b46b.mp4"})}}])&&Rr(n.prototype,r),a&&Rr(n,a),t}(a.Component),kr=n("T1zh"),Dr=n("Qyje"),Lr=n.n(Dr);n("5F5Z");function Mr(e){return(Mr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fr(e,t){return!t||"object"!==Mr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vr(e,t){return(Vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fr(this,Ur(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vr(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=Lr.a.parse(window.location.search.replace(/^\?/,""));return o.a.createElement("div",{className:"c-standalone-double-player"},o.a.createElement(kr.a,{playerId:"Standalone double player",webcamSrc:e.mainStreamSrc,deskshareSrc:e.secondStreamSrc}))}}])&&xr(n.prototype,r),a&&xr(n,a),t}(a.Component),qr=Object(y.k)(Gr),Br=n("vGZo"),Wr=n("IF/7"),Qr=n("f2lN"),Yr=n("CT7t");function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zr=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Hr(this,"parseScheduledAt",(function(e){var t=e.date,n=e.timezone;return new Date("".concat(t," ").concat(n))})),Hr(this,"getScheduledAtDate",(function(e){var t=e.scheduledAtEpoch;return new Date(1e3*t)})),Hr(this,"getJoinableState",(function(e,n){var r={isJoinable:!1,isEarlyJoinable:!1,isAutoJoinable:!1},a=n.status,o=n.isModerator,i=n.isUsersMeetingAccessBlocked,c=t.getScheduledAtDate(n);if(o){if(Zt[a])r.isJoinable=!0;else if(Jt[a]){var s=e.earlyModeratorAccessOffset,u=60*(s>0?s:0)*1e3,l=c.getTime()-u;r.isEarlyJoinable=l<=Yr.a.now()}}else{var d=Yr.a.calculateSecondsUntilTime(c.getTime());Jt[a]||d>0?r.isAutoJoinable=!0:Zt[a]&&(r.isJoinable=!i,r.isAutoJoinable=i)}return r}))},Kr=n("RBRe"),Xr=He.b(),Jr=He.c("meetings"),Zr=Object(Kr.a)(Jr,Xr,[],!1);function $r(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  query meetingLobbyInfo($meetingId: Int!) {\n    meetingLobbyInfo(meetingId: $meetingId) {\n      meetingId\n      state\n      title\n      scheduledAt\n      startedAt\n      finishedAt\n      attendees\n      moderatorCount\n      isServerAssigned\n    }\n  }\n"]);return $r=function(){return e},e}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){na(e,t,n[t])}))}return e}function ta(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ra=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};na(ra,"updateServerDate",(function(e){var t=O.a.get(e,"headers");try{var n=t.get("date");if(!n)throw new Error('response did not contain a valid value in the "date" header');Yr.a.updateServerDate(new Date(n))}catch(r){l.b.warn("Unable to updateServerDate",{err:r,response:e,headers:t})}})),na(ra,"fetchMeetingLobbyInfoById",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r=[],e.prev=2,e.next=5,Zr.query({query:aa,variables:{meetingId:t}});case 5:if(a=e.sent,r=O.a.concat(r,a.errors),n=O.a.get(a,"data.meetingLobbyInfo",{}),!O.a.isEmpty(n)){e.next=10;break}throw new Error("Meeting not found");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),l.b.error("meetingLobbyInfo error:",e.t0),r.push("unable to fetch meetingLobbyInfo");case 16:return r=O.a.compact(r),e.abrupt("return",{meetingLobbyInfo:n,errors:r});case 18:case"end":return e.stop()}}),e,this,[[2,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ta(o,r,a,i,c,"next",e)}function c(e){ta(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),na(ra,"joinMeetingEducator",(function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o="/educator/resource-sync-meeting/class/".concat(t,"/meeting/").concat(r,"/open");e===tn.ACTIVITY&&(o="/educator/activity/".concat(n,"/sync-meeting/").concat(r,"/open-meeting-room"));var i=a?null:"_blank";ra.open(o,i)})),na(ra,"joinMeetingStudent",(function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o="/student/view-resource-meeting-for-term-class/".concat(r,"/").concat(t,"/1");e===tn.ACTIVITY&&(o="/student/activity/".concat(n,"/gpd/open-meeting-room/").concat(r));var i=a?null:"_blank";ra.open(o,i)})),na(ra,"joinMeetingAnon",(function(e,t,n){var r=n.firstName,a=n.lastName,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],c="/sync-activity/invite/".concat(e,"/").concat(t,"/1");try{var s=document.createElement("form");s.id="bongo-meeting-join[".concat(e,"]"),o||(s.target="_blank"),s.method="POST",s.action=c;var u=document.createElement("input");u.name="firstName",u.value=r,s.appendChild(u);var d=document.createElement("input");d.name="lastName",d.value=a,s.appendChild(d),document.body.appendChild(s),s.submit(),document.body.removeChild(s)}catch(f){l.b.error("joinMeetingAnon error:",f),i.push("unable to post: ",c)}return{errors:i=O.a.compact(i)}})),na(ra,"openMeetingAutoJoin",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ra.open(window.location.href,"bongo-meeting-autojoin[".concat(e,"]"));if(n){var r={isAutoJoinActive:!0,form:ea({},t)};ra.writeMeetingLobbySettings(e,r,n)}return n})),na(ra,"writeMeetingLobbySettings",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;try{var r=n.sessionStorage,a=na({},e,t),o=JSON.stringify(a);r.setItem("bongo-meeting-lobby-settings",o)}catch(i){return l.b.warn("Unable to write ".concat("bongo-meeting-lobby-settings"," to sessionStorage"),i),!1}return!0})),na(ra,"readMeetingLobbySettings",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n={};try{var r=t.sessionStorage,a=r.getItem("bongo-meeting-lobby-settings"),o=JSON.parse(a);n=O.a.get(o,e,{})}catch(i){l.b.warn("Unable to read ".concat("bongo-meeting-lobby-settings"," from sessionStorage"),i)}return n})),na(ra,"open",(function(e,t){return t?window.open(e,t):(window.location.href=e,window)}));var aa=Ue()($r()),oa=n("MzIV"),ia=n("+Ft7"),ca=n("hvs/"),sa=n("gX62"),ua=n.n(sa);function la(e){return(la="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(){return(da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pa(e){return(pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ma(e,t){return(ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var va=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=pa(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==la(a)&&"function"!==typeof a?ba(r):a,ya(ba(ba(n)),"onHide",(function(){(0,n.props.onHide)()})),ya(ba(ba(n)),"renderBridgeCode",(function(e){var t=O.a.split(e,""),n="";return n+=O.a.join(O.a.slice(t,0,3),""),n+=" ",n+=O.a.join(O.a.slice(t,3,7),""),n+=" ",n+=O.a.join(O.a.slice(t,7),""),n+="#"})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ma(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.className,r=e.dialInInfo,a=r.dialInNumbers,i=r.dialInBridge;return o.a.createElement(V.a,{id:"meeting-lobby-dialin-info",dialogClassName:E()(ua.a.dialInInfoDialog,n),title:t._("Dial-in Information"),onHide:this.onHide},o.a.createElement("div",{className:ua.a.dialInInfo},o.a.createElement("div",da({},le.g.dialInInfoDialog.numbers.q({value:O.a.join(a,";")}),{className:ua.a.dialInNumbers}),O.a.map(a,(function(e,t){return o.a.createElement("p",{key:"dialin-number[".concat(t,"]"),className:ua.a.dialInNumber},e)}))),o.a.createElement("div",da({},le.g.dialInInfoDialog.pin.q({value:i}),{className:ua.a.dialInBridge}),o.a.createElement("span",{className:ua.a.dialInBridgeLabel},t._("PIN:")),o.a.createElement("span",{className:ua.a.dialInBridgeValue},this.renderBridgeCode(i))),o.a.createElement(Ee.a,{type:Ee.a.NOTE_TYPES.INFO,message:t._("Please check that the area code is appropriate for your region - charges may apply.")})))}}])&&fa(n.prototype,r),a&&fa(n,a),t}(o.a.PureComponent);va.defaultProps={},va.propTypes={className:c.a.string,onHide:c.a.func.isRequired,dialInInfo:c.a.shape({dialInNumbers:c.a.array,dialInBridge:c.a.string}).isRequired,i18n:c.a.any.isRequired};var ha=Object(U.withI18n)()(va),ga=n("wd/R"),Ea=n.n(ga),wa=n("NQgo"),Oa=n("azDE"),Sa=n("hFGE"),Ca=n("iT46"),_a=n.n(Ca);function Ia(e){return(Ia="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ra(e,t){return!t||"object"!==Ia(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Aa(e,t){return(Aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Na=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ra(this,Pa(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aa(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.className;return o.a.createElement("span",{className:E()(_a.a.loadingEllipsis,e)},o.a.createElement("span",{className:E()(_a.a.dot,_a.a.dot1)},"."),o.a.createElement("span",{className:E()(_a.a.dot,_a.a.dot2)},"."),o.a.createElement("span",{className:E()(_a.a.dot,_a.a.dot3)},"."))}}])&&Ta(n.prototype,r),a&&Ta(n,a),t}(o.a.PureComponent);Na.defaultProps={},Na.propTypes={className:c.a.string};var ja=Na,ka=n("xY7h"),Da=n.n(ka);function La(e){return(La="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ma(){return(Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fa(e){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ua(e,t){return(Ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Va(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qa=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=Fa(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==La(a)&&"function"!==typeof a?Va(r):a,Ga(Va(Va(n)),"onHide",(function(){(0,n.props.onHide)()})),Ga(Va(Va(n)),"onConfirm",(function(){(0,n.props.onConfirm)(),n.onHide()})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ua(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.className,r=[o.a.createElement(we.b,Ma({},le.g.autoJoinDialog.confirm,{id:"button-meeting-lobby-autojoin-confirm",key:"button-meeting-lobby-autojoin-confirm",primary:!0,onClick:this.onConfirm}),t._("Join Automatically")),o.a.createElement(we.b,Ma({},le.g.autoJoinDialog.cancel,{d:"button-meeting-lobby-autojoin-cancel",key:"button-meeting-lobby-autojoin-cancel",secondary:!0,onClick:this.onHide}),t._("Cancel"))];return o.a.createElement(V.a,{id:"meeting-lobby-autojoin",dialogClassName:E()(Da.a.autoJoinDialog,n),headerClassName:Da.a.autoJoinDialogHeader,onHide:this.onHide,footerActions:r,initialFocus:"button-meeting-lobby-autojoin-confirm"},o.a.createElement("div",{className:Da.a.autoJoin},o.a.createElement("div",{className:Da.a.autoJoinMessage},t._("This session has not started yet."),o.a.createElement("br",null),t._("Would you like to automatically join once it starts?")),o.a.createElement(Ee.a,{type:Ee.a.NOTE_TYPES.INFO,message:t._("This will open a new window while waiting for the session to start")})))}}])&&xa(n.prototype,r),a&&xa(n,a),t}(o.a.PureComponent);qa.defaultProps={},qa.propTypes={className:c.a.string,onConfirm:c.a.func.isRequired,onHide:c.a.func.isRequired,i18n:c.a.any.isRequired};var Ba=Object(U.withI18n)()(qa),Wa=n("vYxz"),Qa=n.n(Wa);function Ya(e){return(Ya="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ha(){return(Ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ka(e){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xa(e,t){return(Xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $a=25,eo=8,to=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Ka(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Ya(a)&&"function"!==typeof a?Ja(r):a,Za(Ja(Ja(n)),"onFormChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.props.onFormChange;t(e)})),Za(Ja(Ja(n)),"onJoinClick",(function(){(0,n.props.onJoin)()})),Za(Ja(Ja(n)),"onAutoJoinClick",(function(){(0,n.props.onAutoJoin)()})),Za(Ja(Ja(n)),"showAutoJoinDialog",(function(){var e=o.a.createElement(Ba,{onHide:function(){dt.a.closeModal()},onConfirm:n.onAutoJoinClick});dt.a.showModal(e)})),Za(Ja(Ja(n)),"getScheduledAtDate",(function(){var e=n.props.realtimeMeetingData;return zr.getScheduledAtDate(e)})),Za(Ja(Ja(n)),"getJoinButtonConfiguration",(function(){var e=n.props,t=e.i18n,r=e.meeting,a=e.realtimeMeetingData,i=e.autoJoin,c=e.form,s=a.isServerAssigned,u={enabled:!1,label:t._("Join"),tooltip:null,onClick:null};if(O.a.isEmpty(a))return u;if(i.isChild)return u.label=o.a.createElement(o.a.Fragment,null,t._("Waiting to join"),o.a.createElement(ja,null)),u;if(!c.isValid)return u.tooltip={className:Qa.a.joinButtonTooltip,label:t._("Please enter your name")},u;var l=zr.getJoinableState(r,a),d=l.isJoinable,f=l.isAutoJoinable,p=l.isEarlyJoinable;return(d||f||p)&&(s||f?(u.enabled=!0,u.onClick=f?n.showAutoJoinDialog:n.onJoinClick):u.tooltip={className:Qa.a.joinButtonTooltip,label:t._("Please wait while resources are being allocated for this session...")}),u})),Za(Ja(Ja(n)),"renderUserNameInput",(function(){var e=n.props,t=e.i18n,r=e.realtimeMeetingData,a=e.form,i=a.isEditable,c=a.firstName,s=a.lastName,u=r.status,l=i&&!$t[u];return o.a.createElement("div",{className:Qa.a.userNameInput},o.a.createElement(Sa.i,Ha({},le.g.anon.firstName.q({value:c}),{id:"meeting-lobby-firstname",className:Qa.a.userNameInputField,placeholder:t._("First name"),enabled:l,value:c,required:!0,onChange:function(e){n.onFormChange({firstName:String(e).substring(0,$a)})}})),o.a.createElement(Sa.i,Ha({},le.g.anon.lastName.q({value:s}),{id:"meeting-lobby-lastname",className:Qa.a.userNameInputField,placeholder:t._("Last name"),enabled:l,value:s,required:!0,onChange:function(e){n.onFormChange({lastName:String(e).substring(0,$a)})}})))})),Za(Ja(Ja(n)),"renderCurrentUser",(function(){var e=n.props.currentUser;if(O.a.isEmpty(e))return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:E()(Qa.a.userAvatar,Qa.a.userAvatarAnon)},o.a.createElement(Oe.a,{className:E()(Qa.a.userAvatarAnonIcon)},re.a.PERSON)),n.renderUserNameInput());var t="".concat(e.firstName," ").concat(e.lastName);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{"aria-hidden":!0},o.a.createElement(wa.a,{className:E()(Qa.a.userAvatar),value:t})),o.a.createElement("div",{className:Qa.a.userName},t))})),Za(Ja(Ja(n)),"getRelativeStartTimeLabel",(function(e){var t=n.props.i18n;if(Yr.a.calculateSecondsUntilTime(e.getTime())<=60)return t._("This session is scheduled to start momentarily");var r=Yr.a.now(),a=Ea()(r).to(e,!0);return t._("This session is scheduled to start in about {relativeTimeLabel}",{relativeTimeLabel:a})})),Za(Ja(Ja(n)),"getMeetingStatusLabel",(function(){var e=n.props,t=e.i18n,r=e.meeting,a=e.realtimeMeetingData,o=n.getScheduledAtDate();if(Yr.a.calculateSecondsUntilTime(o.getTime())>0)return n.getRelativeStartTimeLabel(o);var i=a.status,c=a.isModerator,s=a.attendees;if($t[i])return t._("This session has ended");var u=zr.getJoinableState(r,a),l=u.isJoinable,d=u.isAutoJoinable;return l?O.a.isEmpty(s)?t._("This session has started"):t._("{0, plural, one {There is # user in this session} other {There are # users in this session}}",{0:s.length}):d?t._("Waiting for moderator..."):c?t._("This session is ready to be started"):null})),Za(Ja(Ja(n)),"renderMeetingAttendeeAvatars",(function(){var e=n.props,t=e.i18n,r=e.meeting,a=e.realtimeMeetingData;if(!zr.getJoinableState(r,a).isJoinable)return null;var i=a.attendees;if(O.a.isEmpty(i))return null;var c=O.a.take(i,eo),s=null;if(i.length>eo){var u=i.length-eo;s=o.a.createElement("div",{className:E()(Qa.a.meetingAttendeeOverflowLabel)},t._("+{moreAttendeesCount} more",{moreAttendeesCount:u}))}return o.a.createElement("div",{className:Qa.a.meetingAttendeeAvatars},O.a.map(c,(function(e,t){return o.a.createElement(wa.a,{key:"meeting-lobby-attendee[".concat(t,"]"),className:E()(Qa.a.meetingAttendeeAvatar),value:e.fullName})})),s)})),Za(Ja(Ja(n)),"renderMeetingStatus",(function(){var e=n.getMeetingStatusLabel(),t=n.renderMeetingAttendeeAvatars();return o.a.createElement("div",Ha({},le.g.status,{className:Qa.a.meetingStatus}),o.a.createElement("p",{className:Qa.a.meetingStatusLabel,"aria-atomic":"true"},e),t)})),Za(Ja(Ja(n)),"renderJoinButton",(function(){var e=n.getJoinButtonConfiguration(),t=e.enabled,r=e.label,a=e.tooltip,i=e.onClick;return o.a.createElement(we.h,Ha({},le.g.join,{className:Qa.a.joinButton,primary:!0,onClick:i,enabled:t,tooltip:a}),o.a.createElement("div",{className:Qa.a.joinButtonSide}),o.a.createElement("div",{className:Qa.a.joinButtonLabel},r),o.a.createElement("div",{className:Qa.a.joinButtonSide},o.a.createElement(Oe.a,{className:Qa.a.joinButtonIcon},re.a.RIGHT)))})),Za(Ja(Ja(n)),"renderModeratorNote",(function(){var e=n.props,t=e.i18n,r=e.meeting,a=e.realtimeMeetingData.status;if(!Jt[a])return null;var i=r.earlyModeratorAccessOffset;return i>0?o.a.createElement(Ee.a,Ha({},le.g.note.earlyAccess,{message:t._("Moderators are allowed to join up to {earlyModeratorAccessOffset} minutes early",{earlyModeratorAccessOffset:i})})):null})),Za(Ja(Ja(n)),"renderAutoJoinNote",(function(){var e=n.props,t=e.i18n;return e.autoJoin.isChild?o.a.createElement(Ee.a,Ha({},le.g.note.autoJoin,{message:t._("You will automatically enter this session when it begins. Do not close this window.")})):null})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xa(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.className;return o.a.createElement(Oa.a,{zDepth:1,className:E()(Qa.a.joinCard,e)},o.a.createElement("div",{className:Qa.a.joinTop},this.renderCurrentUser()),o.a.createElement("div",{className:Qa.a.joinMiddle},this.renderMeetingStatus(),this.renderModeratorNote(),this.renderAutoJoinNote()),o.a.createElement("div",{className:Qa.a.joinBottom},this.renderJoinButton()))}}])&&za(n.prototype,r),a&&za(n,a),t}(o.a.PureComponent);to.defaultProps={},to.propTypes={className:c.a.string,currentUser:c.a.object,meeting:c.a.object.isRequired,realtimeMeetingData:c.a.object.isRequired,autoJoin:c.a.object.isRequired,form:c.a.object.isRequired,onFormChange:c.a.func.isRequired,onAutoJoin:c.a.func.isRequired,onJoin:c.a.func.isRequired,i18n:c.a.any.isRequired};var no=Object(U.withI18n)()(to),ro=n("topR"),ao=n.n(ro);function oo(e){return(oo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){po(e,t,n[t])}))}return e}function co(){return(co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function so(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lo(e,t){return(lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mo=[rn,nn],bo="https://bongolearn.zendesk.com/hc/en-us/articles/360035692233-How-to-Check-Your-System-Before-Entering-Virtual-Classroom",yo=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=uo(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==oo(a)&&"function"!==typeof a?fo(r):a,po(fo(fo(n)),"onClickCopyExternalInviteLink",(function(){var e=n.props,t=e.i18n,r=e.meeting;Object(Se.a)(r.anonymousInvitationUrl),ft.a.addSuccess(t._("External invite link copied!"))})),po(fo(fo(n)),"onClickDialInInfo",(function(){var e=n.props.meeting,t=o.a.createElement(ha,{onHide:function(){dt.a.closeModal()},dialInInfo:e.dialInInfo});dt.a.showModal(t)})),po(fo(fo(n)),"onClickHelp",(function(){window.open(bo)})),po(fo(fo(n)),"onAutoJoinCancelClick",(function(){(0,n.props.onAutoJoinCancel)()})),po(fo(fo(n)),"renderMeetingModerator",(function(){var e=n.props,t=e.i18n,r=e.meeting;if(!r.owner)return null;var a=r.owner.roles;if(O.a.isEmpty(a))return null;var i=O.a.intersection(mo,a);if(O.a.isEmpty(i))return null;var c=r.owner,s=c.firstName,u=c.lastName,l="".concat(s," ").concat(u);return o.a.createElement("p",co({},le.g.moderator.q({firstName:s,lastName:u}),{className:ao.a.headerModerator}),t._("Moderator: {moderatorName}",{moderatorName:l}))})),po(fo(fo(n)),"renderHeader",(function(){var e=n.props.meeting;return o.a.createElement("header",{className:ao.a.header},o.a.createElement("h1",co({},le.g.title,{className:ao.a.headerTitle}),e.title),o.a.createElement("p",{className:ao.a.headerDatetime},o.a.createElement(oa.a,co({},le.g.scheduledAt.q({value:e.scheduledAt}),{unixTime:e.scheduledAt,dateTimeFormat:ia.a.NATURAL}))),n.renderMeetingModerator())})),po(fo(fo(n)),"renderMainContent",(function(){var e=n.props,t=e.i18n,r=e.currentUser,a=e.meeting,i=e.realtimeMeeting,c=e.autoJoin,s=e.form,u=n.props,l=u.onAutoJoin,d=u.onJoin,f=u.onFormChange,p=i.isLoading,m=i.data,b=i.errors,y=n.renderMainOverlay(),v=null;return v=p?o.a.createElement(ca.a,co({},le.g.loading,{className:ao.a.contentLoader,isLoading:!0})):O.a.isEmpty(m)||!O.a.isEmpty(b)?o.a.createElement(Ee.b,co({},le.g.note.loadError,{className:ao.a.note,type:Ee.b.NOTE_TYPES.ERROR,message:t._("This session could not be loaded")})):o.a.createElement(no,{className:E()(ao.a.joinCard,po({},ao.a.joinCardDisabled,Boolean(y))),currentUser:r,meeting:a,realtimeMeetingData:m,autoJoin:c,form:s,onJoin:d,onAutoJoin:l,onFormChange:f}),o.a.createElement("section",{className:ao.a.mainContent},v,y)})),po(fo(fo(n)),"renderMainOverlay",(function(){var e=n.props,t=e.i18n,r=e.autoJoin;if(!r.isParent)return null;var a=o.a.createElement("div",{className:ao.a.mainContentOverlayIcon},o.a.createElement(ca.a,co({},le.g.autoJoinOverlay.loading,{isLoading:!0}))),i=t._("Opening a new window..."),c=t._("Please make sure a popup blocker is not preventing this action."),s=null;return r.isChildActive&&(a=null,i=t._("A new window was opened"),c=t._("You will automatically join the session in that window.")),r.isCancelAllowed&&(s=o.a.createElement("div",{className:ao.a.mainContentOverlayActions},o.a.createElement(we.g,co({},le.g.autoJoinOverlay.cancel,{className:ao.a.newWindowCancel,onClick:n.onAutoJoinCancelClick}),t._("Cancel")))),o.a.createElement("div",{className:ao.a.mainContentOverlay},a,o.a.createElement("div",{className:ao.a.mainContentOverlayTitle},i),o.a.createElement("div",{className:ao.a.mainContentOverlayMessage},c),s)})),po(fo(fo(n)),"renderExtraInfoButton",(function(e,t){var n=t.leftIcon,r=t.label,a=t.rightIcon;return o.a.createElement(we.g,co({primary:!0,className:ao.a.extraInfoButton},e),o.a.createElement("div",{className:ao.a.extraInfoButtonLeft},o.a.createElement(Oe.a,{className:ao.a.extraInfoButtonLeftIcon},n)),o.a.createElement("div",{className:ao.a.extraInfoButtonCenter},r),o.a.createElement("div",{className:ao.a.extraInfoButtonRight},o.a.createElement(Oe.a,{className:ao.a.extraInfoButtonRightIcon},a)))})),po(fo(fo(n)),"renderExtraInfo",(function(){var e=n.props,t=e.i18n,r=e.meeting,a=e.realtimeMeeting.data;if(!a)return null;var i=r.anonymousParticipantsAllowed,c=r.anonymousInvitationUrl,s=r.dialInInfo,u=[];if(a.isModerator&&i&&c){var l=n.renderExtraInfoButton(io({key:"meeting-lobby-external-invite-link-button",onClick:n.onClickCopyExternalInviteLink},le.g.externalInvite),{leftIcon:re.a.LINK,rightIcon:re.a.CONTENT_COPY,label:t._("Copy External Invite Link")});u.push(l)}if(!O.a.isEmpty(s)&&!O.a.isEmpty(s.dialInNumbers)){var d=n.renderExtraInfoButton(io({key:"meeting-lobby-dial-in-info-button",onClick:n.onClickDialInInfo},le.g.dialInInfo),{leftIcon:re.a.PHONE,rightIcon:re.a.INFO_OUTLINE,label:t._("Show Dial-in Information")});u.push(d)}var f=n.renderExtraInfoButton(io({key:"meeting-lobby-help-button",onClick:n.onClickHelp},le.g.help),{leftIcon:re.a.HELP,rightIcon:re.a.OPEN_IN_NEW,label:t._("Virtual Classroom Help")});return u.push(f),o.a.createElement("div",{className:ao.a.extraInfo},o.a.createElement("div",{className:ao.a.extraInfoButtons},u))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lo(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.className;return o.a.createElement("div",co({},Object(le.j)(this.props),{className:E()(ao.a.meetingLobby,e)}),this.renderHeader(),this.renderMainContent(),this.renderExtraInfo())}}])&&so(n.prototype,r),a&&so(n,a),t}(o.a.PureComponent);yo.defaultProps={},yo.propTypes={className:c.a.string,currentUser:c.a.object,meeting:c.a.object.isRequired,realtimeMeeting:c.a.shape({status:c.a.oneOf(O.a.values(Bt)),scheduledAtEpoch:c.a.number,isModerator:c.a.bool,isUsersMeetingAccessBlocked:c.a.bool,isServerAssigned:c.a.bool,attendees:c.a.arrayOf(c.a.shape({fullName:c.a.string}))}).isRequired,autoJoin:c.a.shape({isParent:c.a.bool,isCancelAllowed:c.a.bool,isChild:c.a.bool,isChildActive:c.a.bool}).isRequired,form:c.a.shape({isValid:c.a.bool,firstName:c.a.string,lastName:c.a.string}).isRequired,onFormChange:c.a.func.isRequired,onAutoJoin:c.a.func.isRequired,onAutoJoinCancel:c.a.func.isRequired,onJoin:c.a.func.isRequired,i18n:c.a.any.isRequired};var vo=Object(U.withI18n)()(yo);function ho(e){return(ho="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(){return(go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Eo(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function wo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Eo(o,r,a,i,c,"next",e)}function c(e){Eo(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Co(e,t){return(Co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){To(e,t,n[t])}))}return e}function To(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ro=3e4,Po=15e3,Ao={isParent:!1,isCancelAllowed:!0,isChild:!1,isChildActive:!1,active:!1},No={realtimeMeeting:{isLoading:!0,data:null,errors:[]},form:{isEditable:!0,isValid:!0,firstName:null,lastName:null},autoJoin:Io({},Ao)},jo="Bongo_MeetingLobbyController",ko=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=So(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==ho(a)&&"function"!==typeof a?_o(r):a,To(_o(_o(n)),"state",No),To(_o(_o(n)),"pollingId",null),To(_o(_o(n)),"autoJoinWindow",null),To(_o(_o(n)),"poll",(function(){var e=n.props.meeting;$t[e.state]||n.pollForMeetingLobbyInfo()})),To(_o(_o(n)),"isUsersMeetingAccessBlocked",(function(e,t){var n=e.type,r=e.isModerator,a=t.moderatorCount;return!r&&(n!==tn.ACTIVITY&&!(a>=1))})),To(_o(_o(n)),"translateMeetingLobbyInfo",(function(e){if(O.a.isEmpty(e))return null;var t=n.props.meeting,r=t.isModerator,a=e.state,o=e.scheduledAt,i=e.isServerAssigned;return{status:a,scheduledAtEpoch:o,isModerator:r,isUsersMeetingAccessBlocked:n.isUsersMeetingAccessBlocked(t,e),attendees:O.a.map(e.attendees,(function(e){return{fullName:e}})),isServerAssigned:i}})),To(_o(_o(n)),"fetchMeetingLobbyInfo",function(){var e=wo(regeneratorRuntime.mark((function e(t){var r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.state.autoJoin).isParent||!r.isChildActive){e.next=3;break}return e.abrupt("return");case 3:if(!document.hidden||r.active){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,ra.fetchMeetingLobbyInfoById(t);case 7:return a=e.sent,o=a.errors,i=a.meetingLobbyInfo,c=n.translateMeetingLobbyInfo(i),n.setState({realtimeMeeting:{isLoading:!1,errors:o,data:c}},n.checkAutoJoin),e.abrupt("return",c);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),To(_o(_o(n)),"pollForMeetingLobbyInfo",wo(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.meeting,!n.state.autoJoin.isParent||!O.a.get(n.autoJoinWindow,"closed")){e.next=5;break}return n.setState(Io({},Ao),n.pollForMeetingLobbyInfo),e.abrupt("return");case 5:return e.next=7,n.fetchMeetingLobbyInfo(t.meetingId);case 7:if(r=e.sent,!$t[r.status]){e.next=10;break}return e.abrupt("return");case 10:n.pollingId=setTimeout(n.pollForMeetingLobbyInfo,n.getPollingInterval());case 11:case"end":return e.stop()}}),e,this)})))),To(_o(_o(n)),"getPollingInterval",(function(){var e=n.props.meeting,t=n.state.realtimeMeeting.data;if(O.a.isEmpty(t))return Ro;if(zr.getJoinableState(e,t).isJoinable)return Ro;var r=t.status;if(Jt[r]||Zt[r]){var a=zr.getScheduledAtDate(t);if(Yr.a.calculateSecondsUntilTime(a.getTime())<30)return Po}return Ro})),To(_o(_o(n)),"checkAutoJoin",(function(){var e=n.props.meeting,t=n.state,r=t.realtimeMeeting;if(t.autoJoin.active&&r.data){var a=r.data;zr.getJoinableState(e,a).isJoinable&&n.onJoin()}})),To(_o(_o(n)),"validateForm",(function(e){var t=n.props.currentUser,r=Io({},e,{isValid:!0});if(Wr.a(t)===Br.a.ANON){var a=r.firstName,o=r.lastName;a&&o||(r.isValid=!1)}return r})),To(_o(_o(n)),"onDocumentVisibilityChange",(function(){document.hidden||(clearTimeout(n.pollingId),n.poll())})),To(_o(_o(n)),"onWindowCommand",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.state.autoJoin;e.loaded?n.setState({autoJoin:Io({},t,{isParent:!0,isChildActive:!0,isCancelAllowed:!1})}):e.closed&&(n.setState({autoJoin:Io({},Ao)}),clearTimeout(n.pollingId),n.poll())})),To(_o(_o(n)),"onFormChange",(function(e){var t=n.state.form,r=O.a.merge({},t,e);r=n.validateForm(r),n.setState({form:r})})),To(_o(_o(n)),"onJoin",wo(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c,s,u,l,d,f,p,b,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props,r=t.currentUser,a=t.meeting,o=n.state.autoJoin,i=a.type,c=a.termClassId,s=a.activityId,u=a.meetingId,l=Wr.a(r),e.t0=l,e.next=e.t0===Br.a.EDUCATOR?7:e.t0===Br.a.STUDENT?9:(e.t0,Br.a.ANON,11);break;case 7:return ra.joinMeetingEducator(i,c,s,u),e.abrupt("break",17);case 9:return ra.joinMeetingStudent(i,c,s,u,o.active),e.abrupt("break",17);case 11:return d=n.state.form,f=d.firstName,p=d.lastName,b=de.e(m.a.getState()),y=b[ne.e.PARAMS_MEETING_TOKEN],ra.joinMeetingAnon(u,y,{firstName:f,lastName:p},o.active),e.abrupt("break",17);case 17:return e.abrupt("return");case 18:case"end":return e.stop()}}),e,this)})))),To(_o(_o(n)),"onAutoJoin",(function(){var e=n.props.meeting,t=n.state.form,r=e.meetingId,a=Io({},t,{isEditable:!1});n.autoJoinWindow=ra.openMeetingAutoJoin(r,a),Qr.a(window,jo,n.onWindowCommand);var o=n.state.autoJoin;n.setState({autoJoin:Io({},o,{isParent:!0,isChildActive:!1})})})),To(_o(_o(n)),"onAutoJoinCancel",(function(){try{n.autoJoinWindow.close()}catch(e){l.b.warn("Unable to close autojoin window",e)}n.autoJoinWindow=null,n.setState({autoJoin:Io({},Ao)})})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Co(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.meeting,n=this.state,r=n.autoJoin,a=Io({},n.form),o=ra.readMeetingLobbySettings(t.meetingId),i=Boolean(o.isAutoJoinActive);i&&window.opener&&(Qr.b(window.opener,jo,{loaded:!0}),window.addEventListener("beforeunload",(function(){Qr.b(window.opener,jo,{closed:!0})})),a=O.a.merge({},a,o.form)),this.setState({form:this.validateForm(a),autoJoin:Io({},r,{isChild:i,active:i})}),this.poll(),window.addEventListener("beforeunload",(function(){clearTimeout(e.pollingId)})),document.addEventListener("visibilitychange",this.onDocumentVisibilityChange,!1)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.pollingId),document.removeEventListener("visibilitychange",this.onDocumentVisibilityChange)}},{key:"render",value:function(){var e=this.props,t=e.currentUser,n=e.meeting,r=this.state,a=r.realtimeMeeting,i=r.autoJoin,c=r.form;return o.a.createElement(vo,go({},le.g.page.q({pollingInterval:this.getPollingInterval(),autoJoinActive:i.active}),{currentUser:t,meeting:n,realtimeMeeting:a,autoJoin:i,form:c,onJoin:this.onJoin,onAutoJoin:this.onAutoJoin,onAutoJoinCancel:this.onAutoJoinCancel,onFormChange:this.onFormChange}))}}])&&Oo(n.prototype,r),a&&Oo(n,a),t}(o.a.PureComponent);ko.defaultProps={},ko.propTypes={meeting:c.a.object.isRequired,currentUser:c.a.object};var Do=Object(s.b)((function(e){return{currentUser:Qe.h(e)}}))(ko);function Lo(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  query meetingInfo($meetingId: Int!) {\n    meetingInfo(meetingId: $meetingId) {\n      meetingId\n      termClassId\n      activityId\n      mediaId\n      type\n      state\n      title\n      scheduledAt\n      startedAt\n      finishedAt\n      anonymousParticipantsAllowed\n      anonymousInvitationUrl\n      recordingAvailability\n      recordingLinkEnabled\n      earlyModeratorAccessOffset\n      isModerator\n      owner {\n        firstName\n        lastName\n        roles\n      }\n      dialInInfo {\n        dialInBridge\n        dialInNumbers\n      }\n    }\n  }\n"]);return Lo=function(){return e},e}function Mo(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}var xo,Fo,Uo,Vo=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};xo=Vo,Fo="fetchMeetingById",Uo=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=[],e.prev=2,e.next=5,Zr.query({query:Go,variables:{meetingId:t}});case 5:if(a=e.sent,r=O.a.concat(r,a.errors),n=O.a.get(a,"data.meetingInfo")){e.next=10;break}throw new Error("Meeting not found");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),l.b.error("meetingInfo error:",e.t0),r.push("unable to fetch meetingInfo");case 16:return r=O.a.compact(r),e.abrupt("return",{meeting:n,errors:r});case 18:case"end":return e.stop()}}),e,this,[[2,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Mo(o,r,a,i,c,"next",e)}function c(e){Mo(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Fo in xo?Object.defineProperty(xo,Fo,{value:Uo,enumerable:!0,configurable:!0,writable:!0}):xo[Fo]=Uo;var Go=Ue()(Lo()),qo=n("HR84"),Bo=n.n(qo);function Wo(e){return(Wo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Yo(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Ho(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Yo(o,r,a,i,c,"next",e)}function c(e){Yo(o,r,a,i,c,"throw",e)}i(void 0)}))}}function zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ko(e){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xo(e,t){return(Xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $o={isLoading:!0,meeting:null,errors:[]},ei=6e4,ti=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Ko(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Wo(a)&&"function"!==typeof a?Jo(r):a,Zo(Jo(Jo(n)),"state",$o),Zo(Jo(Jo(n)),"pollingId",null),Zo(Jo(Jo(n)),"pollForMeetingData",(function(){var e=n.state.meeting;if(e){var t=e.state;$t[t]||(n.pollingId=setTimeout(n.fetchMeetingData,ei))}})),Zo(Jo(Jo(n)),"fetchMeetingData",Ho(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.i18n,a=t.meetingId,e.next=3,Vo.fetchMeetingById(+a);case 3:o=e.sent,i=o.meeting,c=o.errors,s=Qo(c),O.a.isEmpty(i)&&(s=[r._("Unable to load meeting")]),n.setState({meeting:i,errors:s,isLoading:!1},n.pollForMeetingData);case 9:case"end":return e.stop()}}),e,this)})))),Zo(Jo(Jo(n)),"renderNote",(function(e){var t=e.type,n=void 0===t?Ee.b.NOTE_TYPES.INFO:t,r=e.title,a=e.message;return o.a.createElement(Ee.b,{className:Bo.a.note,type:n,title:r,message:a})})),Zo(Jo(Jo(n)),"renderMeetingEnded",(function(){var e=n.props.i18n,t=n.state.meeting;if(t){var r=t.state,a=t.type;if(!Jt[r]&&!Zt[r]){if(a!==tn.RESOURCE)return n.renderNote({message:e._("This session has ended"),type:Ee.b.NOTE_TYPES.WARNING});var i=n.props,c=i.userType,s=i.courseId,u=i.meetingId;switch(c){case Br.a.EDUCATOR:return o.a.createElement(y.a,{to:Object(y.f)(In.f.EDUCATOR_MEETING_PREVIEW,{classId:s,meetingId:u})});case Br.a.STUDENT:return o.a.createElement(y.a,{to:Object(y.f)(In.f.STUDENT_MEETING_PREVIEW,{classId:s,meetingId:u})});default:return n.renderNote({message:e._("This session has ended"),type:Ee.b.NOTE_TYPES.WARNING})}}}})),Zo(Jo(Jo(n)),"renderMeetingLobby",(function(){var e=n.state.meeting;return o.a.createElement(Do,{meeting:e})})),Zo(Jo(Jo(n)),"renderContent",(function(){var e=n.state,t=e.errors,r=e.meeting;if(!O.a.isEmpty(t))return n.renderNote({message:t[0],type:Ee.b.NOTE_TYPES.ERROR});var a=r.state;return Jt[a]||Zt[a]?n.renderMeetingLobby():n.renderMeetingEnded()})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xo(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.fetchMeetingData()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.pollingId)}},{key:"render",value:function(){return this.state.isLoading?o.a.createElement(te.a,{loading:!0}):o.a.createElement(ge,{className:Bo.a.page,centerContentClassName:Bo.a.content},this.renderContent())}}])&&zo(n.prototype,r),a&&zo(n,a),t}(o.a.PureComponent);ti.defaultProps={},ti.propTypes={userType:c.a.oneOf(O.a.values(Br.a)).isRequired,courseId:c.a.string.isRequired,meetingId:c.a.string.isRequired,i18n:c.a.any.isRequired};var ni=Object(U.withI18n)()(ti);function ri(e){return(ri="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oi(e,t){return!t||"object"!==ri(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ci(e,t){return(ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var si=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oi(this,ii(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ci(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.match,t={userType:Br.a.ANON,courseId:e.params.classId,meetingId:e.params.meetingId};return o.a.createElement(ni,t)}}])&&ai(n.prototype,r),a&&ai(n,a),t}(o.a.PureComponent);si.defaultProps={},si.propTypes={match:c.a.any.isRequired};var ui=Object(y.k)(si);function li(){return o.a.createElement(y.d,null,o.a.createElement(y.b,{exact:!0,path:Ct.h.ANON_COURSE_MEETING,component:ui}))}function di(e){return(di="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fi(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bi(e,t){return(bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var vi=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,n=!(a=(e=mi(t)).call.apply(e,[this].concat(i)))||"object"!==di(a)&&"function"!==typeof a?yi(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(yi(yi(n)),"loadCourse",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){fi(o,r,a,i,c,"next",e)}function c(e){fi(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,n=e.termClass,r=e.isTermClassLoading;if(O.a.isEmpty(n)&&!r){var a=O.a.get(t,"params.classId");this.loadCourse(+a)}}},{key:"render",value:function(){return o.a.createElement(y.d,null,o.a.createElement(y.b,{path:Ct.h.ANON_COURSE_MEETING_BASE,component:li}))}}])&&pi(n.prototype,r),a&&pi(n,a),t}(o.a.PureComponent);vi.propTypes={isTermClassLoading:c.a.bool.isRequired,termClass:c.a.object,match:c.a.object.isRequired};var hi=Object(y.k)(Object(s.b)((function(e){return{isTermClassLoading:Ye.z(e),termClass:Ye.m(e)}}))(vi));function gi(){return o.a.createElement(y.d,null,o.a.createElement(y.b,{path:Ct.h.ANON_COURSE,component:hi}))}function Ei(){return o.a.createElement(y.d,null,o.a.createElement(y.b,{path:Ct.h.ANON_COURSE_BASE,component:gi}))}var wi=function(e){var t=e.i18n;return o.a.createElement(De,{message:t._("There was an issue processing your request")})};wi.propTypes={i18n:c.a.object.isRequired};var Oi=Object(U.withI18n)()(wi),Si=function(e){var t=e.i18n;return o.a.createElement(De,{message:t._("This Bongo course has not been configured yet")})};Si.propTypes={i18n:c.a.object.isRequired};var Ci=Object(U.withI18n)()(Si),_i=function(e){var t=e.i18n;return o.a.createElement(De,{message:t._("The requested Bongo meeting was not found")})};_i.propTypes={i18n:c.a.object.isRequired};var Ii=Object(U.withI18n)()(_i),Ti=function(e){var t=e.i18n;return o.a.createElement(De,{message:t._("There was an issue processing your request")})};Ti.propTypes={i18n:c.a.object.isRequired};var Ri=Object(U.withI18n)()(Ti),Pi=function(e){var t=e.i18n;return o.a.createElement(De,{message:t._("This Bongo course has ended")})};Pi.propTypes={i18n:c.a.object.isRequired};var Ai=Object(U.withI18n)()(Pi),Ni=function(e){var t=e.i18n;return o.a.createElement(De,{message:t._("This Bongo course could not be created because of an invalid start or end date")})};Ni.propTypes={i18n:c.a.object.isRequired};var ji=Object(U.withI18n)()(Ni),ki=function(e){var t=e.i18n;return o.a.createElement(De,{message:t._("Your Bongo launch request was invalid")})};ki.propTypes={i18n:c.a.object.isRequired};var Di,Li=Object(U.withI18n)()(ki);function Mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xi=(Mi(Di={},ne.b.GENERIC_ERROR,De),Mi(Di,ne.b.CONTACT_ADMINISTRATOR,Oi),Mi(Di,ne.b.USER_ACCOUNT_CONFLICT,Ri),Mi(Di,ne.b.UNKNOWN_CLASS,Ci),Mi(Di,ne.b.CLASS_CLOSED,Ai),Mi(Di,ne.b.INVALID_DATA,ji),Mi(Di,ne.b.LTI_CONFIGURATION_ERROR,Li),Mi(Di,ne.b.UNKNOWN_MEETING,Ii),Di),Fi=function(){var e=Object(y.j)();return o.a.createElement(y.d,null,O.a.map(xi,(function(t,n){return o.a.createElement(y.b,{key:n,exact:!0,path:"".concat(e.path,"/").concat(n),component:t})})),o.a.createElement(y.b,{path:"".concat(e.path),component:De}))};Fi.propTypes={};var Ui=Fi,Vi=function(){var e=Object(y.j)();return o.a.createElement(y.d,null,o.a.createElement(Ui,null),o.a.createElement(y.b,{path:e.path,component:De}))};Vi.propTypes={};var Gi=Vi;function qi(e){return(qi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(e,t){return!t||"object"!==qi(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qi(e){return(Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yi(e,t){return(Yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hi=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wi(this,Qi(t).call(this,e))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yi(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.b,{path:Ct.h.ANON_BASE,component:Ei}),o.a.createElement(y.b,{exact:!0,path:Ct.h.STANDALONE_DOUBLE_PLAYER,component:qr}),o.a.createElement(y.b,{path:Ct.h.EXTERNAL_PLAYER,component:_n}),o.a.createElement(y.b,{path:Ct.h.ONEDRIVE_PROXY,component:kt.b}),o.a.createElement(y.b,{exact:!0,path:Ct.h.LAUNCH,component:dr}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_LAUNCH,component:dr}),o.a.createElement(y.b,{exact:!0,path:Ct.h.STUDENT_LAUNCH,component:dr}),o.a.createElement(y.b,{path:Ct.h.ERROR,component:Gi}),o.a.createElement(y.b,{path:"/dev",component:jt}),o.a.createElement(y.b,{path:"/student/recorder-stand",component:_r}),o.a.createElement(y.b,{path:"/student/bbb-player-stand",component:jr}))}}])&&Bi(n.prototype,r),a&&Bi(n,a),t}(o.a.PureComponent);Hi.propTypes={};var zi=Hi,Ki=n("lBBP"),Xi=n("mxsA"),Ji=n("7Yj1"),Zi=n("45tj"),$i=n("f0Wu"),ec=n.n($i);function tc(){var e=sc(["\nmutation setUserTimezone($input: SetUserTimezoneInput!) {\n  setUserTimezone(input: $input) {\n    user {\n      timezone\n    }\n  }\n}\n"]);return tc=function(){return e},e}function nc(){var e=sc(["\n    mutation editCommentPreset($input: EditCommentPresetInput!) {\n        editCommentPreset(input: $input) {\n            errors {\n                path\n                message\n            }\n            comment {\n                dbId\n                commentText\n            }\n        }\n    }\n"]);return nc=function(){return e},e}function rc(){var e=sc(["\n    mutation deleteCommentPreset($input: DeleteCommentPresetInput!) {\n        deleteCommentPreset(input: $input) {\n            removedId\n        }\n    }\n"]);return rc=function(){return e},e}function ac(){var e=sc(["\n    mutation createCommentPreset($input: CreateCommentPresetInput!) {\n        createCommentPreset(input: $input){\n            errors {\n                path\n                message\n            }\n            comment {\n                dbId\n                commentText\n            }\n        }\n    }\n"]);return ac=function(){return e},e}function oc(){var e=sc(["\n{\n\tviewer {\n        commentPresets {\n            dbId\n            commentText\n        }\n    }\n}\n"]);return oc=function(){return e},e}function ic(){var e=sc(["\n  mutation updateUserTermsAndConditions($input: UpdateUserInput!) {\n    updateUser(input: $input) {\n      ...CurrentUser\n    }\n  }\n  ","\n"]);return ic=function(){return e},e}function cc(){var e=sc(["\nquery getCurrentUser {\n    viewer {\n        ...CurrentUser\n    }\n}\n","\n"]);return cc=function(){return e},e}function sc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function uc(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dc(this,"ACCEPTED_TERMS_AND_CONDITIONS_INPUT",{sitePolicyAccepted:!0,cookiePolicyAccepted:!0,privacyPolicyAccepted:!0}),dc(this,"updateUser",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.termsAndConditions,r=t.userName,a=null,o=[],i={},n&&(i.termsAndConditions=n),r&&(i.firstName=r.firstName,i.lastName=r.lastName),e.prev=6,e.next=9,xe.a.mutate({mutation:mc,variables:{input:i}});case 9:c=e.sent,o=O.a.concat(o,c.errors),a=O.a.get(c,"data.updateUser"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),l.b.error("updateUser error:",e.t0),o.push("unable to execute updateUser");case 18:return o=O.a.compact(o),e.abrupt("return",{currentUser:a,errors:o});case 20:case"end":return e.stop()}}),e,this,[[6,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){uc(o,r,a,i,c,"next",e)}function c(e){uc(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}())}var t,n,r;return t=e,(n=[{key:"fetchUserData",value:function(){return xe.a.query({query:pc}).then((function(e){return Promise.resolve(e.data.viewer)}))}},{key:"getUserData",value:function(){var e=this;m.a.dispatch(Ki.r(!0)),m.a.dispatch(Ki.p(!1)),this.fetchUserData().then((function(t){e.handleCurrentUserData(t),m.a.dispatch(Ki.r(!1))})).catch((function(e){l.b.error("AuthService:: Failed to fetch user data",e),m.a.dispatch(Ki.r(!1)),m.a.dispatch(Ki.p(!0))}))}},{key:"handleCurrentUserData",value:function(e){this.updateUserTimezone(e.timezone),m.a.dispatch(Ki.u(e)),e.institution&&m.a.dispatch(qe.y(e.institution)),m.a.dispatch(Ji.b(Object(Zi.i)(e)))}},{key:"updateUserTimezone",value:function(e){var t=ec.a.tz.guess();e!==t&&xe.a.mutate({mutation:gc,variables:{input:{timezoneName:t}}}).then((function(e){var t=e.data.setUserTimezone.user.timezone;m.a.dispatch(Ki.t(t))})).catch((function(e){l.b.error("Failed to set user timezone. Error: ".concat(JSON.stringify(e)))}))}},{key:"getUserPresetComments",value:function(){return xe.a.query({query:bc}).then((function(e){var t=e.data.viewer.commentPresets;m.a.dispatch(Ki.v(t))})).catch((function(e){l.b.error("AuthService:: Failed to fetch user data",e)}))}},{key:"addPresetComment",value:function(e){return new Promise((function(t,n){m.a.dispatch(Ki.o(!0)),xe.a.mutate({mutation:yc,variables:{input:{comment:{commentText:e}}}}).then((function(e){e&&e.data&&0===e.data.createCommentPreset.errors.length?(m.a.dispatch(Ki.l(e.data.createCommentPreset.comment)),t(e.data.createCommentPreset)):n(e),m.a.dispatch(Ki.o(!1))})).catch((function(e){n(e),m.a.dispatch(Ki.o(!1))}))}))}},{key:"deletePresetComment",value:function(e){return new Promise((function(t,n){m.a.dispatch(Ki.o(!0)),xe.a.mutate({mutation:vc,variables:{input:{dbId:e}}}).then((function(e){e&&e.data?(m.a.dispatch(Ki.m(e.data.deleteCommentPreset.removedId)),t(e.data.deleteCommentPreset.removedId)):n(e),m.a.dispatch(Ki.o(!1))})).catch((function(e){n(e),m.a.dispatch(Ki.o(!1))}))}))}},{key:"editPresetComment",value:function(e){return new Promise((function(t,n){m.a.dispatch(Ki.o(!0)),xe.a.mutate({mutation:hc,variables:{input:{dbId:e.dbId,comment:{commentText:e.commentText}}}}).then((function(e){e&&e.data?(m.a.dispatch(Ki.n(e.data.editCommentPreset.comment)),t(e.data.editCommentPreset.comment)):n(e),m.a.dispatch(Ki.o(!1))})).catch((function(e){n(e),m.a.dispatch(Ki.o(!1))}))}))}}])&&lc(t.prototype,n),r&&lc(t,r),e}(),pc=Ue()(cc(),Xi.b),mc=Ue()(ic(),Xi.b),bc=Ue()(oc()),yc=Ue()(ac()),vc=Ue()(rc()),hc=Ue()(nc()),gc=Ue()(tc()),Ec=new fc,wc=n("PWzU"),Oc=n("9mqd"),Sc=n("o41Y"),Cc=n("hIiU"),_c=n("G57k");function Ic(e){return(Ic="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rc(e,t){return!t||"object"!==Ic(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pc(e){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ac(e,t){return(Ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Rc(this,Pc(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ac(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.match.params.classId;wc.a.getClassData(+e)}},{key:"render",value:function(){return null}}])&&Tc(n.prototype,r),a&&Tc(n,a),t}(a.Component),jc=Object(y.k)(Object(s.b)()(Nc)),kc=n("1AfR"),Dc=n("r1K/"),Lc=n("Xu50"),Mc=n.n(Lc);function xc(){return(xc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fc(e){var t=e.ariaLabel,n=e.ariaLabelledBy,r=e.className,a=e.children,i=e.focusable;return o.a.createElement("section",xc({},Object(le.j)(e),{className:E()(Mc.a.contentBox,r),tabIndex:i?0:void 0,"aria-label":t,"aria-labelledby":n}),a)}Fc.defaultProps={},Fc.propTypes={ariaLabel:c.a.string,ariaLabelledBy:c.a.string,children:c.a.node,className:c.a.string,focusable:c.a.any};var Uc=Fc,Vc=n("nu8V"),Gc=n.n(Vc);function qc(){return(qc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Wc(e,t,n[t])}))}return e}function Wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qc=64;function Yc(e){var t=e.i18n,n=e.className,r=e.userName,a=e.onChange;return o.a.createElement(Uc,qc({},le.i.userName.form,{className:E()(Gc.a.form,n)}),o.a.createElement("div",null,t._("What is your name?")),o.a.createElement("div",{className:Gc.a.inputs},o.a.createElement(mr.b,qc({},le.i.userName.first,{required:!0,id:"user-name-first",placeholder:t._("First name"),maxLength:Qc,value:r.firstName,onChange:function(e){a(Bc({},r,{firstName:e}))}})),o.a.createElement(mr.b,qc({},le.i.userName.last,{required:!0,id:"user-name-last",placeholder:t._("Last name"),maxLength:Qc,value:r.lastName,onChange:function(e){a(Bc({},r,{lastName:e}))}}))))}Yc.propTypes={i18n:c.a.object.isRequired,className:c.a.string,userName:c.a.shape({firstName:c.a.string,lastName:c.a.string}).isRequired,onChange:c.a.func.isRequired};var Hc=Object(U.withI18n)()(Yc),zc=n("8For"),Kc=n("DrJT"),Xc=n.n(Kc),Jc="https://www.bongolearn.com/terms/",Zc="https://www.bongolearn.com/privacy-policy/";function $c(e){var t=e.i18n,n=o.a.createElement("a",{href:Jc,target:"_blank",rel:"noopener noreferrer"},t._("Terms of Use"),o.a.createElement(zc.a,{className:Xc.a.linkIcon},re.a.OPEN_IN_NEW)),r=o.a.createElement("a",{href:Zc,target:"_blank",rel:"noopener noreferrer"},t._("Privacy Policy"),o.a.createElement(zc.a,{className:Xc.a.linkIcon},re.a.OPEN_IN_NEW));return o.a.createElement("div",{className:Xc.a.content},o.a.createElement("div",null,o.a.createElement(U.Trans,{id:"To access the Bongo application you need to accept the Terms and Use of this site. For more information, please refer to the {termsOfUseLink}.",values:{termsOfUseLink:n}})),o.a.createElement("div",null,o.a.createElement(U.Trans,{id:"Bongo receives and stores Personal Information and other data that you provide to us while using our products and services. For more information, please refer to the {privacyPolicyLink}.",values:{privacyPolicyLink:r}})),o.a.createElement("div",null,o.a.createElement(U.Trans,{id:"Bongo uses cookies to personalize your experience and enhance our product's functionality and performance by tracking which parts of our websites you have visited. For more information, please refer to the {privacyPolicyLink}.",values:{privacyPolicyLink:r}})),o.a.createElement("div",{className:Xc.a.finalMessage},o.a.createElement(U.Trans,{id:"Do you accept the above Terms of Use, Privacy Policy, and Cookie Policy?"})))}$c.propTypes={i18n:c.a.object.isRequired};var es=Object(U.withI18n)()($c),ts=n("m14I"),ns=n.n(ts);function rs(e){var t=e.i18n;return o.a.createElement(V.a,{id:"terms-of-use-declined-dialog",dialogClassName:ns.a.dialog,title:t._("Terms of Use Declined"),onHide:function(){dt.a.closeModal()}},o.a.createElement("div",null,t._("You will not be able to use the Bongo application until you accept the Terms of Use, Privacy Policy, and Cookie Policy. Please contact your site administrator for more information.")))}rs.propTypes={i18n:c.a.object.isRequired};var as=Object(U.withI18n)()(rs),os=n("l44G"),is=n.n(os);function cs(){return(cs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ss(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function us(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ss(o,r,a,i,c,"next",e)}function c(e){ss(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ls(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ds=function(e){var t=e.i18n,n=e.currentUser,r=n.isNameSet,i=n.showTermsAndConditions,c=ls(Object(a.useState)(!1),2),s=c[0],u=c[1],l=ls(Object(a.useState)(null),2),d=l[0],f=l[1],p=ls(Object(a.useState)({firstName:n.firstName,lastName:n.lastName}),2),m=p[0],b=p[1],y=fs(r,m),v=i?t._("I Accept"):t._("Continue"),h=y?null:t._("Enter your name"),g=o.a.createElement(we.h,cs({},le.i.accept,{className:is.a.button,primary:!0,enabled:y,tooltip:y?null:{label:h},onClick:us(regeneratorRuntime.mark((function e(){var n,a,o,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r||(n.userName=m),i&&(n.termsAndConditions=Ec.ACCEPTED_TERMS_AND_CONDITIONS_INPUT),u(!0),e.next=6,Ec.updateUser(n);case 6:a=e.sent,o=a.currentUser,c=a.errors,o&&Ec.handleCurrentUserData(o),s=O.a.isEmpty(c)?null:t._("There was an issue processing your request"),f(s),u(!1);case 13:case"end":return e.stop()}}),e,this)})))}),v),w=null;return i&&(w=o.a.createElement(we.b,cs({},le.i.decline,{className:is.a.button,onClick:us(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dt.a.showModal(o.a.createElement(as,null));case 1:case"end":return e.stop()}}),e,this)})))}),t._("Decline"))),o.a.createElement(ge,{className:E()(is.a.page),centerContentClassName:is.a.pageContent},o.a.createElement(Uc,{className:is.a.contentBox},o.a.createElement("div",{className:is.a.header},o.a.createElement("h1",{className:is.a.headerText},t._("Welcome to Bongo"))),!r&&o.a.createElement(Hc,{userName:m,onChange:b}),i&&o.a.createElement(es,null),o.a.createElement(Dc.b,{className:"welcome-page-error-message",type:Dc.a.ERROR,message:d,contentInheritsStatusColor:!0}),o.a.createElement("div",{className:is.a.buttons},w,g),s&&o.a.createElement("div",{className:is.a.loadingOverlay},o.a.createElement(kc.a,{isLoading:!0}))))},fs=function(e,t){if(e)return!0;if(!t.firstName||!t.lastName)return!1;var n=t.firstName,r=t.lastName;return!(n.length>Qc||r.length>Qc)};ds.propTypes={i18n:c.a.object.isRequired,currentUser:c.a.shape({showTermsAndConditions:c.a.bool.isRequired,isNameSet:c.a.bool.isRequired,firstName:c.a.string,lastName:c.a.string}).isRequired};var ps=Object(U.withI18n)()(ds);function ms(e){return(ms="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ys(e,t){return!t||"object"!==ms(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vs(e){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hs(e,t){return(hs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ys(this,vs(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hs(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n;return o.a.createElement(Dt.a,null,o.a.createElement(Hn.a,null,o.a.createElement(Hn.d,{title:e._("Unable to process request")}),o.a.createElement(Hn.c,null,o.a.createElement(Ee.a,{type:Ee.a.NOTE_TYPES.INFO,message:e._("This resource is not available yet")}))))}}])&&bs(n.prototype,r),a&&bs(n,a),t}(o.a.PureComponent);gs.propTypes={i18n:c.a.object};var Es=Object(U.withI18n)()(gs),ws=n("mTCQ"),Os=n("nOAq"),Ss=n("RKRe");n("W8hI");function Cs(e){return(Cs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Is(e,t){return!t||"object"!==Cs(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ts(e){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rs(e,t){return(Rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ps=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Is(this,Ts(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rs(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:E()("error-page",this.props.className)},o.a.createElement(ws.a,{className:"error-page-container"},o.a.createElement(Os.a,{className:"error-page-content"},o.a.createElement("div",{className:"error-page-status-container"},o.a.createElement("div",{className:"status-circle"},this.props.status)),o.a.createElement("div",{className:"error-page-information"},o.a.createElement("h1",null,o.a.createElement(U.Trans,{id:"Oops..."})),o.a.createElement("div",null,o.a.createElement(U.Trans,{id:"Looks like we missed a beat."})))),o.a.createElement(Ss.a,null)))}}])&&_s(n.prototype,r),a&&_s(n,a),t}(a.Component);Ps.propTypes={className:c.a.string,status:c.a.string};var As=Ps;function Ns(e){return(Ns="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function js(e){return(js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ks(e,t){return(ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ls=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,n=!(a=(e=js(t)).call.apply(e,[this].concat(c)))||"object"!==Ns(a)&&"function"!==typeof a?Ds(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ds(Ds(n)),"render",(function(){return o.a.createElement("div",null,o.a.createElement(As,{status:"404"},o.a.createElement("div",null,o.a.createElement(U.Trans,{id:"Oops... Looks like we missed a beat."}))))})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ks(e,t)}(t,e),t}(a.Component),Ms=n("J/33"),xs=n("ZtzG");n("7FdR");function Fs(e){return(Fs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vs(e){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gs(e,t){return(Gs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Bs=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=Vs(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==Fs(a)&&"function"!==typeof a?qs(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(qs(qs(n)),"scrollToBottom",(function(){var e=T.a.findDOMNode(n.messagesContainer);e.scrollTop=e.scrollHeight})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gs(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.messages,a=t.i18n;return r?o.a.createElement("div",{className:E()(n,"activity-log-container")},o.a.createElement("div",{className:"activity-log-messages",ref:function(t){e.messagesContainer=t}},r.map((function(e,t){var n=e.user?e.user.firstName+" "+e.user.lastName:null;return e.isSystem?o.a.createElement(Hn.a,{key:t},o.a.createElement("div",{className:E()("activity-log-item"),key:t},o.a.createElement(xs.a,{className:"activity-log-item-avatar",value:n||a._("System Message")}),o.a.createElement("div",{className:"activity-log-item-contents"},o.a.createElement("p",null,e.text),o.a.createElement("p",null,o.a.createElement(oa.a,{unixTime:e.createdAt}))))):null})))):null}}])&&Us(n.prototype,r),a&&Us(n,a),t}(a.Component);Bs.propTypes={className:c.a.string,messages:c.a.array};var Ws=Object(U.withI18n)()(Bs),Qs=n("Wtf/");function Ys(e){return(Ys="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zs(e){return(zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ks(e,t){return(Ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Js=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=zs(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==Ys(a)&&"function"!==typeof a?Xs(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Xs(Xs(n)),"onBackClick",(function(){n.props.history.replace(n.props.parentUrl)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ks(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.comments,n=e.i18n,r=o.a.createElement(we.d,{id:"button-activity-log-goto-assignment",ariaLabel:n._("Go to assignment"),onClick:this.onBackClick},re.a.BACK);return o.a.createElement("div",{className:"md-toolbar-relative"},o.a.createElement(Ms.a,{className:"page-toolbar",nav:r,title:n._("Activity Log")}),o.a.createElement(Ws,{messages:t}))}}])&&Hs(n.prototype,r),a&&Hs(n,a),t}(a.Component);Js.propTypes={parentUrl:c.a.string.isRequired};var Zs=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{comments:Qs.getActivityLog(e),commentsLoading:Qs.getGroupCommentsIsLoading(e)}}))(Js))),$s=n("QMWu"),eu=n("uaEo");n("LKel");function tu(e){return(tu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ru(e){return(ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function au(e,t){return(au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ou(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cu=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ru(t).call(this,e),n=!a||"object"!==tu(a)&&"function"!==typeof a?ou(r):a,iu(ou(ou(n)),"onMessageChange",(function(e){n.setState({message:e})})),iu(ou(ou(n)),"onSubmit",(function(){n.props.onSubmit(n.state.message),n.setState({message:""})})),iu(ou(ou(n)),"scrollToBottom",(function(){var e=T.a.findDOMNode(n.messagesContainer);e.scrollTop=e.scrollHeight})),iu(ou(ou(n)),"onDeleteComment",(function(e){n.props.onDelete&&n.props.onDelete(e)})),n.state={message:""},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&au(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this,t=this.state.message,n=this.props,r=n.canDelete,a=n.className,i=n.i18n,c=n.readOnly,s=this.props.messagesLoading?"none":"block",u=Object(eu.f)(t);return o.a.createElement("div",{className:E()(a,"chat-container")},o.a.createElement("div",{className:"chat-messages",ref:function(t){e.messagesContainer=t}},this.props.messages.map((function(t,n){if(t.isSystem)return null;var a=t.user.dbId;return o.a.createElement("div",{className:E()("chat-message-item",a===e.props.studentId?"reverse":"",r?"deletable":""),key:n},o.a.createElement(xs.a,{className:"chat-message-avatar",value:t.user.firstName+" "+t.user.lastName}),o.a.createElement("div",{className:"chat-message-item-arrow"}),o.a.createElement("div",{className:"chat-message-item-contents"},o.a.createElement("p",null,t.text),o.a.createElement("div",{className:"chat-message-actions"},o.a.createElement(oa.a,{unixTime:t.createdAt,dateTimeFormat:ia.a.MEDIUM}),r&&!c?o.a.createElement(we.d,{id:"button-chat-message-delete",className:"delete-chat-button",ariaLabel:i._("Delete Comment"),onClick:function(){e.onDeleteComment(t)}},re.a.DELETE):null)))}))),!c&&o.a.createElement("div",{className:"chat-actions"},o.a.createElement("div",{className:"chat-actions-contents"},o.a.createElement(Sa.i,{id:"chat-message-input",className:"chat-actions-input",enabled:!this.props.messagesLoading,placeholder:i._("Message..."),onChange:this.onMessageChange,value:t,ariaLabel:i._("Message"),errorText:u.exceedsLimit?i._("Exceeds {0} characters.",{0:u.maxLength}):"",maxLength:u.maxLength,required:!u.isEmpty,rows:1,maxRows:4}),this.props.messagesLoading?o.a.createElement($s.a,{id:"chat_progress_icon"}):null,o.a.createElement(we.d,{id:"button-chat-message-send",style:{display:s},className:"chat-message-send-button",enabled:u.isValid,primary:!0,onClick:this.onSubmit,ariaLabel:i._("Chat")},re.a.SEND))))}}])&&nu(n.prototype,r),a&&nu(n,a),t}(a.Component);cu.propTypes={canDelete:c.a.bool,className:c.a.string,messages:c.a.array,messagesLoading:c.a.bool,studentId:c.a.number.isRequired,onSubmit:c.a.func,onDelete:c.a.func,readOnly:c.a.bool},cu.defaultProps={canDelete:!1,readOnly:!1};var su=Object(U.withI18n)()(cu),uu=n("xHcp");n("iqyR");function lu(e){return(lu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fu(e){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pu(e,t){return(pu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yu=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=fu(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==lu(a)&&"function"!==typeof a?mu(r):a,bu(mu(mu(n)),"onBackClick",(function(){n.props.history.replace(n.props.parentUrl)})),bu(mu(mu(n)),"onDelete",(function(e){uu.a.deleteGroupComment(e.dbId)})),bu(mu(mu(n)),"onSubmit",(function(e){uu.a.addGroupComment(e,n.props.groupId)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pu(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.canDelete,n=e.comments,r=e.commentsLoading,a=e.userId,i=e.i18n,c=o.a.createElement(we.d,{id:"button-chat-goto-assignment",ariaLabel:i._("Go to assignment"),onClick:this.onBackClick},re.a.BACK);return o.a.createElement("div",null,o.a.createElement(Ms.a,{className:"page-toolbar",nav:c,title:i._("Chat")}),o.a.createElement(su,{canDelete:t,messages:n,onDelete:this.onDelete,onSubmit:this.onSubmit,studentId:a,messagesLoading:r}))}}])&&du(n.prototype,r),a&&du(n,a),t}(a.Component);yu.propTypes={canDelete:c.a.bool,parentUrl:c.a.string.isRequired},yu.defaultProps={canDelete:!1};var vu=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{comments:Qs.getActivityLog(e),commentsLoading:Qs.getGroupCommentsIsLoading(e),userId:Qe.i(e),groupId:Qs.getGroupId(e)}}))(yu))),hu=n("hf66"),gu=Object(ot.a)(hu.a,(function(e){return e.groupFormation})),Eu=Object(ot.a)(gu,(function(e){return e.isLoading})),wu=Object(ot.a)(gu,(function(e){return e.groupFormationData})),Ou=n("b+Px"),Su=n("8DtX");function Cu(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    mutation joinStudentGroup($input: JoinStudentGroupInput!) {\n        joinStudentGroup(input: $input) {\n            studentGroup {\n                dbId\n                name\n                members {\n                    ...GeneralUser\n                }\n            }\n        }\n    }\n    ","\n"]);return Cu=function(){return e},e}function _u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Iu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getStudentGroupsToJoin",value:function(e){return new Promise((function(t,n){m.a.dispatch(Ou.d(!0)),xe.a.query({query:Su.f,variables:{activityId:e}}).then((function(e){e&&e.data?(m.a.dispatch(Ou.c(e.data.activity)),t(e)):n(e),m.a.dispatch(Ou.d(!1))})).catch((function(e){n(e),m.a.dispatch(Ou.d(!1))}))}))}},{key:"joinStudentGroup",value:function(e,t){return new Promise((function(n,r){m.a.dispatch(Ou.d(!0)),xe.a.mutate({mutation:Tu,variables:{input:{activityDbId:e,groupDbId:t}}}).then((function(e){e&&e.data?n(e):r(e),m.a.dispatch(Ou.d(!0))})).catch((function(e){r(e),m.a.dispatch(Ou.d(!0))}))}))}}])&&_u(t.prototype,n),r&&_u(t,r),e}(),Tu=Ue()(Cu(),Xi.e),Ru=new Iu,Pu=n("zL4/"),Au=n("iGlQ"),Nu=n("hu4m"),ju=n("yxKi"),ku=n("TEiA");n("dGj9");function Du(e){return(Du="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mu(e){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xu(e,t){return(xu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vu=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Mu(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Du(a)&&"function"!==typeof a?Fu(r):a,Uu(Fu(Fu(n)),"state",{filterValue:"",selectedGroup:null}),Uu(Fu(Fu(n)),"onFilterChange",(function(e){n.setState({filterValue:e})})),Uu(Fu(Fu(n)),"onClearFilter",(function(){n.setState({filterValue:""})})),Uu(Fu(Fu(n)),"getGroupContainer",(function(e,t){var r=n.props.i18n;return o.a.createElement("div",{key:"group-formation-group-container-"+t,className:"group-formation-group-container"},o.a.createElement("span",{className:"group-formation-group-name"},e.name),o.a.createElement("div",{className:"group-formation-group-status"},e.members===e.maxAmount?o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"Full"})):o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"{0} spots available",values:{0:e.maxAmount-e.members}}))),o.a.createElement(we.h,{id:"button-group-formation-join["+t+"]",primary:!0,ariaLabel:r._("Join"),enabled:e.members!==e.maxAmount},o.a.createElement(U.Trans,{id:"Join"})))})),Uu(Fu(Fu(n)),"onGroupSelection",(function(e){n.setState({selectedGroup:e})})),Uu(Fu(Fu(n)),"getGroupList",(function(){var e=n.props,t=e.i18n,r=e.groupFormationData.studentGroupsToJoin,a=[];return a.push(o.a.createElement(Au.c,{key:"join_new_group",data:null,active:0===r.length,enabled:!0,onClick:function(){n.onGroupSelection(null)},primaryText:t._("(New Group)")})),o.a.createElement(Au.b,null,a)})),Uu(Fu(Fu(n)),"onMemberListRowSelect",(function(){})),Uu(Fu(Fu(n)),"onJoinClick",(function(){var e=n.state.selectedGroup,t=n.props.match.params.activityId;Ru.joinStudentGroup(t,e?e.dbId:null).then((function(){l.b.debug("in the callback")}))})),Uu(Fu(Fu(n)),"getSelectedGroupDetails",(function(){var e=n.state.selectedGroup,t=n.props,r=t.i18n,a=t.groupFormationData,i=t.isLoading,c=e&&e.members&&e.members.length>0,s=[{accessor:"name",grow:!0,className:"member-name",label:r._("Name"),renderer:function(e){return o.a.createElement(Pu.a,{showValue:!0,value:e.firstName+" "+e.lastName})}}];return o.a.createElement("div",{className:"group-details-container"},o.a.createElement("div",{className:"group-details-header"},o.a.createElement("div",{className:"group-details-header-title"},o.a.createElement("h2",{className:"section-header"},e?e.name:r._("(New Group)")),o.a.createElement("div",null,o.a.createElement("span",null,r._("Members: 0 of {0}",{0:a.maxStudentsAmountInGroup})))),o.a.createElement(we.h,{id:"button-group-formation-join-selected",primary:!0,onClick:n.onJoinClick,ariaLabel:r._("Join"),isLoading:i,enabled:!i},o.a.createElement(U.Trans,{id:"Join"}))),o.a.createElement("div",{className:E()("group-details-body",c?null:"empty-members")},c?o.a.createElement(ku.a,{columns:s,className:"group-members-table",data:e?e.members:[],listAccessor:"name",onListRowSelect:n.onMemberListRowSelect,tableSummary:r._("A list of the group members")}):o.a.createElement("div",{className:"group-members-empty-container"},o.a.createElement("p",null,r._("There are no members in this group yet.")))))})),Uu(Fu(Fu(n)),"getDescription",(function(){var e=n.props.groupFormationData;return e?o.a.createElement("div",null,o.a.createElement(U.Trans,{id:"Finalize date: <0/>",components:[o.a.createElement(oa.a,{unixTime:e.groupFormationFinalizeAt})]})):null})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xu(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state.filterValue,t=this.props.i18n;return o.a.createElement(ju.a,{title:t._("Group Selection"),description:this.getDescription()},o.a.createElement(Nu.a,{className:"group-formation-filter-container",zDepth:5},o.a.createElement(Oe.a,{className:"group-formation-filter-icon",ariaLabel:t._("Group Formation Filter, icon")},re.a.FILTER),o.a.createElement(Sa.i,{id:"group-formation-filter-input",fullWidth:!0,onChange:this.onFilterChange,placeholder:t._("Looking for a classmate?"),value:e,ariaLabel:t._("Looking for a classmate?")}),e.trim().length>0?o.a.createElement(we.d,{id:"button-group-selection-filter-clear",onClick:this.onClearFilter},re.a.CLOSE):null),o.a.createElement(Hn.a,null,o.a.createElement(Hn.d,{title:t._("Groups")}),o.a.createElement(Hn.c,null,o.a.createElement("div",{className:"group-list-container"},o.a.createElement("div",{className:"group-list"},this.getGroupList()),this.getSelectedGroupDetails()))))}}])&&Lu(n.prototype,r),a&&Lu(n,a),t}(a.Component),Gu=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{isLoading:Qs.getIsLoading(e),groupFormationData:wu(e)}}))(Vu))),qu=n("Ondw"),Bu={CONFIGURATION:"configuration",GRADEBOOK:"gradebook",GRADING:"grading"},Wu=n("7n1V"),Qu=n("O+79"),Yu=n("svEP"),Hu=n("09Br");function zu(){var e=Xu(["\n  query filteredActivities($termClass: Int!, $filter: [ActivityFilterConditionInput!]) {\n    activities(termClassDbId: $termClass, filter: $filter) {\n      dbId\n      name\n      studentGroups {\n        dbId\n      }\n    }\n  }\n"]);return zu=function(){return e},e}function Ku(){var e=Xu(["\n  query getActivities($dbId: Int!) {\n    termClass(dbId: $dbId) {\n      name\n      activities {\n        dbId\n        name\n        submitDueAt\n        type\n        allowGroupsForming\n        deletable\n        groupsFormedAt\n        groupsFormationFinalizeAt\n        executorsType\n        studentGroups {\n          dbId\n        }\n        cengageSettings {\n          locked\n          inPath\n          score\n        }\n      }\n    }\n  }\n"]);return Ku=function(){return e},e}function Xu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ju=Ue()(Ku()),Zu=Ue()(zu()),$u=n("AuRu"),el=n("sIVs"),tl=n("ul3U");function nl(){var e=Ml(["\n    mutation deleteActivity($input: ActivityInput!) {\n        deleteActivity(input: $input) {\n            removedId\n        }\n    }\n"]);return nl=function(){return e},e}function rl(){var e=Ml(["\n    mutation copyActivity($input: ActivityInput!) {\n        copyActivity(input: $input) {\n            activity {\n                dbId\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n"]);return rl=function(){return e},e}function al(){var e=Ml(["\n    mutation hideGroupEvaluations($input: HideGroupEvaluationsInput!) {\n        hideGroupEvaluations(input: $input) {\n            studentGroup {\n                dbId\n            }\n        }\n    }\n"]);return al=function(){return e},e}function ol(){var e=Ml(["\n    mutation releaseGroupEvaluations($input: ReleaseGroupEvaluationsInput!) {\n        releaseGroupEvaluations(input: $input) {\n            studentGroup {\n                dbId\n            }\n        }\n    }\n"]);return ol=function(){return e},e}function il(){var e=Ml(["\n    mutation deleteQaAnswerForStudent($input: DeleteQaAnswerForStudentInput!) {\n        deleteQaAnswerForStudent(input: $input) {\n            removedId\n        }\n    }\n"]);return il=function(){return e},e}function cl(){var e=Ml(["\n    mutation editCommentPreset($input: EditCommentPresetInput!) {\n        editCommentPreset(input: $input) {\n            comment {\n                dbId\n                commentText\n                orderNumber\n            }\n        }\n    }\n"]);return cl=function(){return e},e}function sl(){var e=Ml(["\n    mutation deleteCommentPreset($input: DeleteCommentPresetInput!) {\n        deleteCommentPreset(input: $input) {\n            removedId\n        }\n    }\n"]);return sl=function(){return e},e}function ul(){var e=Ml(["\n    mutation createCommentPreset($input: CreateCommentPresetInput!) {\n        createCommentPreset(input: $input) {\n            comment {\n                dbId\n                commentText\n                orderNumber\n            }\n        }\n    }\n"]);return ul=function(){return e},e}function ll(){var e=Ml(["\n    mutation removeStudentsFromGroup($input: RemoveStudentsFromGroupInput!) {\n        removeStudentsFromGroup(input: $input) {\n            studentDbIds\n        }\n    }\n"]);return ll=function(){return e},e}function dl(){var e=Ml(["\n    mutation addStudentsToGroup($input: AddStudentsToGroupInput!) {\n        addStudentsToGroup(input: $input) {\n            studentGroup {\n                dbId\n            }\n        }\n    }\n"]);return dl=function(){return e},e}function fl(){var e=Ml(["\n    mutation deleteStudentGroup($input: DeleteStudentGroupInput!) {\n        deleteStudentGroup(input: $input) {\n            removedId\n        }\n    }\n"]);return fl=function(){return e},e}function pl(){var e=Ml(["\n    mutation createStudentGroups($input: CreateStudentGroupsInput!) {\n        createStudentGroups(input: $input) {\n            studentGroups {\n                dbId\n            }\n        }\n    }\n"]);return pl=function(){return e},e}function ml(){var e=Ml(["\n    mutation deleteActivityResultComment($input: DeleteActivityResultCommentInput!) {\n        deleteActivityResultComment(input: $input) {\n            removedId\n        }\n    }\n"]);return ml=function(){return e},e}function bl(){var e=Ml(["\n    mutation editActivityResultComment($input: EditActivityResultCommentInput!) {\n        editActivityResultComment(input: $input) {\n            comment {\n                ...Comment\n                ...AnonymousComment\n            }\n        }\n    }\n    ","\n    ","\n"]);return bl=function(){return e},e}function yl(){var e=Ml(["\n    mutation createActivityResultComment($input: CreateActivityResultCommentInput!) {\n        createActivityResultComment(input: $input) {\n            comment {\n                ...Comment\n                ...AnonymousComment\n            }\n        }\n    }\n    ","\n    ","\n"]);return yl=function(){return e},e}function vl(){var e=Ml(["\n    mutation editActivityStudentGroupTitle($input: EditActivityStudentGroupTitleInput!) {\n        createActivityStudentGroupComment(input: $input) {\n            group {\n                name\n            }\n        }\n    }\n"]);return vl=function(){return e},e}function hl(){var e=Ml(["\n    mutation deleteActivityResultForStudent($input: DeleteActivityResultForStudentInput!) {\n        deleteActivityResultForStudent(input: $input) {\n            removedId\n        }\n    }\n"]);return hl=function(){return e},e}function gl(){var e=Ml(["\n    mutation convertDraftToFinalGroupGrade($input: ConvertDraftToFinalGroupGradeInput!) {\n        convertDraftToFinalGroupGrade(input: $input) {\n            groupDbId\n        }\n    }\n"]);return gl=function(){return e},e}function El(){var e=Ml(["\n    mutation saveEducatorGradeForGroup($input: SaveEducatorGradeGroupInput!) {\n        saveEducatorGradeForGroup(input: $input) {\n            errors {\n                path\n                messages\n            }\n            grade {\n                ...EducatorGrade\n            }\n        }\n    }\n    ","\n    ","\n"]);return El=function(){return e},e}function wl(){var e=Ml(["\n    mutation saveEducatorGradeForIndividual($input: SaveEducatorGradeIndividualInput!) {\n        saveEducatorGradeForIndividual(input: $input) {\n            errors {\n                path\n                messages\n            }\n            grade {\n                ...EducatorGrade\n            }\n        }\n    }\n    ","\n    ","\n"]);return wl=function(){return e},e}function Ol(){var e=Ml(["\n    {\n        viewer {\n            commentPresets {\n                dbId\n                commentText\n                orderNumber\n            }\n        }\n    }\n    ","\n"]);return Ol=function(){return e},e}function Sl(){var e=Ml(["\n    {\n        viewer {\n            myRubrics {\n                ...Rubric\n            }\n        }\n    }\n    ","\n"]);return Sl=function(){return e},e}function Cl(){var e=Ml(["\n    mutation editQuestionAndAnswerActivity($input:  EditQuestionAndAnswerActivityInput!) {\n        editQuestionAndAnswerActivity(input:$input) {\n            errors {\n                path\n                message\n            }\n            activity {\n                dbId\n                name\n            }\n        }\n    }\n"]);return Cl=function(){return e},e}function _l(){var e=Ml(["\n    mutation editInteractiveVideoActivity($input:  EditActivityInteractiveVideoInput!) {\n        editInteractiveVideoActivity(input:$input) {\n            errors {\n                path\n                message\n            }\n            activity {\n                dbId\n                name\n            }\n        }\n    }\n"]);return _l=function(){return e},e}function Il(){var e=Ml(["\nmutation createInteractiveVideoActivity($input:  CreateActivityInteractiveVideoInput!) {\n    createInteractiveVideoActivity(input:$input) {\n        errors {\n            path\n            message\n        }\n        activity {\n            dbId\n            name\n        }\n    }\n}\n"]);return Il=function(){return e},e}function Tl(){var e=Ml(["\nmutation createQuestionAndAnswerActivity($input:  CreateQuestionAndAnswerActivityInput!) {\n    createQuestionAndAnswerActivity(input:$input) {\n        errors {\n            path\n            message\n        }\n        activity {\n            dbId\n            name\n        }\n    }\n}\n"]);return Tl=function(){return e},e}function Rl(){var e=Ml(["\nmutation createIndividualProjectActivity($input:  CreateActivityIndividualProjectInput!) {\n    createIndividualProjectActivity(input:$input) {\n        errors {\n            path\n            message\n        }\n        activity {\n            dbId\n            name\n        }\n    }\n}\n"]);return Rl=function(){return e},e}function Pl(){var e=Ml(["\n    mutation editIndividualProjectActivity($input:  EditActivityIndividualProjectInput!) {\n        editIndividualProjectActivity(input:$input) {\n            errors {\n                path\n                message\n            }\n            activity {\n                dbId\n                name\n            }\n        }\n    }\n"]);return Pl=function(){return e},e}function Al(){var e=Ml(["\n    mutation createGroupProjectActivity($input: CreateGroupProjectActivityInput!) {\n        createGroupProjectActivity(input:$input) {\n            errors {\n                path\n                message\n            }\n            activity {\n                dbId\n                name\n            }\n        }\n    }\n"]);return Al=function(){return e},e}function Nl(){var e=Ml(["\n    mutation editGroupProjectActivity($input: EditGroupProjectActivityInput!) {\n        editGroupProjectActivity(input:$input) {\n            errors {\n                path\n                message\n            }\n            activity {\n                dbId\n                name\n            }\n        }\n    }\n"]);return Nl=function(){return e},e}function jl(){var e=Ml(["\n    query getActivityData($activityId: Int!, $studentId: Int!) {\n        activity(dbId: $activityId) {\n            dataForOneStudent(studentDbId: $studentId) {\n                isGradeDraftAllowed\n            }\n        }\n    }\n"]);return jl=function(){return e},e}function kl(){var e=Ml(["\n    mutation copyStudentGroups($sourceActivityDbId: Int!, $targetActivityDbId: Int!) {\n        copyStudentGroups(sourceActivityDbId: $sourceActivityDbId, targetActivityDbId: $targetActivityDbId) {\n            studentGroups {\n                dbId\n                name\n            }\n        }\n    }\n"]);return kl=function(){return e},e}function Dl(){var e=Ml(["\n    query getActivityInfo($activityId: Int!, $studentId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            dataForOneStudent(studentDbId: $studentId) {\n                result {\n                    ... on ActivityResultIndividualProject {\n                        comments {\n                            ...Comment\n                            ...AnonymousComment\n                        }\n                    }\n                    ... on ActivityResultQa {\n                        comments {\n                            ...Comment\n                            ...AnonymousComment\n                        }\n                    }\n                    ... on ActivityResultGroupProject {\n                        comments {\n                            ...Comment\n                            ...AnonymousComment\n                        }\n                    }\n                    ... on ActivityResultInteractiveVideo {\n                        comments {\n                            ...Comment\n                            ...AnonymousComment                            \n                        }\n                    }\n                }\n            }\n        }\n    }\n    ","\n    ","\n"]);return Dl=function(){return e},e}function Ll(){var e=Ml(["\n    query getActivityInfo($activityId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            type\n        }\n    }\n"]);return Ll=function(){return e},e}function Ml(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function xl(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Fl(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){xl(o,r,a,i,c,"next",e)}function c(e){xl(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ul(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vl=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getActivities",value:function(){var e=Fl(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.a.query({query:Ju,variables:{dbId:t}});case 2:if(!((n=e.sent).errors&&n.errors.length>0)){e.next=5;break}throw new Error(n.errors);case 5:return e.abrupt("return",O.a.get(n,"data.termClass.activities"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchGroupActivities",value:function(){var e=Fl(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.a.query({query:Zu,variables:{termClass:t,filter:[{column:"type",value:"group_presentation"}]}});case 2:if(!((n=e.sent).errors&&n.errors.length>0)){e.next=5;break}throw new Error(n.errors);case 5:return e.abrupt("return",O.a.get(n,"data.activities"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getActivitySettingsData",value:function(e){var t=this;return new Promise((function(n,r){m.a.dispatch(qu.kb(!0)),xe.a.query({query:Gl,variables:{activityId:e}}).then((function(a){a&&a.data?t.getActivitySettingsByType(e,a.data.activity.type).then((function(e){e&&e.data?(m.a.dispatch(qu.bb(e.data.activity,Bu.CONFIGURATION)),n(e)):r(e),m.a.dispatch(qu.kb(!1))})).catch((function(e){r(e),m.a.dispatch(qu.kb(!1))})):(r(a),m.a.dispatch(qu.kb(!1)))})).catch((function(e){r(e),m.a.dispatch(qu.kb(!1))}))}))}},{key:"copyGroupsToAssignment",value:function(){var e=Fl(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.a.mutate({mutation:Bl,variables:{sourceActivityDbId:t,targetActivityDbId:n}});case 2:if(!((r=e.sent).errors&&r.errors.length>0)){e.next=5;break}throw new Error(r.errors);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getActivityGradingData",value:function(e,t){var n=this;return new Promise((function(r,a){m.a.dispatch(qu.kb(!0)),xe.a.query({query:Gl,variables:{activityId:e}}).then((function(o){o&&o.data?n.getGradingActivityByType(e,o.data.activity.type,t).then((function(e){e&&e.data?(m.a.dispatch(qu.ab(e.data.activity)),r(e)):a(e),m.a.dispatch(qu.kb(!1))})).catch((function(e){a(e),m.a.dispatch(qu.kb(!1))})):a(o)})).catch((function(e){a(e),m.a.dispatch(qu.kb(!1))}))}))}},{key:"refreshActivityGradingData",value:function(e,t,n){var r=this;return new Promise((function(a,o){m.a.dispatch(qu.mb(!0)),r.getGradingActivityByType(e,t,n).then((function(e){e&&e.data?(m.a.dispatch(qu.ab(e.data.activity)),a(e)):o(e),m.a.dispatch(qu.mb(!1))})).catch((function(e){o(e),m.a.dispatch(qu.kb(!1))}))}))}},{key:"getGradingActivityByType",value:function(e,t,n){switch(t){case Wu.b.QA_ENHANCED:return this.getQAGradingActivity(e,n);case Wu.b.INDIVIDUAL_PROJECT:return this.getIndividualGradingActivity(e,n);case Wu.b.GROUP_PRESENTATION:return this.getGroupGradingActivity(e,n);case Wu.b.INTERACTIVE_VIDEO:return this.getInteractiveVideoGradingActivity(e,n);default:throw new Error("Unsupported activity type")}}},{key:"getActivitySettingsByType",value:function(e,t){switch(t){case Wu.b.QA_ENHANCED:return this.getQAActivitySettings(e);case Wu.b.INDIVIDUAL_PROJECT:return this.getIndividualActivitySettings(e);case Wu.b.GROUP_PRESENTATION:return this.getGroupActivitySettings(e);case Wu.b.INTERACTIVE_VIDEO:return this.getInteractiveVideoActivitySettings(e);default:throw new Error("Unsupported activity type")}}},{key:"getUserRubrics",value:function(){return new Promise((function(e,t){xe.a.query({query:$l}).then((function(n){n&&n.data?e(n.data.viewer.myRubrics):t(n)})).catch((function(e){t(e)}))}))}},{key:"getGroupActivitySettings",value:function(e){return xe.a.query({query:Su.c,variables:{activityId:e}})}},{key:"getGroupGradingActivity",value:function(e,t){return xe.a.query({query:Su.a,variables:{activityId:e,studentId:t}})}},{key:"getIndividualActivitySettings",value:function(e){return xe.a.query({query:el.c,variables:{activityId:e}})}},{key:"getIndividualGradingActivity",value:function(e,t){return xe.a.query({query:el.a,variables:{activityId:e,studentId:t}})}},{key:"getQAGradingActivity",value:function(e,t){return xe.a.query({query:$u.a,variables:{activityId:e,studentId:t}})}},{key:"getQAActivitySettings",value:function(e){return xe.a.query({query:$u.c,variables:{activityId:e}})}},{key:"getInteractiveVideoActivitySettings",value:function(e){return xe.a.query({query:tl.c,variables:{activityId:e}})}},{key:"getInteractiveVideoGradingActivity",value:function(e,t){return xe.a.query({query:tl.a,variables:{activityId:e,studentId:t}})}},{key:"editGroupProject",value:function(e,t){return new Promise((function(n,r){xe.a.mutate({mutation:Ql,variables:{input:{dbId:e,activity:t}}}).then((function(e){if(e&&e.data){var t=e.data.editGroupProjectActivity.errors;if(t.length)r(t);else{var a=e.data.editGroupProjectActivity.activity;ft.a.addSuccess(ft.a.getEditedAssignmentNotificationContent(a.name)),n(a)}}else r(e)})).catch((function(e){r(e)}))}))}},{key:"createGroupProject",value:function(e,t){return new Promise((function(n,r){xe.a.mutate({mutation:Yl,variables:{input:{termClassDbId:e,activity:t}}}).then((function(e){if(e&&e.data){var t=e.data.createGroupProjectActivity.errors;if(t.length)r(t);else{var a=e.data.createGroupProjectActivity.activity;ft.a.addSuccess(ft.a.getCreatedAssignmentNotificationContent(a.name)),n(a)}}else r(e)})).catch((function(e){r(e)}))}))}},{key:"editIndividualProject",value:function(e,t){return new Promise((function(n,r){xe.a.mutate({mutation:Hl,variables:{input:{dbId:e,activity:t}}}).then((function(e){if(e&&e.data){var t=e.data.editIndividualProjectActivity.errors;if(t.length)r(t);else{var a=e.data.editIndividualProjectActivity.activity;ft.a.addSuccess(ft.a.getEditedAssignmentNotificationContent(a.name)),n(a)}}else r(e)})).catch((function(e){r(e)}))}))}},{key:"editQaProject",value:function(e,t){return new Promise((function(n,r){xe.a.mutate({mutation:Zl,variables:{input:{dbId:e,activity:t}}}).then((function(e){if(e&&e.data){var t=e.data.editQuestionAndAnswerActivity.errors;if(t.length)r(t);else{var a=e.data.editQuestionAndAnswerActivity.activity;ft.a.addSuccess(ft.a.getEditedAssignmentNotificationContent(a.name)),n(a)}}else r(e)})).catch((function(e){r(e)}))}))}},{key:"editInteractiveVideoProject",value:function(e,t){return new Promise((function(n,r){xe.a.mutate({mutation:Jl,variables:{input:{dbId:e,activity:t}}}).then((function(e){if(e&&e.data){var t=e.data.editInteractiveVideoActivity.errors;if(t.length)r(t);else{var a=e.data.editInteractiveVideoActivity.activity;ft.a.addSuccess(ft.a.getEditedAssignmentNotificationContent(a.name)),n(a)}}else r(e)})).catch((function(e){r(e)}))}))}},{key:"createIndividualProject",value:function(e,t){return new Promise((function(n,r){xe.a.mutate({mutation:zl,variables:{input:{termClassDbId:e,activity:t}}}).then((function(e){if(e&&e.data){var t=e.data.createIndividualProjectActivity.errors;if(t.length)r(t);else{var a=e.data.createIndividualProjectActivity.activity;ft.a.addSuccess(ft.a.getCreatedAssignmentNotificationContent(a.name)),n(a)}}else r(e)})).catch((function(e){r(e)}))}))}},{key:"createQaProject",value:function(e,t){return new Promise((function(n,r){xe.a.mutate({mutation:Kl,variables:{input:{termClassDbId:e,activity:t}}}).then((function(e){if(e&&e.data){var t=e.data.createQuestionAndAnswerActivity.errors;if(t.length)r(t);else{var a=e.data.createQuestionAndAnswerActivity.activity;ft.a.addSuccess(ft.a.getCreatedAssignmentNotificationContent(a.name)),n(a)}}else r(e)})).catch((function(e){r(e)}))}))}},{key:"createInteractiveVideoProject",value:function(e,t){return new Promise((function(n,r){xe.a.mutate({mutation:Xl,variables:{input:{termClassDbId:e,activity:t}}}).then((function(e){if(e&&e.data){var t=e.data.createInteractiveVideoActivity.errors;if(t.length)r(t);else{var a=e.data.createInteractiveVideoActivity.activity;ft.a.addSuccess(ft.a.getCreatedAssignmentNotificationContent(a.name)),n(a)}}else r(e)})).catch((function(e){r(e)}))}))}},{key:"getIsGradeDraftAllowed",value:function(e,t){return new Promise((function(n,r){xe.a.query({query:Wl,variables:{activityId:e,studentId:t}}).then((function(e){if(e&&e.data){var t=O.a.get(e,"data.activity.dataForOneStudent.isGradeDraftAllowed",!1);m.a.dispatch(qu.jb(t))}else r(e)})).catch((function(e){r(e)}))}))}},{key:"saveGrade",value:function(e,t,n){var r=this;return new Promise((function(a,o){xe.a.mutate({mutation:td,variables:{input:{activityDbId:e,studentDbId:t,evaluation:n}}}).then((function(n){if(n&&n.data){var i=n.data.saveEducatorGradeForIndividual.errors;if(i.length)o(i);else{var c=n.data.saveEducatorGradeForIndividual.grade;m.a.dispatch(qu.gb(e,t,c)),r.getIsGradeDraftAllowed(e,t),a(c)}}else o(n)})).catch((function(e){o(e)}))}))}},{key:"saveGradeAutoPassFail",value:function(e,t,n,r){var a={completion:n,isDraft:r};return this.saveGrade(e,t,a)}},{key:"saveGradeFiveStar",value:function(e,t,n,r){var a={fiveStarValue:n,isDraft:r};return this.saveGrade(e,t,a)}},{key:"saveGradePassFail",value:function(e,t,n,r){var a={passFail:n,isDraft:r};return this.saveGrade(e,t,a)}},{key:"saveGradePercentage",value:function(e,t,n,r){var a={gradeValue:n,isDraft:r};return this.saveGrade(e,t,a)}},{key:"saveGradeRubric",value:function(e,t,n,r){var a={rubricEvaluation:{rows:n.map((function(e){return{evaluationCell:e}}))},isDraft:r};return this.saveGrade(e,t,a)}},{key:"saveGroupGrade",value:function(e,t){return new Promise((function(n,r){xe.a.mutate({mutation:nd,variables:{input:{groupDbId:e,evaluation:t}}}).then((function(t){if(t&&t.data){var a=t.data.saveEducatorGradeForGroup.errors;if(a.length)r(a);else{var o=t.data.saveEducatorGradeForGroup.grade;m.a.dispatch(qu.fb(e,o)),n(o)}}else r(t)})).catch((function(e){r(e)}))}))}},{key:"saveGroupGradeAutoPassFail",value:function(e,t,n){var r={completion:t,isDraft:n};return this.saveGroupGrade(e,r)}},{key:"saveGroupGradeFiveStar",value:function(e,t,n){var r={fiveStarValue:t,isDraft:n};return this.saveGroupGrade(e,r)}},{key:"saveGroupGradePassFail",value:function(e,t,n){var r={passFail:t,isDraft:n};return this.saveGroupGrade(e,r)}},{key:"saveGroupGradePercentage",value:function(e,t,n){var r={gradeValue:t,isDraft:n};return this.saveGroupGrade(e,r)}},{key:"saveGroupGradeRubric",value:function(e,t,n){var r={rubricEvaluation:{rows:t.map((function(e){return{evaluationCell:e}}))},isDraft:n};return this.saveGroupGrade(e,r)}},{key:"saveGroupGradePeerReviewOverride",value:function(e,t){var n={peerReviewGradeValue:t};return this.saveGroupGrade(e,n)}},{key:"convertDraftToFinalGroupGrade",value:function(e){return xe.a.mutate({mutation:rd,variables:{input:{groupDbId:e}}}).then((function(e){var t=e.data.convertDraftToFinalGroupGrade.groupId;return m.a.dispatch(qu.jb(!1)),m.a.dispatch(qu.M(t)),Promise.resolve(t)}))}},{key:"createActivityCommentText",value:function(e,t,n,r){return new Promise((function(a,o){m.a.dispatch(qu.Z(!0)),xe.a.mutate({mutation:id,variables:{input:{activityDbId:e,submitterDbId:t,comment:{commentText:n,syncTime:r}}}}).then((function(e){if(e&&e.data){var t=e.data.createActivityResultComment.comment;m.a.dispatch(qu.J(t)),a(t)}else o(e);m.a.dispatch(qu.Z(!1))})).catch((function(e){o(e),m.a.dispatch(qu.Z(!1))}))}))}},{key:"createActivityCommentMedia",value:function(e,t,n,r){return new Promise((function(a,o){m.a.dispatch(qu.Z(!0)),xe.a.mutate({mutation:id,variables:{input:{activityDbId:e,submitterDbId:t,comment:{commentMedia:n,syncTime:r}}}}).then((function(e){if(e&&e.data){var t=e.data.createActivityResultComment.comment;m.a.dispatch(qu.J(t)),a(t)}else o(e);m.a.dispatch(qu.Z(!1))})).catch((function(e){o(e),m.a.dispatch(qu.Z(!1))}))}))}},{key:"deleteActivityComment",value:function(e,t){return new Promise((function(e,n){m.a.dispatch(qu.Z(!0)),xe.a.mutate({mutation:sd,variables:{input:{dbId:t}}}).then((function(t){if(t&&t.data){var r=t.data.deleteActivityResultComment;m.a.dispatch(qu.O(r)),e(r)}else n(t);m.a.dispatch(qu.Z(!1))})).catch((function(e){n(e),m.a.dispatch(qu.Z(!1))}))}))}},{key:"editFeedbackComment",value:function(e,t){return new Promise((function(n,r){m.a.dispatch(qu.Z(!0)),xe.a.mutate({mutation:cd,variables:{input:{dbId:e,comment:{commentText:t.commentText,commentMedia:t.commentMedia,syncTime:t.syncTime}}}}).then((function(e){if(e&&e.data){var t=e.data.editActivityResultComment.comment;m.a.dispatch(qu.U(t)),n(t)}else r(e);m.a.dispatch(qu.Z(!1))})).catch((function(e){r(e),m.a.dispatch(qu.Z(!1))}))}))}},{key:"deleteActivityResult",value:function(e,t){return new Promise((function(n,r){m.a.dispatch(qu.Q(!0)),xe.a.mutate({mutation:ad,variables:{input:{activityDbId:e,submitterDbId:t}}}).then((function(e){e&&e.data?(m.a.dispatch(qu.P()),n(e)):r(e),m.a.dispatch(qu.Q(!1))})).catch((function(e){r(e),m.a.dispatch(qu.Q(!1))}))}))}},{key:"editGroupName",value:function(e,t){return new Promise((function(n,r){m.a.dispatch(qu.ib(!0)),xe.a.mutate({mutation:od,variables:{input:{dbId:e,name:t}}}).then((function(e){if(e&&e.data){var t=e.data.editActivityStudentGroupTitle.group;m.a.dispatch(qu.W(t)),n(t)}else r(e);m.a.dispatch(qu.ib(!1))})).catch((function(e){r(e),m.a.dispatch(qu.ib(!1))}))}))}},{key:"getCommentPresets",value:function(){return new Promise((function(e,t){m.a.dispatch(qu.cb(!0)),xe.a.query({query:ed}).then((function(n){if(n&&n.data){var r=n.data.viewer.commentPresets;m.a.dispatch(qu.db(r)),e(r)}else t(n);m.a.dispatch(qu.cb(!1))})).catch((function(e){t(e),m.a.dispatch(qu.cb(!1))}))}))}},{key:"createCommentPreset",value:function(e){return new Promise((function(t,n){m.a.dispatch(qu.cb(!0)),xe.a.mutate({mutation:pd,variables:{input:{comment:{commentText:e}}}}).then((function(e){if(e&&e.data){var r=e.data.createCommentPreset.comment;m.a.dispatch(qu.K(r)),t(r)}else n(e);m.a.dispatch(qu.cb(!1))})).catch((function(e){n(e),m.a.dispatch(qu.cb(!1))}))}))}},{key:"editCommentPreset",value:function(e,t){return new Promise((function(n,r){m.a.dispatch(qu.cb(!0)),xe.a.mutate({mutation:bd,variables:{input:{dbId:e,comment:{commentText:t}}}}).then((function(e){if(e&&e.data){var t=e.data.editCommentPreset;m.a.dispatch(qu.V(t)),n(t)}else r(e);m.a.dispatch(qu.cb(!1))})).catch((function(e){r(e),m.a.dispatch(qu.cb(!1))}))}))}},{key:"deleteCommentPreset",value:function(e){return new Promise((function(t,n){m.a.dispatch(qu.cb(!0)),xe.a.mutate({mutation:md,variables:{input:{dbId:e}}}).then((function(e){if(e&&e.data){var r=e.data.editCommentPreset;m.a.dispatch(qu.R(r)),t(r)}else n(e);m.a.dispatch(qu.cb(!1))})).catch((function(e){n(e),m.a.dispatch(qu.cb(!1))}))}))}},{key:"createStudentGroups",value:function(e,t){return new Promise((function(n,r){m.a.dispatch(qu.hb(!0)),xe.a.mutate({mutation:ud,variables:{input:{activityDbId:e,amount:t}}}).then((function(e){if(e&&e.data){var t=e.data.createStudentGroups.studentGroups;m.a.dispatch(qu.N(t)),n(t)}else r(e);m.a.dispatch(qu.hb(!1))})).catch((function(e){r(e),m.a.dispatch(qu.hb(!1))}))}))}},{key:"deleteStudentGroup",value:function(e){return new Promise((function(t,n){m.a.dispatch(qu.hb(!0)),xe.a.mutate({mutation:ld,variables:{input:{dbId:e}}}).then((function(e){if(e&&e.data){var r=e.data.deleteStudentGroup;m.a.dispatch(qu.T(r)),t(r)}else n(e);m.a.dispatch(qu.hb(!1))})).catch((function(e){n(e),m.a.dispatch(qu.hb(!1))}))}))}},{key:"addStudentsToGroup",value:function(e,t){return new Promise((function(n,r){m.a.dispatch(qu.hb(!0)),xe.a.mutate({mutation:dd,variables:{input:{groupDbId:e,studentDbIds:t}}}).then((function(e){if(e&&e.data){var t=e.data.addStudentsToGroup;m.a.dispatch(qu.L(t)),n(t)}else r(e);m.a.dispatch(qu.hb(!1))})).catch((function(e){r(e),m.a.dispatch(qu.hb(!1))}))}))}},{key:"removeStudentsFromGroup",value:function(e,t){return new Promise((function(n,r){m.a.dispatch(qu.hb(!0)),xe.a.mutate({mutation:fd,variables:{input:{groupDbId:e,studentDbIds:t}}}).then((function(e){if(e&&e.data){var t=e.data.removeStudentsFromGroup;m.a.dispatch(qu.Y(t)),n(t)}else r(e);m.a.dispatch(qu.hb(!1))})).catch((function(e){r(e),m.a.dispatch(qu.hb(!1))}))}))}},{key:"deleteQAAnswer",value:function(e,t,n,r){return new Promise((function(n,a){m.a.dispatch(qu.eb(!0)),xe.a.mutate({mutation:yd,variables:{input:{questionDbId:e,userDbId:t}}}).then((function(e){if(e&&e.data){var t=e.data.deleteQaAnswerForStudent;r||m.a.dispatch(qu.S(t)),n(t)}else a(e);m.a.dispatch(qu.eb(!1))})).catch((function(e){a(e),m.a.dispatch(qu.eb(!1))}))}))}},{key:"releaseGroupEvaluations",value:function(e,t){return new Promise((function(n,r){xe.a.mutate({mutation:vd,variables:{input:{groupDbId:e,isReviewAnonymous:t}}}).then((function(e){e&&e.data?(m.a.dispatch(qu.nb(Math.floor(+new Date/1e3))),m.a.dispatch(qu.lb(t)),n(e)):r(e)})).catch((function(e){r(e)}))}))}},{key:"unreleaseGroupEvaluations",value:function(e){return new Promise((function(t,n){xe.a.mutate({mutation:hd,variables:{input:{groupDbId:e}}}).then((function(e){e&&e.data?(m.a.dispatch(qu.nb(null)),m.a.dispatch(qu.lb(null)),t(e)):n(e)})).catch((function(e){n(e)}))}))}},{key:"getResultComments",value:function(e,t){return new Promise((function(n,r){xe.a.query({query:ql,variables:{activityId:e,studentId:t}}).then((function(e){if(e&&e.data){var t=e.data.activity.dataForOneStudent.result.comments;m.a.dispatch(qu.X(t)),n(t)}else r(e)})).catch((function(e){r(e)}))}))}},{key:"copyActivity",value:function(e){return new Promise((function(t,n){m.a.dispatch(qu.kb(!0)),xe.a.mutate({mutation:gd,variables:{input:{dbId:e}}}).then((function(e){var r=e.errors;r&&r.length?n(r):e&&e.data?t(e.data.copyActivity.activity):n(e),m.a.dispatch(qu.kb(!1))})).catch((function(e){n(e),m.a.dispatch(qu.kb(!1))}))}))}},{key:"deleteActivity",value:function(e,t){return new Promise((function(n,r){xe.a.mutate({mutation:Ed,variables:{input:{dbId:e}}}).then((function(e){var a=e.errors;a&&a.length?r(a):e&&e.data?(ft.a.addSuccess(ft.a.getDeletedAssignmentNotificationContent(t)),n(e.data.deleteActivity.removedId)):r(e)})).catch((function(e){r(e)}))}))}}])&&Ul(t.prototype,n),r&&Ul(t,r),e}()),Gl=Ue()(Ll()),ql=Ue()(Dl(),Qu.b,Qu.a),Bl=Ue()(kl()),Wl=Ue()(jl()),Ql=Ue()(Nl()),Yl=Ue()(Al()),Hl=Ue()(Pl()),zl=Ue()(Rl()),Kl=Ue()(Tl()),Xl=Ue()(Il()),Jl=Ue()(_l()),Zl=Ue()(Cl()),$l=Ue()(Sl(),Hu.d),ed=Ue()(Ol(),fn.b),td=Ue()(wl(),Hu.c,Yu.a),nd=Ue()(El(),Hu.c,Yu.a),rd=Ue()(gl()),ad=Ue()(hl()),od=Ue()(vl()),id=Ue()(yl(),Qu.b,Qu.a),cd=Ue()(bl(),Qu.b,Qu.a),sd=Ue()(ml()),ud=Ue()(pl()),ld=Ue()(fl()),dd=Ue()(dl()),fd=Ue()(ll()),pd=Ue()(ul()),md=Ue()(sl()),bd=Ue()(cl()),yd=Ue()(il()),vd=Ue()(ol()),hd=Ue()(al()),gd=Ue()(rl()),Ed=Ue()(nl());function wd(e){return(wd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Od(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sd(e,t){return!t||"object"!==wd(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cd(e){return(Cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _d(e,t){return(_d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Id=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Sd(this,Cd(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_d(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.activityId;Vl.getActivityData(+e)}},{key:"render",value:function(){var e=this.props.i18n;return o.a.createElement(Dt.a,{title:e._("Group Formation")},o.a.createElement(Lt.a,null,"Some group formation stuff for the system"))}}])&&Od(n.prototype,r),a&&Od(n,a),t}(a.Component),Td=Object(y.k)(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),isLoading:Qs.getIsLoading(e)}}))(Object(U.withI18n)()(Id))),Rd=n("ArDN");function Pd(e){return(Pd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ad(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nd(e){return(Nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jd(e,t){return(jd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ld=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Nd(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Pd(a)&&"function"!==typeof a?kd(r):a,Dd(kd(kd(n)),"componentDidMount",(function(){var e=n.props.match.params.activityId;Ru.getStudentGroupsToJoin(+e)})),Dd(kd(kd(n)),"getViewByType",(function(e){switch(e){case Rd.a.STUDENT_FORMED:return o.a.createElement(Gu,null);case Rd.a.SYSTEM_FORMED:return o.a.createElement(Td,null);default:return o.a.createElement("span",null,"Nope")}})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jd(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.groupFormationData,n=e.isLoading;if(n||!t)return o.a.createElement(ca.b,{loading:n});var r=t.executorsType;return r?this.getViewByType(r):null}}])&&Ad(n.prototype,r),a&&Ad(n,a),t}(a.Component),Md=Object(y.k)(Object(s.b)((function(e){return{groupFormationData:wu(e),isLoading:Eu(e)}}))(Ld));function xd(e){return(xd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ud(e){return(Ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vd(e,t){return(Vd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var qd=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Ud(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==xd(a)&&"function"!==typeof a?Gd(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Gd(Gd(n)),"render",(function(){var e=n.props,t=e.match.params.activityId,r=e.pollingEnabled,a=e.children,i=e.description,c=e.title,s=e.serviceMethod,u=e.allowPeerReviewBeforeSubmission;return o.a.createElement(ju.b,{title:c,description:i,pollingEnabled:r,serviceMethod:s,serviceParameters:[+t,u]},a)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vd(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params.activityId,n=e.serviceMethod,r=e.allowPeerReviewBeforeSubmission;n.apply(null,[+t,r])}}])&&Fd(n.prototype,r),a&&Fd(n,a),t}(a.Component);qd.propTypes={description:c.a.node,pollingEnabled:c.a.bool,serviceMethod:c.a.func.isRequired,title:c.a.string},qd.defaultProps={pollingEnabled:!0};var Bd=Object(y.k)(Object(s.b)((function(e){return{allowPeerReviewBeforeSubmission:Qs.isPeerReviewAllowedBeforeSubmission(e)}}))(qd)),Wd=n("TfV7"),Qd=n("yG+V");n("zHZz");function Yd(e){return(Yd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Zd(e,t,n[t])}))}return e}function zd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kd(e){return(Kd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xd(e,t){return(Xd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $d=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Kd(t).call(this,e),n=!a||"object"!==Yd(a)&&"function"!==typeof a?Jd(r):a,Zd(Jd(Jd(n)),"getInitialStateFromProps",(function(e){var t=O.a.clone(e.member);if(t.myFiveStarRating){if(!t.myFiveStarRating.comment){var n=O.a.clone(t.myFiveStarRating);n.comment="",t.myFiveStarRating=n}}else t.myFiveStarRating={value:0,comment:""};return{saveEnabled:!1,member:t}})),Zd(Jd(Jd(n)),"onRatingChange",(function(e){var t=n.props.onChange,r=Hd({},n.state.member),a=Hd({},r.myFiveStarRating);a.value=e,r.myFiveStarRating=a,t&&t(),n.setState({member:r,saveEnabled:!0})})),Zd(Jd(Jd(n)),"onCommentsChanged",(function(e){var t=n.props.onChange,r=Hd({},n.state.member),a=Hd({},r.myFiveStarRating);a.comment=e,r.myFiveStarRating=a,t&&t(),n.setState({member:r,saveEnabled:!0})})),Zd(Jd(Jd(n)),"onSave",(function(){var e=n.props.match.params.activityId,t=n.state.member;e=+e,uu.a.saveTeamEvalFiveStar(e,t.dbId,t.myFiveStarRating.value,t.myFiveStarRating.comment,(function(){n.setState({saveEnabled:!1})}))})),Zd(Jd(Jd(n)),"onCancel",(function(){n.setState(n.getInitialStateFromProps(n.props))})),Zd(Jd(Jd(n)),"UNSAFE_componentWillReceiveProps",(function(e){if(n.props.member.dbId!==e.member.dbId){var t=n.getInitialStateFromProps(e);e.isTeamEvalLoading&&(t.saveEnabled=!0),n.setState(t)}})),n.state=n.getInitialStateFromProps(e),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xd(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.isTeamEvalLoading,r=e.studentId,a=e.i18n,i=e.educatorGrade,c=e.reviewIsReleased,s=this.state,u=s.member,l=s.saveEnabled,d=u.myFiveStarRating,f=u.fiveStarRatings;return o.a.createElement("div",{className:E()("eval-container",t)},o.a.createElement("div",{className:"eval-user-container"},o.a.createElement("div",{className:"eval-avatar-container"},o.a.createElement(xs.a,{value:u.firstName+" "+u.lastName})),o.a.createElement("div",{className:"eval-name-container"},o.a.createElement("div",null,u.firstName+" "+u.lastName),u.dbId!==r?o.a.createElement(Qd.a,{name:"eval-rating",value:d.value,onChange:this.onRatingChange,enabled:!n&&!i&&!c}):o.a.createElement(Qd.a,{name:"eval-rating",ratingSummaryItems:f,isAnonymous:this.props.isReviewAnonymous,viewType:"summary"}))),u.dbId!==r?o.a.createElement("div",{style:{display:"flex",flex:"1",flexGrow:"1",alignItems:"flex-end"}},o.a.createElement(Sa.i,{id:"five-star-eval-comments",enabled:!n&&!i&&!c,style:{width:"100%"},onChange:this.onCommentsChanged,className:"eval-comments",placeholder:a._("Comments"),rows:1,maxRows:2,value:d.comment,ariaLabel:a._("Comments")})):null,u.dbId===r||i||c?null:o.a.createElement("div",{className:"eval-button-container"},o.a.createElement(we.b,{id:"button-assignment-group-team-evaluations-cancel",secondary:!0,ariaLabel:a._("Cancel"),enabled:l&&!n,onClick:this.onCancel},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-assignment-group-team-evaluations-save",primary:!0,ariaLabel:a._("Save"),isLoading:n,enabled:l&&!!d.value,onClick:this.onSave},o.a.createElement(U.Trans,{id:"Save"}))))}}])&&zd(n.prototype,r),a&&zd(n,a),t}(a.Component);$d.propTypes={className:c.a.string,onChange:c.a.func,member:c.a.object,studentId:c.a.number,isReviewAnonymous:c.a.bool};var ef=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{isTeamEvalLoading:Qs.getTeamEvalIsLoading(e),educatorGrade:Qs.getEducatorGrade(e),reviewIsReleased:!!Qs.getReviewReleasedAt(e),isReviewAnonymous:Qs.getIsReviewAnonymous(e)}}))($d))),tf=n("PJr8"),nf=n("Wqtl"),rf=n("7fh3"),af=n("CNUB");function of(e){return(of="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ff(e,t,n[t])}))}return e}function sf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uf(e){return(uf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lf(e,t){return(lf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function df(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ff(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pf=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=uf(t).call(this,e),n=!a||"object"!==of(a)&&"function"!==typeof a?df(r):a,ff(df(df(n)),"getInitialStateFromProps",(function(e){var t=cf({},e.member),n=!1;return(t=O.a.merge({},t)).myRubricEvaluation?(n=!0,t.myRubricEvaluation.comment||(t.myRubricEvaluation.comment="")):t.myRubricEvaluation={points:null,comment:""},{saveEnabled:!1,member:t,showRubricDialog:!1,commentVisible:n}})),ff(df(df(n)),"onCommentsChanged",(function(e){var t=n.props.onChange,r=cf({},n.state.member),a=cf({},r.myRubricEvaluation);a.comment=e,r.myRubricEvaluation=a,t&&t(),n.setState({member:r,saveEnabled:!0})})),ff(df(df(n)),"onCommentSave",(function(){var e=n.props.match.params.activityId,t=n.state.member;e=+e,uu.a.saveRubricTeamEvalComment(e,t.dbId,t.myRubricEvaluation.comment).then((function(){n.setState({saveEnabled:!1})}))})),ff(df(df(n)),"onCancel",(function(){n.setState(n.getInitialStateFromProps(n.props))})),ff(df(df(n)),"UNSAFE_componentWillReceiveProps",(function(e){if(!O.a.isEqual(n.props,e)){var t=n.getInitialStateFromProps(e);e.isTeamEvalLoading&&(t.saveEnabled=!0),n.setState(t)}})),ff(df(df(n)),"onDialogCancel",(function(){n.setState({showRubricDialog:!1})})),ff(df(df(n)),"onDialogSubmit",(function(e){var t=n.props.match.params.activityId,r=n.state.member;t=+t,uu.a.saveTeamEvalRubricPoints(t,r.dbId,e).then((function(){n.setState({saveEnabled:!1,showRubricDialog:!1})}))})),ff(df(df(n)),"onEditRubric",(function(){n.setState({showRubricDialog:!0})})),ff(df(df(n)),"onSummaryClick",(function(){var e=n.state.member,t=n.props.isReviewAnonymous,r=e.rubricEvaluations;dt.a.showModal(o.a.createElement(af.a,{rubricEvaluations:r,isAnonymous:t}))})),n.state=n.getInitialStateFromProps(e),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lf(e,t)}(t,e),n=t,(r=[{key:"getRubricGrade",value:function(){try{return this.props.member.myRubricEvaluation.cells.map((function(e){return e.dbId}))}catch(e){l.b.warn(e)}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.isTeamEvalLoading,r=e.rubric,a=e.studentId,i=e.reviewIsReleased,c=e.i18n,s=e.educatorGrade,u=this.state,l=u.member,d=u.saveEnabled,f=u.showRubricDialog,p=l.myRubricEvaluation,m=l.rubricEvaluations,b=0,y=0,v=Boolean(p&&O.a.isNumber(p.points));return l.dbId!==a?p&&(b=v?p.points:null):m&&(b=Object(rf.b)(m),y=m.length),o.a.createElement("div",{className:E()("eval-container",t)},o.a.createElement("div",{className:"eval-user-container"},o.a.createElement("div",{className:"eval-avatar-container"},o.a.createElement(xs.a,{value:l.firstName+" "+l.lastName})),o.a.createElement("div",{className:"eval-name-container"},o.a.createElement("div",null,l.firstName+" "+l.lastName),o.a.createElement("div",{className:"eval-rubric-result-container"},o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"Rubric Score"})),l.dbId!==a?o.a.createElement(we.b,{id:"button-assignment-group-team-evaluations-rubric-edit",ariaLabel:c._("Rubric Score"),onClick:this.onEditRubric,className:"eval-rubric-result-button",primary:!0},o.a.createElement(tf.c,{points:b,max:r.maxValue})):o.a.createElement("div",{className:"rubric-eval-myscore-container"},o.a.createElement(tf.c,{points:b,max:r.maxValue}),o.a.createElement(we.b,{id:"button-assignment-group-team-evaluations-rubric-view",primary:!0,ariaLabel:c._("Rubric Evaluation Length"),enabled:y>0,onClick:this.onSummaryClick},"(",y,")"))))),v?o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",flex:"1",flexGrow:"1",alignItems:"flex-end"}},o.a.createElement(Sa.i,{id:"rubric-eval-comments",enabled:!n&&!s,style:{width:"100%"},onChange:this.onCommentsChanged,className:"eval-comments",placeholder:c._("Comments"),rows:1,maxRows:2,value:p.comment,ariaLabel:c._("Comments")})),s?null:o.a.createElement("div",{className:"eval-button-container"},o.a.createElement(we.b,{id:"button-assignment-group-team-evaluations-comment-cancel",secondary:!0,ariaLabel:c._("Cancel"),enabled:!(!d||n),onClick:this.onCancel},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-assignment-group-team-evaluations-comment-save",primary:!0,ariaLabel:c._("Save"),isLoading:n,enabled:d&&v,onClick:this.onCommentSave},o.a.createElement(U.Trans,{id:"Save"})))):null,f&&o.a.createElement(tf.b,{rubric:r,rubricPoints:b,grade:this.getRubricGrade(),mode:i||s?nf.a.VIEW:nf.a.GRADE,onCancel:this.onDialogCancel,onSubmit:this.onDialogSubmit}))}}])&&sf(n.prototype,r),a&&sf(n,a),t}(a.Component);pf.propTypes={className:c.a.string,onChange:c.a.func,member:c.a.object,studentId:c.a.number,isReviewAnonymous:c.a.bool};var mf=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{isTeamEvalLoading:Qs.getTeamEvalIsLoading(e),rubric:Qs.getGroupReviewRubric(e),reviewIsReleased:!!Qs.getReviewReleasedAt(e),educatorGrade:Qs.getEducatorGrade(e),isReviewAnonymous:Qs.getIsReviewAnonymous(e)}}))(pf))),bf={DISABLED:"TYPE__DISABLED",RATING:"TYPE__RATING",RUBRIC:"TYPE__RUBRIC"};function yf(e){return(yf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hf(e){return(hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gf(e,t){return(gf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ef(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Of={editingEvals:!1,evalIndex:0},Sf=20,Cf=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=hf(t).call(this,e),n=!a||"object"!==yf(a)&&"function"!==typeof a?Ef(r):a,wf(Ef(Ef(n)),"getUserNameAvatars",(function(){var e=n.props.members;if(e)return e instanceof Array?e.map((function(e,t){return o.a.createElement(xs.a,{tooltip:{distance:Sf},key:t,value:e.firstName+" "+e.lastName})})):o.a.createElement(xs.a,{tooltip:{distance:Sf},value:e.firstName+" "+e.lastName})})),wf(Ef(Ef(n)),"showTeamEvals",(function(){n.setState({editingEvals:!0,evalIndex:0,members:n.getSortedMembers()})})),wf(Ef(Ef(n)),"getSortedMembers",(function(){var e=n.props,t=e.studentGroup.reviewReleasedAt,r=e.userId,a=O.a.clone(Wr.j(n.props.members)),o=O.a.findIndex(a,{dbId:r});if(t){if(0!==o){var i=a[o];a.splice(o,1),a.splice(0,0,i)}}else O.a.remove(a,(function(e){return e.dbId===r}));return a})),wf(Ef(Ef(n)),"hideTeamEvals",(function(){n.setState({editingEvals:!1,evalIndex:0})})),wf(Ef(Ef(n)),"getPreviousMemberIndex",(function(e){if((e-=1)<0)return e;var t=n.props,r=t.studentGroup.reviewReleasedAt,a=t.userId;return n.state.members[e].dbId!==a||r?e:n.getPreviousMemberIndex(e-1)})),wf(Ef(Ef(n)),"getNextMemberIndex",(function(e){var t=n.state.members,r=n.props,a=r.studentGroup.reviewReleasedAt,o=r.userId;return(e+=1)>t.length-1?e:t[e].dbId!==o||a?e:n.getNextMemberIndex(e)})),wf(Ef(Ef(n)),"onLeftNavClick",(function(){var e=n.state.evalIndex,t=n.getPreviousMemberIndex(e);t<0?n.hideTeamEvals():n.setState({evalIndex:t})})),wf(Ef(Ef(n)),"onRightNavClick",(function(){var e=n.state,t=e.evalIndex,r=e.members,a=n.getNextMemberIndex(t);a>r.length-1?n.hideTeamEvals():n.setState({evalIndex:a})})),wf(Ef(Ef(n)),"getRatingComponent",(function(){var e=n.getSortedMembers()[n.state.evalIndex],t=n.props,r=t.userId,a=t.studentGroupReviewType;return a===bf.RATING?o.a.createElement(ef,{className:"eval-nav-contents",member:e,studentId:r}):a===bf.RUBRIC?o.a.createElement(mf,{className:"eval-nav-contents",member:e,studentId:r}):null})),wf(Ef(Ef(n)),"isRatingEnabled",(function(){var e=n.props.studentGroupReviewType;return e===bf.RATING||e===bf.RUBRIC})),wf(Ef(Ef(n)),"getEvalCard",(function(){var e=n.props.i18n;return o.a.createElement("div",{className:"eval-nav-container"},o.a.createElement(we.d,{id:"button-group-evaluations-left",ariaLabel:e._("Left Arrow"),onClick:n.onLeftNavClick,className:"eval-left-icon"},re.a.LEFT),n.getRatingComponent(),o.a.createElement(we.d,{id:"button-group-evaluations-right",ariaLabel:e._("Right Arrow"),onClick:n.onRightNavClick,className:"eval-right-icon"},re.a.RIGHT))})),wf(Ef(Ef(n)),"getDashboardCard",(function(){var e=n.props,t=e.members,r=e.i18n,a=e.groupName,i=e.currentUser;return o.a.createElement("div",{className:"group-members-dashboard-card"},o.a.createElement(Hn.d,{className:"dashboard-card-title",title:r._("Group: {groupName}",{groupName:a})}),o.a.createElement(Hn.c,{className:"dashboard-card-body group-members-content"},o.a.createElement("div",{className:"icon-avatar-info"},n.getUserNameAvatars())),t.length>1&&n.isRatingEnabled()&&Object(Wr.g)(i)?o.a.createElement(Hn.b,{className:"dashboard-card-actions"},o.a.createElement(we.b,{id:"button-group-team-evaluations",primary:!0,ariaLabel:r._("Team Evaluations"),onClick:n.showTeamEvals},o.a.createElement(U.Trans,{id:"Team Evaluations"}))):null,o.a.createElement(Oe.a,{className:"dashboard-card-icon",role:"presentation",ariaLabel:r._("Group Members, image background")},re.a.PEOPLE))})),n.state=Of,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gf(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state.editingEvals,t=E()("dashboard-card group-members-dashboard-card",e?"eval-card":null);return o.a.createElement(Hn.a,{className:t},e?this.getEvalCard():this.getDashboardCard())}}])&&vf(n.prototype,r),a&&vf(n,a),t}(a.Component),_f=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{members:Qs.getGroupMembers(e),userId:Qe.i(e),studentGroupReviewType:Qs.getStudentGroupReviewType(e),studentGroup:Qs.getStudentGroup(e),groupName:Qs.getStudentGroupName(e),currentUser:Qe.h(e)}}))(Cf))),If=n("d98y"),Tf=n("2bAp"),Rf=n("5ux5"),Pf=n("LMP5");function Af(e){return(Af="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jf(e){return(jf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kf(e,t){return(kf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Df(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mf=15e3,xf=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=jf(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Af(a)&&"function"!==typeof a?Df(r):a,Lf(Df(Df(n)),"_timeoutId",null),Lf(Df(Df(n)),"removeTimeout",(function(){try{clearTimeout(n._timeoutId)}catch(e){}})),Lf(Df(Df(n)),"doUpdate",(function(){n.forceUpdate()})),Lf(Df(Df(n)),"forceUpdateLater",(function(){n._timeoutId&&n.removeTimeout(),n._timeoutId=setTimeout(n.doUpdate,Mf)})),Lf(Df(Df(n)),"getNextMilestoneRelativeTime",(function(){var e=n.props,t=e.userData,r=e.milestones,a=r.length;if(r&&a)for(var o=0;o<r.length;o++)if("STATUS_OPEN"===r[o].status&&r[o].assignedTo instanceof Array)for(var i=0;i<r[o].assignedTo.length;i++)if(t.dbId===r[o].assignedTo[i].dbId)return Object(Pf.j)(r[o].dueDate);return null})),Lf(Df(Df(n)),"getNextMeetingRelativeTime",(function(){var e=n.props.resultPartials,t=e.length;if(e&&t)for(var r=0;r<e.length;r++)if(e[r].__typename===Rf.a.MEETING){var a=Object(Pf.j)(e[r].scheduledAt);if(a.totalTimeMillis>0)return a}return null})),Lf(Df(Df(n)),"getMilestoneCount",(function(){return n.props.activityData.studentGroup.milestones.length})),Lf(Df(Df(n)),"render",(function(){var e=n.props.i18n,t=!1,r=!1,a=n.getNextMilestoneRelativeTime(),i=n.getNextMeetingRelativeTime();Boolean(a)&&Boolean(i)?a.totalTimeMillis-i.totalTimeMillis<0?(t=!0,r=!1):(t=!1,r=!0):a?(t=!0,r=!1):i&&(t=!1,r=!0);return(r||t)&&(a&&!a.isPastDue?n.forceUpdateLater():i&&!i.isPastDue&&n.forceUpdateLater()),o.a.createElement("div",{className:"dashboard-container"},fe.a.isDueDateVisible()?o.a.createElement(Wd.a,null):null,o.a.createElement(_f,null),t&&o.a.createElement(If.a,{className:"item-a",title:e._("Milestone Due"),icon:re.a.MILESTONE},o.a.createElement("div",{className:"dashboard-contents centered"},o.a.createElement("span",{className:"fyi-text-med","aria-label":e._("Milestone Due")},Object(Pf.i)(a,e)))),r&&o.a.createElement(If.a,{className:"item-a",title:e._("Upcoming Meeting"),iconClassName:Tf.a.CALENDAR},o.a.createElement("div",{className:"dashboard-contents centered"},o.a.createElement("span",{className:"fyi-text-med","aria-label":e._("Upcoming Meeting")},Object(Pf.i)(i,e)))))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kf(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){this.removeTimeout()}}])&&Nf(n.prototype,r),a&&Nf(n,a),t}(a.Component),Ff=Object(U.withI18n)()(Object(s.b)((function(e){return{userData:Qe.h(e),resultPartials:Qs.getResultPartials(e),milestones:Qs.getMilestones(e)}}))(xf)),Uf=n("CvxL");n("lt1+");function Vf(e){return(Vf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qf(e){return(qf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bf(e,t){return(Bf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Qf=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=qf(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==Vf(a)&&"function"!==typeof a?Wf(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Wf(Wf(n)),"onRemoveSubmission",(function(){var e=n.props.activityId;e=+e,uu.a.deleteSubmission(e)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bf(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return this.props.activityId?o.a.createElement("div",{className:"group-submitted-dashboard-container"},o.a.createElement(Uf.a,null),o.a.createElement(_f,null)):null}}])&&Gf(n.prototype,r),a&&Gf(n,a),t}(a.Component),Yf=Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),result:Qs.getActivityResult(e),educatorGrade:Qs.getEducatorGrade(e)}}))(Qf),Hf=n("hHKf"),zf=n("O7QZ");n("mtWD");function Kf(e){return(Kf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jf(e){return(Jf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zf(e,t){return(Zf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ep(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tp=30,np={showEditGroupNameDialog:!1,tmpGroupName:null,isGroupNameValid:!0},rp=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Jf(t).call(this,e),n=!a||"object"!==Kf(a)&&"function"!==typeof a?$f(r):a,ep($f($f(n)),"onChatSubmit",(function(e){uu.a.addGroupComment(e,n.props.groupId)})),ep($f($f(n)),"onGroupEditClick",(function(){var e=n.props.groupName;n.setState({tmpGroupName:e,isGroupNameValid:e.length<=tp,showEditGroupNameDialog:!0})})),ep($f($f(n)),"editGroupNameCancel",(function(){n.setState({showEditGroupNameDialog:!1})})),ep($f($f(n)),"editGroupNameSubmit",(function(){var e=n.state.tmpGroupName,t=n.props.groupId;uu.a.editGroupName(t,e).then((function(){n.setState({showEditGroupNameDialog:!1})}))})),ep($f($f(n)),"onGroupNameChange",(function(e){n.setState({isGroupNameValid:e.length<=tp,tmpGroupName:e})})),n.state=np,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zf(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.match,n=e.comments,r=e.userId,a=e.isGroupNameEditing,i=e.isSubmittable,c=e.i18n,s=e.history,u=this.state,l=u.tmpGroupName,d=u.isGroupNameValid,f=o.a.createElement(Ws,{messages:n}),p=o.a.createElement(su,{messages:n,onSubmit:this.onChatSubmit,studentId:r,messagesLoading:this.props.commentsLoading}),m=[o.a.createElement(Au.c,{key:"_edit",enabled:i,onClick:this.onGroupEditClick,leftIcon:o.a.createElement(Oe.a,{ariaLabel:c._("Edit group name, icon")},re.a.EDIT),primaryText:c._("Edit group name")})];return o.a.createElement("div",null,o.a.createElement(F.a,{query:"(min-width: 701px)"},o.a.createElement(zf.a,{menuActions:m,toolbarActions:[o.a.createElement(we.e,{id:"chat-notification-button",ariaLabel:c._("Chat Messages"),dialogClassName:"chat-notification-dialog",dialogContent:p,dialogTitle:c._("Chat"),enabled:i,tooltip:{label:c._("Chat")}},re.a.CHAT),o.a.createElement(we.e,{id:"activity-log-notification-button",ariaLabel:c._("Activity Log"),dialogContent:f,dialogClassName:"activity-log-notification-dialog",dialogTitle:c._("Activity Log"),enabled:i,tooltip:{label:c._("Activity Log")}},re.a.ACTIVITY)]})),o.a.createElement(F.a,{query:"(max-width: 700px)"},o.a.createElement(zf.a,{menuActions:m,toolbarActions:[o.a.createElement(we.d,{id:"button-group-chat",ariaLabel:c._("Chat"),enabled:i,onClick:function(){s.push(t.url+"/chat")}},re.a.CHAT),o.a.createElement(we.d,{id:"button-group-activity-log",ariaLabel:c._("Activity Log"),enabled:i,onClick:function(){s.push(t.url+"/activity-log")}},re.a.ACTIVITY)]})),o.a.createElement(Hf.a,{id:"editGroupName",title:c._("Edit Group Name"),visible:this.state.showEditGroupNameDialog,actions:[o.a.createElement(we.b,{id:"button-assignment-group-name-edit-dialog-cancel",secondary:!0,ariaLabel:c._("Cancel"),enabled:!a,onClick:this.editGroupNameCancel},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-assignment-group-name-edit-dialog-submit",primary:!0,ariaLabel:c._("Submit"),isLoading:a,enabled:!a&&d,onClick:this.editGroupNameSubmit},o.a.createElement(U.Trans,{id:"Submit"}))]},o.a.createElement(Sa.i,{id:"edit-group-name",style:{width:"100%"},required:!0,value:l,ariaLabel:c._("Edit Group Name"),maxLength:tp,onChange:this.onGroupNameChange})))}}])&&Xf(n.prototype,r),a&&Xf(n,a),t}(a.Component),ap=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),comments:Qs.getActivityLog(e),commentsLoading:Qs.getGroupCommentsIsLoading(e),educatorGrade:Qs.getEducatorGrade(e),groupId:Qs.getGroupId(e),groupName:Qs.getStudentGroupName(e),result:Qs.getActivityResult(e),userId:Qe.i(e),removeSubmissionIsLoading:Qs.getRemoveSubmissionIsLoading(e),isGroupNameEditing:Qs.isGroupNameEditing(e),isSubmittable:Qs.isSubmittable(e)}}))(rp))),op=n("P04+"),ip=n("7D+u"),cp={CREATE:"create",EDIT:"edit",DELETE:"delete"},sp={OPEN:"STATUS_OPEN",CANCELED:"STATUS_CANCELLED",FINISHED:"STATUS_FINISHED"};n("ll/r");function up(e){return(up="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dp(e){return(dp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fp(e,t){return(fp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bp={deleteDialogVisible:!1,selectedMilestone:null,showMilestoneDialog:!1},yp=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=dp(t).call(this,e),n=!a||"object"!==up(a)&&"function"!==typeof a?pp(r):a,mp(pp(pp(n)),"parseUserDataForAvatar",(function(e){if(e){var t=[];return e.map((function(e){return t.push(e.firstName+" "+e.lastName)})),t}return null})),mp(pp(pp(n)),"createColumns",(function(){var e=pp(pp(n)),t=n.props,r=t.readOnly,a=t.i18n;return[{accessor:"description",className:"milestone-description",grow:!0,label:a._("Description")},{accessor:"dueDate",className:"milestone-due-date",headerClassName:"milestone-due-date-header",label:a._("Due Date"),renderer:function(e){return o.a.createElement(ip.b,{value:e[this.accessor]})}},{accessor:"assignedTo",className:"milestone-owners",headerClassName:"milestone-owners-header",label:a._("Owner(s)"),renderer:function(t){return o.a.createElement(ip.a,{value:e.parseUserDataForAvatar(t[this.accessor])})}},{accessor:"status",className:"milestone-status",headerClassName:"milestone-status-header",isCustomColumn:!0,label:a._("Status"),renderer:function(t,n){return o.a.createElement(ip.c,{enabled:!r,key:n+"_status",label:e.getMilestoneStatusLabel(t.status,n),labelClassName:"milestone-status-column-label",selectedItem:e.getMilestoneStatusIcon(t.status,n),menuItems:e.createStatusMenu(t,n)})}},{accessor:"",isCustomColumn:!0,className:"table-actions milestone-actions",label:o.a.createElement("span",{style:{visibility:"hidden"}},o.a.createElement(U.Trans,{id:"Actions"})),renderer:function(t,n){return o.a.createElement(ip.d,{key:n,menuItems:e.createActionsMenu(t,n)})}}]})),mp(pp(pp(n)),"getMilestoneStatusIcon",(function(e){return e===sp.OPEN?o.a.createElement(rm,{status:sp.OPEN}):o.a.createElement(rm,{status:sp.FINISHED})})),mp(pp(pp(n)),"getMilestoneStatusLabel",(function(e){var t=n.props.i18n;return e===sp.OPEN?t._("Open"):t._("Completed")})),mp(pp(pp(n)),"createActionsMenu",(function(e,t){var r=n.props,a=r.readOnly,i=r.i18n;return[o.a.createElement(Au.c,{key:t+"_edit",enabled:!a,data:e,onClick:n.onEditClick,leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Edit, icon")},re.a.EDIT),primaryText:i._("Edit")}),o.a.createElement(Au.c,{key:t+"_delete",enabled:!a,data:e,onClick:n.onDeleteClick,leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Delete, icon")},re.a.DELETE),primaryText:i._("Delete")})]})),mp(pp(pp(n)),"createStatusMenu",(function(e,t){var r=n.props.i18n;return[o.a.createElement(Au.c,{key:t+"_open",data:e,onClick:function(){n.onSetStatus(e,sp.OPEN)},leftIcon:o.a.createElement(rm,{status:sp.OPEN}),primaryText:r._("Open")}),o.a.createElement(Au.c,{key:t+"_submitted",data:e,onClick:function(){n.onSetStatus(e,sp.FINISHED)},leftIcon:o.a.createElement(rm,{status:sp.FINISHED}),primaryText:r._("Completed")})]})),mp(pp(pp(n)),"onEditClick",(function(e){n.setState({selectedMilestone:e,showMilestoneDialog:!0})})),mp(pp(pp(n)),"onEditCancel",(function(){n.setState({selectedMilestone:null,showMilestoneDialog:!1})})),mp(pp(pp(n)),"onEditSubmit",(function(e){var t=n.props.activityId;t=+t,uu.a.editMilestone(t,n.getRequestData(e)).then((function(){n.setState({selectedMilestone:null,showMilestoneDialog:!1})}))})),mp(pp(pp(n)),"onDeleteClick",(function(e){n.setState({deleteDialogVisible:!0,selectedMilestone:e})})),mp(pp(pp(n)),"onDeleteCancel",(function(){n.setState({deleteDialogVisible:!1,selectedMilestone:null})})),mp(pp(pp(n)),"getRequestData",(function(e){return{groupDbId:n.props.studentGroup.dbId,dbId:e.dbId,dueDate:e.dueDate,description:e.description,status:e.status,assignedTo:e.selectedUsers}})),mp(pp(pp(n)),"onDeleteSubmit",(function(){var e=n.props.activityId;e=+e;var t=Object.assign({},n.state.selectedMilestone);t.status=sp.CANCELED,t.selectedUsers=t.assignedTo.map((function(e){return+e.dbId})),uu.a.deleteMilestone(e,n.getRequestData(t)).then((function(){n.setState({deleteDialogVisible:!1,selectedMilestone:null})}))})),mp(pp(pp(n)),"onSetStatus",(function(e,t){if(e.status!==t){var r=Object.assign({},e);r.status=t,r.selectedUsers=r.assignedTo.map((function(e){return+e.dbId})),n.onEditSubmit(r)}})),mp(pp(pp(n)),"onListRowSelect",(function(e){var t=n.props.match;n.props.history.push(t.url+"/milestone/"+e.dbId)})),n.columns=n.createColumns(),n.state=bp,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fp(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.milestones,n=e.members,r=e.milestoneLoading,a=e.readOnly,i=e.i18n,c=this.state.deleteDialogVisible;return o.a.createElement("div",null,o.a.createElement(Hn.a,null,o.a.createElement(Hn.d,{title:i._("Milestones")}),o.a.createElement(Hn.c,null,t.length>0?o.a.createElement(ku.a,{columns:this.columns,className:"milestones-table",data:t,listAccessor:"description",onListRowSelect:this.onListRowSelect,tableSummary:i._("Inside a table, a list of any milestones created")}):o.a.createElement("p",{className:"card-placeholder-text"},o.a.createElement(U.Trans,{id:"Milestones will appear here after they are created."})))),!a&&this.state.showMilestoneDialog&&o.a.createElement(Qp,{members:n,mode:cp.EDIT,isLoading:r,milestone:this.state.selectedMilestone,visible:!0,onCancel:this.onEditCancel,onSubmit:this.onEditSubmit}),!a&&o.a.createElement(Hf.a,{id:"delete-milestone-dialog",title:i._("Delete Milestone"),visible:c,actions:[o.a.createElement(we.b,{id:"button-assignment-group-milestone-delete-dialog-cancel",secondary:!0,enabled:!r,onClick:this.onDeleteCancel,ariaLabel:i._("Cancel")},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{primary:!0,id:"button-assignment-group-milestone-delete-dialog-delete",isLoading:r,enabled:!r,onClick:this.onDeleteSubmit,ariaLabel:i._("Delete")},o.a.createElement(U.Trans,{id:"Delete"}))]},o.a.createElement("p",null,o.a.createElement(U.Trans,{id:"Are you sure you want to delete this milestone?"}))))}}])&&lp(n.prototype,r),a&&lp(n,a),t}(a.Component);yp.propTypes={readOnly:c.a.bool},yp.defaultProps={readOnly:!1};var vp=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),studentGroup:Qs.getStudentGroup(e),members:Qs.getGroupMembers(e),milestones:Qs.getMilestones(e),milestoneLoading:Qs.getIsMilestoneLoading(e)}}))(yp))),hp=n("xrVw");n("gVG2");function gp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ep(){return(Ep=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var wp=function(e){return o.a.createElement(hp.h,Ep({},function(e){return O.a.pick(e,Object.keys(wp.componentProps))}(e),{className:E()("ui-chip",e.className)}),e.children)};wp.componentProps={avatar:c.a.any,className:c.a.string,label:c.a.string,onClick:c.a.func,removable:c.a.bool},wp.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gp(e,t,n[t])}))}return e}({},wp.componentProps);var Op=wp;function Sp(e){return(Sp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _p(e){return(_p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ip(e,t){return(Ip=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pp={dbId:null,description:"",date:null,mode:cp.CREATE,selectedUsers:[],status:sp.OPEN,submitEnabled:!1,time:null,dateError:"",timeError:"",dateTimeMessage:"",descriptionError:""},Ap=Object(U.i18nMark)("This field is required."),Np=Object(U.i18nMark)("The selected date and time is in the past."),jp=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=_p(t).call(this,e),n=!a||"object"!==Sp(a)&&"function"!==typeof a?Tp(r):a,Rp(Tp(Tp(n)),"onRemoveOwner",(function(e){var t=n.state.selectedUsers,r=O.a.remove(t,(function(t){return t!==e.dbId}));n.updateState({selectedUsers:r})})),Rp(Tp(Tp(n)),"getSelectedUsersChip",(function(){var e=n.state.selectedUsers,t=n.props.enabled,r=[];if(e)for(var a=function(a){var i=n.props.members[a];e.indexOf(i.dbId)>-1&&r.push(o.a.createElement(Op,{key:"owner_chip"+i.dbId,removable:t,onClick:function(){t&&n.onRemoveOwner(i)},label:i.firstName+" "+i.lastName,value:i.dbId}))},i=0;i<n.props.members.length;i++)a(i);return r})),Rp(Tp(Tp(n)),"generateSelectMenuItems",(function(){for(var e=n.state.selectedUsers,t=n.props.members,r=[],a=0;a<t.length;a++){var o=t[a];e&&e.indexOf(o.dbId)>=0||r.push({value:o.dbId,label:o.firstName+" "+o.lastName})}return r})),Rp(Tp(Tp(n)),"createStatusMenu",(function(e,t){var r=n.props.i18n;return[{key:t+"_open",data:e,onClick:function(){n.onSetStatusOpen(e)},leftIcon:o.a.createElement(rm,{status:sp.OPEN}),label:r._("Open")},{key:t+"_submitted",data:e,onClick:function(){n.onSetStatusCompleted(e)},leftIcon:o.a.createElement(rm,{status:sp.FINISHED}),label:r._("Completed")}]})),Rp(Tp(Tp(n)),"onPropertyChange",(function(){var e=Object.assign({},n.state);e.date&&e.time&&(e.dueDate=Object(Pf.m)(Object(Pf.b)(e.date,e.time))),e.date&&(e.date=Object(Pf.m)(e.date)),e.time&&(e.time=Object(Pf.m)(e.time)),e.assignedTo=e.selectedUsers,n.props.onChange(e,n.isValid())})),Rp(Tp(Tp(n)),"isValid",(function(){var e=n.state,t=e.description,r=e.descriptionError,a=e.date,o=e.dateError,i=e.time,c=e.timeError,s=e.selectedUsers;return!(!t||t.trim().length<1)&&(!(!a||!i)&&(!(!s||s.length<1)&&!(r||o||c)))})),Rp(Tp(Tp(n)),"updateState",(function(e){n.setState(e,(function(){n.onPropertyChange()}))})),Rp(Tp(Tp(n)),"onDescriptionChange",(function(e){var t="";0===e.trim().length&&(t=Ap),n.updateState({description:e,descriptionError:t})})),Rp(Tp(Tp(n)),"onDateChange",(function(e,t){var r="";t?n.validateDateTime(t,n.state.time):r=Ap,n.updateState({date:t,dateError:r})})),Rp(Tp(Tp(n)),"onTimeChange",(function(e,t){var r="";t?n.validateDateTime(n.state.date,t):r=Ap,n.updateState({time:t,timeError:r})})),Rp(Tp(Tp(n)),"validateDateTime",(function(e,t){var r=null;e&&(t?Object(Pf.b)(e,t)<new Date&&(r=Np):Object(Pf.g)(e)<Object(Pf.g)(new Date)&&(r=Np));n.updateState({dateTimeMessage:r})})),Rp(Tp(Tp(n)),"onStatusChange",(function(e){n.updateState({status:e})})),Rp(Tp(Tp(n)),"onUsersChange",(function(e){var t=n.state.selectedUsers,r=O.a.clone(t);r.push(e),n.updateState({selectedUsers:r})})),Rp(Tp(Tp(n)),"loadMilestone",(function(e){if(e){var t={dbId:e.dbId,description:e.description,status:e.status,selectedUsers:[]};e.dueDate?(t.date=new Date(1e3*e.dueDate),t.time=new Date(1e3*e.dueDate)):(e.date&&(t.date=new Date(1e3*e.date)),e.time&&(t.time=new Date(1e3*e.time))),e.assignedTo&&(t.selectedUsers=e.assignedTo.map((function(e){return e instanceof Object?e.dbId:e}))),n.setState(t)}else n.updateState(Pp)}));var i=e.i18n;return n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Rp(e,t,n[t])}))}return e}({},Pp),Ap=i._(Ap),Np=i._(Np),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ip(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.milestone;e&&this.loadMilestone(e)}},{key:"render",value:function(){var e=this.props,t=e.enabled,n=e.showStatus,r=e.i18n,a=this.state,i=a.description,c=a.descriptionError,s=a.date,u=a.dateError,l=a.dateTimeMessage,d=a.time,f=a.timeError,p=a.selectedUsers,m=a.status,b=[{value:sp.OPEN,label:r._("Open")},{value:sp.FINISHED,label:r._("Completed")}],y=this.generateSelectMenuItems(p);return o.a.createElement("div",{className:"milestone-form"},o.a.createElement(Sa.i,{id:"milestone-description-textfield",enabled:t,errorText:c,style:{width:"100%"},label:r._("Description"),value:i,onChange:this.onDescriptionChange,ariaLabel:r._("Description")}),o.a.createElement(Sa.b,{id:"milestone-date-input",enabled:t,errorText:u,style:{width:"100%"},textFieldStyle:{width:"100%"},label:r._("Milestone Date"),value:s,showIcon:!1,inDialog:!0,onChange:this.onDateChange}),o.a.createElement(Sa.k,{id:"milestone-time-input",enabled:t,errorText:f,style:{width:"100%"},textFieldStyle:{width:"100%"},label:r._("Milestone Time"),value:d,showIcon:!1,inDialog:!0,onChange:this.onTimeChange}),l&&o.a.createElement(Dc.b,{className:"milestone-datetime-message",type:Dc.a.INFO,message:Np,contentInheritsStatusColor:!0}),n?o.a.createElement(Sa.e,{id:"owner-selectfield",enabled:t,label:r._("Status"),ariaLabel:r._("Status"),placeholder:r._("Status"),onChange:this.onStatusChange,value:m,menuItems:b}):null,o.a.createElement("div",{className:"owner-selection-container"},y&&y.length>0&&o.a.createElement(Sa.e,{id:"owner-selectfield",enabled:t,label:r._("Select Owners"),ariaLabel:r._("Select Owners"),placeholder:"",onChange:this.onUsersChange,value:"",menuItems:this.generateSelectMenuItems(p)}),o.a.createElement("div",{className:"owner-selection-chips"},this.getSelectedUsersChip())))}}])&&Cp(n.prototype,r),a&&Cp(n,a),t}(a.Component);jp.defaultProps={enabled:!0,showStatus:!1},jp.propTypes={enabled:c.a.bool,members:c.a.array.isRequired,milestone:c.a.any,showStatus:c.a.bool};var kp=Object(U.withI18n)()(jp);function Dp(e){return(Dp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mp(e){return(Mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xp(e,t){return(xp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Up(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vp="milestone-dialog",Gp=Object(U.i18nMark)("Create Milestone"),qp=Object(U.i18nMark)("Edit Milestone"),Bp={tmpMilestone:null,submitEnabled:!1},Wp=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Mp(t).call(this,e),n=!a||"object"!==Dp(a)&&"function"!==typeof a?Fp(r):a,Up(Fp(Fp(n)),"onSubmit",(function(){n.props.onSubmit(n.state.tmpMilestone)})),Up(Fp(Fp(n)),"onMilestoneFormChange",(function(e,t){n.setState({tmpMilestone:e,submitEnabled:t})})),Up(Fp(Fp(n)),"shouldComponentUpdate",(function(e,t){return t.submitEnabled!==n.state.submitEnabled||e.visible!==n.props.visible||e.isLoading!==n.props.isLoading})),Up(Fp(Fp(n)),"getDialogComponent",(function(e){var t=n.props,r=t.mode,a=t.visible,i=t.onCancel,c=t.isLoading,s=t.i18n,u=n.state.submitEnabled,l=r===cp.CREATE?s._(Gp):s._(qp),d=[o.a.createElement(we.b,{id:"button-assignment-group-milestone-edit-dialog-cancel",secondary:!0,key:"milestone-dialog-action-cancel",ariaLabel:s._("Cancel"),enabled:!c,onClick:i},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-assignment-group-milestone-edit-dialog-submit",primary:!0,key:"milestone-dialog-action-submit",ariaLabel:s._("Submit"),enabled:u&&!c,isLoading:c,onClick:n.onSubmit},o.a.createElement(U.Trans,{id:"Submit"}))];return o.a.createElement(Hf.a,{actions:d,contentStyle:{width:"100%"},dialogClassName:E()("milestone-dialog",e?"mobile-dialog":null),fullPage:e,hasMobileCloseButton:!1,id:Vp,modal:!0,title:l,visible:a},o.a.createElement(kp,{enabled:!c,members:n.props.members,milestone:n.state.tmpMilestone,onChange:n.onMilestoneFormChange}))})),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Up(e,t,n[t])}))}return e}({},Bp,{tmpMilestone:e.milestone?O.a.merge({},e.milestone):null}),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xp(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F.a,{query:"(min-width: 551px)"},this.getDialogComponent(!1)),o.a.createElement(F.a,{query:"(max-width: 550px)"},this.getDialogComponent(!0)))}}])&&Lp(n.prototype,r),a&&Lp(n,a),t}(a.Component);Wp.propTypes={members:c.a.array.isRequired,milestone:c.a.any,isLoading:c.a.bool.isRequired,mode:c.a.string.isRequired,onCancel:c.a.func,onSubmit:c.a.func};var Qp=Object(U.withI18n)()(Wp);function Yp(e){return(Yp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hp(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function zp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kp(e){return(Kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xp(e,t){return(Xp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $p={visible:!0,loading:!1},em=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Kp(t).call(this,e),n=!a||"object"!==Yp(a)&&"function"!==typeof a?Jp(r):a,Zp(Jp(Jp(n)),"onCancel",(function(){var e=n.props.onCancel;n.setState({visible:!1},(function(){e(),dt.a.closeModal()}))})),Zp(Jp(Jp(n)),"onSubmit",(function(e){n.setState({loading:!0},(function(){n.submit(e)}))})),Zp(Jp(Jp(n)),"submit",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c,s,u,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dueDate,a=t.description,o=t.selectedUsers,i=t.status,c=n.props,s=c.studentGroup.dbId,u=c.activityId,l=c.onComplete,u=+u,d={groupDbId:s,dbId:s,dueDate:r,description:a,status:i,assignedTo:o?o.map((function(e){return+e})):[]},e.prev=4,e.next=7,uu.a.createMilestone(u,d);case 7:n.setState({loading:!1},(function(){l(),dt.a.closeModal()})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),n.setState({loading:!1});case 13:case"end":return e.stop()}}),e,this,[[4,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Hp(o,r,a,i,c,"next",e)}function c(e){Hp(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Zp(e,t,n[t])}))}return e}({},$p),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xp(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.mode,n=e.members,r=this.state,a=r.loading;return r.visible?o.a.createElement(Qp,{isLoading:a,members:n,mode:t,milestone:null,visible:!0,onCancel:this.onCancel,onSubmit:this.onSubmit}):null}}])&&zp(n.prototype,r),a&&zp(n,a),t}(o.a.PureComponent);em.propTypes={activityId:c.a.number.isRequired,mode:c.a.oneOf([cp.CREATE,cp.EDIT]).isRequired,onCancel:c.a.func,onComplete:c.a.func},em.defaultProps={onCancel:function(){},onComplete:function(){}};var tm=Object(U.withI18n)()(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),members:Qs.getGroupMembers(e),studentGroup:Qs.getStudentGroup(e)}}))(em));function nm(e){var t=e.status,n=e.i18n;return sp.OPEN===t?o.a.createElement(Oe.a,{className:"milestone-status-open",ariaLabel:n._("Milestone Open, icon")},re.a.MILESTONE_OPEN):sp.FINISHED===t?o.a.createElement(Oe.a,{className:"milestone-status-completed",ariaLabel:n._("Milestone Completed, icon")},re.a.MILESTONE_COMPLETED):null}nm.propTypes={status:c.a.oneOf([sp.FINISHED,sp.OPEN]).isRequired};var rm=Object(U.withI18n)()(nm);function am(e){return(am="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function im(e){return(im=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cm(e,t){return(cm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function um(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lm={editing:!1,deleteDialogVisible:!1,saveEnabled:!1,tmpMilestone:null},dm=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=im(t).call(this,e),n=!a||"object"!==am(a)&&"function"!==typeof a?sm(r):a,um(sm(sm(n)),"onBackClick",(function(){n.props.history.replace(n.props.parentUrl)})),um(sm(sm(n)),"findMilestoneById",(function(e){var t=e.match.params.milestoneId,n=e.milestones,r=O.a.find(n,{dbId:+t});return O.a.clone(r)})),um(sm(sm(n)),"onSubmit",(function(){n.props.onSubmit(n.state.tmpMilestone)})),um(sm(sm(n)),"onMilestoneFormChange",(function(e,t){n.setState({tmpMilestone:e,saveEnabled:t})})),um(sm(sm(n)),"onEditClick",(function(){n.setState({editing:!0})})),um(sm(sm(n)),"onEditCancel",(function(){n.setState({tmpMilestone:n.findMilestoneById(n.props),editing:!1})})),um(sm(sm(n)),"onSave",(function(){var e=n.props.studentGroup.dbId,t=n.state.tmpMilestone,r={groupDbId:e,dbId:t.dbId,dueDate:t.dueDate,description:t.description,status:t.status,assignedTo:t.selectedUsers};n.submitMilestoneEdit(r)})),um(sm(sm(n)),"submitMilestoneEdit",(function(e){var t=n.props.activityId;t=+t,uu.a.editMilestone(t,e).then((function(){n.setState({editing:!1})}))})),um(sm(sm(n)),"onDeleteClick",(function(){n.setState({deleteDialogVisible:!0})})),um(sm(sm(n)),"onDeleteCancel",(function(){n.setState({deleteDialogVisible:!1})})),um(sm(sm(n)),"onDeleteSubmit",(function(){var e=n.props,t=e.match.params.milestoneId,r=e.milestones,a=e.activityId,o=O.a.find(r,{dbId:+t}),i=Object.assign({},o);i.status=sp.CANCELED,i.assignedTo=i.assignedTo.map((function(e){return+e.dbId})),a=+a,uu.a.deleteMilestone(a,i).then((function(){n.setState({deleteDialogVisible:!1,tmpMilestone:null})}))})),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){um(e,t,n[t])}))}return e}({},lm,{tmpMilestone:n.findMilestoneById(e)}),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cm(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.editing,n=e.deleteDialogVisible,r=e.tmpMilestone,a=e.saveEnabled,i=this.props,c=i.members,s=i.milestoneIsLoading,u=i.readOnly,l=i.i18n,d=i.parentUrl;if(!r)return o.a.createElement(y.a,{to:d});var f=o.a.createElement(we.d,{id:"button-assignment-group-milestones-goto-assignment",ariaLabel:l._("Go to assignment"),onClick:this.onBackClick},re.a.BACK),p=[o.a.createElement(we.d,{id:"button-assignment-group-milestones-edit",ariaLabel:l._("Edit"),enabled:!t&&!s&&!u,onClick:this.onEditClick},re.a.EDIT),o.a.createElement(we.d,{id:"button-assignment-group-milestones-delete",ariaLabel:l._("Delete"),enabled:!s&&!u,onClick:this.onDeleteClick},re.a.DELETE)],m=[o.a.createElement(we.b,{id:"button-assignment-group-milestone-delete-dialog-cancel",secondary:!0,ariaLabel:l._("Cancel"),enabled:!s,onClick:this.onDeleteCancel},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-assignment-group-milestone-delete-dialog-delete",primary:!0,ariaLabel:l._("Delete"),isLoading:s,enabled:!s,onClick:this.onDeleteSubmit},o.a.createElement(U.Trans,{id:"Delete"}))];return o.a.createElement("div",{className:"milestone-page"},o.a.createElement(Ms.a,{className:"page-toolbar",nav:f,title:l._("Milestone"),actions:p}),o.a.createElement("div",{className:"milestone-page-form md-toolbar-relative"},o.a.createElement(kp,{enabled:t,members:c,milestone:r,onChange:this.onMilestoneFormChange,showStatus:!0})),t?o.a.createElement(Nu.a,{zDepth:1,className:"milestone-page-actions"},o.a.createElement(we.b,{id:"button-assignment-group-milestone-edit-dialog-cancel",secondary:!0,ariaLabel:l._("Cancel"),enabled:!s,onClick:this.onEditCancel},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-assignment-group-milestone-edit-dialog-save",primary:!0,ariaLabel:l._("Save"),onClick:this.onSave,isLoading:s,enabled:a&&!s},o.a.createElement(U.Trans,{id:"Save"}))):null,o.a.createElement(Hf.a,{id:"delete-milestone-dialog",title:l._("Delete Milestone"),visible:n,actions:m},o.a.createElement("p",null,o.a.createElement(U.Trans,{id:"Are you sure you want to delete this milestone?"}))))}}])&&om(n.prototype,r),a&&om(n,a),t}(a.Component);dm.propTypes={parentUrl:c.a.string.isRequired,readOnly:c.a.bool},dm.defaultProps={readOnly:!1};var fm=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),studentGroup:Qs.getStudentGroup(e),members:Qs.getGroupMembers(e),milestones:Qs.getMilestones(e),milestoneIsLoading:Qs.getIsMilestoneLoading(e)}}))(dm))),pm=n("/W66"),mm=n("zyHd");n("++Rr");function bm(e){return(bm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vm(e){return(vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hm(e,t){return(hm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Em(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wm={meetingDialogErrors:[],deleteDialogVisible:!1,selectedMeeting:null,showMeetingDialog:!1},Om=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=vm(t).call(this,e),n=!a||"object"!==bm(a)&&"function"!==typeof a?gm(r):a,Em(gm(gm(n)),"createColumns",(function(){var e=gm(gm(n)),t=n.props.i18n;return[{accessor:"title",className:"meeting-title",grow:!0,label:t._("Title")},{accessor:"scheduledAt",className:"meeting-scheduled-at",label:t._("Date"),renderer:function(e){return o.a.createElement(ip.b,{value:e[this.accessor]})}},{accessor:"owner",className:"wip-owners",label:t._("Owner"),renderer:function(e){return o.a.createElement(ip.a,{value:e[this.accessor].firstName+" "+e[this.accessor].lastName})}},{accessor:"",isCustomColumn:!0,className:"table-actions meeting-actions",label:o.a.createElement("span",{style:{visibility:"hidden"}},o.a.createElement(U.Trans,{id:"Actions"})),renderer:function(t,n){return o.a.createElement(ip.d,{key:n,menuItems:e.createActionsMenu(t,n)})}}]})),Em(gm(gm(n)),"createActionsMenu",(function(e,t){var r=n.props,a=r.readOnly,i=r.i18n,c=e.status===Bt.SCHEDULED||e.status===Bt.NOT_HELD;return[o.a.createElement(Au.c,{key:t+"_launch",enabled:!!e.lobbyPageUrl,data:e,onClick:n.onRowLaunch,leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Launch, icon")},re.a.EXIT),primaryText:i._("Launch")}),o.a.createElement(Au.c,{key:t+"_externalLink",enabled:!!e.anonymousInvitationUrl,data:e,onClick:function(){n.onCopyExternalLink(e.anonymousInvitationUrl)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Copy External Link, icon")},re.a.LINK),primaryText:i._("Copy External Link")}),o.a.createElement(pm.a,{key:"menu_item_divider[edit-meeting]"}),o.a.createElement(Au.c,{key:t+"_edit",enabled:!a&&c&&!n.props.lmsLocked,data:e,onClick:n.onRowEdit,leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Edit, icon")},re.a.EDIT),primaryText:i._("Edit")}),o.a.createElement(Au.c,{key:t+"_delete",enabled:!a&&c&&!n.props.lmsLocked,data:e,onClick:n.onRowDelete,leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Delete, icon")},re.a.DELETE),primaryText:i._("Delete")})]})),Em(gm(gm(n)),"onRowEdit",(function(e){n.setState({selectedMeeting:e,showMeetingDialog:!0})})),Em(gm(gm(n)),"onRowLaunch",(function(e){var t=n.props.userType,r=n.props,a=r.history,o=r.match.params.classId,i=t===Br.a.EDUCATOR?In.f.EDUCATOR_COURSE_MEETING:In.f.STUDENT_COURSE_MEETING,c=Object(y.f)(i,{classId:o,meetingId:e.dbId}),s=a.createHref({pathname:c});window.open(s,"bongo-meeting[".concat(e.dbId,"]"))})),Em(gm(gm(n)),"onCopyExternalLink",(function(e){Object(Se.a)(e)})),Em(gm(gm(n)),"onEditCancel",(function(){n.setState({meetingDialogErrors:[],selectedMeeting:null,showMeetingDialog:!1})})),Em(gm(gm(n)),"onRowDelete",(function(e){n.setState({deleteDialogVisible:!0,selectedMeeting:e})})),Em(gm(gm(n)),"onDeleteCancel",(function(){n.setState({deleteDialogVisible:!1,selectedMeeting:null})})),Em(gm(gm(n)),"onEditSubmit",(function(e){var t=e.scheduledAt,r=e.title,a={dbId:e.dbId,title:r,scheduledAt:t};uu.a.editMeeting(a).then((function(){n.setState({showMeetingDialog:!1,meetingDialogErrors:[]})})).catch((function(e){n.setMeetingErrors(e)}))})),Em(gm(gm(n)),"setMeetingErrors",(function(e){for(var t=n.props.i18n,r=[],a=0;a<e.length;a++){var o=e[a];if(o&&o.messages)for(var i=o.messages,c=0;c<i.length;c++){var s=i[c];s&&O.a.startsWith(s,"validators.bbb_meeting.scheduled_at.already_scheduled")&&r.push(t._("There is another meeting already scheduled which has a start time within 2 hours of this meeting. Please choose a different meeting time."))}}n.setState({meetingDialogErrors:r})})),Em(gm(gm(n)),"onDeleteSubmit",(function(){var e=n.state.selectedMeeting;uu.a.cancelMeeting(+e.dbId).then((function(){n.setState({deleteDialogVisible:!1,selectedMeeting:null})}))})),Em(gm(gm(n)),"onListRowSelect",(function(e){var t=n.props.match;n.props.history.push(t.url+"/meeting/"+e.dbId)})),n.columns=n.createColumns(),n.state=wm,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hm(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.deleteDialogVisible,n=e.meetingDialogErrors,r=this.props,a=r.resultPartials,i=r.meetingIsLoading,c=r.i18n,s=mm.a.getMeetingsNotFinalizedPartials(a);return(s=s.filter((function(e){return!(e.status===Bt.PROCESSED&&!e.media)})))&&0!==s.length?o.a.createElement("div",null,o.a.createElement(Hn.a,{className:"card-01"},o.a.createElement(Hn.d,{title:c._("Scheduled Meetings")}),o.a.createElement(Hn.c,null,o.a.createElement(ku.a,{columns:this.columns,className:"meeting-table",data:s,listAccessor:"title",onListRowSelect:this.onListRowSelect,tableSummary:c._("Inside a table, a list of any scheduled meetings")}))),this.state.showMeetingDialog&&o.a.createElement(zm,{mode:cp.EDIT,meeting:this.state.selectedMeeting,isLoading:i,onCancel:this.onEditCancel,onSubmit:this.onEditSubmit,visible:!0,errorMessages:n}),o.a.createElement(Hf.a,{id:"delete-meeting-dialog",title:c._("Delete Meeting"),visible:t,actions:[o.a.createElement(we.b,{id:"button-delete-meeting-dialog-cancel",key:"delete-meeting-dialog-cancel",secondary:!0,enabled:!i,onClick:this.onDeleteCancel,ariaLabel:c._("Cancel")},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-delete-meeting-dialog-delete",key:"delete-meeting-dialog-confirm",primary:!0,isLoading:i,enabled:!i,onClick:this.onDeleteSubmit,ariaLabel:c._("Delete")},o.a.createElement(U.Trans,{id:"Delete"}))]},o.a.createElement("p",{className:"card-placeholder-text"},o.a.createElement(U.Trans,{id:"Are you sure you want to delete this meeting?"})))):null}}])&&ym(n.prototype,r),a&&ym(n,a),t}(a.Component);Om.propTypes={readOnly:c.a.bool,userType:c.a.string,match:c.a.object.isRequired,history:c.a.object.isRequired},Om.defaultProps={readOnly:!1,userType:Br.a.STUDENT};var Sm=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{resultPartials:Qs.getResultPartials(e),lmsLocked:Qs.getLmsLocked(e),activityId:Qs.getActivityId(e),meetingIsLoading:Qs.getIsMeetingLoading(e)}}))(Om)));function Cm(e){return(Cm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Im(e){return(Im=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tm(e,t){return(Tm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Am={dbId:null,mode:cp.CREATE,title:"",date:null,time:null,submitEnabled:!1,dateError:null,timeError:null,titleError:null},Nm=Object(U.i18nMark)("This field is required."),jm=Object(U.i18nMark)("Date can't be in the past."),km=Object(U.i18nMark)("Time can't be in the past."),Dm=5,Lm=3e3,Mm=50,xm=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Im(t).call(this,e),n=!a||"object"!==Cm(a)&&"function"!==typeof a?Rm(r):a,Pm(Rm(Rm(n)),"startInterval",(function(){clearInterval(n.timer),n.timer=setInterval((function(){var e=n.state,t=e.date,r=e.time;if(t&&r){var a=Object(Pf.b)(t,r),o=n.testDateTime(a);n.state.timeError!==o&&n.updateState({timeError:o})}}),Lm)})),Pm(Rm(Rm(n)),"onPropertyChange",(function(){var e=Object.assign({},n.state);e.date&&e.time&&(e.scheduledAt=Object(Pf.m)(Object(Pf.b)(e.date,e.time))),e.date&&(e.date=Object(Pf.m)(e.date)),e.time&&(e.time=Object(Pf.m)(e.time)),n.props.onChange(e,n.isValid())})),Pm(Rm(Rm(n)),"isValid",(function(){var e=n.state,t=e.title,r=e.titleError,a=e.date,o=e.dateError,i=e.time,c=e.timeError;return!!(t.length>0&&a&&i)&&!!!(o&&c&&r)})),Pm(Rm(Rm(n)),"testDateTime",(function(e){var t=n.props.i18n,r=null;return e<new Date?r=t._(km):(e.getTime()-(new Date).getTime())/1e3/60<Dm&&(r=t._("Meeting start time must be at least {MEETING_THRESHOLD_MINUTES} minutes from now.",{MEETING_THRESHOLD_MINUTES:Dm})),r})),Pm(Rm(Rm(n)),"updateState",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.setState(e,(function(){t&&n.onPropertyChange()}))})),Pm(Rm(Rm(n)),"onTitleChange",(function(e){var t=n.props.i18n,r=null;0===e.trim().length?r=t._(Nm):e.trim().length>Mm&&(r=t._("Exceeds {MAX_TITLE_LENGTH} characters.",{MAX_TITLE_LENGTH:Mm})),n.updateState({title:e,titleError:r})})),Pm(Rm(Rm(n)),"onDateChange",(function(e,t){var r=n.props.i18n,a=null;t?Object(Pf.g)(t)<Object(Pf.g)(new Date)&&(a=r._(jm)):a=r._(Nm),n.updateState({date:t,dateError:a})})),Pm(Rm(Rm(n)),"onTimeChange",(function(e,t){var r=n.props.i18n,a=null;if(t){if(n.state.date){var o=Object(Pf.b)(n.state.date,t);a=n.testDateTime(o)}}else a=r._(Nm);n.updateState({time:t,timeError:a})})),Pm(Rm(Rm(n)),"loadMeetingFromProps",(function(e){if(e.meeting){var t={dbId:e.meeting.dbId,title:e.meeting.title};e.meeting.scheduledAt?(t.date=new Date(1e3*e.meeting.scheduledAt),t.time=new Date(1e3*e.meeting.scheduledAt)):(e.meeting.date&&(t.date=new Date(1e3*e.meeting.date)),e.meeting.time&&(t.time=new Date(1e3*e.meeting.time))),n.setState(t)}else n.updateState(Am,!1)})),Pm(Rm(Rm(n)),"UNSAFE_componentWillReceiveProps",(function(e){e?n.loadMeetingFromProps(e):n.setState(Am)})),n.state=Am,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tm(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.props.meeting&&this.loadMeetingFromProps(this.props)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.enabled,n=e.i18n,r=this.state,a=r.title,i=r.date,c=r.time,s=r.dateError,u=r.timeError,l=r.titleError;return t&&!this.timer&&this.startInterval(),o.a.createElement("div",{className:"meeting-form"},o.a.createElement(Sa.i,{id:"meeting-title",enabled:t,maxLength:Mm,required:!0,errorText:l,label:n._("Title"),onChange:this.onTitleChange,style:{width:"100%"},value:a,ariaLabel:n._("Title")}),o.a.createElement(Sa.b,{id:"meeting-date-input",enabled:t,errorText:s,label:n._("Meeting Date"),onChange:this.onDateChange,style:{width:"100%"},textFieldStyle:{width:"100%"},showIcon:!1,inDialog:!0,value:i}),o.a.createElement(Sa.k,{id:"meeting-time-input",enabled:t,errorText:u,label:n._("Meeting Time"),onChange:this.onTimeChange,style:{width:"100%"},textFieldStyle:{width:"100%"},showIcon:!1,inDialog:!0,value:c}))}}])&&_m(n.prototype,r),a&&_m(n,a),t}(a.Component);xm.defaultProps={enabled:!0},xm.propTypes={enabled:c.a.bool,meeting:c.a.any};var Fm=Object(U.withI18n)()(xm);function Um(e){return(Um="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Qm(e,t,n[t])}))}return e}function Gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qm(e){return(qm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bm(e,t){return(Bm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ym={isDirty:!1,submitEnabled:!1,tmpMeeting:null},Hm=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=qm(t).call(this,e),n=!a||"object"!==Um(a)&&"function"!==typeof a?Wm(r):a,Qm(Wm(Wm(n)),"onSubmit",(function(){n.props.onSubmit(n.state.tmpMeeting)})),Qm(Wm(Wm(n)),"onMeetingFormChange",(function(e,t){n.setState({tmpMeeting:e,submitEnabled:t,isDirty:!0})})),Qm(Wm(Wm(n)),"UNSAFE_componentWillReceiveProps",(function(e){e.isLoading||n.state.isDirty||n.setState({tmpMeeting:e.meeting})})),Qm(Wm(Wm(n)),"getErrorMessages",(function(){var e=n.props.errorMessages;if(!e||0===e.length)return null;var t=e.map((function(e,t){return o.a.createElement("p",{key:"meeting-dialog-error-message["+t+"]"},e)}));return o.a.createElement(Dc.b,{className:"meeting-dialog-errors",type:Dc.a.ERROR},t)})),Qm(Wm(Wm(n)),"onCancel",(function(){n.setState(Vm({},Ym),n.props.onCancel)})),Qm(Wm(Wm(n)),"getDialogComponent",(function(e){var t=n.props,r=t.mode,a=t.visible,i=t.isLoading,c=t.i18n,s=n.state.submitEnabled,u=r===cp.CREATE?c._("Create Meeting"):c._("Edit Meeting"),l=[o.a.createElement(we.b,{id:"button-edit-meeting-dialog-cancel",key:"meeting-dialog-action-cancel",ariaLabel:c._("Cancel"),enabled:!i,secondary:!0,onClick:n.onCancel},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-edit-meeting-dialog-submit",key:"meeting-dialog-action-submit",ariaLabel:c._("Submit"),isLoading:i,enabled:s&&!i,primary:!0,onClick:n.onSubmit},o.a.createElement(U.Trans,{id:"Submit"}))];return o.a.createElement(Hf.a,{actions:l,contentStyle:{width:"100%"},dialogClassName:E()("meeting-dialog",e?"mobile-dialog":null),fullPage:e,hasMobileCloseButton:!1,id:"meeting-dialog",modal:!0,title:u,visible:a},o.a.createElement(Fm,{meeting:n.state.tmpMeeting,enabled:!i,onChange:n.onMeetingFormChange}),n.getErrorMessages())})),n.state=Vm({},Ym,{tmpMeeting:e.meeting}),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bm(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F.a,{query:"(min-width: 551px)"},this.getDialogComponent(!1)),o.a.createElement(F.a,{query:"(max-width: 550px)"},this.getDialogComponent(!0)))}}])&&Gm(n.prototype,r),a&&Gm(n,a),t}(a.Component);Hm.propTypes={errorMessages:c.a.array,isLoading:c.a.bool.isRequired,mode:c.a.string.isRequired,onCancel:c.a.func,onSubmit:c.a.func},Hm.defaultProps={errorMessages:[]};var zm=Object(U.withI18n)()(Hm);function Km(e){return(Km="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xm(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Jm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zm(e){return(Zm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $m(e,t){return($m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nb={visible:!0,loading:!1,meetingDialogErrors:[]},rb=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Zm(t).call(this,e),n=!a||"object"!==Km(a)&&"function"!==typeof a?eb(r):a,tb(eb(eb(n)),"onCancel",(function(){var e=n.props.onCancel;n.setState({visible:!1},(function(){e(),dt.a.closeModal()}))})),tb(eb(eb(n)),"onSubmit",(function(e){n.setState({loading:!0},(function(){n.submitMeeting(e)}))})),tb(eb(eb(n)),"submitMeeting",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.scheduledAt,a=t.title,o=n.props,i=o.activityId,c=o.onComplete,i=+i,s={title:a,scheduledAt:r},e.prev=4,e.next=7,uu.a.createMeeting(i,s);case 7:n.setState({meetingDialogErrors:[],loading:!1},(function(){c(),dt.a.closeModal()})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),n.setMeetingErrors(e.t0),n.setState({loading:!1});case 14:case"end":return e.stop()}}),e,this,[[4,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Xm(o,r,a,i,c,"next",e)}function c(e){Xm(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),tb(eb(eb(n)),"setMeetingErrors",(function(e){for(var t=n.props.i18n,r=[],a=0;a<e.length;a++){var o=e[a];if(o&&o.messages)for(var i=o.messages,c=0;c<i.length;c++){var s=i[c];s&&O.a.startsWith(s,"validators.bbb_meeting.scheduled_at.already_scheduled")&&r.push(t._("There is another meeting already scheduled which has a start time within 2 hours of this meeting. Please choose a different meeting time."))}}n.setState({meetingDialogErrors:r})})),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){tb(e,t,n[t])}))}return e}({},nb),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$m(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityId,n=e.mode,r=this.state,a=r.loading,i=r.meetingDialogErrors;return r.visible?o.a.createElement(zm,{activityId:t,visible:!0,mode:n,onCancel:this.onCancel,isLoading:a,onSubmit:this.onSubmit,errorMessages:i}):null}}])&&Jm(n.prototype,r),a&&Jm(n,a),t}(o.a.PureComponent);rb.propTypes={activityId:c.a.number.isRequired,mode:c.a.oneOf([cp.CREATE,cp.EDIT]).isRequired,onCancel:c.a.func,onComplete:c.a.func},rb.defaultProps={onCancel:function(){},onComplete:function(){}};var ab=Object(U.withI18n)()(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e)}}))(rb));function ob(e){return(ob="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cb(e){return(cb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sb(e,t){return(sb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ub(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var db={editing:!1,deleteDialogVisible:!1,saveEnabled:!1,tmpMeeting:null},fb=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=cb(t).call(this,e),n=!a||"object"!==ob(a)&&"function"!==typeof a?ub(r):a,lb(ub(ub(n)),"setMeeting",(function(e){n.setState({tmpMeeting:e})})),lb(ub(ub(n)),"findMeetingById",(function(e){var t=e.resultPartials,n=e.match.params.meetingId,r=mm.a.getMeetingsNotFinalizedPartials(t),a=O.a.find(r,{dbId:+n});return O.a.clone(a)})),lb(ub(ub(n)),"onMeetingFormChange",(function(e,t){n.setState({tmpMeeting:e,saveEnabled:t})})),lb(ub(ub(n)),"onEditClick",(function(){n.setState({editing:!0})})),lb(ub(ub(n)),"onEditCancel",(function(){n.setState({tmpMeeting:n.findMeetingById(n.props),editing:!1})})),lb(ub(ub(n)),"onSave",(function(){var e=n.state.tmpMeeting;uu.a.editMeeting(e).then((function(){n.setState({deleteDialogVisible:!1,editing:!1})}))})),lb(ub(ub(n)),"onDeleteClick",(function(){n.setState({deleteDialogVisible:!0})})),lb(ub(ub(n)),"onDeleteCancel",(function(){n.setState({deleteDialogVisible:!1})})),lb(ub(ub(n)),"onDeleteSubmit",(function(){var e=n.state.tmpMeeting;uu.a.cancelMeeting(+e.dbId).then((function(){n.setState({deleteDialogVisible:!1,tmpMeeting:null})}))})),lb(ub(ub(n)),"onLaunchClick",(function(e){var t=n.props,r=t.history,a=t.match.params.classId,o=Object(y.f)(In.f.STUDENT_COURSE_MEETING,{classId:a,meetingId:e.dbId}),i=r.createHref({pathname:o});window.open(i,"bongo-meeting[".concat(e.dbId,"]"))})),lb(ub(ub(n)),"onCopyExternalLink",(function(e){Object(Se.a)(e)})),lb(ub(ub(n)),"getMenuActions",(function(){var e=n.props.i18n,t=n.state.tmpMeeting;if(!t)return[];var r=n.props,a=r.readOnly,i=r.meetingIsLoading,c=t.status===Bt.SCHEDULED||t.status===Bt.NOT_HELD;return[o.a.createElement(Au.c,{key:"meeting_launch",enabled:!!t.lobbyPageUrl,data:t,onClick:n.onLaunchClick,leftIcon:o.a.createElement(Oe.a,{ariaLabel:e._("Launch, icon")},re.a.EXIT),primaryText:e._("Launch")}),o.a.createElement(Au.c,{key:"meeting_externalLink",enabled:!!t.anonymousInvitationUrl,data:t,onClick:function(){n.onCopyExternalLink(t.anonymousInvitationUrl)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:e._("Copy External Link, icon")},re.a.LINK),primaryText:e._("Copy External Link")}),o.a.createElement(pm.a,{key:"menu_item_divider[delete-meeting]"}),o.a.createElement(Au.c,{key:"meeting_delete",enabled:!a&&c&&!i&&!n.props.lmsLocked,data:t,onClick:n.onDeleteClick,leftIcon:o.a.createElement(Oe.a,{ariaLabel:e._("Delete, icon")},re.a.DELETE),primaryText:e._("Delete")})]}));var i=n.findMeetingById(e);return n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lb(e,t,n[t])}))}return e}({},db,{tmpMeeting:i}),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sb(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.state,n=t.editing,r=t.deleteDialogVisible,a=t.tmpMeeting,i=t.saveEnabled,c=this.props,s=c.meetingIsLoading,u=c.readOnly,l=c.i18n,d=c.parentUrl,f=this.state.tmpMeeting;if(!f)return o.a.createElement(y.a,{to:d});var p=f.status===Bt.SCHEDULED||f.status===Bt.NOT_HELD,m=o.a.createElement(we.d,{id:"button-meeting-goto-assignment",ariaLabel:l._("Go to assignment"),onClick:function(){e.props.history.replace(d)}},re.a.BACK),b=[o.a.createElement(we.d,{id:"button-meeting-edit",ariaLabel:l._("Edit"),enabled:!n&&!s&&!u&&p&&!this.props.lmsLocked,onClick:this.onEditClick},re.a.EDIT),o.a.createElement(we.f,{id:"meeting-actions-menu",key:"meeting-actions-menu",icon:!0,className:"meeting-actions-menu",ariaLabel:l._("Menu"),menuItems:this.getMenuActions()},re.a.MENU_VERT)],v=[o.a.createElement(we.b,{id:"button-delete-meeting-dialog-cancel",secondary:!0,enabled:!s,onClick:this.onDeleteCancel,ariaLabel:l._("Cancel")},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-delete-meeting-dialog-delete",primary:!0,isLoading:s,enabled:!s,onClick:this.onDeleteSubmit,ariaLabel:l._("Delete")},o.a.createElement(U.Trans,{id:"Delete"}))];return o.a.createElement("div",{className:"meeting-page"},o.a.createElement(Ms.a,{className:"page-toolbar",nav:m,title:l._("Meeting"),actions:b}),o.a.createElement("div",{className:"meeting-page-form md-toolbar-relative"},o.a.createElement(Fm,{enabled:n,meeting:a,onChange:this.onMeetingFormChange})),n?o.a.createElement(Nu.a,{zDepth:1,className:"meeting-page-actions"},o.a.createElement(we.b,{id:"button-meeting-cancel",secondary:!0,enabled:!s,onClick:this.onEditCancel,ariaLabel:l._("Cancel")},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-meeting-save",primary:!0,onClick:this.onSave,ariaLabel:l._("Save"),isLoading:s,enabled:i&&!s},o.a.createElement(U.Trans,{id:"Save"}))):null,o.a.createElement(Hf.a,{id:"delete-meeting-dialog",title:l._("Delete Meeting"),visible:r,actions:v},o.a.createElement("p",null,o.a.createElement(U.Trans,{id:"Are you sure you want to delete this meeting?"}))))}}])&&ib(n.prototype,r),a&&ib(n,a),t}(a.Component);fb.propTypes={parentUrl:c.a.string.isRequired,readOnly:c.a.bool,match:c.a.object.isRequired,history:c.a.object.isRequired},fb.defaultProps={readOnly:!1};var pb=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),lmsLocked:Qs.getLmsLocked(e),studentGroup:Qs.getStudentGroup(e),meetingIsLoading:Qs.getIsMeetingLoading(e),resultPartials:Qs.getResultPartials(e)}}))(fb))),mb=n("YSsg"),bb=n("5id7");function yb(e){return(yb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hb(e,t){return!t||"object"!==yb(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gb(e){return(gb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eb(e,t){return(Eb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hb(this,gb(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eb(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.loading,r=e.onConfirm,a=e.title,i=e.id,c=e.className,s=e.description,u=e.cancelLabel,l=e.confirmLabel,d=e.hideOnConfirm,f=[o.a.createElement(bb.a,{id:"button-confirm-dialog-close",key:"close",secondary:!0,ariaLabel:u||t._("Cancel"),enabled:!n,onClick:dt.a.closeModal},u||t._("Cancel")),o.a.createElement(bb.a,{id:"button-confirm-dialog-confirm",key:"confirm",primary:!0,ariaLabel:l||t._("Confirm"),enabled:!n,isLoading:n,onClick:function(){r(),d&&dt.a.closeModal()}},l||t._("Confirm"))];return o.a.createElement(mb.a,{actions:f,ariaLabel:a,id:i,title:a,dialogClassName:c,modal:!0,visible:!0},s)}}])&&vb(n.prototype,r),a&&vb(n,a),t}(a.Component);wb.propTypes={hideOnConfirm:c.a.bool,className:c.a.string,cancelLabel:c.a.string,confirmLabel:c.a.string,description:c.a.any,i18n:c.a.object,id:c.a.string.isRequired,loading:c.a.bool,onConfirm:c.a.func,title:c.a.string},wb.defaultProps={hideOnConfirm:!0};var Ob=Object(U.withI18n)()(wb);function Sb(e){return(Sb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cb(){return(Cb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _b(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Ib(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_b(o,r,a,i,c,"next",e)}function c(e){_b(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rb(e){return(Rb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pb(e,t){return(Pb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ab(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jb={visible:!0,loading:!1},kb=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Rb(t).call(this,e),n=!a||"object"!==Sb(a)&&"function"!==typeof a?Ab(r):a,Nb(Ab(Ab(n)),"onConfirm",(function(){n.setState({loading:!0},(function(){n.handleCallback()}))})),Nb(Ab(Ab(n)),"handleCallback",Ib(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.onConfirm,a=t.data,e.next=3,r(a);case 3:dt.a.closeModal();case 4:case"end":return e.stop()}}),e,this)})))),Nb(Ab(Ab(n)),"getPassThroughProps",(function(){var e=n.props;return{cancelLabel:e.cancelLabel,confirmLabel:e.confirmLabel,description:e.description,id:e.id,title:e.title}})),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Nb(e,t,n[t])}))}return e}({},jb),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pb(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.loading;return e.visible?o.a.createElement(Ob,Cb({},this.getPassThroughProps(),{hideOnConfirm:!1,loading:t,visible:!0,onConfirm:this.onConfirm})):null}}])&&Tb(n.prototype,r),a&&Tb(n,a),t}(o.a.PureComponent);kb.propTypes={cancelLabel:c.a.string,confirmLabel:c.a.string,data:c.a.any,description:c.a.any.isRequired,id:c.a.string.isRequired,onConfirm:c.a.func,title:c.a.string},kb.defaultProps={onConfirm:function(){},title:""};var Db=Object(U.withI18n)()(kb),Lb=(n("BKYJ"),n("+y5T"));function Mb(e){return(Mb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xb(){return(xb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ub(e){return(Ub=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vb(e,t){return(Vb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bb=1.333,Wb=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Ub(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Mb(a)&&"function"!==typeof a?Gb(r):a,qb(Gb(Gb(n)),"getCalculatedWidth",(function(){var e=window.innerWidth,t=window.innerHeight;return e/t>Bb?.7*t*Bb:"70%"})),qb(Gb(Gb(n)),"getDialogComponent",(function(e){var t=n.props,r=t.onComplete,a=t.onCancel,i=t.activityId,c=t.mediaType,s=t.id,u=t.i18n,l=t.recorderType,d={autosizeContent:!1,containFocus:!1,contentClassName:"recorder-content",dialogClassName:"recorder-dialog",fullPage:e,hasCloseButton:!0,id:"recorder-dialog",initialFocus:"",modal:!0,onClose:a,title:u._("Record Video"),visible:!0};return o.a.createElement(Hf.a,xb({dialogStyle:{height:"auto",width:e?"auto":n.getCalculatedWidth()}},d),o.a.createElement("div",{className:"dialog-media"},o.a.createElement(fr.b,{mediaType:c,activityId:i,recorderId:s,recorderType:l,onFinish:function(e,t){a(),r(e,t)}})))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vb(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(F.a,{query:"(max-width: 550px)"},(function(t){return void 0===e._firstMediaQueryMatchResult&&(e._firstMediaQueryMatchResult=t),e.getDialogComponent(e._firstMediaQueryMatchResult)})))}}])&&Fb(n.prototype,r),a&&Fb(n,a),t}(a.Component);Wb.propTypes={activityId:c.a.number,mediaType:c.a.string.isRequired,onComplete:c.a.func,onCancel:c.a.func,i18n:c.a.object,id:c.a.string.isRequired,recorderType:c.a.oneOf(Object.values(Lb.a))},Wb.defaultProps={recorderType:Lb.a.CAMERA_ONLY,onCancel:dt.a.closeModal};var Qb=Object(U.withI18n)()(Wb),Yb=n("PXE2");n("vlAY");function Hb(e){return(Hb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kb(e){return(Kb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xb(e,t){return(Xb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Zb=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Kb(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Hb(a)&&"function"!==typeof a?Jb(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Jb(Jb(n)),"getDialogComponent",(function(e){var t=n.props,r=t.onComplete,a=t.onCancel,i=t.activityId,c=t.questionId,s=t.i18n,u=t.mediaType,l=t.showImportFromCloud,d={dialogClassName:"file-upload-dialog",fullPage:e,id:"file-upload-dialog",onClose:a,mobileFullScreen:!0,modal:!0,title:s._("Add Video"),visible:!0};return e||(d.actions=[o.a.createElement(we.b,{id:"button-video-upload-dialog-cancel",secondary:!0,ariaLabel:s._("Cancel"),onClick:a},s._("Cancel"))]),o.a.createElement(mb.a,d,o.a.createElement("div",null,o.a.createElement(Yb.a,{activityId:i,questionId:c,type:u,showImportFromCloud:l,onCloudTransferComplete:function(e){var t=e.data.uploadedFileIds;r(t),a()},onComplete:function(e){var t=e.map((function(e){return e.isProcessed?e.dbId:null}));t=O.a.compact(t),r(t),a()}})))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xb(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(F.a,{query:"(max-width: 550px)"},(function(t){return void 0===e._firstMediaQueryMatchResult&&(e._firstMediaQueryMatchResult=t),e.getDialogComponent(e._firstMediaQueryMatchResult)})))}}])&&zb(n.prototype,r),a&&zb(n,a),t}(a.Component);Zb.defaultProps={onCancel:dt.a.closeModal,onComplete:function(){},showImportFromCloud:!0},Zb.propTypes={onComplete:c.a.func,showImportFromCloud:c.a.bool,onCancel:c.a.func,activityId:c.a.number,questionId:c.a.number,mediaType:c.a.oneOf([pr.a.COMMENT,pr.a.PROFILE,pr.a.LIBRARY,pr.a.ACTIVITY_RESULT,pr.a.ACTIVITY_FEEDBACK]).isRequired};var $b=Object(U.withI18n)()(Zb),ey=n("K2Ti"),ty=n("1zCZ"),ny=n("dFPr");function ry(e){return Boolean(e.viewedEvaluation&&e.viewedEvaluation.value)||Boolean(e.isViewed&&e.isViewed.value)}function ay(e){return e.comments&&e.comments.length>0}function oy(e){return e.hasOwnProperty("fivestarEvaluation")?Boolean(e.fivestarEvaluation||e.rubricEvaluation):Boolean(e.myFiveStarRating||e.myRubricEvaluation)}function iy(e,t,n){if(O.a.has(e,"isReviewCompleted"))return e.isReviewCompleted;var r=ry(e)&&ay(e);return r&&function(e,t){return e||t}(t,n)&&(r=oy(e)),r}function cy(e,t,n){var r=0;return e.map((function(e){return iy(e,t,n)&&r++,!0})),r}function sy(e,t,n,r){var a=cy(e,n,r);return a>=t?100:Math.floor(a/t*100)}var uy=n("RMfM"),ly=n("h15y"),dy=n("e33A"),fy=n("QxiN"),py=n("/E09"),my=He.b(),by=He.c("analysis"),yy=Object(Kr.a)(by,my,[],!1);function vy(){var e=Cy(["\n  query getAutoAnalysisState($mediaUrl: String!) {\n    getVideoAnalysis(mediaUrl: $mediaUrl) {\n      ...AutoAnalysisState\n    }\n  }\n  ","\n"]);return vy=function(){return e},e}function hy(){var e=Cy(["\n  query getAutoAnalysis($mediaUrl: String!) {\n    getVideoAnalysis(mediaUrl: $mediaUrl) {\n      ...AutoAnalysisResult\n    }\n  }\n  ","\n"]);return hy=function(){return e},e}function gy(){var e=Cy(["\n  fragment AutoAnalysisResult on VideoAnalysisResult {\n    analysis {\n      ...AutoAnalysisReport\n    }\n    ...AutoAnalysisState\n  }\n  ","\n  ","\n"]);return gy=function(){return e},e}function Ey(){var e=Cy(["\n  fragment AutoAnalysisState on VideoAnalysisResult {\n    analysisError {\n      ...AutoAnalysisError\n    }\n    mediaUrl\n    startTime\n    state\n  }\n  ","\n"]);return Ey=function(){return e},e}function wy(){var e=Cy(["\n  fragment AutoAnalysisError on VideoAnalysisError {\n    code\n    message\n  }\n"]);return wy=function(){return e},e}function Oy(){var e=Cy(["\n  fragment AutoAnalysisReport on VideoAnalysis {\n    score\n    contentScore\n    deliveryScore\n    length\n    wordCount\n    clarity {\n      clearWordCount\n      score\n      unclearWordCount\n    }\n    fillers {\n      count\n      fillerWordCounts {\n        count\n        word\n      }\n      percentage\n      score\n    }\n    keyTerms {\n      desiredKeyTerms {\n        term\n        count\n      }\n      penaltyKeyTerms {\n        term\n        penalty\n      }\n      score\n    }\n    speakingRate {\n      score\n      wordsPerMinute\n    }\n    terms {\n      term\n      count\n    }\n    annotatedTranscript {\n      value\n      ...AnnotatedWordFragment\n      ... on AnnotatedTerm {\n        start\n        end\n        isDesiredKeyTerm\n        isPenaltyKeyTerm\n        match\n        words {\n          ...AnnotatedWordFragment\n        }\n      }\n    }\n  }\n  ","\n"]);return Oy=function(){return e},e}function Sy(){var e=Cy(["\n  fragment AnnotatedWordFragment on AnnotatedWord {\n    start\n    end\n    confidence\n    isFiller\n    isUnclear\n    value\n  }\n"]);return Sy=function(){return e},e}function Cy(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _y=Ue()(Sy()),Iy=Ue()(Oy(),_y),Ty=Ue()(wy()),Ry=Ue()(Ey(),Ty),Py=Ue()(gy(),Iy,Ry),Ay=Ue()(hy(),Py),Ny=Ue()(vy(),Ry),jy=n("OZjV");function ky(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Dy(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ky(o,r,a,i,c,"next",e)}function c(e){ky(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ly(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function My(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xy=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),My(this,"pollingId2Status",{}),My(this,"cancelPollingForId",(function(e){l.b.debug("[AnalysisService] cancelPollingForId",e),t.pollingId2Status[e]=!1})),My(this,"startPollingForAutoAnalysisState",(function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(new Date).getTime();return l.b.debug("[AnalysisService] startPollingForAutoAnalysisState",{mediaUrl:e,onUpdateCallback:n,interval:r,pollingId:a}),O.a.isBoolean(t.pollingId2Status[a])||(t.pollingId2Status[a]=!0),t.pollForAutoAnalysisState(e,n,r,a),function(){t.cancelPollingForId(a)}})),My(this,"pollForAutoAnalysisState",function(){var e=Dy(regeneratorRuntime.mark((function e(n,r,a,o){var i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.b.debug("[AnalysisService] pollForAutoAnalysisState",{mediaUrl:n,onUpdateCallback:r,interval:a,pollingId:o}),e.prev=1,e.next=4,t.fetchAutoAnalysisState(n);case 4:i=e.sent,c=jy.a.isAnalysisStatusPending(i.state),l.b.debug("[AnalysisService] pollForAutoAnalysisState result",i),c?(r({result:i,error:null,isFinished:!1}),window.setTimeout((function(){t.pollingId2Status[o]&&t.pollForAutoAnalysisState(n,r,a,o)}),a)):(t.cancelPollingForId(o),r({result:i,error:null,isFinished:!0})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r({result:null,error:e.t0,isFinished:!0});case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t,n,r,a){return e.apply(this,arguments)}}())}var t,n,r;return t=e,(n=[{key:"fetchAutoAnalysis",value:function(){var e=Dy(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yy.query({query:Ay,variables:{mediaUrl:t}});case 2:if(n=e.sent,r=n.data,!((a=n.errors)&&a.length>0)){e.next=6;break}throw new Error(a);case 6:return e.abrupt("return",r.getVideoAnalysis);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchAutoAnalysisState",value:function(){var e=Dy(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yy.query({query:Ny,variables:{mediaUrl:t}});case 2:if(n=e.sent,r=n.data,!((a=n.errors)&&a.length>0)){e.next=6;break}throw new Error(a);case 6:return e.abrupt("return",r.getVideoAnalysis);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}])&&Ly(t.prototype,n),r&&Ly(t,r),e}());n("OZTn");function Fy(e){return(Fy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uy(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Vy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gy(e){return(Gy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qy(e,t){return(qy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function By(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qy={analysis:{report:null,error:null,state:null,startTime:null},isFetching:!0},Yy=null,Hy=15e3,zy=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Gy(t).call(this,e),n=!a||"object"!==Fy(a)&&"function"!==typeof a?By(r):a,Wy(By(By(n)),"processProps",(function(e){var t={},r=e.media;return r.downloadUrl?n.fetchAutoAnalysis(r.downloadUrl):(l.b.debug("Not Fetching Auto Analysis, media.downloadUrl is not defined"),t.isFetching=!1,n.createFetchErrorNotification()),t})),Wy(By(By(n)),"poll",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hy;Yy=setTimeout((function(){return n.fetchAutoAnalysis(e)}),t)})),Wy(By(By(n)),"checkStatus",(function(e,t){jy.a.isAnalysisStatusPending(e)?n.poll(t):e===py.c.NOT_SUBMITTED&&n.createSubmitErrorNotification()})),Wy(By(By(n)),"fetchAutoAnalysis",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.b.debug(">>> Fetching Auto Analysis",t),e.next=4,xy.fetchAutoAnalysis(t);case 4:r=e.sent,l.b.debug("<<< Fetched Auto Analysis",r),a=r.analysis,o=r.analysisError,i=r.state,c=r.startTime,n.checkStatus(i,t),n.setState({analysis:{report:a,error:o,state:i,startTime:c}}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),l.b.error("<<< Error Fetching Auto Analysis",e.t0),n.createFetchErrorNotification();case 15:n.setState({isFetching:!1});case 16:case"end":return e.stop()}}),e,this,[[0,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Uy(o,r,a,i,c,"next",e)}function c(e){Uy(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),Wy(By(By(n)),"createSubmitErrorNotification",(function(){var e=n.props.i18n;ft.a.addError(e._("Unable to submit video for Auto Analysis\\u2122."))})),Wy(By(By(n)),"createFetchErrorNotification",(function(){var e=n.props.i18n;ft.a.addError(e._("Unable to retrieve Auto Analysis\\u2122 report."))})),Wy(By(By(n)),"onClose",(function(){(0,n.props.onClose)(),dt.a.closeModal()})),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Wy(e,t,n[t])}))}return e}({},Qy,n.processProps(e)),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qy(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){try{clearTimeout(Yy)}catch(e){l.b.debug('Unable to clear timeout with id "'+Yy+'"')}}},{key:"render",value:function(){var e=this.state,t=e.analysis,n=e.isFetching,r=this.props,a=r.isScoreVisible,i=r.media,c=r.viewportDimensions;return n?o.a.createElement(te.a,{loading:!0}):o.a.createElement(fy.a,{id:"auto-analysis-dialog",analysis:t,isScoreVisible:a,mediaTitle:i.title,onClose:this.onClose,viewportDimensions:c})}}])&&Vy(n.prototype,r),a&&Vy(n,a),t}(o.a.PureComponent);zy.propTypes={isScoreVisible:c.a.bool,media:c.a.shape({downloadUrl:c.a.string,title:c.a.string}).isRequired,onClose:c.a.func,viewportDimensions:c.a.object},zy.defaultProps={isScoreVisible:!1,onClose:function(){}};var Ky,Xy=Object(U.withI18n)()(Object(s.b)((function(e){return{viewportDimensions:dy.a(e)}}))(zy));function Jy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zy={COMBINED_VIDEO:"COMBINED_VIDEO",FILE:"FILE",LINK:"LINK",MEETING:"MEETING",MILESTONE:"MILESTONE",VIDEO:"VIDEO"},$y={FILE:"FILE",IMAGE:"IMAGE",LINK:"LINK",MEETING:"MEETING",REFLECTION_ANSWERS:"REFLECTION_ANSWERS",VIDEO:"VIDEO"},ev={DATA:"data",DOWNLOAD_URL:"downloadUrl",DOWNLOAD_SECONDARY_URL:"downloadSecondaryUrl",IMAGE_URL:"imageUrl",OWNER:"owner",PREVIEW_URL:"previewUrl",READ_ONLY:"readOnly",REFLECTION_ANSWERS:"reflectionAnswers",TYPE:"type"},tv={INCLUDE_TOGGLE_SUBMITTING:"INCLUDE_TOGGLE_SUBMITTING"},nv={ActivityResultPartialDocument:$y.FILE,ActivityResultPartialLink:$y.LINK,ActivityResultPartialMedia:$y.VIDEO,ActivityResultPartialMeeting:$y.MEETING,ActivityResultPartialReflectionAnswers:$y.REFLECTION_ANSWERS},rv="ActivityResultPartialDocument",av="ActivityResultPartialLink",ov="ActivityResultPartialMedia",iv="ActivityResultPartialMeeting",cv="ActivityResultPartialReflectionAnswers",sv=(Jy(Ky={},$y.FILE,rv),Jy(Ky,$y.IMAGE,rv),Jy(Ky,$y.LINK,av),Jy(Ky,$y.VIDEO,ov),Jy(Ky,$y.MEETING,iv),Jy(Ky,$y.REFLECTION_ANSWERS,cv),Ky),uv={STUDENT:"STUDENT",EDUCATOR:"EDUCATOR"},lv={ANALYSIS_PENDING:"ANALYSIS_PENDING",ANALYSIS_ERROR:"ANALYSIS_ERROR",ITEMS_REQUIRED:"ITEMS_REQUIRED",ITEMS_READY:"ITEMS_READY",VIDEO_ITEM_REQUIRED:"VIDEO_ITEM_REQUIRED"},dv=function(e){var t=e.className,n=e.enabled,r=e.isAutoAnalysisScoreVisible,a=e.item,i=e.tooltip;return o.a.createElement(we.d,{id:"".concat("content-list-item","[").concat(a.key,"]-actions-inline--view-analysis"),className:E()("".concat("content-list-item","-actions-inline--view-analysis"),t),ariaLabel:i.label,enabled:n,tooltip:i,onClick:function(){dt.a.showModal(o.a.createElement(Xy,{isScoreVisible:r,media:a.media}))}},re.a.ASSESSMENT)};dv.defaultProps={enabled:!1},dv.propTypes={className:c.a.string,enabled:c.a.bool,isAutoAnalysisScoreVisible:c.a.bool,item:c.a.object.isRequired,tooltip:c.a.object.isRequired};var fv=dv,pv=n("upoK"),mv=function(e){var t=e.className,n=e.enabled,r=e.isAutoAnalysisScoreVisible,a=e.item,i=e.i18n;return o.a.createElement(pv.a,{id:"".concat("content-list-item","[").concat(a.key,"]-actions-menu--view-analysis"),className:E()("".concat("content-list-item","-actions-menu--view-analysis"),t),enabled:n,primaryText:i._("View Analysis"),leftIcon:o.a.createElement(Oe.a,null,re.a.ASSESSMENT),onClick:function(){dt.a.showModal(o.a.createElement(Xy,{isScoreVisible:r,media:a.media}))}})};mv.defaultProps={enabled:!1},mv.propTypes={className:c.a.string,enabled:c.a.bool,isAutoAnalysisScoreVisible:c.a.bool,i18n:c.a.object.isRequired,item:c.a.object.isRequired,tooltip:c.a.object.isRequired};var bv=Object(U.withI18n)()(mv);function yv(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}var vv=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uu.a.deletePartials([t]);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,this,[[0,5]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){yv(o,r,a,i,c,"next",e)}function c(e){yv(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),hv=function(e){var t=e.className,n=e.enabled,r=e.item,a=e.i18n,i=e.resultPartial;return o.a.createElement(pv.a,{id:"".concat("content-list-item","[").concat(r.key,"]-actions-menu--delete"),className:E()("".concat("content-list-item","-actions-menu--delete"),t),enabled:n,primaryText:a._("Delete"),leftIcon:o.a.createElement(Oe.a,null,re.a.DELETE),onClick:function(){dt.a.showModal(o.a.createElement(Db,{id:"delete-work-item-dialog",description:a._("Are you sure you want to delete the selected item?"),confirmLabel:a._("Delete"),title:a._("Delete?"),data:i,onConfirm:function(){vv(i)}}))}})};hv.defaultProps={enabled:!1},hv.propTypes={className:c.a.string,enabled:c.a.bool,i18n:c.a.object.isRequired,item:c.a.object.isRequired,resultPartial:c.a.object.isRequired};var gv=Object(U.withI18n)()(hv),Ev=n("Gxhl");function wv(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  query meetingZipFile($courseId: Int!, $meetingId: Int!) {\n    meetingZipFile(termClassDbId: $courseId, meetingDbId: $meetingId)\n  }\n"]);return wv=function(){return e},e}function Ov(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Sv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cv=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"fetchZipUrl",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,a=[],e.prev=2,e.next=5,xe.a.query({query:_v,variables:{courseId:t,meetingId:n}});case 5:if(o=e.sent,a=O.a.concat(a,o.errors),r=O.a.get(o,"data.meetingZipFile")){e.next=10;break}throw new Error("meetingZipFile not found");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),l.b.error("meetingZipFile error:",e.t0),a.push("unable to fetch meetingZipFile");case 16:return a=O.a.compact(a),e.abrupt("return",{meetingZipFile:r,errors:a});case 18:case"end":return e.stop()}}),e,this,[[2,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ov(o,r,a,i,c,"next",e)}function c(e){Ov(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}())}var t,n,r;return t=e,(n=[{key:"getDownloadWarningMessage",value:function(e,t){return o.a.createElement("span",null,o.a.createElement("p",null,e._('The meeting "{meetingTitle}" is being packaged for download.',{meetingTitle:t})),o.a.createElement("p",null,e._("This process may take several minutes depending on meeting length and resources.")),o.a.createElement("p",null,e._("Please do not navigate away from this page until the download has been initiated.")))}},{key:"download",value:function(e,t,n){var r=this.getDownloadWarningMessage(e,n);dt.a.showModal(o.a.createElement(Ev.a,{id:"".concat("meeting-download","-warning-dialog[").concat(n,"]"),dialogStyle:{width:"95%",maxWidth:"450px"},message:r,onClose:dt.a.closeModal}));var a=document.createElement("form");a.action=t,a.method="POST",document.body.appendChild(a),a.submit(),document.body.removeChild(a)}}])&&Sv(t.prototype,n),r&&Sv(t,r),e}(),_v=Ue()(wv()),Iv=new Cv,Tv=n("fcFR"),Rv=n("J4sO");function Pv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jv(e,t,n[t])}))}return e}function Av(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Nv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kv=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jv(this,"canCombineVideos",(function(e){return t.getExcludedReadyVideos(e).length>1})),jv(this,"downloadFromURL",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e&&Object(Tv.a)(e,t)})),jv(this,"getExcludedItems",(function(e){return e.filter((function(e){var t=!0;return e.type!==$y.MEETING||e.media?e.isIncluded&&(t=!1):t=!1,t}))})),jv(this,"getIncludedItems",(function(e){return e.filter((function(e){return e.isIncluded}))})),jv(this,"getIncludedVideos",(function(e){var n=t.getIncludedItems(e);return t.filterItemsOfType(n,[$y.VIDEO,$y.MEETING])})),jv(this,"filterItemsOfType",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=O.a.compact(O.a.concat(t));return O.a.filter(e,(function(e){return O.a.includes(n,e.type)}))})),jv(this,"getExcludedReadyVideos",(function(e){return t.getExcludedItems(e).filter(t.isVideoItem).filter(t.isItemProcessed)})),jv(this,"getResultPartialVideosToCombine",(function(e){return mm.a.getVideosToCombine(e)})),jv(this,"getResultPartial",(function(e,n){var r=t.getTypenameForItem(e);return O.a.find(n,{dbId:e.id,__typename:r})})),jv(this,"isItemProcessed",(function(e){var n=Boolean(e.media&&t.isMediaProcessed(e.media));return e.type===$y.VIDEO&&t.hasSecondaryMedia(e)&&n&&(n=t.isMediaProcessed(t.getSecondaryMedia(e))),n})),jv(this,"isMeetingWithoutMediaFilter",(function(e){return!(e.type===$y.MEETING&&!e.media)})),jv(this,"getVideoPlayerIdForWorkItem",(function(e){return"workitem-video-".concat(e.key)})),jv(this,"isVideoItem",(function(e){return e.type===$y.VIDEO})),jv(this,"isMediaProcessing",(function(e){return Boolean(e&&e.processingStatus===Rv.a.PROGRESS)})),jv(this,"isMediaProcessed",(function(e){return Boolean(e&&e.processingStatus===Rv.a.READY)})),jv(this,"getTranslatedResultPartials",(function(e,n,r,a){var o=Av(e),i=O.a.merge([],O.a.map(o,t.translateResultPartial)).filter(t.isMeetingWithoutMediaFilter);return i.push(t.createReflectionAnswersWorkItem(n)),i=O.a.compact(i),O.a.map(i,(function(e){return Pv({},e,{config:r(e,i),itemState:a[e.key]||{}})}))})),jv(this,"getTranslatedResult",(function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=O.a.map(e.documents,t.translateResultPartial),i=O.a.map(e.links,t.translateResultPartial),c=[],s=[];e.media&&c.push(t.translateResultMedia(e.media,a)),r&&r.length>0&&s.push(t.createReflectionAnswersWorkItem(r));var u=O.a.compact(O.a.concat(c,o,i,s));return O.a.map(u,(function(e){return Pv({},e,{config:n(e,u)})}))})),jv(this,"translateResultPartial",(function(e){var n=t.getTypeForResultPartial(e),r=e.media||e.recordedMedia,a=e.dbId;return{id:a,key:"".concat(n,"_").concat(a),name:e.title,media:r,isIncluded:Boolean(e.finalizedAt),imageUrl:t.translatePreviewUrl(e),type:n,attributes:t.translateResultPartialAttributes(e,n)}})),jv(this,"translateResultMedia",(function(e,n){var r=t.getTypeForResultMedia(e),a=e.dbId;return{id:a,key:"".concat(r,"_").concat(a),name:e.title,media:e,isIncluded:!0,imageUrl:null,type:r,attributes:t.translateResultMediaAttributes(e,r,n)}})),jv(this,"translatePreviewUrl",(function(e){try{return O.a.unescape(e.previewUrl.match(/^.*url\=([^&]*)\&/)[1])}catch(t){}return null})),jv(this,"getTypeForResultMedia",(function(e){return e.meetingAssets?$y.MEETING:$y.VIDEO})),jv(this,"getTypeForResultPartial",(function(e){return nv[e.__typename]})),jv(this,"getTypenameForItem",(function(e){return sv[e.type]})),jv(this,"getFilteredRubricEvaluations",(function(e,t,n){var r=[];if(t){var a=n.student;r=t.filter((function(t){if(Wr.f(a,t.user))return!1;if(Wr.e(a,t.user)){if(e===Wu.b.GROUP_PRESENTATION){var r=n.studentGroup.members;return!Wr.d(a,t.user,r)}return!0}}))}return r}))}var t,n,r;return t=e,(n=[{key:"createReflectionAnswersWorkItem",value:function(e,t){return e&&e.length>0?{id:"reflection_answer",name:"",media:null,isIncluded:!0,imageUrl:null,type:$y.REFLECTION_ANSWERS,attributes:[jv({},ev.DATA,e),jv({},ev.OWNER,e[0].submitter),jv({},ev.READ_ONLY,!0)]}:null}},{key:"hasProcessingError",value:function(e){return!!e.media&&(this.mediaHasProcessingError(e.media)||this.mediaHasProcessingError(e.media.slaveMedia))}},{key:"isProcessing",value:function(e){return!!e.media&&(this.isMediaProcessing(e.media)||this.isMediaProcessing(e.media.slaveMedia))}},{key:"mediaHasProcessingError",value:function(e){return Boolean(e&&e.processingStatus===Rv.a.ERROR)}},{key:"getSecondaryMedia",value:function(e){return O.a.get(e,"media.slaveMedia")}},{key:"hasSecondaryMedia",value:function(e){return Boolean(this.getSecondaryMedia(e))}},{key:"hasVideoInReadyToSubmitResultPartials",value:function(e){var t=mm.a.getReadyToSubmitPartials(e);if(t&&t.length>0)for(var n=0;n<t.length;n++){var r=this.getTypeForResultPartial(t[n]);if(r===$y.VIDEO||r===$y.MEETING)return!0}return!1}},{key:"getVideosInReadyToSubmitResultPartials",value:function(e){var t=[],n=mm.a.getReadyToSubmitPartials(e);if(n&&n.length>0)for(var r=0;r<n.length;r++){var a=n[r];this.getTypeForResultPartial(a)===$y.VIDEO&&t.push(a)}return t}},{key:"translateResultMediaAttributes",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={};if(r[ev.DOWNLOAD_URL]=O.a.get(e,"downloadUrl"),r[ev.DOWNLOAD_SECONDARY_URL]=O.a.get(e,"slaveMedia.downloadUrl"),r[ev.PREVIEW_URL]=O.a.get(e,"srcUrl"),t===$y.MEETING)for(var a=0;a<n.length;a++){var o=n[a];if(o.__typename===iv){var i=o.media||o.recordedMedia;if(i&&i.dbId===e.dbId){r[ev.DOWNLOAD_URL]=o.meetingDownloadUrl;break}}}return r}},{key:"translateResultPartialAttributes",value:function(e,t){var n={};switch(t){case $y.FILE:case $y.IMAGE:n[ev.TYPE]=e.mimeType,n[ev.DOWNLOAD_URL]=e.downloadUrl,n[ev.PREVIEW_URL]=e.previewUrl;break;case $y.LINK:n[ev.PREVIEW_URL]=e.link;break;case $y.VIDEO:n[ev.DOWNLOAD_URL]=O.a.get(e,"media.downloadUrl"),n[ev.DOWNLOAD_SECONDARY_URL]=O.a.get(e,"media.slaveMedia.downloadUrl"),n[ev.PREVIEW_URL]=O.a.get(e,"media.srcUrl");break;case $y.MEETING:n.scheduledAt=new Date(e.scheduledAt),n[ev.DOWNLOAD_URL]=e.meetingDownloadUrl,n[ev.PREVIEW_URL]=O.a.get(e,"recordedMedia.srcUrl");break;case $y.REFLECTION_ANSWERS:n[ev.REFLECTION_ANSWERS]=e.data}return n}}])&&Nv(t.prototype,n),r&&Nv(t,r),e}()),Dv=function(e,t){var n=O.a.get(e,["attributes",ev.DOWNLOAD_URL]);n&&e.type===$y.MEETING?Iv.download(t,n,e.name):n&&kv.downloadFromURL(n,name)},Lv=function(e){var t=e.className,n=e.enabled,r=e.item,a=e.i18n,i=e.onClick,c=O.a.get(r,"media.slaveMedia");if(c&&r.type!==$y.MEETING){var s=kv.isMediaProcessed(c),u={label:""},l={label:""};return kv.mediaHasProcessingError(c)&&(u.label=a._("There was an error processing this video")),kv.mediaHasProcessingError(r.media)&&(l.label=a._("There was an error processing this video")),o.a.createElement(we.f,{id:"".concat("content-list-item","[").concat(r,"]-actions-inline--download"),key:"".concat("content-list-item","[").concat(r,"]-actions-inline--download"),className:E()("".concat("content-list-item","-actions-inline--download"),t),icon:!0,ariaLabel:a._("Download"),menuItems:[o.a.createElement(pv.a,{id:"".concat("content-list-item","[").concat(r.key,"]-actions-menu--download-camera"),key:"".concat("content-list-item","[").concat(r.key,"]-actions-menu--download-camera"),enabled:n,leftIcon:o.a.createElement(Oe.a,null,re.a.VIDEOCAM),tooltip:l,primaryText:a._("Camera"),onClick:function(){Dv(r,a),i()}}),o.a.createElement(pv.a,{id:"".concat("content-list-item","[").concat(r.key,"]-actions-menu--download-desktop"),key:"".concat("content-list-item","[").concat(r.key,"]-actions-menu--download-desktop"),enabled:s,leftIcon:o.a.createElement(Oe.a,null,re.a.APP_WINDOW),tooltip:u,primaryText:a._("Screen"),onClick:function(){var e=r.name,t=O.a.get(r,["attributes",ev.DOWNLOAD_SECONDARY_URL]);t&&kv.downloadFromURL(t,e),i()}})]},re.a.DOWNLOAD)}return o.a.createElement(we.d,{id:"".concat("content-list-item","[").concat(r,"]-actions-inline--download"),className:E()("".concat("content-list-item","-actions-inline--download"),t),enabled:n,tooltip:{label:a._("Download")},ariaLabel:a._("Download"),onClick:function(){Dv(r,a),i()}},re.a.DOWNLOAD)};Lv.defaultProps={enabled:!1,onClick:function(){}},Lv.propTypes={className:c.a.string,enabled:c.a.bool,i18n:c.a.any.isRequired,item:c.a.object.isRequired,onClick:c.a.func};var Mv=Object(U.withI18n)()(Lv),xv=function(e,t){var n=O.a.get(e,["attributes",ev.DOWNLOAD_URL]);n&&e.type===$y.MEETING?Iv.download(t,n,e.name):n&&kv.downloadFromURL(n,name)},Fv=function(e){var t=e.enabled,n=e.item,r=e.i18n,a=e.onClick,i=O.a.get(n,"media.slaveMedia");if(i&&n.type!==$y.MEETING){var c=kv.isMediaProcessed(i),s={label:""},u={label:""};return kv.mediaHasProcessingError(i)&&(s.label=r._("There was an error processing this video")),kv.mediaHasProcessingError(n.media)&&(u.label=r._("There was an error processing this video")),[o.a.createElement(pv.a,{id:"".concat("content-list-item","[").concat(n.key,"]-actions-menu--download-camera"),key:"".concat("content-list-item","[").concat(n.key,"]-actions-menu--download-camera"),enabled:t,leftIcon:o.a.createElement(Oe.a,null,re.a.DOWNLOAD),tooltip:u,primaryText:r._("Download camera recording"),onClick:function(){xv(n,r),a()}}),o.a.createElement(pv.a,{id:"".concat("content-list-item","[").concat(n.key,"]-actions-menu--download-desktop"),key:"".concat("content-list-item","[").concat(n.key,"]-actions-menu--download-desktop"),enabled:c,leftIcon:o.a.createElement(Oe.a,null,re.a.DOWNLOAD),tooltip:s,primaryText:r._("Download screen recording"),onClick:function(){var e=n.name,t=O.a.get(n,["attributes",ev.DOWNLOAD_SECONDARY_URL]);t&&kv.downloadFromURL(t,e)}})]}return[o.a.createElement(pv.a,{id:"".concat("content-list-item","[").concat(n.key,"]-actions-menu--download"),key:"".concat("content-list-item","[").concat(n.key,"]-actions-menu--download"),enabled:t,leftIcon:o.a.createElement(Oe.a,null,re.a.DOWNLOAD),primaryText:r._("Download"),onClick:function(){xv(n,r)}})]};Fv.defaultProps={enabled:!1},Fv.propTypes={enabled:c.a.bool,i18n:c.a.any.isRequired,item:c.a.object.isRequired};var Uv=Object(U.withI18n)()(Fv);function Vv(e){return(Vv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qv(e,t){return!t||"object"!==Vv(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bv(e){return(Bv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wv(e,t){return(Wv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qv=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qv(this,Bv(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wv(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isLoading,r=e.title,a=e.onTitleEdit,i=e.onSubmit,c=e.errors,s=e.onCancel;return o.a.createElement(mb.a,{id:"edit-partial-dialog",title:t._("Edit"),visible:!0,actions:[o.a.createElement(we.b,{id:"button-edit-resource-dialog-cancel",secondary:!0,enabled:!n,onClick:s,ariaLabel:t._("Cancel")},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-edit-resource-dialog-save",primary:!0,isLoading:n,enabled:!n&&r.trim().length>0,onClick:i,ariaLabel:t._("Save")},o.a.createElement(U.Trans,{id:"Save"}))]},o.a.createElement(mr.b,{id:"partial-name-textfield",label:t._("Name"),onChange:a,errorText:c[0],value:r,ariaLabel:t._("Name")}))}}])&&Gv(n.prototype,r),a&&Gv(n,a),t}(a.Component),Yv=Object(U.withI18n)()(Qv),Hv="Invalid errors list",zv=function(e){var t={};if(!e[0].path&&!e[0].locations)throw new Error(Hv);return e.forEach((function(e){var n=e.path?e.path.join("_"):"general_error";t[n]=e.message.split(":::")[1]})),t},Kv=function(e){var t=[];if(!e[0].path&&!e[0].locations)throw new Error(Hv);return e.forEach((function(e){var n=e.message.split(":::")[1];t.push(n)})),t},Xv=function(e,t){if(!e[0].path&&!e[0].locations)throw new Error(Hv);var n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){if(o.value.message.split(":::")[0]===t)return!0}}catch(c){r=!0,a=c}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return!1};function Jv(e){return(Jv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zv(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function $v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Zv(o,r,a,i,c,"next",e)}function c(e){Zv(o,r,a,i,c,"throw",e)}i(void 0)}))}}function eh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function th(e){return(th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nh(e,t){return(nh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ah(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oh=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=th(t).call(this,e),n=!a||"object"!==Jv(a)&&"function"!==typeof a?rh(r):a,ah(rh(rh(n)),"onTitleEdit",(function(e){n.setState({title:e})})),ah(rh(rh(n)),"onSubmit",$v(regeneratorRuntime.mark((function e(){var t,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.i18n,a=t.onSubmit,o=O.a.merge({},n.props.partial,{title:n.state.title}),n.setState({errors:[]}),e.prev=3,e.next=6,uu.a.editPartials([o]);case 6:a(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(3),i=[r._("Error during edit of partial. Please try again.")];try{i=O.a.values(zv(e.t0))}catch(c){l.b.warn(c)}n.setState({errors:i});case 14:case"end":return e.stop()}}),e,this,[[3,9]])})))),n.state={title:e.partial.title,errors:[]},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nh(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.onCancel;return o.a.createElement(Yv,{title:this.state.title,errors:this.state.errors,onTitleEdit:this.onTitleEdit,onCancel:n,isLoading:t,onSubmit:this.onSubmit})}}])&&eh(n.prototype,r),a&&eh(n,a),t}(a.Component),ih=Object(U.withI18n)()(oh),ch=function(e){var t=e.className,n=e.enabled,r=e.item,a=e.i18n,i=e.resultPartial;return o.a.createElement(pv.a,{id:"".concat("content-list-item","[").concat(r.key,"]-actions-menu--edit"),className:E()("".concat("content-list-item","-actions-menu--edit"),t),enabled:n,primaryText:a._("Edit"),leftIcon:o.a.createElement(Oe.a,null,re.a.EDIT),onClick:function(){dt.a.showModal(o.a.createElement(ih,{isLoading:!1,partial:i,onCancel:dt.a.closeModal,onSubmit:dt.a.closeModal}))}})};ch.defaultProps={enabled:!1},ch.propTypes={className:c.a.string,enabled:c.a.bool,i18n:c.a.object.isRequired,item:c.a.object.isRequired,resultPartial:c.a.object.isRequired};var sh=Object(U.withI18n)()(ch),uh=(n("leQN"),function(e){var t=e.className,n=e.enabled,r=e.item,a=e.loading,i=e.onClick,c=e.tooltip;return o.a.createElement(we.d,{id:"".concat("content-list-item","[").concat(r.key,"]-actions-inline--toggle-included"),className:E()("".concat("content-list-item","-actions-inline--toggle-included"),t),ariaLabel:c.label,secondary:!0,isLoading:a,enabled:n&&!a,tooltip:c,onClick:function(){i(r)}},r.isIncluded?re.a.STAR:re.a.STAR_EMPTY)});uh.defaultProps={enabled:!1,loading:!1},uh.propTypes={className:c.a.string,enabled:c.a.bool,i18n:c.a.any.isRequired,item:c.a.object.isRequired,loading:c.a.bool,onClick:c.a.func.isRequired,tooltip:c.a.object.isRequired};var lh=Object(U.withI18n)()(uh),dh=(n("a2Z2"),function(e){var t=e.className,n=e.enabled,r=e.item,a=e.label,i=e.onClick,c=e.tooltip;return o.a.createElement(pv.a,{id:"".concat("content-list-item","[").concat(r.key,"]-actions-menu--toggle-included"),className:E()("".concat("content-list-item","-actions-menu--toggle-included"),t),enabled:n,primaryText:a,leftIcon:o.a.createElement(Oe.a,null,r.isIncluded?re.a.STAR_EMPTY:re.a.STAR),tooltip:c,onClick:function(){i(r)}})});dh.defaultProps={enabled:!1,onClick:function(){}},dh.propTypes={className:c.a.string,enabled:c.a.bool,i18n:c.a.any.isRequired,item:c.a.object.isRequired,label:c.a.string.isRequired,onClick:c.a.func,tooltip:c.a.object.isRequired};var fh=Object(U.withI18n)()(dh),ph=function(e){var t=e.className,n=e.i18n,r=e.id,a=e.previewUrl,i=e.onClick,c=a?n._("Preview (New Tab)"):n._("Preview is not supported for this file type");return o.a.createElement(we.d,{id:"".concat("content-list-item","[").concat(r,"]-actions-inline--launch"),className:E()("".concat("content-list-item","-actions-inline--launch"),t),enabled:Boolean(a),ariaLabel:c,tooltip:{label:c},onClick:function(){if(i(),a)return window.open(a,"_blank")}},re.a.OPEN_IN_NEW)};ph.defaultProps={onClick:function(){},previewUrl:null},ph.propTypes={className:c.a.string,id:c.a.string.isRequired,i18n:c.a.object.isRequired,previewUrl:c.a.string,onClick:c.a.func};var mh=Object(U.withI18n)()(ph),bh=function(e){var t=e.className,n=e.enabled,r=e.item,a=e.i18n;return o.a.createElement(pv.a,{id:"".concat("content-list-item","[").concat(r.key,"]-actions-menu--launch"),className:E()("".concat("content-list-item","-actions-menu--launch"),t),enabled:n,primaryText:a._("Preview (New Tab)"),leftIcon:o.a.createElement(Oe.a,null,re.a.OPEN_IN_NEW),onClick:function(){var e=O.a.get(r,["attributes",ev.PREVIEW_URL]);if(e)return window.open(e,"_blank")}})};bh.defaultProps={enabled:!1},bh.propTypes={className:c.a.string,enabled:c.a.bool,i18n:c.a.object.isRequired,item:c.a.object.isRequired};var yh=Object(U.withI18n)()(bh),vh=n("EiE3");function hh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gh=function(e){var t=e.className,n=e.enabled,r=e.item,a=e.i18n,i=e.resultPartial,c=e.onPartialChange,s=function(e){c&&c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){hh(e,t,n[t])}))}return e}({},i,{media:e}))};return o.a.createElement(pv.a,{id:"".concat("content-list-item","[").concat(r.key,"]-actions-menu--manage-captions"),className:E()("".concat("content-list-item","-actions-menu--manage-captions"),t),enabled:n,primaryText:a._("Manage Captions"),leftIcon:o.a.createElement(Oe.a,null,re.a.CLOSED_CAPTION),onClick:function(){dt.a.showModal(o.a.createElement(vh.a,{media:r.media,onMediaChange:s}))}})};gh.defaultProps={enabled:!1},gh.propTypes={className:c.a.string,enabled:c.a.bool,i18n:c.a.object.isRequired,item:c.a.object.isRequired,resultPartial:c.a.object.isRequired,onPartialChange:c.a.func};var Eh,wh=Object(U.withI18n)()(gh),Oh=n("a/gg"),Sh=n("bjo3");n("eCIM");function Ch(e){return(Ch="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ih(e){return(Ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Th(e,t){return(Th=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ph(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ah="reflection-questions-work-list-item",Nh=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Ih(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Ch(a)&&"function"!==typeof a?Rh(r):a,Ph(Rh(Rh(n)),"onTextChange",(function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ph(e,t,n[t])}))}return e}({},n.props.question,Ph({isDirty:!0},Sh.a.ANSWER.TEXT,O.a.trimStart(e)));n.props.onChange&&n.props.onChange(t)})),Ph(Rh(Rh(n)),"getAnswer",(function(){var e=n.props,t=e.i18n,r=e.question,a=e.readOnly,i=e.errorMessage,c=r[Sh.a.ANSWER.TEXT];return a?o.a.createElement("div",{className:Ah+"-answer-text"},c||o.a.createElement("i",null,t._("(No response has been submitted)"))):o.a.createElement(Sa.i,{id:Ah+"["+r.dbId+"]",ariaLabel:t._("Edit Reflection Question Answer"),className:Ah+"-answer-input",errorText:i,maxLength:Sh.c,maxRows:0,onChange:n.onTextChange,rows:1,required:!0,value:r[Sh.a.ANSWER.TEXT]})})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Th(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.question,r=n[Sh.a.QUESTION.SORT]+1;return o.a.createElement("div",{key:Ah+"["+n.dbId+"]",className:Ah},o.a.createElement("div",{className:Ah+"-index"},t._("{questionNumber}.",{questionNumber:r})),o.a.createElement("div",{className:Ah+"-qa"},o.a.createElement("div",{className:Ah+"-question"},n[Sh.a.QUESTION.TEXT]),o.a.createElement("div",{className:Ah+"-answer"},o.a.createElement("div",{className:Ah+"-answer-label"},t._("Response:")),this.getAnswer())))}}])&&_h(n.prototype,r),a&&_h(n,a),t}(a.Component);Nh.propTypes={errorMessage:c.a.string,onChange:c.a.func,question:c.a.shape((Eh={},Ph(Eh,Sh.a.QUESTION.SORT,c.a.number.isRequired),Ph(Eh,Sh.a.QUESTION.TEXT,c.a.string.isRequired),Ph(Eh,Sh.a.ANSWER.TEXT,c.a.string),Eh)).isRequired,readOnly:c.a.bool},Nh.defaultProps={errorMessage:null,readOnly:!1};var jh=Object(U.withI18n)()(Nh);function kh(e){return(kh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mh(e,t){return!t||"object"!==kh(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xh(e){return(xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fh(e,t){return(Fh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Uh=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mh(this,xh(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fh(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.answers;return o.a.createElement("div",{className:"reflection-answers-container"},o.a.createElement("div",{className:"reflection-answers"},e.map((function(e,t){var n,r=(Dh(n={},Sh.a.QUESTION.SORT,t),Dh(n,Sh.a.QUESTION.TEXT,e.question[Sh.a.QUESTION.TEXT]),Dh(n,Sh.a.ANSWER.TEXT,e[Sh.a.ANSWER.TEXT]),n);return o.a.createElement(jh,{key:"reflection-answers-item["+t+"]",question:r,readOnly:!0})}))))}}])&&Lh(n.prototype,r),a&&Lh(n,a),t}(a.Component);Uh.propTypes={answers:c.a.array.isRequired},Uh.defaultProps={};var Vh=Uh;function Gh(e){return(Gh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bh(e){return(Bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wh(e,t){return(Wh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Yh="reflection-answers-dialog",Hh=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Bh(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Gh(a)&&"function"!==typeof a?Qh(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Qh(Qh(n)),"getDialogComponent",(function(e){var t=n.props,r=t.i18n,a=t.answers,i=t.needAnswers,c=t.onClose;return o.a.createElement(Hf.a,{id:Yh,contentClassName:Yh+"-content",dialogClassName:Yh+"-container",title:r._("Reflection Questions"),visible:!0,fullPage:e,onClose:c,actions:[o.a.createElement(we.b,{id:"button-reflect-questions-dialog-close",primary:!0,ariaLabel:r._("Close"),onClick:c},r._("Close"))]},o.a.createElement("div",{className:Yh},i?r._("There are no answers saved."):o.a.createElement(Vh,{answers:a})))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wh(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return this.props.visible?o.a.createElement("div",null,o.a.createElement(F.a,{query:"(max-width: 550px)"},this.getDialogComponent(!0)),o.a.createElement(F.a,{query:"(min-width: 551px)"},this.getDialogComponent(!1))):null}}])&&qh(n.prototype,r),a&&qh(n,a),t}(a.Component);Hh.propTypes={answers:c.a.array,needAnswers:c.a.bool,onClose:c.a.func.isRequired,visible:c.a.bool},Hh.defaultProps={visible:!1};var zh=Object(U.withI18n)()(Object(s.b)((function(e,t){return{answers:t.answers?t.answers:Qs.getReflectionAnswers(e),needAnswers:O.a.has(t,"needAnswers")?t.needAnswers:Qs.needReflectionAnswers(e)}}))(Hh)),Kh=n("v6po");function Xh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jh=function(e){var t=e.activityId,n=e.className,r=e.enabled,a=e.i18n,i=e.item,c=e.termClassId,s=e.resultPartial,u=e.onPartialChange,l=function(e){u&&u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xh(e,t,n[t])}))}return e}({},s,{media:e}))};return o.a.createElement(we.d,{id:"".concat("content-list-item","[").concat(i.key,"]-actions-inline--preview"),className:E()("".concat("content-list-item","-actions-inline--preview"),n),enabled:r,tooltip:{label:a._("Preview")},ariaLabel:a._("Preview"),onClick:function(){i.type===$y.REFLECTION_ANSWERS?dt.a.showModal(o.a.createElement(zh,{visible:!0,onClose:dt.a.closeModal})):i.type!==$y.VIDEO&&i.type!==$y.MEETING||dt.a.showModal(o.a.createElement(Oh.a,{onCancel:dt.a.closeModal,usageContext:Kh.a.STUDENT_RESULT_PARTIAL,termClassId:c,activityId:t,media:i.media,onMediaChange:l}))}},re.a.PREVIEW)};Jh.defaultProps={enabled:!1},Jh.propTypes={activityId:c.a.number.isRequired,className:c.a.string,enabled:c.a.bool,i18n:c.a.object.isRequired,item:c.a.object.isRequired,onPartialChange:c.a.func,resultPartial:c.a.object.isRequired,termClassId:c.a.number.isRequired};var Zh=Object(U.withI18n)()(Jh);function $h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eg=function(e){var t=e.activityId,n=e.className,r=e.enabled,a=e.i18n,i=e.item,c=e.termClassId,s=e.resultPartial,u=e.onPartialChange,l=function(e){u&&u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$h(e,t,n[t])}))}return e}({},s,{media:e}))};return o.a.createElement(pv.a,{id:"".concat("content-list-item","[").concat(i.key,"]-actions-menu--preview"),className:E()("".concat("content-list-item","-actions-menu--preview"),n),enabled:r,leftIcon:o.a.createElement(Oe.a,null,re.a.PREVIEW),primaryText:a._("Preview"),onClick:function(){i.type===$y.REFLECTION_ANSWERS?dt.a.showModal(o.a.createElement(zh,{visible:!0,onClose:dt.a.closeModal})):i.type!==$y.VIDEO&&i.type!==$y.MEETING||dt.a.showModal(o.a.createElement(Oh.a,{onCancel:dt.a.closeModal,usageContext:Kh.a.STUDENT_RESULT_PARTIAL,termClassId:c,activityId:t,media:i.media,onMediaChange:l}))}})};eg.defaultProps={enabled:!1},eg.propTypes={activityId:c.a.number.isRequired,className:c.a.string,enabled:c.a.bool,i18n:c.a.object.isRequired,item:c.a.object.isRequired,onPartialChange:c.a.func,resultPartial:c.a.object.isRequired,termClassId:c.a.number.isRequired};var tg=Object(U.withI18n)()(eg),ng=function(e){var t=e.answers,n=e.className,r=e.enabled,a=e.i18n,i=e.item,c=e.needAnswers;return o.a.createElement(we.d,{id:"".concat("content-list-item","[").concat(i.key,"]-actions-inline--preview"),className:E()("".concat("content-list-item","-actions-inline--preview"),n),enabled:r,tooltip:{label:a._("Preview")},ariaLabel:a._("Preview"),onClick:function(){dt.a.showModal(o.a.createElement(zh,{visible:!0,answers:t,needAnswers:c,onClose:dt.a.closeModal}))}},re.a.PREVIEW)};ng.defaultProps={enabled:!1},ng.propTypes={answers:c.a.array.isRequired,className:c.a.string,enabled:c.a.bool,i18n:c.a.object.isRequired,item:c.a.object.isRequired,needAnswers:c.a.bool.isRequired};var rg=Object(U.withI18n)()(ng);n("WWkf");function ag(e){return(ag="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function og(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ig(e){return(ig=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cg(e,t){return(cg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ug(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lg=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ig(t).call(this,e),n=!a||"object"!==ag(a)&&"function"!==typeof a?sg(r):a,ug(sg(sg(n)),"onCommentChange",(function(e){n.setState({commentText:e})})),n.commentTextFieldRef=o.a.createRef(),n.state={commentText:e.comment.commentText},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cg(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;requestAnimationFrame((function(){e.commentTextFieldRef.current.focus()}))}},{key:"render",value:function(){var e=this.props,t=e.comment,n=e.i18n,r=e.loading,a=e.onConfirm,i=this.state.commentText,c=Object(eu.f)(i),s=[o.a.createElement(bb.a,{id:"submission-comment-edit-dialog-cancel",key:"submission-comment-edit-dialog-cancel",secondary:!0,enabled:!r,onClick:dt.a.closeModal},n._("Cancel")),o.a.createElement(bb.a,{id:"submission-comment-edit-dialog-submit",key:"submission-comment-edit-dialog-submit",primary:!0,isLoading:r,enabled:!r&&c.isValid,onClick:function(){a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ug(e,t,n[t])}))}return e}({},t,{commentText:i}))}},n._("Submit"))];return o.a.createElement(mb.a,{id:"submission-comment-edit-dialog",className:"submission-comment-edit-dialog",title:n._("Edit Comment"),visible:!0,actions:s},o.a.createElement(Sa.i,{id:"submission-comment-edit-textfield",ariaLabel:n._("Comment"),ref:this.commentTextFieldRef,enabled:!0,errorText:c.exceedsLimit?n._("Exceeds {0} characters.",{0:c.maxLength}):"",placeholder:n._("Comment..."),maxLength:c.maxLength,maxRows:4,onChange:this.onCommentChange,required:!0,rows:1,value:i}))}}])&&og(n.prototype,r),a&&og(n,a),t}(o.a.PureComponent);lg.defaultProps={loading:!1},lg.propTypes={comment:c.a.object.isRequired,i18n:c.a.object.isRequired,loading:c.a.bool,onConfirm:c.a.func.isRequired};var dg=Object(U.withI18n)()(lg);function fg(e){return(fg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pg(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function mg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bg(e){return(bg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yg(e,t){return(yg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gg={loading:!1},Eg=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=bg(t).call(this,e),n=!a||"object"!==fg(a)&&"function"!==typeof a?vg(r):a,hg(vg(vg(n)),"onConfirm",(function(e){n.setState({loading:!0},(function(){n.handleCallback(e)}))})),hg(vg(vg(n)),"handleCallback",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.onConfirm,e.next=3,r(t);case 3:dt.a.closeModal();case 4:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){pg(o,r,a,i,c,"next",e)}function c(e){pg(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){hg(e,t,n[t])}))}return e}({},gg),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yg(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state.loading,t=this.props.comment;return o.a.createElement(dg,{comment:t,loading:e,visible:!0,onConfirm:this.onConfirm})}}])&&mg(n.prototype,r),a&&mg(n,a),t}(o.a.PureComponent);Eg.propTypes={comment:c.a.object.isRequired,onConfirm:c.a.func.isRequired};var wg=Object(U.withI18n)()(Eg),Og=n("KhDq"),Sg=n("4XMt");n("kwFD");function Cg(e){return(Cg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ig(e,t){return!t||"object"!==Cg(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tg(e){return(Tg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rg(e,t){return(Rg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pg=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ig(this,Tg(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rg(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.completedClassName,r=e.interval,a=e.intervalClassName,i=e.label,c=e.labelClassName,s=e.showIntervals,u=e.maxValue,l=e.value,d=[];if(s&&r)for(var f=Math.floor(u/r),p=1;p<f;p++){var m=Math.round(p/f*100);d.push(o.a.createElement("div",{key:"stepped-progressinterval-item["+p+"]",className:E()("stepped-progress-interval-item",n),style:{left:m+"%"}}))}var b=Math.min(100,Math.round(l/u*100));return o.a.createElement("div",{className:E()("stepped-progress-container","md-paper--1",t)},o.a.createElement("div",{className:E()("stepped-progress-interval",a)},d),o.a.createElement("div",{className:E()("stepped-progress-complete",n),style:{width:b+"%"}}),o.a.createElement("div",{className:E()("stepped-progress-label",c)},i))}}])&&_g(n.prototype,r),a&&_g(n,a),t}(a.Component);Pg.propTypes={className:c.a.string,completedClassName:c.a.string,intervalClassName:c.a.string,labelClassName:c.a.string,interval:c.a.number,label:c.a.string,maxValue:c.a.number,showIntervals:c.a.bool,value:c.a.number},Pg.defaultProps={interval:1,showIntervals:!0,maxValue:10,value:0};var Ag=Object(Sg.c)(Pg),Ng=n("wRmV"),jg=n("L2DV"),kg=n("sRqO"),Dg=(n("CPhW"),function(e){var t=e.id,n=e.media,r=e.onPlayVideo;return o.a.createElement("div",{className:E()("video-poster-container"),onContextMenu:function(e){return e.preventDefault()}},o.a.createElement("video",{src:n.srcUrl}),o.a.createElement(kg.a,{id:"".concat(t,"--play-button"),play:r}))});Dg.propTypes={id:c.a.string.isRequired,media:c.a.object.isRequired,onPlayVideo:c.a.func.isRequired};var Lg=Object(U.withI18n)()(Dg);n("1OwP");function Mg(e){return(Mg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xg(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Fg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ug(e){return(Ug=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vg(e,t){return(Vg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bg="content-list-item",Wg=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Ug(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Mg(a)&&"function"!==typeof a?Gg(r):a,qg(Gg(Gg(n)),"renderIcon",(function(){var e=n.props,t=e.item,r=e.onPlayVideo,a=t.config,i=a.isProcessing,c=a.hasProcessingError;if(n.hasVideoPoster()){var s=kv.getVideoPlayerIdForWorkItem(t);return o.a.createElement(Lg,{id:"video-thumbnail-".concat(s),media:t.media,onPlayVideo:r.bind(null,s)})}var u=null;if(c)u=re.a.ERROR;else if(i)u=re.a.HOURGLASS_EMPTY;else switch(t.type){case $y.FILE:u=re.a.DESCRIPTION;break;case $y.IMAGE:u=re.a.PHOTO;break;case $y.LINK:u=re.a.LINK;break;case $y.VIDEO:u=re.a.VIDEOCAM;break;case $y.MEETING:u=re.a.EVENT;break;case $y.REFLECTION_ANSWERS:u=re.a.LIST_NUMBERED}return o.a.createElement("div",{className:"".concat(Bg,"-icon")},o.a.createElement(Oe.a,{className:"".concat(Bg,"-type-icon")},u))})),qg(Gg(Gg(n)),"hasVideoPoster",(function(){var e=n.props,t=e.item;return e.showVideoThumbnail&&(t.type===$y.VIDEO||t.type===$y.MEETING)})),qg(Gg(Gg(n)),"renderName",(function(){var e=n.props.item,t=n.getItemLabel(e);return o.a.createElement("div",{className:"".concat(Bg,"-name")},o.a.createElement("span",{className:"".concat(Bg,"-name--label")},t.primary),t.secondary&&o.a.createElement("span",{className:"".concat(Bg,"-name--desc")},t.secondary))})),qg(Gg(Gg(n)),"getItemLabel",(function(){var e=n.props,t=e.i18n,r=e.item,a=r.config,o=a.isProcessing,i=a.hasProcessingError,c=r.name,s="";return r.type===$y.REFLECTION_ANSWERS&&(c=t._("Reflection Answers")),i?(c=t._('Error processing "{0}"',{0:r.name}),r.type===$y.MEETING?s=t._("An error occured processing this meeting."):r.type===$y.VIDEO&&(s=t._("An error occured processing this video."))):o&&(c=t._('Processing "{0}"...',{0:r.name}),r.type===$y.MEETING?s=t._("We are processing this meeting. Please check back later."):r.type===$y.VIDEO&&(s=t._("We are processing this video. Please check back later."))),{primary:c,secondary:s}})),qg(Gg(Gg(n)),"renderPrimaryActions",(function(){var e=n.props.item.config.actions;return 0===e.primary.length?null:o.a.createElement("div",{className:E()("".concat(Bg,"-actions"),"".concat(Bg,"-actions--primary"))},e.primary)})),qg(Gg(Gg(n)),"renderSecondaryActions",(function(){var e=n.props.item,t=e.config.actions,r=xg(t.secondary);if(0===t.secondary.length)return null;var a=["item-sep"];return 0===O.a.get(t,"overflow.actions",[]).length&&a.push("item-sep--hidden"),r.push(o.a.createElement("div",{key:"work-item-action-sep[".concat(e.key,"]"),className:E()(a)})),o.a.createElement("div",{className:E()("".concat(Bg,"-actions"),"".concat(Bg,"-actions--secondary"))},r)})),qg(Gg(Gg(n)),"renderOverflowActions",(function(){var e=n.props,t=e.item,r=e.i18n,a=t.config.actions.overflow;if(!a)return null;var i=a.actions||[];return o.a.createElement(we.f,{id:"".concat(Bg,"[").concat(t.key,"]-actions-menu"),className:E()("".concat(Bg,"-actions-menu"),0===i.length?"".concat(Bg,"-actions-menu--hidden"):""),ariaLabel:r._("Menu"),icon:!0,enabled:Boolean(a.enabled&&i.length>0),menuItems:i},re.a.MENU_VERT)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vg(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.item,t=e.key,n=e.isIncluded,r=e.config,a=r.isProcessing,i=r.hasProcessingError;return o.a.createElement("div",{id:"".concat(Bg,"[").concat(t,"]"),tabIndex:0,"aria-label":this.getItemLabel().primary,className:E()(Bg,"".concat(Bg,"--").concat(n?"included":"excluded"),a&&"".concat(Bg,"--processing"),i&&"".concat(Bg,"--processing-error"),this.hasVideoPoster()&&"".concat(Bg,"--has-video-poster"))},this.renderPrimaryActions(),this.renderIcon(),o.a.createElement("div",{className:"".concat(Bg,"-details")},this.renderName(),o.a.createElement("div",{className:"".concat(Bg,"-actions")},this.renderSecondaryActions(),this.renderOverflowActions())))}}])&&Fg(n.prototype,r),a&&Fg(n,a),t}(o.a.PureComponent);Wg.propTypes={i18n:c.a.any.isRequired,item:c.a.object,onPlayVideo:c.a.func,showVideoThumbnail:c.a.bool,workItemConfiguration:c.a.func},Wg.defaultProps={item:{},onPlayVideo:function(){},showVideoThumbnail:!1,workItemConfiguration:function(){}};var Qg=Object(U.withI18n)()(Wg);n("SZKS");function Yg(e){return(Yg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zg(e){return(zg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kg(e,t){return(Kg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zg="animate-playback",$g="video-playback",eE="meeting-playback",tE="dual-stream-playback",nE=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=zg(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Yg(a)&&"function"!==typeof a?Xg(r):a,Jg(Xg(Xg(n)),"getVideoPlayerClassname",(function(){var e=n.props.selectedPlaybackWorkItem;if(e){if(e.type===$y.MEETING)return eE;if(e.type===$y.VIDEO){var t=e.attributes;return t[ev.DOWNLOAD_URL]&&t[ev.DOWNLOAD_SECONDARY_URL]?tE:$g}}return null})),Jg(Xg(Xg(n)),"getMediaComponent",(function(){var e=n.props,t=e.activityId,r=e.commentMarks,a=e.onHideVideoPlayer,i=e.onPlayVideo,c=e.onResultMediaChange,s=e.termClassId,u=e.i18n,l=e.selectedPlaybackWorkItem,d=e.selectedPlaybackSyncTime;if(!l)return null;var f=kv.getVideoPlayerIdForWorkItem(l);return o.a.createElement("div",{className:E()("submission-review-video-player-container",Zg,n.getVideoPlayerClassname())},o.a.createElement(we.d,{onClick:a,className:"submission-review-video-player-close-button",title:u._("Close")},re.a.CLOSE),o.a.createElement(Mt.a,{id:f,activityId:t,autoplay:!0,autoplayStartTime:d,marks:r,media:l.media,onPlay:i,playerId:f,termClassId:s,usageContext:Kh.a.STUDENT_RESULT,onMediaChange:c}))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kg(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onShowVideoPlayer,r=e.selectedPlaybackWorkItem,a=e.workItems;return o.a.createElement(Nu.a,{zDepth:1,className:E()("submission-review-assets-container",this.getVideoPlayerClassname(),t)},o.a.createElement("div",{className:E()("submission-review-asset-items")},r&&this.getMediaComponent(),O.a.map(a,(function(e){return o.a.createElement(Qg,{item:e,key:"content-list-item-[".concat(e.key,"]"),onPlayVideo:n,showVideoThumbnail:!0})}))))}}])&&Hg(n.prototype,r),a&&Hg(n,a),t}(o.a.PureComponent);nE.defaultProps={commentMarks:[],onPlayVideo:function(){},selectedPlaybackWorkItem:null,selectedPlaybackSyncTime:null},nE.propTypes={activityId:c.a.number.isRequired,className:c.a.string,commentMarks:c.a.array,i18n:c.a.any.isRequired,onResultMediaChange:c.a.func.isRequired,onHideVideoPlayer:c.a.func.isRequired,onShowVideoPlayer:c.a.func.isRequired,onPlayVideo:c.a.func,selectedPlaybackWorkItem:c.a.object,selectedPlaybackSyncTime:c.a.number,termClassId:c.a.number.isRequired,workItems:c.a.array.isRequired};var rE=Object(U.withI18n)()(nE),aE=n("G/cw"),oE=(n("uVrG"),n("H9kt"));function iE(e){return(iE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sE(e){return(sE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uE(e,t){return(uE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var dE="review-comment-actions",fE="review-delete-comment-button",pE="review-edit-comment-button",mE=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=sE(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==iE(a)&&"function"!==typeof a?lE(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(lE(lE(n)),"getActions",(function(){var e=n.props,t=e.i18n,r=e.comment,a=e.onDeleteComment,i=e.onEditComment,c=e.canDelete,s=e.canEdit,u=e.customActions;return r.isDeleted?null:u?o.a.createElement("div",{className:dE},u):c||s?o.a.createElement("div",{className:dE},s&&o.a.createElement(we.d,{id:"button-comment-edit",className:pE,ariaLabel:t._("Edit Comment"),onClick:function(){i(r)}},re.a.EDIT),c&&o.a.createElement(we.d,{id:"button-comment-delete",className:fE,ariaLabel:t._("Delete Comment"),onClick:function(){a(r)}},re.a.DELETE)):null})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uE(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.comment,r=e.onSyncTimeClick,a=e.onDeleteComment,i=e.canDelete,c=e.showCommenterName,s=e.showSyncTime,u=e.termClassId,l=e.activityId,d=e.usageContext,f=null;n&&null!==n.syncTime&&s&&(f=o.a.createElement("a",{className:"review-comment-synctime",onClick:function(){r(n.syncTime)}},Pf.l(n.syncTime)));var p=t._(oE.a.COMMENT_DELETED),m=null;return c&&(m=o.a.createElement("span",{className:"review-comment-commenter"},Object(eu.a)(n,t))),n.commentMedia?o.a.createElement("div",{className:E()("review-comment","review-comment-media-container")},o.a.createElement("div",{className:"review-comment-media-text"},f,m,o.a.createElement("div",{className:"review-comment-date"},o.a.createElement(aE.a,{unixTime:n.updatedAt}))),o.a.createElement("div",{className:"review-comment-media"},(n.commentMedia.processingStatus===Rv.a.PROGRESS||n.commentMedia.processingStatus===Rv.a.UNREACHABLE)&&o.a.createElement("div",{className:"review-comment-media-processing"},o.a.createElement(zc.a,{ariaLabel:t._("Video Processing, icon")},re.a.HOURGLASS_EMPTY),o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"Processing..."}))),n.commentMedia.processingStatus===Rv.a.ERROR&&o.a.createElement("div",{className:"review-comment-media-processing"},o.a.createElement(zc.a,{ariaLabel:t._("Video Processing Error, icon")},re.a.ERROR),o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"Processing error"}))),n.commentMedia.processingStatus===Rv.a.READY&&o.a.createElement("div",{className:"review-comment-media-player"},o.a.createElement(Mt.a,{id:"peer-comment-media[".concat(n.dbId,"]"),playerId:"Peer comment video player "+n.dbId,media:n.commentMedia,termClassId:u,activityId:l,usageContext:d})),i&&!n.isDeleted?o.a.createElement("div",{className:dE},o.a.createElement(we.d,{id:"button-comment-delete",className:fE,ariaLabel:t._("Delete Comment"),onClick:function(){a(n)}},re.a.DELETE)):null)):o.a.createElement("div",{className:"review-comment"},o.a.createElement("div",{className:"review-comment-text-container"},f,m,o.a.createElement("div",null,o.a.createElement("p",{className:E()("review-comment-text",n.isDeleted?"comment-deleted":null)},n.isDeleted?p:n.commentText)),o.a.createElement("div",null,o.a.createElement(aE.a,{unixTime:n.updatedAt}))),this.getActions())}}])&&cE(n.prototype,r),a&&cE(n,a),t}(a.Component),bE=Object(U.withI18n)()(mE);mE.propTypes={canDelete:c.a.bool.isRequired,canEdit:c.a.bool.isRequired,comment:c.a.object.isRequired,customActions:c.a.any,onSyncTimeClick:c.a.func.isRequired,onDeleteComment:c.a.func.isRequired,onEditComment:c.a.func.isRequired,showCommenterName:c.a.bool.isRequired,showSyncTime:c.a.bool,termClassId:c.a.number,activityId:c.a.number,usageContext:c.a.oneOf([Kh.a.ACTIVITY_COMMENTARY,Kh.a.ACTIVITY_OVERVIEW,Kh.a.COMMENT,Kh.a.DIRECT_LIBRARY,Kh.a.FEEDBACK,Kh.a.INTERACTIVE_VIDEO,Kh.a.PROFILE,Kh.a.QA_QUESTION,Kh.a.STUDENT_RESULT,Kh.a.STUDENT_RESULT_PARTIAL]).isRequired},mE.defaultProps={showSyncTime:!0};n("VJ5r");function yE(e){return(yE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hE(e){return(hE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gE(e,t){return(gE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function EE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OE={message:""},SE=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=hE(t).call(this,e),n=!a||"object"!==yE(a)&&"function"!==typeof a?EE(r):a,wE(EE(EE(n)),"scrollCommentsToBottom",(function(){var e=n.commentsContainer.current;e&&(e.scrollTop=e.scrollHeight)})),wE(EE(EE(n)),"showPeerReviewReport",(function(e){var t=n.props.i18n;dt.a.showModal(o.a.createElement(af.a,{title:t._("Peer Reviews"),rubricEvaluations:e}))})),wE(EE(EE(n)),"getCommentPresetItems",(function(){var e=n.props.commentPresets,t=n.state.message,r=O.a.clone(e),a=[];if(t&&(r=O.a.filter(r,(function(e){return-1!==e.commentText.toLowerCase().indexOf(t.toLowerCase())}))),r)for(var o=function(e){a.push({className:"feedback-text-dropdown-item",contentClassName:"feedback-text-dropdown-item-text",tileClassName:"feedback-text-dropdown-item-tile",primaryText:r[e].commentText,onClick:function(){return n.onPresetMessageChange(r[e].commentText)}})},i=0;i<r.length;i++)o(i);return a})),wE(EE(EE(n)),"getComments",(function(){var e=n.props,t=e.comments,r=e.i18n,a=e.termClassId,i=e.activityId,c=e.getCommentConfig,s=e.onEditComment,u=e.onDeleteComment,l=e.onSyncTimeClick;return!t||t&&0===t.length?o.a.createElement("div",{className:"submission-review-comments no-comments",ref:n.commentsContainer},o.a.createElement("span",{className:"card-placeholder-text"},r._("No comments"))):o.a.createElement("div",{className:"submission-review-comments",ref:n.commentsContainer},t&&t.map((function(e){var t=c(e);return o.a.createElement(bE,{key:"comment"+e.dbId,comment:e,showCommenterName:!0,canEdit:t.canEdit,canDelete:t.canDelete,termClassId:a,activityId:i,usageContext:Kh.a.COMMENT,onSyncTimeClick:l,onDeleteComment:u,onEditComment:s,customActions:t.customActions})})))})),wE(EE(EE(n)),"onAddVideoComment",(function(){(0,n.props.onAddVideoComment)()})),wE(EE(EE(n)),"onCommentChange",(function(e){var t=O.a.trimStart(e);(0,n.props.onCommentChange)(t),n.setState({message:t})})),wE(EE(EE(n)),"onPresetMessageChange",(function(e){(0,n.props.onPresetMessageChange)(e),n.setState({message:""})})),wE(EE(EE(n)),"onSubmitComment",(function(e){if(e.isValid){var t=n.props.onSubmitComment,r=n.state.message,a=O.a.trim(r);a&&(t(a),n.setState({message:""}))}})),wE(EE(EE(n)),"getSubmitSection",(function(){var e=n.state.message,t=n.props,r=t.activityCommentIsLoading,a=t.isCommentingAnonymous,i=t.onPresetDropdownVisibilityChange,c=t.i18n,s=Object(eu.f)(e);r&&n._previousActivityCommentIsLoading&&requestAnimationFrame((function(){n.commentTextFieldRef.current.focus()})),n._previousActivityCommentIsLoading=r;var u=null;return bt.f()||(u=bt.d()?c._("(\\u2318 + Enter) to Submit"):c._("(Ctrl + Enter) to Submit")),o.a.createElement("div",{className:"submission-review-comment-submit-section"},!a&&o.a.createElement(we.d,{id:"submission-review-add-video-comment-btn",enabled:!r,className:"add-video-comment-button",ariaLabel:c._("Add Video"),onClick:n.onAddVideoComment},re.a.VIDEO_ADD),o.a.createElement(Sa.j,{ref:n.commentTextFieldRef,id:"submission-review-comment-preset-dropdown",className:"comment-preset-dropdown",listClassName:"comment-preset-dropdown-list",ariaLabel:c._("Comment"),enabled:!r,errorText:s.exceedsLimit?c._("Exceeds {0} characters.",{0:s.maxLength}):"",helpText:s.isValid?u:"",helpOnFocus:!0,maxLength:s.maxLength,maxRows:2,menuItems:n.getCommentPresetItems(),onDropdownVisibilityChange:i,onTextChange:n.onCommentChange,onSubmit:function(){return n.onSubmitComment(s)},placeholder:c._("Comment..."),required:!s.isEmpty,rows:1,toggleQuery:".md-text-field-container",value:e}),o.a.createElement(we.d,{id:"submission-review-comment-send-btn",enabled:!r&&s.isValid,className:"send-comment-button",isLoading:r,onClick:function(){return n.onSubmitComment(s)}},re.a.SEND))})),n.state=OE,n._previousActivityCommentIsLoading=!1,n.commentTextFieldRef=o.a.createRef(),n.commentsContainer=o.a.createRef(),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gE(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.scrollCommentsToBottom()}},{key:"componentDidUpdate",value:function(){this.props.scrollCommentsToBottom&&this.scrollCommentsToBottom()}},{key:"render",value:function(){var e=this.props,t=e.assessmentRatingComponent,n=e.className;return o.a.createElement("div",{className:E()("submission-review-comments-container",n)},this.getComments(),this.getSubmitSection(),t)}}])&&vE(n.prototype,r),a&&vE(n,a),t}(o.a.PureComponent);SE.defaultProps={activityCommentIsLoading:!1,assessmentRatingComponent:null,comments:[],commentPresets:[],isCommentingAnonymous:!1,onPresetMessageChange:function(){},onPresetDropdownVisibilityChange:function(){},scrollCommentsToBottom:!1},SE.propTypes={activityCommentIsLoading:c.a.bool,activityId:c.a.number.isRequired,assessmentRatingComponent:c.a.any,className:c.a.string,comments:c.a.array,commentPresets:c.a.array,getCommentConfig:c.a.func.isRequired,i18n:c.a.any.isRequired,isCommentingAnonymous:c.a.bool,onAddVideoComment:c.a.func.isRequired,onCommentChange:c.a.func.isRequired,onDeleteComment:c.a.func.isRequired,onEditComment:c.a.func.isRequired,onPresetMessageChange:c.a.func,onPresetDropdownVisibilityChange:c.a.func,onSubmitComment:c.a.func.isRequired,onSyncTimeClick:c.a.func.isRequired,scrollCommentsToBottom:c.a.bool,termClassId:c.a.number.isRequired};var CE=Object(U.withI18n)()(Object(y.k)(SE));n("FC0G");function _E(e){return(_E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TE(e){return(TE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RE(e,t){return(RE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var NE={selectedPlaybackWorkItemId:null,selectedPlaybackSyncTime:null},jE=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=TE(t).call(this,e),n=!a||"object"!==_E(a)&&"function"!==typeof a?PE(r):a,AE(PE(PE(n)),"getCommentMarks",(function(){var e=n.props.comments,t=[];return e&&e.forEach((function(e){e&&null!==e.syncTime&&t.push({timestamp:e.syncTime})})),t})),AE(PE(PE(n)),"findWorkItemById",(function(e){if(!e)return null;var t=n.props.workItems;return O.a.find(t,{id:e})})),AE(PE(PE(n)),"getSelectedVideoPlayerId",(function(){var e=n.state.selectedPlaybackWorkItemId,t=null,r=n.findWorkItemById(e);return r&&(t=kv.getVideoPlayerIdForWorkItem(r)),t})),AE(PE(PE(n)),"hideVideoPlayer",(function(){n.setState({selectedPlaybackWorkItemId:null,selectedPlaybackSyncTime:null})})),AE(PE(PE(n)),"onAddVideoComment",(function(){(0,n.props.onAddVideoComment)(n.getSelectedVideoPlayerId())})),AE(PE(PE(n)),"onCommentChange",(function(e){(0,n.props.onCommentChange)(e,n.getSelectedVideoPlayerId())})),AE(PE(PE(n)),"onPresetDropdownVisibilityChange",(function(e){(0,n.props.onPresetDropdownVisibilityChange)(e,n.getSelectedVideoPlayerId())})),AE(PE(PE(n)),"onPresetMessageChange",(function(e){(0,n.props.onPresetMessageChange)(e,n.getSelectedVideoPlayerId())})),AE(PE(PE(n)),"onSubmitComment",(function(e){(0,n.props.onSubmitComment)(e,n.getSelectedVideoPlayerId())})),AE(PE(PE(n)),"onPlayVideo",(function(e){for(var t=n.props.workItems,r=0;r<t.length;r++){var a=t[r];if(a.type===$y.VIDEO||a.type===$y.MEETING)kv.getVideoPlayerIdForWorkItem(a)===e&&n.setState({selectedPlaybackWorkItemId:a.id})}})),AE(PE(PE(n)),"onSyncTimeClick",(function(e){var t=n.props,r=t.onSyncTimeClick,a=t.workItems,o=O.a.find(a,{type:$y.VIDEO||$y.MEETING}),i=kv.getVideoPlayerIdForWorkItem(o);o&&n.setState({selectedPlaybackWorkItemId:o.id,selectedPlaybackSyncTime:e}),r(e,i)})),n.state=NE,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RE(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityId,n=e.activityCommentIsLoading,r=e.assessmentRatingComponent,a=e.assetsClassName,i=e.className,c=e.comments,s=e.commentsClassName,u=e.commentPresets,l=e.getCommentConfig,d=e.isCommentingAnonymous,f=e.onDeleteComment,p=e.onEditComment,m=e.onResultMediaChange,b=e.onSubmissionViewed,y=e.scrollCommentsToBottom,v=e.termClassId,h=e.workItems,g=this.state,w=g.selectedPlaybackWorkItemId,O=g.selectedPlaybackSyncTime,S=this.findWorkItemById(w);return o.a.createElement("div",{className:E()("submission-review-container",i)},o.a.createElement(rE,{activityId:t,className:a,commentMarks:this.getCommentMarks(),onHideVideoPlayer:this.hideVideoPlayer,onShowVideoPlayer:this.onPlayVideo,onResultMediaChange:m,onPlayVideo:b,selectedPlaybackWorkItem:S,selectedPlaybackSyncTime:O,termClassId:v,workItems:h}),o.a.createElement(CE,{activityId:t,activityCommentIsLoading:n,assessmentRatingComponent:r,comments:c,commentsClassName:s,commentPresets:u,getCommentConfig:l,isCommentingAnonymous:d,onAddVideoComment:this.onAddVideoComment,onCommentChange:this.onCommentChange,onDeleteComment:f,onEditComment:p,onPresetDropdownVisibilityChange:this.onPresetDropdownVisibilityChange,onPresetMessageChange:this.onPresetMessageChange,onSubmitComment:this.onSubmitComment,onSyncTimeClick:this.onSyncTimeClick,scrollCommentsToBottom:y,termClassId:v}))}}])&&IE(n.prototype,r),a&&IE(n,a),t}(o.a.PureComponent);jE.defaultProps={activityCommentIsLoading:!1,assessmentRatingComponent:null,comments:[],commentPresets:[],isCommentingAnonymous:!1,onPresetDropdownVisibilityChange:function(){},onPresetMessageChange:function(){},onSubmissionViewed:function(){},scrollCommentsToBottom:!1},jE.propTypes={activityCommentIsLoading:c.a.bool,activityId:c.a.number.isRequired,assetsClassName:c.a.string,assessmentRatingComponent:c.a.any,className:c.a.string,comments:c.a.array,commentsClassName:c.a.string,commentPresets:c.a.array,getCommentConfig:c.a.func.isRequired,isCommentingAnonymous:c.a.bool,onAddVideoComment:c.a.func.isRequired,onCommentChange:c.a.func.isRequired,onDeleteComment:c.a.func.isRequired,onEditComment:c.a.func.isRequired,onPresetDropdownVisibilityChange:c.a.func,onPresetMessageChange:c.a.func,onResultMediaChange:c.a.func.isRequired,onSubmissionViewed:c.a.func,onSubmitComment:c.a.func.isRequired,onSyncTimeClick:c.a.func.isRequired,scrollCommentsToBottom:c.a.bool,termClassId:c.a.number.isRequired,workItems:c.a.array.isRequired};var kE=jE;n("hH2E");function DE(e){return(DE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LE(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ME(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xE(e){return(xE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FE(e,t){return(FE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GE=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=xE(t).call(this,e),n=!a||"object"!==DE(a)&&"function"!==typeof a?UE(r):a,VE(UE(UE(n)),"selectedResultChanged",(function(e){var t=n.props.onSelectedResultChange;n.submissionReview.current&&n.submissionReview.current.hideVideoPlayer(),t(e)})),VE(UE(UE(n)),"onNextPeerReview",(function(){var e=n.props.availablePeerReviews;e&&n.selectedResultChanged(e[0].submitter.dbId)})),VE(UE(UE(n)),"getPeerSelectField",(function(){var e=n.props,t=e.activityType,r=e.availablePeerReviews,a=e.filteredReviews,i=e.isFiveStarEnabled,c=e.isRubricReviewEnabled,s=e.i18n,u=e.peerReviewType,l=e.selectedResult,d=O.a.get(l,"submitter.dbId"),f=[],p=t===Wu.b.GROUP_PRESENTATION?s._("Select Peer Group"):s._("Select Peer Learner"),m=[];return u===jg.a.SYSTEM?((f=LE(a)).push(O.a.find(r,{submitter:{dbId:d}})),f=O.a.uniqBy(f,"submitter.dbId")):u===jg.a.STUDENT&&(f=LE(r)),(f=O.a.compact(f))&&(m=f.map((function(e){var t={value:e.submitter.dbId};return t.label=Object(eu.b)(e,s),n.isReviewedPeerReview(e.submitter.dbId)&&iy(e,i,c)&&(t.className="has-review"),t}))),m.length>0?o.a.createElement("div",{className:"peer-review-student-select-container"},o.a.createElement("h5",null,s._("Peer:")),o.a.createElement(Sa.e,{id:"review-student-select",className:"peer-review-student-select-field",label:"",ariaLabel:s._("Select Peer to Review"),value:d||"",placeholder:p,onChange:n.selectedResultChanged,sameWidth:!1,menuItems:m})):null})),VE(UE(UE(n)),"isQuantitativeReviewEnabled",(function(){var e=n.props,t=e.isFiveStarEnabled,r=e.isRubricReviewEnabled;return t||r})),VE(UE(UE(n)),"getCardHeader",(function(){var e=n.props,t=e.filteredReviews,r=e.peerReviewRequiredCount,a=e.isFiveStarEnabled,i=e.isRubricReviewEnabled,c=e.i18n,s=[];t&&t.map((function(e){return iy(e,a,i)&&s.push(e),!0}));var u=s.length,l=["peer-review-header-progress-label"],d=c._("Reviewed: {completedCount}",{completedCount:u}),f=null;return r&&(u>=r?(l.push("label--bold"),d=c._("Completed"),f=o.a.createElement(Og.b,{className:"peer-review-header-progress-icon",type:Og.a.SUCCESS,enableTooltip:!1})):(d=c._("Reviewed: {completedCount} of {peerReviewRequiredCount}",{completedCount:u,peerReviewRequiredCount:r}),f=o.a.createElement(Ag,{className:"peer-review-header-progress",value:u,maxValue:r}))),o.a.createElement("div",{className:"peer-review-header"},o.a.createElement("div",{className:"peer-review-header-title"},o.a.createElement("h2",{className:"card-header"},c._("Peer Review")),o.a.createElement("div",{className:"peer-review-header-right-container"},o.a.createElement("div",{className:E()(l)},d),f)))})),VE(UE(UE(n)),"isReviewedPeerReview",(function(e){var t=n.props.filteredReviews;if(t)for(var r=0;r<t.length;r++)if(t[r].submitter.dbId===e)return!0;return!1})),VE(UE(UE(n)),"getRatingComponent",(function(){var e=n.props,t=e.onRatingChange,r=e.onEditRubricRating,a=e.isTestStudent,i=e.rubric,c=e.selectedResult,s=e.i18n;if(c){var u=n.props,l=u.isFiveStarEnabled,d=u.isRubricReviewEnabled;if(l){var f=0;return c.myFiveStarRating&&(f=c.myFiveStarRating.value),o.a.createElement("div",{className:"peer-review-rating-container"},o.a.createElement(Qd.a,{enabled:!a,name:"peer-review-rating",value:f,onChange:t}))}if(d){var p=0;return c.myRubricEvaluation&&(p=c.myRubricEvaluation.points),o.a.createElement("div",{className:"peer-review-rubric-assessment-container"},s._("Rubric Score"),o.a.createElement(we.b,{id:"button-peer-review-rubric",ariaLabel:s._("Rubric Score"),enabled:!a,onClick:r,className:"eval-rubric-result-button",primary:!0},o.a.createElement(tf.c,{points:p,max:i.maxValue})))}}return null})),VE(UE(UE(n)),"getPeerReviewDueDate",(function(){var e=n.props,t=e.i18n,r=e.peerReviewDueDate;return r?o.a.createElement("div",{className:"peer-review-due-date-container"},o.a.createElement(Oe.a,{iconClassName:Tf.a.CALENDAR}),o.a.createElement("p",null,t._("Due Date:")," ",o.a.createElement(oa.b,{unixTime:r}))):null})),VE(UE(UE(n)),"getPeerReviewGradingInfo",(function(){var e=n.props,t=e.isPeerReviewGradingEnabled,r=e.gradedPeerReviewWeight,a=e.i18n;return t?o.a.createElement("div",{className:"peer-review-grading-info"},o.a.createElement(Dc.b,{className:"peer-review-grading-message",type:Dc.a.INFO,message:a._("This assignment factors your peer review activity into your overall score. Quality of all your completed peer reviews will be scored with {gradedPeerReviewWeight}% weight towards your overall score.",{gradedPeerReviewWeight:r})})):null})),VE(UE(UE(n)),"getPeerReviewPaperHeader",(function(){var e=n.props,t=e.availablePeerReviews,r=e.isFiveStarEnabled,a=e.isRubricReviewEnabled,i=e.i18n,c=e.peerReviewType,s=e.selectedResult;if(!s)return null;var u=t&&t.length>0,l=ry(s),d=ay(s),f=oy(s),p=n.isReviewedPeerReview(s.submitter.dbId)&&iy(s,r,a),m=l?re.a.TASK_COMPLETE:re.a.TASK_INCOMPLETE,b=d?re.a.TASK_COMPLETE:re.a.TASK_INCOMPLETE,y=f?re.a.TASK_COMPLETE:re.a.TASK_INCOMPLETE,v=l?i._("Completed"):i._("View any of the documents or watch the video"),h=d?i._("Completed"):i._("Leave a comment"),g=f?i._("Completed"):a?i._("Submit a rubric evaluation"):i._("Submit a five star rating"),w=c===jg.a.SYSTEM,O={label:i._("Retrieve a new peer submission for review")};return w&&(p?u||(O={label:i._("There are no more peer submissions available")}):O={label:i._("You must complete the current review before proceeding")}),o.a.createElement("div",{className:"peer-review-paper-header"},o.a.createElement("div",{className:"peer-review-paper-header-primary"},n.getPeerSelectField(),o.a.createElement("div",{style:{flex:1}}),w&&o.a.createElement(we.b,{id:"button-peer-review-next-peer",primary:!0,ariaLabel:i._("Next Peer"),className:"next-peer-button",enabled:p&&u,tooltip:O,onClick:n.onNextPeerReview},i._("Next Peer"))),o.a.createElement("div",{className:"peer-review-paper-header-secondary"},o.a.createElement(Ng.b,{className:E()("peer-review-progress-item",l&&"peer-review-progress-item--complete"),label:v},o.a.createElement(Oe.a,{className:"peer-review-progress-item-icon"},m),o.a.createElement("div",{className:"peer-review-progress-item-label"},i._("Viewed Submission"))),o.a.createElement(Ng.b,{className:E()("peer-review-progress-item",d&&"peer-review-progress-item--complete"),label:h},o.a.createElement(Oe.a,{className:"peer-review-progress-item-icon"},b),o.a.createElement("div",{className:"peer-review-progress-item-label"},i._("Commented"))),n.isQuantitativeReviewEnabled()&&o.a.createElement(Ng.b,{className:E()("peer-review-progress-item",f&&"peer-review-progress-item--complete"),label:g},o.a.createElement(Oe.a,{className:"peer-review-progress-item-icon"},y),o.a.createElement("div",{className:"peer-review-progress-item-label"},i._("Evaluated")))))})),VE(UE(UE(n)),"getPeerSubmissionPreview",(function(){var e=n.props,t=e.activityId,r=e.activityCommentIsLoading,a=e.comments,i=e.getCommentConfig,c=e.isCommentingAnonymous,s=e.onAddVideoComment,u=e.onDeleteComment,l=e.onEditComment,d=e.onCommentChange,f=e.onSubmissionViewed,p=e.onSubmitComment,m=e.onSyncTimeClick,b=e.rubric,y=e.scrollCommentsToBottom,v=e.termClassId,h=e.workItems;return o.a.createElement("div",{className:"peer-review-paper-container"},o.a.createElement(Nu.a,{className:"peer-review-paper",zDepth:1},n.getPeerReviewPaperHeader(),o.a.createElement(kE,{ref:n.submissionReview,activityId:t,activityCommentIsLoading:r,assessmentRatingComponent:n.getRatingComponent(),assetsClassName:"peer-review-submission-assets-container",comments:a,getCommentConfig:i,isCommentingAnonymous:c,onAddVideoComment:s,onDeleteComment:u,onEditComment:l,onCommentChange:d,onSubmissionViewed:f,onSubmitComment:p,onSyncTimeClick:m,rubric:b,scrollCommentsToBottom:y,termClassId:v,workItems:h})))})),VE(UE(UE(n)),"getNoPeerSubmissionsMessage",(function(){var e=n.props.i18n;return o.a.createElement("div",{className:"peer-review-no-submissions"},o.a.createElement("p",{className:"card-placeholder-text"},e._("There are no submissions to review right now.")))})),n.submissionReview=o.a.createRef(),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FE(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.hasPeerSubmissions;return e.peerReviewType?o.a.createElement("div",null,o.a.createElement(Hn.a,{className:"peer-review-card"},o.a.createElement("div",{className:"peer-review-title"},this.getCardHeader()),o.a.createElement("div",{className:"peer-review-content"},fe.a.isPeerReviewDueDateEnabled()&&this.getPeerReviewDueDate(),this.getPeerReviewGradingInfo(),t?this.getPeerSubmissionPreview():this.getNoPeerSubmissionsMessage()))):null}}])&&ME(n.prototype,r),a&&ME(n,a),t}(o.a.PureComponent);GE.propTypes={activityId:c.a.number,activityCommentIsLoading:c.a.bool,activityType:c.a.string,availablePeerReviews:c.a.array,comments:c.a.array,filteredReviews:c.a.array,getCommentConfig:c.a.func,gradedPeerReviewWeight:c.a.number,hasPeerSubmissions:c.a.bool,i18n:c.a.object,isFiveStarEnabled:c.a.bool,isCommentingAnonymous:c.a.bool,isPeerReviewGradingEnabled:c.a.bool,isRubricReviewEnabled:c.a.bool,isTestStudent:c.a.bool,onAddVideoComment:c.a.func.isRequired,onCommentChange:c.a.func.isRequired,onDeleteComment:c.a.func.isRequired,onEditComment:c.a.func.isRequired,onEditRubricRating:c.a.func.isRequired,onRatingChange:c.a.func.isRequired,onSelectedResultChange:c.a.func.isRequired,onSubmissionViewed:c.a.func.isRequired,onSubmitComment:c.a.func.isRequired,onSyncTimeClick:c.a.func.isRequired,peerReviewDueDate:c.a.number,peerReviewRequiredCount:c.a.number,peerReviewType:c.a.string,rubric:c.a.object,selectedResult:c.a.any,scrollCommentsToBottom:c.a.bool,termClassId:c.a.number.isRequired,workItems:c.a.array.isRequired};var qE=Object(U.withI18n)()(GE);function BE(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function WE(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){BE(o,r,a,i,c,"next",e)}function c(e){BE(o,r,a,i,c,"throw",e)}i(void 0)}))}}function QE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var YE=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),QE(this,"addComment",function(){var e=WE(regeneratorRuntime.mark((function e(t,n,r,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu.a.addPeerReviewComment(t,n,r,a);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()),QE(this,"addVideoComment",function(){var e=WE(regeneratorRuntime.mark((function e(t,n,r,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu.a.addPeerReviewVideo(t,n,r,a);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()),QE(this,"editComment",function(){var e=WE(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu.a.editPeerReviewComment(t,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),QE(this,"deleteComment",function(){var e=WE(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu.a.deletePeerReviewComment(t,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),QE(this,"createPeerReviewFiveStar",function(){var e=WE(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu.a.createPeerReviewFiveStar(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()),QE(this,"setPeerReviewViewed",function(){var e=WE(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu.a.setPeerReviewViewed(t,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),QE(this,"createRubricPeerReview",function(){var e=WE(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu.a.createRubricPeerReview(t,n,r,!1);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}())};function HE(e){return(HE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zE(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function KE(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){zE(o,r,a,i,c,"next",e)}function c(e){zE(o,r,a,i,c,"throw",e)}i(void 0)}))}}function XE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JE(e){return(JE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZE(e,t){return(ZE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ew(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tw={selectedReviewSubmitterId:null,commentIsLoading:!1,resumeVideoAfterMessageSubmit:!1,scrollCommentsToBottom:!1},nw=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=JE(t).call(this,e),n=!a||"object"!==HE(a)&&"function"!==typeof a?$E(r):a,ew($E($E(n)),"componentDidMount",(function(){n.scrollToBottom()})),ew($E($E(n)),"getInitialSelectedReviewIdFromProps",(function(e){var t=null,r=e.availablePeerReviews,a=n.getFilteredReviews(e);return a&&a.length>0?t=a[a.length-1].submitter.dbId:r&&r.length>0&&(t=r[0].submitter.dbId),t})),ew($E($E(n)),"scrollToBottom",(function(){n.setState({scrollCommentsToBottom:!0},(function(){n.setState({scrollCommentsToBottom:!1})}))})),ew($E($E(n)),"getPlayerTime",(function(e){var t=ly.c(e,m.a.getState());return null===t?n.getSelectedReviewObject().media?0:null:+t.toFixed(1)-.1})),ew($E($E(n)),"pauseVideoPlayback",(function(e){var t=n.props.dispatch,r=n.state.resumeVideoAfterMessageSubmit;if(e){var a=ly.b(e,m.a.getState(),"isPlaying"),o=r;if(o||(o=a),a){var i=n.getPlayerTime(e);t(uy.t(e)),n.globalPlayerEmitter.pause({playerId:e,startTime:i})}n.setState({resumeVideoAfterMessageSubmit:o})}})),ew($E($E(n)),"finalizeCommentState",(function(e){var t=n.props.dispatch,r=n.state.resumeVideoAfterMessageSubmit;(n.setState({resumeVideoAfterMessageSubmit:!1,commentIsLoading:!1}),n.scrollToBottom(),r)&&(ly.b(e,m.a.getState(),"isPaused")&&n.globalPlayerEmitter.play({playerId:e,startTime:n.getPlayerTime()}),t(uy.u(e)))})),ew($E($E(n)),"onCommentChange",(function(e,t){n.pauseVideoPlayback(t)})),ew($E($E(n)),"onSubmitComment",function(){var e=KE(regeneratorRuntime.mark((function e(t,r){var a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,o=a.activityId,i=a.viewContext,c=n.state.selectedReviewSubmitterId,n.setState({commentIsLoading:!0}),e.next=5,YE.addComment(o,c,t,n.getPlayerTime(r),i);case 5:n.finalizeCommentState(r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),ew($E($E(n)),"onAddVideoComment",(function(e){var t=n.props.activityId;n.pauseVideoPlayback(e),fr.a.isRecorderSupported()&&!bt.b()?dt.a.showModal(o.a.createElement(Qb,{activityId:+t,mediaType:pr.a.COMMENT,id:"FeedbackCommentRecorder",onComplete:function(t){t&&t.masterMediaId&&n.onAddVideoComplete(t.masterMediaId,e)}})):dt.a.showModal(o.a.createElement($b,{activityId:+t,mediaType:pr.a.COMMENT,showImportFromCloud:!1,onComplete:function(t){t&&t[0]&&n.onAddVideoComplete(t[0],e)}}))})),ew($E($E(n)),"onAddVideoComplete",function(){var e=KE(regeneratorRuntime.mark((function e(t,r){var a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props,o=a.activityId,i=a.viewContext,c=n.state.selectedReviewSubmitterId,t){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,YE.addVideoComment(o,c,t,n.getPlayerTime(r),i);case 6:n.finalizeCommentState(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),ew($E($E(n)),"onSelectedResultChange",(function(e){n.setState({selectedReviewSubmitterId:null},(function(){n.setState({selectedReviewSubmitterId:e},(function(){n.scrollToBottom()}))}))})),ew($E($E(n)),"onEditComment",(function(e){dt.a.showModal(o.a.createElement(wg,{comment:e,onConfirm:function(){var e=KE(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YE.editComment(t.dbId,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}))})),ew($E($E(n)),"onDeleteComment",(function(e){var t=n.props,r=t.activityId,a=t.i18n;dt.a.showModal(o.a.createElement(Db,{id:"delete-review-item-dialog",description:a._("Are you sure you want to delete this comment?"),cancelLabel:a._("No"),confirmLabel:a._("Yes"),title:a._("Delete Comment"),onConfirm:KE(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,YE.deleteComment(r,e.dbId);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}))})),ew($E($E(n)),"onSyncTimeClick",(function(e,t){var r=n.props.dispatch,a=n.getPlayerTime(),o=e;r(uy.F(t,o)),n.globalPlayerEmitter.seek({playerId:t,startTime:a,endTime:o})})),ew($E($E(n)),"onRatingChange",(function(e){var t=n.props.activityId,r=n.state.selectedReviewSubmitterId;YE.createPeerReviewFiveStar(t,r,e)})),ew($E($E(n)),"getSelectedReviewObject",(function(){var e=n.props.availablePeerReviews,t=n.state.selectedReviewSubmitterId,r=n.getFilteredReviews(),a=null,o=null;return r&&(o=O.a.find(r,(function(e){return e.submitter.dbId===t}))),o?a=o:e&&(a=O.a.find(e,(function(e){return e.submitter.dbId===t}))),a})),ew($E($E(n)),"isTestStudent",(function(){var e=n.props.userData;return Wr.i(e)})),ew($E($E(n)),"getFilteredReviews",(function(e){var t=e;t||(t=n.props);var r=t,a=r.activityType,o=r.reviewedPeerReviews,i=r.userId;if(!o)return[];var c=O.a.filter(o,(function(e){return+e.submitter.dbId!==+i}));return a===Wu.b.GROUP_PRESENTATION&&(c=O.a.uniqBy(c,"activityStudentGroup.dbId")),c})),ew($E($E(n)),"onSubmissionViewed",(function(){var e=n.props.activityId,t=n.state.selectedReviewSubmitterId,r=n.getSelectedReviewObject();r&&!ry(r)&&YE.setPeerReviewViewed(e,t)})),ew($E($E(n)),"getComments",(function(){var e=[],t=n.getSelectedReviewObject();return t&&(e=t.comments)&&(e=O.a.orderBy(e,["syncTime","updatedAt"],["asc","asc"])),e})),ew($E($E(n)),"getCommentConfig",(function(e){var t=n.props.userId,r=e.commenter&&e.commenter.dbId===t;return{canDelete:r,canEdit:r}})),ew($E($E(n)),"onEditRubricRating",(function(){var e=n.props,t=e.activityId,r=e.rubric,a=n.state.selectedReviewSubmitterId,i=n.getSelectedReviewObject();if(i){var c=null,s=null;i.myRubricEvaluation&&(c=i.myRubricEvaluation.points,s=i.myRubricEvaluation.cells.map((function(e){return e.dbId}))),dt.a.showModal(o.a.createElement(tf.b,{rubric:r,rubricPoints:c,grade:s,mode:nf.a.GRADE,onCancel:dt.a.closeModal,onSubmit:function(){var e=KE(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YE.createRubricPeerReview(t,a,n);case 2:dt.a.closeModal();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}))}})),ew($E($E(n)),"getWorkItemConfig",(function(e){return{isProcessing:!1,hasProcessingError:!1,actions:{primary:[],secondary:n.getSecondaryActions(e)}}})),ew($E($E(n)),"isDownloadEnabled",(function(e){var t=!1,n=O.a.get(e,["attributes",ev.DOWNLOAD_URL]);switch(e.type){case $y.FILE:case $y.IMAGE:case $y.LINK:t=Boolean(n)}return t})),ew($E($E(n)),"getSecondaryActions",(function(e){var t=[],r=O.a.get(e,["attributes",ev.PREVIEW_URL]),a=n.isDownloadEnabled(e);switch(e.type){case $y.FILE:case $y.IMAGE:t.push(o.a.createElement(mh,{id:"item-action-launch[".concat(e.key,"]"),key:"item-action-launch[".concat(e.key,"]"),previewUrl:r,onClick:function(){n.onSubmissionViewed()}})),t.push(o.a.createElement(Mv,{id:"item-action-download[".concat(e.key,"]"),key:"item-action-download[".concat(e.key,"]"),item:e,enabled:a,onClick:function(){n.onSubmissionViewed()}}));break;case $y.LINK:t.push(o.a.createElement(mh,{id:"item-action-launch[".concat(e.key,"]"),key:"item-action-launch[".concat(e.key,"]"),previewUrl:r,onClick:function(){n.onSubmissionViewed()}}))}return t})),n.globalPlayerEmitter=new ey.a;var i=n.getInitialSelectedReviewIdFromProps(e);return i&&(tw.selectedReviewSubmitterId=i),n.state=tw,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZE(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.selectedReviewSubmitterId||this.setState({selectedReviewSubmitterId:this.getInitialSelectedReviewIdFromProps(e)})}},{key:"render",value:function(){var e=this.props,t=e.activityId,n=e.activityType,r=e.availablePeerReviews,a=e.gradedPeerReviewWeight,i=e.isCommentingAnonymous,c=e.isFiveStarEnabled,s=e.isPeerReviewGradingEnabled,u=e.isRubricReviewEnabled,l=e.peerReviewDueDate,d=e.peerReviewType,f=e.peerReviewRequiredCount,p=e.rubric,m=e.termClassId,b=this.state,y=b.commentIsLoading,v=b.scrollCommentsToBottom;if(!d)return null;var h=this.getFilteredReviews(),g=this.getSelectedReviewObject(),E=Boolean(r&&r.length>0||h&&h.length>0),w=[];return g&&(w=kv.getTranslatedResult(g,this.getWorkItemConfig)),o.a.createElement(qE,{activityId:t,activityCommentIsLoading:y,activityType:n,availablePeerReviews:r,comments:this.getComments(),filteredReviews:h,getCommentConfig:this.getCommentConfig,gradedPeerReviewWeight:a,hasPeerSubmissions:E,isCommentingAnonymous:i,isFiveStarEnabled:c,isPeerReviewGradingEnabled:s,isRubricReviewEnabled:u,isTestStudent:this.isTestStudent(),onAddVideoComment:this.onAddVideoComment,onCommentChange:this.onCommentChange,onDeleteComment:this.onDeleteComment,onEditComment:this.onEditComment,onEditRubricRating:this.onEditRubricRating,onRatingChange:this.onRatingChange,onSelectedResultChange:this.onSelectedResultChange,onSubmissionViewed:this.onSubmissionViewed,onSubmitComment:this.onSubmitComment,onSyncTimeClick:this.onSyncTimeClick,peerReviewDueDate:l,peerReviewType:d,peerReviewRequiredCount:f,rubric:p,selectedResult:g,scrollCommentsToBottom:v,termClassId:m,workItems:w})}}])&&XE(n.prototype,r),a&&XE(n,a),t}(o.a.PureComponent);nw.defaultProps={availablePeerReviews:[],gradedPeerReviewWeight:0,peerReviewDueDate:0,rubric:{}},nw.propTypes={activityId:c.a.number.isRequired,activityType:c.a.string.isRequired,availablePeerReviews:c.a.array,dispatch:c.a.func.isRequired,gradedPeerReviewWeight:c.a.number,i18n:c.a.any.isRequired,isFiveStarEnabled:c.a.bool.isRequired,isRubricReviewEnabled:c.a.bool.isRequired,isPeerReviewGradingEnabled:c.a.bool.isRequired,isCommentingAnonymous:c.a.bool.isRequired,peerReviewType:c.a.string.isRequired,peerReviewRequiredCount:c.a.number.isRequired,peerReviewDueDate:c.a.number,rubric:c.a.object,termClassId:c.a.number.isRequired,userData:c.a.object.isRequired,userId:c.a.number.isRequired};var rw=Object(U.withI18n)()(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),activityType:Qs.getActivityType(e),availablePeerReviews:Qs.getAvailablePeerReviews(e),gradedPeerReviewWeight:Qs.getGradedPeerReviewWeight(e),isCommentingAnonymous:Qs.isCommentingAnonymous(e),isFiveStarEnabled:Qs.isFiveStarEnabled(e),isPeerReviewGradingEnabled:Qs.isPeerReviewGradingEnabled(e),isRubricReviewEnabled:Qs.isRubricReviewEnabled(e),peerReviewDueDate:Qs.getPeerReviewDueDate(e),peerReviewRequiredCount:Qs.getPeerReviewRequiredCount(e),peerReviewType:Qs.getPeerReviewType(e),reviewedPeerReviews:Qs.getReviewedPeerReviews(e),rubric:Qs.getRubric(e),termClassId:Qs.getTermClassId(e),userData:Qe.h(e),userId:Qe.i(e)}}))(nw));function aw(e){return(aw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ow(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iw(e,t){return!t||"object"!==aw(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cw(e){return(cw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sw(e,t){return(sw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uw=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),iw(this,cw(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sw(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.linkValue,r=e.linkTitle,a=e.isLoading,i=e.onEditLinkTitle,c=e.onEditLinkValue,s=e.onSave,u=e.errors,l=e.previewLink,d=e.linkValueIsValid,f=[];return f.push(o.a.createElement(we.b,{id:"add-file-add-link-dialog-cancel-button",enabled:!a,secondary:!0,ariaLabel:t._("Cancel"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"Cancel"}))),f.push(o.a.createElement(we.b,{id:"add-file-add-link-dialog-save-button",primary:!0,ariaLabel:t._("Save"),onClick:s,enabled:!a&&d,isLoading:a},o.a.createElement(U.Trans,{id:"Save"}))),o.a.createElement(mb.a,{actions:f,dialogClassName:"c-add-link-dialog",id:"add-link-dialog",title:t._("Add Link"),modal:!0,visible:!0},o.a.createElement("div",null,o.a.createElement("ul",null,u.map((function(e){return o.a.createElement("li",{className:"u-error"},e)}))),o.a.createElement(mr.b,{id:"add-link-title-input",label:t._("Link title"),enabled:!a,value:r,onChange:i,ariaLabel:t._("Link title")}),o.a.createElement("div",{className:E()("u-display-flex","u-align-items-center")},o.a.createElement(mr.b,{id:"add-link-url-input",label:t._("Link"),enabled:!a,value:n,onChange:c,ariaLabel:t._("Link")}),o.a.createElement(we.d,{id:"add-link-preview-button",enabled:d,onClick:l,tooltip:{label:t._("Preview (New Tab)")},ariaLabel:t._("Preview (New Tab)")},re.a.OPEN_IN_NEW))))}}])&&ow(n.prototype,r),a&&ow(n,a),t}(a.Component),lw=Object(U.withI18n)()(uw),dw=n("oDFA"),fw=n.n(dw);function pw(e){return(pw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mw(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function bw(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mw(o,r,a,i,c,"next",e)}function c(e){mw(o,r,a,i,c,"throw",e)}i(void 0)}))}}function yw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vw(e){return(vw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hw(e,t){return(hw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ew(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ww=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=vw(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==pw(a)&&"function"!==typeof a?gw(r):a,Ew(gw(gw(n)),"state",{linkValue:"",linkValueIsValid:!1,linkTitle:"",isLoading:!1,errors:[]}),Ew(gw(gw(n)),"onEditLinkTitle",(function(e){n.setState({linkTitle:e})})),Ew(gw(gw(n)),"onEditLinkValue",(function(e){var t=fw()({strict:!1}).test(e);n.setState({linkValue:e,linkValueIsValid:t})})),Ew(gw(gw(n)),"onSave",bw(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.activityId,a=t.onComplete,o=n.state,i=o.linkTitle,c=o.linkValue,n.setIsLoading(!0),e.prev=3,e.next=6,uu.a.createLink(r,i,c);case 6:n.setIsLoading(!1),a(),dt.a.closeModal(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),n.setErrors(O.a.values(zv(e.t0))),n.setIsLoading(!1);case 15:case"end":return e.stop()}}),e,this,[[3,11]])})))),Ew(gw(gw(n)),"previewLink",(function(){var e=n.state.linkValue;e=e.match(/^https?:/)?e:"//"+e,window.open(e,"_blank")})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hw(e,t)}(t,e),n=t,(r=[{key:"setIsLoading",value:function(e){this.setState({isLoading:e})}},{key:"setErrors",value:function(e){this.setState({errors:e})}},{key:"render",value:function(){var e=this.state,t=e.linkValue,n=e.linkTitle,r=e.isLoading,a=e.errors,i=e.linkValueIsValid;return o.a.createElement(lw,{linkValue:t,linkTitle:n,isLoading:r,linkValueIsValid:i,errors:a,previewLink:this.previewLink,onEditLinkTitle:this.onEditLinkTitle,onEditLinkValue:this.onEditLinkValue,onSave:this.onSave})}}])&&yw(n.prototype,r),a&&yw(n,a),t}(a.Component);ww.propTypes={onComplete:c.a.func,activityId:c.a.number};var Ow=ww;n("u3PK");function Sw(e){return(Sw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _w(e){return(_w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Iw(e,t){return(Iw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pw=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=_w(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Sw(a)&&"function"!==typeof a?Tw(r):a,Rw(Tw(Tw(n)),"state",{webcamMode:!0,desktopMode:!1}),Rw(Tw(Tw(n)),"getDialogComponent",(function(e){var t=n.props,r=t.onCancel,a=t.onRecordClick,i=t.onUploadClick,c=t.i18n,s=t.allowDesktopSharing,u=n.state,l=u.webcamMode,d=u.desktopMode,f=!bt.b(),p={dialogClassName:"add-video-dialog",id:"add-video-dialog",onClose:r,title:c._("Add Video"),modal:!0,visible:!0};return e?p.fullPage=!0:p.actions=[o.a.createElement(we.b,{id:"button-add-video-dialog-cancel",secondary:!0,ariaLabel:c._("Cancel"),onClick:r},o.a.createElement(U.Trans,{id:"Cancel"}))],o.a.createElement(Hf.a,p,o.a.createElement("div",{className:"u-text-center align-top add-video-contents"},f&&o.a.createElement("div",{className:"add-video-checklist"},o.a.createElement(we.h,{id:"button-video-dialog-record",className:"u-mr-5px record-video-button",ariaLabel:c._("Record Video"),enabled:(l||d)&&fr.a.isRecorderSupported(),tooltip:{label:fr.a.isRecorderSupported()?null:c._(oE.a.RECORDING_NOT_SUPPORTED)},onClick:function(){r(),a(l,d,d&&!l)}},o.a.createElement(U.Trans,{id:"Record Video"})),fe.a.isWebcamRecordingSelectionEnabled()&&s&&o.a.createElement("div",{id:"checkbox-add-video-dialog-webcam"},o.a.createElement(Sa.a,{id:"webcam",name:"webcam",label:c._("Camera"),ariaLabel:c._("Camera"),className:"add-video-checkmark",checked:l,onChange:function(e){n.setState({webcamMode:e})}})),fe.a.isDesktopRecordingSelectionEnabled()&&s&&o.a.createElement("div",{id:"checkbox-add-video-dialog-desktop"},o.a.createElement(Sa.a,{id:"desktop",name:"desktop",label:c._("Screen"),ariaLabel:c._("Screen"),className:"add-video-checkmark-btm",checked:d,onChange:function(e){n.setState({desktopMode:e})}}))),o.a.createElement(we.h,{id:"button-video-dialog-upload",ariaLabel:c._("Upload Video"),onClick:function(){r(),i()}},o.a.createElement(U.Trans,{id:"Upload Video"}))))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iw(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F.a,{query:"(min-width: 551px)"},this.getDialogComponent(!1)),o.a.createElement(F.a,{query:"(max-width: 550px)"},this.getDialogComponent(!0)))}}])&&Cw(n.prototype,r),a&&Cw(n,a),t}(a.Component);Pw.defaultProps={allowDesktopSharing:!0},Pw.propTypes={allowDesktopSharing:c.a.bool,onCancel:c.a.func,onRecordClick:c.a.func,onUploadClick:c.a.func};var Aw=Object(U.withI18n)()(Pw),Nw=(n("rlsJ"),n("uxn8")),jw=n("ngQI"),kw=n("PjZZ"),Dw=n("q8N1");function Lw(e){return(Lw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xw(e){return(xw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fw(e,t){return(Fw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gw=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=xw(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==Lw(a)&&"function"!==typeof a?Uw(r):a,Vw(Uw(Uw(n)),"onClick",(function(){var e=n.props.checked;n.onValueChanged(e)})),Vw(Uw(Uw(n)),"onKeyDown",(function(e){var t=n.props.checked;(e.which||e.keyCode)===Dw.a.SPACE&&n.onValueChanged(t)})),Vw(Uw(Uw(n)),"onValueChanged",(function(e){var t=n.props.onChange;t&&t(!e)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fw(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.ariaLabel,n=e.checked,r=e.className,a=e.id,i=e.ink,c=e.label;return o.a.createElement("div",{className:r},o.a.createElement("label",{className:"md-selection-control-label md-pointer--hover md-text"},o.a.createElement("div",{role:"checkbox","aria-checked":n,"aria-labelledby":"".concat(a,"-label"),className:E()("md-fake-btn md-pointer--hover md-fake-btn--no-outline md-selection-control-toggle md-btn md-btn--icon ",n?"md-text--theme-secondary":"md-text--secondary",kw.a(!1,{checked:this.props.checked})),tabIndex:"0",onClick:this.onClick,onKeyDown:this.onKeyDown},i,o.a.createElement("i",{className:"md-icon material-icons md-text--inherit"},n?re.a.CHECK_BOX_CHECKED:re.a.CHECK_BOX_UNCHECKED)),o.a.createElement("span",{"aria-label":t,id:"".concat(a,"-label")},c)))}}])&&Mw(n.prototype,r),a&&Mw(n,a),t}(o.a.PureComponent);Gw.propTypes={ariaLabel:c.a.string,checked:c.a.bool,className:c.a.string,id:c.a.string.isRequired,label:c.a.string,onChange:c.a.func},Gw.defaultProps={checked:!1};var qw=Object(hp.U)(Gw);n("25rm");function Bw(e){return(Bw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ww(){return(Ww=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yw(e,t){return!t||"object"!==Bw(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hw(e){return(Hw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zw(e,t){return(zw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kw=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yw(this,Hw(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zw(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.name,n=e.id,r=e.checked,a=e.i18n,i=e.dragHandleProps,c=e.handleCheckToggle;return o.a.createElement("div",{className:"combine-video-list-item","aria-grabbed":r},o.a.createElement(qw,{id:"combine-item-".concat(n),className:"combine-video-list-item--checkbox",name:"combine-checkboxes[".concat(n,"]"),label:t,"aria-label":a._("Select {name} to combine",{name:t}),value:n,checked:r,onChange:function(e){c(n,e)}}),o.a.createElement("span",Ww({className:"combine-video-list-item--drag-handle",style:r?{}:{display:"none"}},i),o.a.createElement(zc.a,{className:Tf.a.DOT_8,enabled:r})))}}])&&Qw(n.prototype,r),a&&Qw(n,a),t}(a.Component);Kw.defaultProps={dragHandleProps:{}},Kw.propTypes={name:c.a.string.isRequired,id:c.a.number.isRequired,handleCheckToggle:c.a.func.isRequired,dragHandleProps:c.a.object};var Xw=Object(U.withI18n)()(Kw);n("amkF");function Jw(e){return(Jw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zw(){return(Zw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eO(e){return(eO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tO(e,t){return(tO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aO=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=eO(t).call(this,e),n=!a||"object"!==Jw(a)&&"function"!==typeof a?nO(r):a,rO(nO(nO(n)),"onDragEnd",(function(e,t){if(e.destination){var r=n.props,a=r.moveItem,o=r.videos,i=t[e.source.index].media.dbId,c=t[e.destination.index].media.dbId;a(O.a.findIndex(o,{media:{dbId:i}}),O.a.findIndex(o,{media:{dbId:c}}))}})),n.portal=document.createElement("div"),document.body.appendChild(n.portal),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tO(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.i18n,r=t.videos,a=t.handleCheckToggle,i=O.a.groupBy(r,(function(e){return e.checked?"checked":"unchecked"})),c=i.checked||[],s=i.unchecked||[],u=c.map((function(t,n){var r=t.media,i=t.title,c=t.checked;return o.a.createElement(jw.b,{key:r.dbId,draggableId:r.dbId,index:n,type:"COMBINE_MEDIA_ITEM"},(function(t,n){var s=o.a.createElement("li",Zw({ref:t.innerRef,className:n.isDragging?"combine-media-list-item-drag-container--active":""},t.draggableProps),o.a.createElement(Xw,{key:r.dbId,name:i,id:r.dbId,checked:c,handleCheckToggle:a,dragHandleProps:t.dragHandleProps}));return n.isDragging?T.a.createPortal(s,e.portal):s}))})),l=u&&u.length>1,d=u&&u.length>0;return[o.a.createElement(Nu.a,{key:"combine-media-list-checked",className:"combine-media-list-checked-container"},o.a.createElement("div",{className:"combine-media-list-message"},!l&&o.a.createElement("p",null,n._("Select at least 2 videos below to combine")),l&&o.a.createElement("p",null,n._("{0} videos selected",{0:c.length}))),d&&o.a.createElement(jw.a,{onDragEnd:function(t){return e.onDragEnd(t,c)}},o.a.createElement(jw.c,{droppableId:"droppable-library-media-list",type:"COMBINE_MEDIA_ITEM"},(function(e,t){return o.a.createElement("div",Zw({ref:e.innerRef,className:E()("combine-media-list-checked-drag-container",{"combine-media-list-checked-drag-container--active":t.isDraggingOver})},e.droppableProps),o.a.createElement("ul",{style:{listStyle:"none"}},u))})))),o.a.createElement("ul",{key:"combine-media-list-unchecked",style:{listStyle:"none"}},s.map((function(e){var t=e.media,n=e.title,r=e.checked;return o.a.createElement("li",{key:t.dbId},o.a.createElement(Xw,{key:t.dbId,name:n,id:t.dbId,checked:r,handleCheckToggle:a,dragHandleProps:null}))})))]}}])&&$w(n.prototype,r),a&&$w(n,a),t}(a.Component);rO(aO,"portal",null),aO.propTypes={videos:c.a.arrayOf(c.a.object),moveItem:c.a.func,handleCheckToggle:c.a.func};var oO=Object(U.withI18n)()(aO);function iO(e){return(iO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sO(e){return(sO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uO(e,t){return(uO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fO=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=sO(t).call(this,e),n=!a||"object"!==iO(a)&&"function"!==typeof a?lO(r):a,dO(lO(lO(n)),"submit",(function(){var e=n.props,t=e.onSubmit,r=e.onCancel,a=n.getVideosToCombine();n.setState({isLoading:!0}),t(a).then((function(){n.setState({isLoading:!1}),r()})).catch((function(e){n.setState({isLoading:!1}),l.b.error(e)}))})),dO(lO(lO(n)),"handleCheckToggle",(function(e,t){var r=O.a.merge([],n.state.videos),a=O.a.findIndex(r,{media:{dbId:e}});a<0||(r[a]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dO(e,t,n[t])}))}return e}({},r[a],{checked:t}),n.setState({videos:r}))})),dO(lO(lO(n)),"moveItem",(function(e,t){var r=n.state.videos;n.setState({videos:Nw.c(r,e,t)})})),n.state={videos:O.a.merge([],e.videos),isLoading:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uO(e,t)}(t,e),n=t,(r=[{key:"getVideosToCombine",value:function(){return this.state.videos.filter((function(e){return e.checked})).map((function(e){return e.dbId}))}},{key:"render",value:function(){var e=this.state,t=e.videos,n=e.isLoading,r=this.props.i18n,a=this.getVideosToCombine(),i=!n&&a.length>1,c=[];return c.push(o.a.createElement(we.b,{id:"button-combine-video-cancel",secondary:!0,ariaLabel:r._("Cancel"),onClick:this.props.onCancel},o.a.createElement(U.Trans,{id:"Cancel"}))),c.push(o.a.createElement(we.b,{id:"button-combine-video-submit",primary:!0,ariaLabel:r._("Submit"),isLoading:n,onClick:this.submit,enabled:i},o.a.createElement(U.Trans,{id:"Submit"}))),o.a.createElement(mb.a,{actions:c,dialogClassName:"c-combine-video-dialog",id:"combine-video-dialog",title:r._("Combine Video"),modal:!0,visible:!0},o.a.createElement("div",{className:"c-combine-video-dialog__content"},o.a.createElement(oO,{videos:t,moveItem:this.moveItem,handleCheckToggle:this.handleCheckToggle})))}}])&&cO(n.prototype,r),a&&cO(n,a),t}(a.Component);fO.propTypes={videos:c.a.arrayOf(c.a.object),onCancel:c.a.func.isRequired,onSubmit:c.a.func.isRequired};var pO=Object(U.withI18n)()(fO),mO=(n("0b8y"),n("tdQW")),bO=n("eDl9"),yO=n("pElA");function vO(){var e=gO(["\n    mutation uploadActivityResultPartialDocumentAsStudent($input: UploadActivityResultPartialDocumentAsStudentInput!){\n        uploadActivityResultPartialDocumentAsStudent(input: $input) {\n            document {\n                ...Document\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n    ","\n"]);return vO=function(){return e},e}function hO(){var e=gO(["\n    mutation provideActivityResultPartialMediaAsStudent($input: ProvideActivityResultPartialMediaAsStudentInput!) {\n        provideActivityResultPartialMediaAsStudent(input: $input) {\n            media {\n                ...MediaPartial\n            }\n        }\n    }\n    ","\n"]);return hO=function(){return e},e}function gO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function EO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wO=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"addMediaToProgress",value:function(e){var t=e.studentId,n=e.mediaId,r=e.activityId;return xe.a.mutate({mutation:OO,variables:{input:{activityDbId:r,userDbId:t,mediaDbId:n}}}).then((function(e){if(e.errors&&e.errors.length>0)return Promise.reject(e.errors);var t=e.data.provideActivityResultPartialMediaAsStudent.media;return m.a.dispatch(yO.yb([t])),Promise.resolve(t)}))}},{key:"addFileToProgress",value:function(e){var t=e.studentId,n=e.file,r=e.activityId;return xe.a.mutate({mutation:SO,variables:{input:{activityDbId:r,"document[fileInfo][file]":n,userDbId:t}}}).then((function(e){var t=e.errors;if(e.data.uploadActivityResultPartialDocumentAsStudent.errors&&e.data.uploadActivityResultPartialDocumentAsStudent.errors.length>0&&(t=e.data.uploadActivityResultPartialDocumentAsStudent.errors),t&&t.length)return Promise.reject(t);var n=e.data.uploadActivityResultPartialDocumentAsStudent.document;return m.a.dispatch(yO.yb([n])),Promise.resolve(n)}))}}],(n=null)&&EO(t.prototype,n),r&&EO(t,r),e}(),OO=Ue()(hO(),bO.c),SO=Ue()(vO(),bO.a);function CO(e){return(CO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _O(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function IO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TO(e){return(TO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RO(e,t){return(RO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var AO=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=TO(t).call(this,e),n=!a||"object"!==CO(a)&&"function"!==typeof a?PO(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(PO(PO(n)),"upload",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c,s,u,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.isEducatorProgressUpload,o=r.studentId,t){e.next=3;break}return e.abrupt("return");case 3:if(i=n.props,c=i.onComplete,s=i.activityId,u=i.onCancel,l=i.i18n,n.setState({errors:[],loading:!0}),e.prev=5,!a){e.next=11;break}return e.next=9,wO.addFileToProgress({file:t,activityId:s,studentId:o});case 9:e.next=13;break;case 11:return e.next=13,uu.a.addFile(t,s);case 13:n.setState({loading:!1}),c(),u(),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(5),d=[l._("Error during upload; please try again later")],e.t0.file&&(d=e.t0.file),n.setState({errors:d,loading:!1});case 23:case"end":return e.stop()}}),e,this,[[5,18]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_O(o,r,a,i,c,"next",e)}function c(e){_O(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.state={errors:[],loading:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RO(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.onCancel,n=e.i18n,r=[];return r.push(o.a.createElement(we.b,{id:"button-add-file-upload-dialog-cancel",secondary:!0,ariaLabel:n._("Cancel"),onClick:t},o.a.createElement(U.Trans,{id:"Cancel"}))),o.a.createElement(mb.a,{actions:r,dialogClassName:"c-file-upload-dialog",id:"c-file-upload-dialog",title:n._("Upload File"),modal:!0,visible:!0},o.a.createElement("div",null,o.a.createElement(ca.b,{loading:this.state.loading},o.a.createElement("p",{className:"u-mb-25px"},o.a.createElement(U.Trans,{id:"Max allowed file size is 100 MB. Allowed extensions are: doc, docx, xls, xlsx, pdf, txt, rtf, jpg, jpeg, png, bmp, zip, ppt, pptx"})),this.state.errors.map((function(e){return o.a.createElement("p",{key:e,className:"c-file-upload-dialog__error"},e.split(":::").pop())})),o.a.createElement(mO.a,{onChange:this.upload.bind(this),id:"filesToUpload-input",name:"filesToUpload",primary:!0}))))}}])&&IO(n.prototype,r),a&&IO(n,a),t}(a.Component);AO.propTypes={activityId:c.a.number,isEducatorProgressUpload:c.a.bool,onCancel:c.a.func,onComplete:c.a.func,studentId:c.a.number},AO.defaultProps={isEducatorProgressUpload:!1};var NO=Object(U.withI18n)()(AO),jO=["TYPE__AUTO_ANALYSIS_OVERALL_SCORE","TYPE__AUTO_ANALYSIS_DELIVERY_SCORE","TYPE__AUTO_ANALYSIS_CONTENT_SCORE"],kO={NONE:"TYPE__NONE",AUTO_ANALYSIS_OVERALL_SCORE:"TYPE__AUTO_ANALYSIS_OVERALL_SCORE",AUTO_ANALYSIS_DELIVERY_SCORE:"TYPE__AUTO_ANALYSIS_DELIVERY_SCORE",AUTO_ANALYSIS_CONTENT_SCORE:"TYPE__AUTO_ANALYSIS_CONTENT_SCORE"},DO=n("hApM"),LO=n("6WCH"),MO=n.n(LO);function xO(e){return(xO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UO(e){return(UO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VO(e,t){return(VO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BO=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=UO(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==xO(a)&&"function"!==typeof a?GO(r):a,qO(GO(GO(n)),"renderWorkItem",(function(e){return o.a.createElement(Qg,{key:"work-item-[".concat(e.key,"]"),item:e})})),qO(GO(GO(n)),"renderWorkItems",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return O.a.map(e,n.renderWorkItem)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VO(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.workItems,n=e.className;return O.a.isEmpty(t)?null:o.a.createElement("div",{className:E()(MO.a.workItems,n)},this.renderWorkItems(t))}}])&&FO(n.prototype,r),a&&FO(n,a),t}(o.a.PureComponent);BO.displayName="WorkItems",BO.propTypes={className:c.a.string,workItems:c.a.array},BO.defaultProps={workItems:[]};var WO=BO;n("lojD");function QO(e){return(QO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){JO(e,t,n[t])}))}return e}function HO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zO(e){return(zO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KO(e,t){return(KO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZO="new-content-list-item",$O={showChooser:!1},eS=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=zO(t).call(this,e),n=!a||"object"!==QO(a)&&"function"!==typeof a?XO(r):a,JO(XO(XO(n)),"handleOutsideClick",(function(e){var t=n._chooserRef.current;t&&!t.contains(e.target)&&n.hideChooser()})),JO(XO(XO(n)),"hideChooser",(function(){n.setState({showChooser:!1},(function(){window.removeEventListener("click",n.handleOutsideClick)}))})),JO(XO(XO(n)),"onAddClick",(function(){n.setState({showChooser:!0},(function(){setTimeout((function(){window.addEventListener("click",n.handleOutsideClick)}),0)}))})),JO(XO(XO(n)),"renderHeader",(function(){var e=n.props.i18n;if(n.state.showChooser)return o.a.createElement("div",{className:"".concat(ZO,"-header")},o.a.createElement("h3",{className:"".concat(ZO,"-header--label")},e._("Add...")),o.a.createElement("div",{className:"".concat(ZO,"-header--actions")},o.a.createElement(we.d,{className:"".concat(ZO,"-header--actions-close"),onClick:function(){n.hideChooser()}},re.a.CLOSE)))})),JO(XO(XO(n)),"renderMain",(function(){var e=n.props,t=e.i18n,r=e.configuration,a=e.onCreateNewWorkItem,i=[YO({type:Zy.VIDEO,icon:re.a.VIDEOCAM,key:"new-video",ariaLabel:t._("Add video"),label:t._("Video")},r.tools[Zy.VIDEO]),YO({type:Zy.FILE,icon:re.a.DESCRIPTION,key:"new-file",ariaLabel:t._("Add file"),label:t._("File")},r.tools[Zy.FILE]),YO({type:Zy.LINK,icon:re.a.LINK,key:"new-link",ariaLabel:t._("Add link"),label:t._("Link")},r.tools[Zy.LINK]),YO({type:Zy.MEETING,icon:re.a.EVENT,key:"new-meeting",ariaLabel:t._("Add meeting"),label:t._("Meeting")},r.tools[Zy.MEETING]),YO({type:Zy.MILESTONE,icon:re.a.MILESTONE_ADD,key:"new-milestone",ariaLabel:t._("Add milestone"),label:t._("Milestone")},r.tools[Zy.MILESTONE]),YO({type:Zy.COMBINED_VIDEO,icon:re.a.MERGE,key:"new-combined-video",ariaLabel:t._("Add combined video"),label:t._("Combined Video")},r.tools[Zy.COMBINED_VIDEO])];return o.a.createElement("div",{className:"".concat(ZO,"-main")},o.a.createElement("div",{className:"".concat(ZO,"-main--chooser")},o.a.createElement("div",{className:"".concat(ZO,"-main--chooser-row")},i.map((function(e){return e.visible?o.a.createElement(we.b,{primary:!0,id:"".concat(ZO,"--").concat(e.key),key:e.key,enabled:e.enabled,ariaLabel:e.ariaLabel,className:"".concat(ZO,"-main--chooser-button"),tooltip:e.tooltip,onClick:function(){n.hideChooser(),a(e.type)}},o.a.createElement(o.a.Fragment,null,o.a.createElement(Oe.a,null,e.icon),o.a.createElement("span",null,e.label))):null})))))})),JO(XO(XO(n)),"renderAddContent",(function(){var e=n.props,t=e.i18n,r=e.configuration,a=r.enabled,i=YO({},r.tooltip,{className:"".concat(ZO,"--add-content-button-tooltip")});return o.a.createElement(we.b,{id:"".concat(ZO,"--add-content-button"),primary:!0,enabled:a,className:"".concat(ZO,"--add-content-button"),tooltip:i,onClick:n.onAddClick},o.a.createElement(Oe.a,{className:"".concat(ZO,"--icon")},re.a.ADD_CIRCLE),o.a.createElement("div",{className:"".concat(ZO,"--text"),"aria-label":t._("Add to work in progress")},t._("Add...")))})),JO(XO(XO(n)),"renderChooser",(function(){return o.a.createElement("div",null,n.renderHeader(),n.renderMain(),n.renderFooter())})),n.state=YO({},$O),n._chooserRef=o.a.createRef(),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KO(e,t)}(t,e),n=t,(r=[{key:"renderFooter",value:function(){return o.a.createElement("div",{className:"".concat(ZO,"-footer")})}},{key:"render",value:function(){var e=this.state.showChooser,t="div",n=null,r={className:E()([ZO,"".concat(ZO,"--").concat(e?"chooser":"default")])};return e?(t=Nu.a,r.zDepth=1,n=this.renderChooser()):n=this.renderAddContent(),o.a.createElement("div",{ref:this._chooserRef},o.a.createElement(t,r,n))}}])&&HO(n.prototype,r),a&&HO(n,a),t}(o.a.PureComponent);eS.propTypes={configuration:c.a.object,onCreateNewWorkItem:c.a.func},eS.defaultProps={configuration:{},onCreateNewWorkItem:function(){}};var tS=Object(U.withI18n)()(eS);n("aPJY");function nS(e){return(nS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rS(){return(rS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function aS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oS(e){return(oS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iS(e,t){return(iS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uS="content-card-container",lS=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=oS(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==nS(a)&&"function"!==typeof a?cS(r):a,sS(cS(cS(n)),"renderNewWorkItem",(function(){var e=n.props,t=e.createNewWorkItemConfiguration,r=e.onCreateNewWorkItem;return o.a.createElement(tS,{configuration:t,onCreateNewWorkItem:r})})),sS(cS(cS(n)),"renderExcludedContainer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n.props.i18n;return o.a.createElement("div",{id:"".concat(uS,"--excluded-items"),className:E()(uS,"".concat(uS,"--excluded"),"".concat(uS,"--list"))},o.a.createElement("div",{"aria-label":t._("You have {0} items in the work in progress section",{0:e.length})}),o.a.createElement(WO,{workItems:e}))})),sS(cS(cS(n)),"renderIncludedContainer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n.props,r=t.i18n,a=t.submitConfiguration;return o.a.createElement(Nu.a,{id:"".concat(uS,"--included-items"),ariaLabel:r._("You have {0} items included in the submission section",{0:e.length}),className:E()(uS,"".concat(uS,"--included"),"".concat(uS,"--list")),zDepth:1},o.a.createElement("div",{className:"".concat(uS,"--header")},o.a.createElement("h2",{className:"".concat(uS,"--header-label")},r._("Submission"))),n.renderIncludedContainerMessage(),o.a.createElement(WO,{workItems:e}),o.a.createElement("div",{className:"".concat(uS,"--footer")},o.a.createElement(we.h,{id:"".concat(uS,"--footer-submit-button"),className:"".concat(uS,"--footer-button"),primary:!0,enabled:a.enabled,onClick:a.onSubmit,tooltip:a.tooltip},r._("Submit"))))})),sS(cS(cS(n)),"renderItemsRequiredMessage",(function(){var e=n.props.i18n,t=o.a.createElement(Oe.a,{className:"".concat(uS,"--primary-action-icon")},re.a.STAR_EMPTY);return o.a.createElement("div",{className:"".concat(uS,"--message")},o.a.createElement("div",{className:"".concat(uS,"--message-wrapper")},o.a.createElement(Oe.a,{className:"".concat(uS,"--message-icon")},re.a.INFO_OUTLINE),o.a.createElement("div",{className:"".concat(uS,"--message-label")},o.a.createElement("div",null,o.a.createElement("span",null,e._("You do not have any items included for submission yet."))),o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"Add your content above \u2014 click the {readyIcon} when you are ready to include it in your submission.",values:{readyIcon:t}}))))))})),sS(cS(cS(n)),"renderNotSubmittedMessage",(function(){var e=n.props.i18n,t=e._("Assignment Not Submitted"),r=e._("When you are comfortable with the items included below, click the 'Submit' button.");return o.a.createElement(Ee.a,rS({},le.h.note.notSubmitted,{className:"".concat(uS,"--note"),type:Ee.a.NOTE_TYPES.INFO,title:t,message:r}))})),sS(cS(cS(n)),"renderVideoItemsRequiredMessage",(function(){var e=n.props.i18n,t=e._("Video Required"),r=e._("You must include a video in order to submit this assignment.");return o.a.createElement(Ee.a,rS({},le.h.note.videoItemsRequired,{className:"".concat(uS,"--note"),type:Ee.a.NOTE_TYPES.WARNING,title:t,message:r}))})),sS(cS(cS(n)),"renderAutoAnalysisPendingMessage",(function(){var e=n.props.i18n,t=e._("Analyzing Video..."),r=e._("You will be able to submit after the Auto Analysis\\u2122 report for your included video is available.");return o.a.createElement(Ee.a,rS({},le.h.note.autoAnalysisPending,{className:"".concat(uS,"--note"),type:Ee.a.NOTE_TYPES.WARNING,title:t,message:r}))})),sS(cS(cS(n)),"renderAutoAnalysisErrorMessage",(function(){var e=n.props.i18n,t=e._("Unable to Analyze Video"),r=e._("There was an issue while generating the Auto Analysis\\u2122 report for your included video. This may be due to missing or unclear audio inside the video. Please try including a different video.");return o.a.createElement(Ee.a,rS({},le.h.note.autoAnalysisError,{className:"".concat(uS,"--note"),type:Ee.a.NOTE_TYPES.ERROR,title:t,message:r}))})),sS(cS(cS(n)),"renderIncludedContainerMessage",(function(){switch(n.props.submitConfiguration.state){case lv.ITEMS_REQUIRED:return n.renderItemsRequiredMessage();case lv.VIDEO_ITEM_REQUIRED:return o.a.createElement(o.a.Fragment,null,n.renderNotSubmittedMessage(),n.renderVideoItemsRequiredMessage());case lv.ANALYSIS_UNFETCHED:return n.renderNotSubmittedMessage();case lv.ANALYSIS_PENDING:return o.a.createElement(o.a.Fragment,null,n.renderNotSubmittedMessage(),n.renderAutoAnalysisPendingMessage());case lv.ANALYSIS_ERROR:return o.a.createElement(o.a.Fragment,null,n.renderNotSubmittedMessage(),n.renderAutoAnalysisErrorMessage());case lv.ITEMS_READY:return n.renderNotSubmittedMessage()}return null})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iS(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.workItems,n=e.i18n,r=O.a.groupBy(t,"isIncluded"),a=r.false,i=r.true;return o.a.createElement(Hn.a,{className:"submission-content-card"},o.a.createElement(Hn.d,{title:n._("Work In Progress")}),o.a.createElement(Hn.c,null,this.renderNewWorkItem(),this.renderExcludedContainer(a),this.renderIncludedContainer(i)))}}])&&aS(n.prototype,r),a&&aS(n,a),t}(o.a.PureComponent);lS.displayName="PreSubmissionCard",lS.propTypes={createNewWorkItemConfiguration:c.a.object,onCreateNewWorkItem:c.a.func,submitConfiguration:c.a.object,workItems:c.a.array,i18n:c.a.object},lS.defaultProps={createNewWorkItemConfiguration:{},onCreateNewWorkItem:function(){},submitConfiguration:{},workItems:[]};var dS=Object(U.withI18n)()(lS);function fS(e){return(fS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ES(e,t,n[t])}))}return e}function mS(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function bS(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mS(o,r,a,i,c,"next",e)}function c(e){mS(o,r,a,i,c,"throw",e)}i(void 0)}))}}function yS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vS(e){return(vS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hS(e,t){return(hS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ES(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wS={meetingDialogErrors:[],workItemStates:{},savingMeeting:!1},OS=1e4,SS=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=vS(t).call(this,e),n=!a||"object"!==fS(a)&&"function"!==typeof a?gS(r):a,ES(gS(gS(n)),"processAfterUpdate",(function(){var e=n.props.resultPartials;if(n.isAutoGradingWithAutoAnalysisEnabled()){var t=kv.getVideosInReadyToSubmitResultPartials(e);n.requestAutoAnalysisForVideos(t)}})),ES(gS(gS(n)),"isAutoGradingWithAutoAnalysisEnabled",(function(){var e=n.props,t=e.activityData;return e.activityType===Wu.b.INDIVIDUAL_PROJECT&&O.a.includes(jO,t.autoGradeScoreSource)})),ES(gS(gS(n)),"requestAutoAnalysisForVideos",(function(e){for(var t=0;t<e.length;t++){var r=e[t],a=kv.translateResultPartial(r),o=a.media.srcUrl;if(!n.mediaUrlToEndPollingFunc[o]){var i=xy.startPollingForAutoAnalysisState(o,n.getPollingUpdateHandler(a),OS);n.mediaUrlToEndPollingFunc[o]=i,n.updateWorkItemState(a,{autoAnalysis:{isPolling:!0,data:null}})}}})),ES(gS(gS(n)),"getPollingUpdateHandler",(function(e){return function(t){var r=t.result,a=t.error,o=t.isFinished;n.onPollForAutoAnalysisStateComplete(e,r,a,o)}})),ES(gS(gS(n)),"onPollForAutoAnalysisStateComplete",(function(e,t,r,a){n.updateWorkItemState(e,{autoAnalysis:{isPolling:!a,error:r,data:t}})})),ES(gS(gS(n)),"onAddLink",(function(){var e=n.props.activityId;dt.a.showModal(o.a.createElement(Ow,{activityId:e,onComplete:function(){dt.a.closeModal(),n.refreshActivityData(e)}}))})),ES(gS(gS(n)),"onAddVideo",(function(){var e=n.props.activityId;bt.f()||n.isCengageEducator()?n.onUploadVideo():dt.a.showModal(o.a.createElement(Aw,{activityId:e,mediaType:pr.a.ACTIVITY_RESULT,onCancel:dt.a.closeModal,onRecordClick:n.recordVideo,onUploadClick:n.onUploadVideo}))})),ES(gS(gS(n)),"onCombineVideos",(function(){var e=n.props.resultPartials;dt.a.showModal(o.a.createElement(pO,{videos:kv.getResultPartialVideosToCombine(e),onCancel:dt.a.closeModal,onSubmit:n.onCreateCombinedVideo}))})),ES(gS(gS(n)),"onCreateCombinedVideo",function(){var e=bS(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.activityId,e.prev=1,e.next=4,uu.a.combineVideos(+r,t);case 4:n.closeModal(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()),ES(gS(gS(n)),"onDownloadMeetingWarningDialogClose",(function(){n.setState({downloadUrl:"",downloadWarningMessage:""})})),ES(gS(gS(n)),"submitAssignment",bS(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.activityId,e.prev=1,e.next=4,uu.a.submitAssignment(t);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,this,[[1,6]])})))),ES(gS(gS(n)),"onSubmitAssignment",(function(){var e=n.props.i18n;dt.a.showModal(o.a.createElement(Db,{id:"submit-assignment-item-dialog",description:e._("Are you sure you want to submit this assignment?"),cancelLabel:e._("No"),confirmLabel:e._("Yes"),title:e._("Submit?"),onConfirm:n.submitAssignment}))})),ES(gS(gS(n)),"getStudentIdFromActivity",(function(){var e=n.props.activityData;return O.a.get(e,"dataForOneStudent.student.dbId")})),ES(gS(gS(n)),"onUploadFile",(function(){var e=n.props.activityId;dt.a.showModal(o.a.createElement(NO,{activityId:e,onCancel:dt.a.closeModal,isEducatorProgressUpload:n.isCengageEducator(),studentId:n.getStudentIdFromActivity(),onComplete:function(){dt.a.closeModal(),n.refreshActivityData(e)}}))})),ES(gS(gS(n)),"addUploadedEducatorVideosToProgress",function(){var e=bS(regeneratorRuntime.mark((function e(t){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,a=r.i18n,o=r.activityId,e.prev=1,i=[],t.forEach((function(e){i.push(wO.addMediaToProgress({activityId:+o,studentId:+n.getStudentIdFromActivity(),mediaId:e}))})),e.next=6,Promise.all(i);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ft.a.addError(a._("Failed to add video"));case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),ES(gS(gS(n)),"onUploadVideo",(function(){var e=n.props.activityId,t=n.isCengageEducator()?pr.a.LIBRARY:pr.a.ACTIVITY_RESULT;dt.a.showModal(o.a.createElement($b,{activityId:e,mediaType:t,onCancel:dt.a.closeModal,onComplete:function(t){n.isCengageEducator()?n.addUploadedEducatorVideosToProgress(t):n.refreshActivityData(e)}}))})),ES(gS(gS(n)),"previewReflectionAnswers",(function(){dt.a.showModal(o.a.createElement(zh,{visible:!0,onClose:dt.a.closeModal}))})),ES(gS(gS(n)),"recordVideo",(function(e,t){var r=n.props.activityId,a=Lb.a.CAMERA_ONLY;e&&t?a=Lb.a.CAMERA_WITH_DESKTOP:!e&&t&&(a=Lb.a.DESKTOP_ONLY),dt.a.showModal(o.a.createElement(Qb,{mediaType:pr.a.ACTIVITY_RESULT,id:"ActivityProgressRecorder",activityId:+r,recorderType:a,onCancel:dt.a.closeModal,onComplete:function(){dt.a.closeModal(),n.refreshActivityData(r)}}))})),ES(gS(gS(n)),"updateWorkItemStateProperty",(function(e,t,r,a){n.updateWorkItemState(e,ES({},t,r),a)})),ES(gS(gS(n)),"updateWorkItemState",(function(e,t,r){var a=n.state.workItemStates,o=a[e.key]||{};n.setState({workItemStates:pS({},a,ES({},e.key,pS({},o,t)))},(function(){r&&r()}))})),ES(gS(gS(n)),"toggleIncludedWork",function(){var e=bS(regeneratorRuntime.mark((function e(t){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.activityId,o=r.resultPartials,i=kv.getResultPartial(t,o),!t.isIncluded){e.next=7;break}return e.next=5,uu.a.addPartialsToInProgress(+a,[i]);case 5:e.next=9;break;case 7:return e.next=9,uu.a.addPartialsToReadyForSubmit(+a,[i]);case 9:n.refreshActivityData(a),n.updateWorkItemStateProperty(t,tv.INCLUDE_TOGGLE_SUBMITTING,!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),ES(gS(gS(n)),"onPartialChange",(function(e){m.a.dispatch(yO.Qb(e))})),ES(gS(gS(n)),"refreshActivityData",(function(e){n.isCengageEducator()||uu.a.getActivityResults(+e)})),ES(gS(gS(n)),"onCreateNewWorkItem",(function(e){switch(e){case Zy.COMBINED_VIDEO:n.onCombineVideos();break;case Zy.FILE:n.onUploadFile();break;case Zy.LINK:n.onAddLink();break;case Zy.MEETING:n.onAddMeeting();break;case Zy.MILESTONE:n.onAddMilestone();break;case Zy.VIDEO:n.onAddVideo();break;default:throw new Error("Unknown creation of work item (type: ".concat(e,")"))}})),ES(gS(gS(n)),"isCengageEducator",(function(){var e=n.props,t=e.currentUser,r=e.institution;return(Object(Wr.c)(t)||Object(Wr.h)(t))&&Sc.a(r)})),ES(gS(gS(n)),"getCreateNewWorkItemConfiguration",(function(e){var t,r=n.props,a=r.i18n,o=r.activityType,i=r.isSubmittable,c=r.needReflectionAnswers,s=r.lmsLocked,u=r.readOnly,l=r.isVideoToolEnabled,d=r.isDocumentToolEnabled,f=r.isMeetingToolEnabled,p=Boolean(i&&!c&&!s&&!u),m=l,b=d&&fe.a.isDocumentUploadEnabled(),y=kv.canCombineVideos(e),v=m,h=d&&fe.a.isDocumentUploadEnabled(),g=f&&fe.a.isMeetingEnabled(),E=o===Wu.b.GROUP_PRESENTATION,w={label:""};return c?w.label=a._("This action will be available after the Reflection Questions have been completed"):i||(w.label=a._("This action is not available at this time")),n.isCengageEducator()&&(p=o===Wu.b.INDIVIDUAL_PROJECT,v=!1,h=!1,g=!1,E=!1,w.label=o===Wu.b.INDIVIDUAL_PROJECT?"":a._("This action is not available")),{tooltip:w,enabled:p,tools:(t={},ES(t,Zy.VIDEO,{enabled:!0,tooltip:{label:""},visible:m}),ES(t,Zy.FILE,{enabled:!0,tooltip:{label:""},visible:b}),ES(t,Zy.LINK,{enabled:!0,tooltip:{label:""},visible:h}),ES(t,Zy.MEETING,{enabled:!0,tooltip:{label:""},visible:g}),ES(t,Zy.MILESTONE,{enabled:!0,tooltip:{label:""},visible:E}),ES(t,Zy.COMBINED_VIDEO,{enabled:y,tooltip:{label:y?"":a._("This action requires at least two videos")},visible:v}),t)}})),ES(gS(gS(n)),"isDownloadEnabled",(function(e,t){var n=!1,r=O.a.get(e,["attributes",ev.DOWNLOAD_URL]);switch(e.type){case $y.FILE:case $y.IMAGE:case $y.LINK:n=Boolean(r);break;case $y.MEETING:n=t&&r&&fe.a.isMeetingDownloadAllowed();break;case $y.VIDEO:n=t&&Boolean(r)}return n})),ES(gS(gS(n)),"isIncludeToggleEnabled",(function(e,t,r){var a=n.props,o=a.needReflectionAnswers,i=a.readOnly,c=a.lmsLocked;if(e.type===$y.REFLECTION_ANSWERS||o)return!1;var s=!i&&!c;return!!s&&(e.type!==$y.VIDEO||(s=t,e.isIncluded)?e.type!==$y.MEETING||(s=t,e.isIncluded)?s:s&&!r&&!n.isAutoGradingWithAutoAnalysisEnabled():s&&!r)})),ES(gS(gS(n)),"getItemAutoAnalysis",(function(e){return O.a.get(e,"itemState.autoAnalysis",null)})),ES(gS(gS(n)),"getVideoItemsAutoAnalysis",(function(e){var t=[];return O.a.forEach(e,(function(e){var r=n.getItemAutoAnalysis(e);t.push(r)})),t})),ES(gS(gS(n)),"getSubmitConfiguration",(function(e){var t=n.props,r=t.i18n,a=t.readOnly,o=t.lmsLocked,i=t.needReflectionAnswers,c=null,s=O.a.filter(kv.getIncludedItems(e),(function(e){return e.type!==$y.REFLECTION_ANSWERS})),u=s.length>0?lv.ITEMS_READY:lv.ITEMS_REQUIRED,l=!0;if(a)l=!1,c={label:r._("You are not allowed to perform this action")};else if(o)l=!1;else if(i)l=!1,c={label:r._("You must complete the Reflection Questions")};else if(s.length<1)l=!1,c={label:r._("You do not have enough items included for submission")};else if(n.isAutoGradingWithAutoAnalysisEnabled()){var d=kv.filterItemsOfType(s,$y.VIDEO),f={label:r._("You will be able to submit after including a video with an Auto Analysis\\u2122 report")};if(O.a.isEmpty(d))l=!1,c=f,u=lv.VIDEO_ITEM_REQUIRED;else{var p=n.getVideoItemsAutoAnalysis(d);if(O.a.isEmpty(p))l=!1,u=lv.ANALYSIS_PENDING;else{var m=!1,b=!1,y=!1;O.a.forEach(p,(function(e){if(e)if(e.error)m=!0;else if(e.data){var t=e.data.state;e.error||jy.a.isAnalysisStatusError(t)?m=!0:(jy.a.isAnalysisStatusPending(t)||jy.a.isAnalysisStatusNotSubmitted(t))&&(b=!0)}else y=!0;else y=!0})),m?(l=!1,c=f,u=lv.ANALYSIS_ERROR):b?(l=!1,c=f,u=lv.ANALYSIS_PENDING):y&&(l=!1,c=f,u=lv.ANALYSIS_UNFETCHED)}}}return{enabled:l,tooltip:c,onSubmit:n.onSubmitAssignment,state:u}})),ES(gS(gS(n)),"getDeleteActionConfig",(function(e){var t=n.props,r=t.needReflectionAnswers,a=t.readOnly,o=t.lmsLocked,i=!a&&!o&&!r,c=!0;return e.type===$y.REFLECTION_ANSWERS&&(c=!1),{enabled:i,visible:c}})),ES(gS(gS(n)),"getEditActionConfig",(function(e){var t=n.props,r=t.needReflectionAnswers,a=t.readOnly,o=t.lmsLocked,i=!a&&!o&&!r,c=!0;return e.type===$y.REFLECTION_ANSWERS&&(c=!1),{enabled:i,visible:c}})),ES(gS(gS(n)),"getManageCaptionsActionConfig",(function(e){var t=!1,n=!1;O.a.includes([$y.VIDEO,$y.MEETING],e.type)&&(n=!0,t=kv.isItemProcessed(e));return{enabled:t,visible:n}})),ES(gS(gS(n)),"getIncludeToggleConfig",(function(e){var t=n.props,r=t.i18n,a=t.resultPartials,o=kv.isProcessing(e),i=kv.hasProcessingError(e),c=kv.isItemProcessed(e),s=kv.hasVideoInReadyToSubmitResultPartials(a),u=n.isIncludeToggleEnabled(e,c,s),l=e.type===$y.MEETING,d=e.type===$y.VIDEO||l,f=e.type===$y.REFLECTION_ANSWERS,p=e.isIncluded?r._("Remove from Submission"):r._("Add to Submission"),m=p;return u||(f?m=r._("Your answers to the Reflection Questions are included in your submission."):i&&d?m=r._("An error occurred during processing. You will not be able to add this to your submission."):l&&n.isAutoGradingWithAutoAnalysisEnabled()?m=r._("Meetings cannot be included in your submission for this assignment."):!e.isIncluded&&d&&s?m=r._("You already have a video included in your submission. Only one video is allowed per submission."):o&&(m=r._("You can add this to the submission after it's done processing."))),{enabled:u,label:p,primaryActionVisible:!0,secondaryActionVisible:!f&&!0,primaryActionTooltip:{label:m},secondaryActionTooltip:{label:u?"":m}}})),ES(gS(gS(n)),"getAutoAnalysisConfig",(function(e){var t=n.props,r=t.activityType,a=t.i18n,o=t.isAutoAnalysisEnabled,i=fe.a.getAutoAnalysisPermission();return{enabled:!i.isRestricted&&kv.isItemProcessed(e),visible:o&&i.isVisible&&jy.a.isActivityTypeSupported(r),tooltip:{label:i.isRestricted?a._(i.restrictedMessage):a._("View Analysis")}}})),ES(gS(gS(n)),"getPrimaryActions",(function(e){var t=n.state.workItemStates[e.key],r=O.a.get(t,tv.INCLUDE_TOGGLE_SUBMITTING,!1),a=n.getIncludeToggleConfig(e),i=r?"":a.primaryActionTooltip.label;return[o.a.createElement(lh,{key:"include-toggle-".concat(e.key),enabled:a.enabled,loading:r,item:e,tooltip:{label:i},onClick:function(){n.updateWorkItemStateProperty(e,tv.INCLUDE_TOGGLE_SUBMITTING,!0,(function(){n.toggleIncludedWork(e)}))}})]})),ES(gS(gS(n)),"getSecondaryActions",(function(e){if(n.props.isSmallViewport)return[];var t=n.props,r=t.activityId,a=t.currentUser,i=t.isAutoAnalysisScoreVisible,c=t.resultPartial,s=t.termClassId,u=n.getAutoAnalysisConfig(e),l=kv.isItemProcessed(e),d=O.a.get(e,["attributes",ev.PREVIEW_URL]),f=!!Object(Wr.c)(a)||i,p=[];switch(e.type){case $y.FILE:case $y.IMAGE:case $y.LINK:p.push(o.a.createElement(mh,{id:e.key,key:"secondary-action-launch-".concat(e.key),previewUrl:d}));break;case $y.VIDEO:u.visible&&p.push(o.a.createElement(fv,{key:"secondary-action-analysis-".concat(e.key),enabled:u.enabled,isAutoAnalysisScoreVisible:f,item:e,tooltip:u.tooltip})),p.push(o.a.createElement(Zh,{key:"secondary-action-preview-".concat(e.key),activityId:r,enabled:Boolean(l&&d),item:e,termClassId:s,resultPartial:c,onPartialChange:n.onPartialChange}));break;case $y.MEETING:case $y.REFLECTION_ANSWERS:p.push(o.a.createElement(Zh,{key:"secondary-action-preview-".concat(e.key),activityId:r,enabled:!0,item:e,termClassId:s}))}return p})),ES(gS(gS(n)),"getOverflowActionsConfig",(function(e){var t=n.props.isSmallViewport;if(e.type===$y.REFLECTION_ANSWERS&&!t)return{actions:[]};var r=n.props,a=r.activityId,i=r.currentUser,c=r.isAutoAnalysisScoreVisible,s=r.resultPartials,u=r.termClassId,l=n.state.workItemStates,d=n.getAutoAnalysisConfig(e),f=!!Object(Wr.c)(i)||c,p=kv.isItemProcessed(e),m=n.getIncludeToggleConfig(e),b=n.getManageCaptionsActionConfig(e),y=n.getEditActionConfig(e),v=n.getDeleteActionConfig(e),h=O.a.get(e,["attributes",ev.PREVIEW_URL]),g=kv.getResultPartial(e,s),E=e.type!==$y.LINK&&e.type!==$y.REFLECTION_ANSWERS,w=n.isDownloadEnabled(e,p),S=l[e.key],C=O.a.get(S,tv.INCLUDE_TOGGLE_SUBMITTING,!1),_=[];if(m.secondaryActionVisible&&(_.push(o.a.createElement(fh,{key:"menu-action-toggle-".concat(e.key),enabled:m.enabled,label:m.label,item:e,tooltip:m.secondaryActionTooltip,onClick:function(){n.updateWorkItemStateProperty(e,tv.INCLUDE_TOGGLE_SUBMITTING,!0,(function(){n.toggleIncludedWork(e)}))}})),_.push(o.a.createElement(pm.a,{key:"toggle-menu-items-sep"}))),t)switch(e.type){case $y.FILE:case $y.IMAGE:case $y.LINK:_.push(o.a.createElement(yh,{key:"menu-action-launch-".concat(e.key),enabled:Boolean(h),item:e}));break;case $y.VIDEO:_.push(o.a.createElement(tg,{key:"menu-action-preview-".concat(e.key),activityId:a,enabled:Boolean(p&&h),item:e,termClassId:u,resultPartial:g,onPartialChange:n.onPartialChange})),d.visible&&_.push(o.a.createElement(bv,{key:"menu-action-analysis-".concat(e.key),enabled:d.enabled,isAutoAnalysisScoreVisible:f,item:e,tooltip:d.tooltip}));break;case $y.MEETING:case $y.REFLECTION_ANSWERS:_.push(o.a.createElement(tg,{key:"menu-action-preview-".concat(e.key),activityId:a,enabled:!0,item:e,termClassId:u,resultPartial:g}))}return b.visible&&_.push(o.a.createElement(wh,{key:"menu-action-manage-captions-".concat(e.key),enabled:b.enabled,item:e,resultPartial:g,onPartialChange:n.onPartialChange})),E&&(_.push(o.a.createElement(Uv,{key:"menu-action-download-".concat(e.key),enabled:w,item:e})),_.push(o.a.createElement(pm.a,{key:"general-menu-items-sep"}))),y.visible&&_.push(o.a.createElement(sh,{key:"menu-action-edit-".concat(e.key),enabled:y.enabled,item:e,resultPartial:g})),v.visible&&_.push(o.a.createElement(gv,{key:"menu-action-delete-".concat(e.key),enabled:v.enabled,item:e,resultPartial:g})),{actions:_,enabled:!C}})),ES(gS(gS(n)),"getWorkItemConfig",(function(e){return{isProcessing:kv.isProcessing(e),hasProcessingError:kv.hasProcessingError(e),actions:{primary:n.getPrimaryActions(e),secondary:n.getSecondaryActions(e),overflow:n.getOverflowActionsConfig(e)}}})),n.state=pS({},wS),n.mediaUrlToEndPollingFunc={},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hS(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.processAfterUpdate()}},{key:"componentDidUpdate",value:function(){this.processAfterUpdate()}},{key:"componentWillUnmount",value:function(){O.a.forEach(this.mediaUrlToEndPollingFunc,(function(e){return e()}))}},{key:"onAddMeeting",value:function(){dt.a.showModal(o.a.createElement(ab,{mode:cp.CREATE}))}},{key:"onAddMilestone",value:function(){dt.a.showModal(o.a.createElement(tm,{mode:cp.CREATE}))}},{key:"render",value:function(){var e=this.props,t=e.resultPartials,n=e.reflectionAnswers,r=this.state.workItemStates,a=kv.getTranslatedResultPartials(t,n,this.getWorkItemConfig,r);return o.a.createElement(dS,{workItems:a,createNewWorkItemConfiguration:this.getCreateNewWorkItemConfiguration(a),onCreateNewWorkItem:this.onCreateNewWorkItem,submitConfiguration:this.getSubmitConfiguration(a)})}}])&&yS(n.prototype,r),a&&yS(n,a),t}(o.a.PureComponent);SS.propTypes={readOnly:c.a.bool,activityData:c.a.any,activityId:c.a.any,activityType:c.a.string,currentUser:c.a.object,institution:c.a.object,isDocumentToolEnabled:c.a.bool,isMeetingToolEnabled:c.a.bool,isReflectionQuestionsEnabled:c.a.bool,isSubmittable:c.a.bool,isAutoAnalysisEnabled:c.a.bool,isAutoAnalysisScoreVisible:c.a.bool,isVideoToolEnabled:c.a.bool,lmsLocked:c.a.bool,needReflectionAnswers:c.a.bool,reflectionAnswers:c.a.array,resultPartials:c.a.array,termClassId:c.a.any,isSmallViewport:c.a.bool,i18n:c.a.object},SS.defaultProps={readOnly:!1};var CS=Object(U.withI18n)()(Object(s.b)((function(e){return{activityData:Qs.getActivityData(e),activityId:Qs.getActivityId(e),activityType:Qs.getActivityType(e),currentUser:Qe.h(e),institution:Ye.i(e),isDocumentToolEnabled:Qs.isDocumentToolEnabled(e),isMeetingToolEnabled:Qs.isMeetingToolEnabled(e),isReflectionQuestionsEnabled:Qs.isReflectionQuestionsEnabled(e),isSubmittable:Qs.isSubmittable(e),isAutoAnalysisEnabled:Qs.isAutoAnalysisEnabled(e),isAutoAnalysisScoreVisible:Qs.isAutoAnalysisScoreEnabled(e),isVideoToolEnabled:Qs.isVideoToolEnabled(e),lmsLocked:Qs.getLmsLocked(e),needReflectionAnswers:Qs.needReflectionAnswers(e),reflectionAnswers:Qs.getReflectionAnswers(e),resultPartials:Qs.getResultPartials(e),termClassId:Qs.getTermClassId(e),isSmallViewport:dy.a(e).width<=DO.a.SMALL.max}}))(SS)),_S=n("qBI/");n("1pdk");function IS(e){return(IS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TS(e){return(TS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RS(e,t){return(RS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var AS=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=TS(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==IS(a)&&"function"!==typeof a?PS(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(PS(PS(n)),"render",(function(){var e=n.props,t=e.instructionsText,r=e.instructionsMedia,a=e.resultPartials,i=e.activityName,c=e.availablePeerReviews,s=e.i18n,u=e.rubric;return o.a.createElement(Bd,{title:i,serviceMethod:uu.a.refreshGroupProgressActivity},o.a.createElement(ap,null),o.a.createElement(Ff,{resultPartials:a}),o.a.createElement(_S.a,null),o.a.createElement(op.a,{title:s._("Instructions"),media:r,text:t,rubric:u}),o.a.createElement(vp,null),o.a.createElement(Sm,null),o.a.createElement(CS,null),c&&o.a.createElement(rw,null))})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RS(e,t)}(t,e),t}(a.Component),NS=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityName:Qs.getActivityName(e),availablePeerReviews:Qs.getAvailablePeerReviews(e),instructionsText:Qs.getActivityInstructionsText(e),instructionsMedia:Qs.getActivityInstructionsMedia(e),resultPartials:Qs.getResultPartials(e),rubric:Qs.getRubric(e)}}))(AS))),jS=n("Wme0"),kS=function(e){return e.educator},DS=(Object(ot.a)(kS,(function(e){return e.activity})),n("csv8")),LS=n("6puI"),MS=Object(ot.a)(kS,(function(e){return e?e.activity:null})),xS=Object(ot.a)(MS,(function(e){return e.activityData})),FS=Object(ot.a)(MS,(function(e){return e.isLoading})),US=Object(ot.a)(xS,(function(e){return e.dataForOneStudent})),VS=Object(ot.a)(xS,(function(e){return e?e.dataForAllStudents:null})),GS=Object(ot.a)(MS,(function(e){return e?e.gradebookStudentData:null})),qS=Object(ot.a)(xS,(function(e){return e.studentGroup.members})),BS=Object(ot.a)(MS,(function(e){return e.milestoneIsLoading})),WS=Object(ot.a)(MS,(function(e){return e.meetingIsLoading})),QS=Object(ot.a)(xS,(function(e){return e.resultPartials})),YS=Object(ot.a)(MS,(function(e){return e.resultsPartialsIsLoading})),HS=Object(ot.a)(MS,(function(e){return e.selectedInProgressPartials})),zS=Object(ot.a)(MS,(function(e){return e.selectedReadyToSubmitPartials})),KS=Object(ot.a)(xS,(function(e){return e.studentGroup.comments})),XS=Object(ot.a)(xS,(function(e){return e.studentGroup.dbId})),JS=Object(ot.a)(MS,(function(e){return e.groupCommentsIsLoading})),ZS=Object(ot.a)(US,(function(e){return e.studentGroup.members})),$S=Object(ot.a)(MS,(function(e){return e.teamEvalIsLoading})),eC=Object(ot.a)(MS,(function(e){return e.removeSubmissionIsLoading})),tC=Object(ot.a)(MS,(function(e){return e.peerReviewCommentIsLoading})),nC=Object(ot.a)(MS,(function(e){return e.previewIsLoading})),rC=Object(ot.a)(xS,(function(e){return e.commentaryMedia})),aC=Object(ot.a)(xS,(function(e){return e.commentaryText})),oC=Object(ot.a)(US,(function(e){return e?e.studentGroup:null})),iC=Object(ot.a)(oC,(function(e){return e?e.name:""})),cC=Object(ot.a)(US,(function(e){return e?e.result:null})),sC=Object(ot.a)(xS,(function(e){return e.qaSettings})),uC=Object(ot.a)(xS,(function(e){return e.studentGroup.reviewType})),lC=Object(ot.a)(MS,(function(e){return e.showGroupMembers})),dC=Object(ot.a)(xS,(function(e){return e?e.type:null})),fC=Object(ot.a)(xS,(function(e){return e?e.studentGroups:null})),pC=Object(ot.a)(xS,(function(e){return e?e.dbId:null})),mC=Object(ot.a)(xS,(function(e){return e?e.name:null})),bC=Object(ot.a)(xS,(function(e){return e?e.gradeReportUrl:null})),yC=Object(ot.a)(xS,(function(e){return e?e.commentsReportUrl:null})),vC=Object(ot.a)(xS,(function(e){return e?e.submitDueAt:null})),hC=Object(ot.a)(xS,(function(e){return e?e.dataForOneStudent:null})),gC=Object(ot.a)(hC,(function(e){return e?e.resultPartials:null})),EC=Object(ot.a)(hC,(function(e){return e?e.resultPartialsCreatedCount:null})),wC=Object(ot.a)(hC,(function(e){return e?e.result:null})),OC=Object(ot.a)(cC,(function(e){return e?e.submitter:null})),SC=Object(ot.a)(OC,(function(e){return e?e.dbId:null})),CC=Object(ot.a)(xS,(function(e){return e.rubric})),_C=Object(ot.a)(xS,(function(e){return e.groupReviewRubric})),IC=Object(ot.a)(xS,(function(e){return e?e.rubricPeerAllowed:null})),TC=Object(ot.a)(xS,(function(e){return e.rubricSelfAllowed})),RC=Object(ot.a)(xS,(function(e){return e?e.studentFivestarValuationEnabled:null})),PC=Object(ot.a)(MS,(function(e){return e.feedbackCommentIsLoading})),AC=Object(ot.a)(MS,(function(e){return e.activityCommentIsLoading})),NC=Object(ot.a)(MS,(function(e){return e.currentGradingStudentId})),jC=Object(ot.a)(MS,(function(e){return e.deleteResultIsLoading})),kC=Object(ot.a)(xS,(function(e){return e?e.termClass:null})),DC=Object(ot.a)(kC,(function(e){return e?e.dbId:null})),LC=Object(ot.a)(hC,(function(e){return e?e.rubricEvaluations:null})),MC=Object(ot.a)(oC,(function(e){return e?e.reviewReleasedAt:null})),xC=Object(ot.a)(oC,(function(e){return e?e.isReviewAnonymous:null})),FC=Object(ot.a)(xS,(function(e){return e?e.groupReviewType:null})),UC=Object(ot.a)(US,(function(e){return e?e.qaAnswers:null})),VC=Object(ot.a)(MS,(function(e){return e.deleteQAAnswerIsLoading})),GC=Object(ot.a)(MS,(function(e){return e.activityDataWithContext})),qC=Object(ot.a)(xS,(function(e){return e.isVideoAnalysisScoreEnabled})),BC=Object(ot.a)(xS,LS.e),WC=Object(ot.a)(xS,(function(e){return fe.a.isReflectionQuestionsAllowed()?e.reflectStageSettings:null})),QC=Object(ot.a)(WC,(function(e){return Boolean(e)&&e.reflectStageEnabled})),YC=Object(ot.a)(WC,(function(e){return fe.a.isReflectionQuestionsAllowed()&&Boolean(e)?e.reflectQuestions:[]})),HC=Object(ot.a)(YC,(function(e){return Boolean(e)&&e.length>0})),zC=Object(ot.a)(QC,US,(function(e,t){return e?t.reflectAnswers:[]})),KC=Object(ot.a)(zC,(function(e){return Boolean(e)&&e.length>0})),XC=Object(ot.a)(QC,HC,KC,(function(e,t,n){return e&&t&&!n})),JC=Object(ot.a)(xS,(function(e){return Boolean(e.peerReviewType)})),ZC=Object(ot.a)(xS,(function(e){return e.peerReviewType})),$C=Object(ot.a)(xS,(function(e){return e.peerReviewAmount})),e_=Object(ot.a)(xS,(function(e){return e.peerReviewDueAt})),t_=Object(ot.a)(US,(function(e){return e.reviewedResults?e.reviewedResults:[]})),n_=Object(ot.a)(t_,SC,(function(e,t){return O.a.filter(e,(function(e){return e.result&&e.result.submitter&&+e.result.submitter.dbId!==+t}))})),r_=Object(ot.a)(xS,JC,(function(e,t){return!(!t||!fe.a.isGradedPeerReviewAllowed())&&Boolean(e[DS.b.SETTINGS_ENABLED])})),a_=Object(ot.a)(r_,xS,(function(e,t){return e?t[DS.b.SETTINGS_WEIGHT]:null})),o_=Object(ot.a)(xS,(function(e){return e.isCommentingAnonymous})),i_=o_,c_=Object(ot.a)(xS,(function(e){return e.peerReviewSubmitterAnonymous})),s_=Object(ot.a)(US,(function(e){return e.educatorGrade})),u_=Object(ot.a)(s_,(function(e){return e?e.overallValue:null})),l_=Object(ot.a)(s_,(function(e){return e?e.gradeParts:null})),d_=Object(ot.a)(l_,(function(e){return e?O.a.find(e,{type:ny.a.ACTIVITY_RESULT}):null})),f_=Object(ot.a)(l_,(function(e){return e?O.a.find(e,{type:ny.a.PEER_REVIEW}):null})),p_=Object(ot.a)(l_,(function(e){return e?O.a.find(e,{type:ny.a.INTERACTIVE_VIDEO}):null})),m_=Object(ot.a)(US,(function(e){return e.isGradeDraftAllowed})),b_=Object(ot.a)(xS,(function(e){return e?e.gradeType:null})),y_=function(e){return e===uv.EDUCATOR?r:Qs},v_=function(e,t){return y_(t).getActivityId(e)},h_=function(e,t){return y_(t).getActivityType(e)},g_=function(e,t){return y_(t).hasReflectionAnswers(e)},E_=function(e,t){return y_(t).isAutoAnalysisEnabled(e)},w_=function(e,t){return y_(t).isAutoAnalysisScoreEnabled(e)},O_=function(e,t){return y_(t).isFiveStarEnabled(e)},S_=function(e,t){return y_(t).isRubricReviewEnabled(e)},C_=function(e,t){return t!==uv.EDUCATOR&&Qs.isRubricSelfReviewEnabled(e)},__=function(e,t){return y_(t).needReflectionAnswers(e)},I_=function(e,t){return y_(t).getReflectionAnswers(e)},T_=function(e,t){return t===uv.EDUCATOR?wC(e):Qs.getActivityResult(e)},R_=function(e,t){return y_(t).getRubric(e)},P_=function(e,t){return y_(t).getRubricEvaluations(e)},A_=function(e,t){return t===uv.EDUCATOR?US(e):Qs.getMyData(e)},N_=function(e,t){return y_(t).getActivityResultSubmitter(e)},j_=function(e,t){return y_(t).getTermClassId(e)};n("SfRD");function k_(e){return(k_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U_(e,t,n[t])}))}return e}function L_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M_(e){return(M_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x_(e,t){return(x_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V_=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=M_(t).call(this,e),n=!a||"object"!==k_(a)&&"function"!==typeof a?F_(r):a,U_(F_(F_(n)),"onMessageChange",(function(e){n.setState({message:e})})),U_(F_(F_(n)),"onMessageSubmit",(function(){var e=n.state.message;Ec.addPresetComment(e).then((function(){n.setState({message:""})}))})),U_(F_(F_(n)),"onEditClick",(function(e){n.setState({selectedEditComment:O.a.clone(e)})})),U_(F_(F_(n)),"onEditChange",(function(e){var t=n.state.selectedEditComment;n.setState({selectedEditComment:D_({},t,{commentText:e})})})),U_(F_(F_(n)),"onEditSubmit",(function(){var e=n.state.selectedEditComment;Ec.editPresetComment(e).then((function(){n.setState({selectedEditComment:null})}))})),U_(F_(F_(n)),"onEditCancel",(function(){n.setState({selectedEditComment:null})})),U_(F_(F_(n)),"onDeleteComment",(function(e){n.setState({selectedDeleteComment:e})})),U_(F_(F_(n)),"onDeleteSubmit",(function(){var e=n.state.selectedDeleteComment;Ec.deletePresetComment(e.dbId)})),U_(F_(F_(n)),"onDeleteCancel",(function(){n.setState({selectedDeleteComment:null})})),U_(F_(F_(n)),"getSubmitSection",(function(){var e=n.state.message,t=n.props,r=t.i18n,a=t.isCommentPresetLoading,i=Object(eu.f)(e);return o.a.createElement("div",{className:"review-submit-section"},o.a.createElement(Sa.i,{ariaLabel:r._("Add preset"),id:"comment-preset-input",className:"feedback-text-dropdown",enabled:!a,errorText:i.exceedsLimit?r._("Exceeds {0} characters.",{0:i.maxLength}):"",maxLength:i.maxLength,maxRows:2,placeholder:r._("Add preset..."),onChange:n.onMessageChange,required:!0,rows:1,value:e}),o.a.createElement(we.d,{id:"button-grading-comment-send",enabled:!a&&i.isValid,className:"message-send-button",onClick:n.onMessageSubmit,isLoading:a},re.a.SEND))})),n.state={message:"",selectedEditComment:null,selectedDeleteComment:null},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x_(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.commentPresets,r=t.i18n,a=t.onClose,i=t.isCommentPresetLoading,c=this.state,s=c.selectedEditComment,u=c.selectedDeleteComment;n&&(n=O.a.orderBy(n,["commentText"],["asc"]));var l=s?s.commentText:"",d=Object(eu.f)(l);return o.a.createElement(Hf.a,{id:"comment-presets-dialog",dialogClassName:"comment-presets-dialog",contentClassName:"comment-presets-content",modal:!0,visible:!0,title:r._("Comment Presets"),actions:[o.a.createElement(we.b,{id:"button-grading-comment-presets-dialog-close",onClick:a},o.a.createElement(U.Trans,{id:"Close"}))]},o.a.createElement("div",{className:"comment-wrapper"},o.a.createElement("div",{className:"comment-items-container"},n&&n.length>0?n.map((function(t){return s&&s.dbId===t.dbId?o.a.createElement("div",{className:"comment-item",key:"comment-"+t.dbId},o.a.createElement(Sa.i,{id:"edit-comment-"+t.dbId,enabled:!i,onChange:e.onEditChange,errorText:d.exceedsLimit?r._("Exceeds {0} characters.",{0:d.maxLength}):"",maxLength:d.maxLength,maxRows:3,rows:1,required:!0,value:s.commentText}),o.a.createElement(we.d,{id:"button-grading-comment-dialog-edit-submit",enabled:!i&&d.isValid,isLoading:i,onClick:function(){e.onEditSubmit(t)}},re.a.CHECK),o.a.createElement(we.d,{id:"button-grading-comment-dialog-edit-cancel",enabled:!i,onClick:function(){e.onEditCancel()}},re.a.CLOSE)):u&&u.dbId===t.dbId?o.a.createElement("div",{className:"comment-item delete-message",key:"comment-"+t.dbId},o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"Delete?"})),o.a.createElement(we.d,{id:"button-grading-comment-dialog-delete-submit",enabled:!i,isLoading:i,onClick:function(){e.onDeleteSubmit(t)}},re.a.CHECK),o.a.createElement(we.d,{id:"button-grading-comment-dialog-delete-cancel",enabled:!i,onClick:function(){e.onDeleteCancel()}},re.a.CLOSE)):o.a.createElement("div",{className:"comment-item",key:"comment-"+t.dbId},o.a.createElement("span",null,t.commentText),o.a.createElement(we.d,{id:"button-grading-comment-dialog-edit-submit",enabled:!i,onClick:function(){e.onEditClick(t)}},re.a.EDIT),o.a.createElement(we.d,{id:"button-grading-comment-dialog-edit-cancel",enabled:!i,onClick:function(){e.onDeleteComment(t)}},re.a.DELETE))})):o.a.createElement("div",{className:"empty-comments"}))),this.getSubmitSection())}}])&&L_(n.prototype,r),a&&L_(n,a),t}(a.Component);V_.propTypes={onClose:c.a.func};var G_=Object(U.withI18n)()(Object(s.b)((function(e){return{commentPresets:Qe.a(e),isCommentPresetLoading:Qe.j(e)}}))(V_));n("7H7w");function q_(e){return(q_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W_(e){return(W_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q_(e,t){return(Q_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z_=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=W_(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==q_(a)&&"function"!==typeof a?Y_(r):a,H_(Y_(Y_(n)),"showPeerReviewReport",(function(e){var t=n.props.i18n;dt.a.showModal(o.a.createElement(af.a,{title:t._("Peer Reviews"),rubricEvaluations:e}))})),H_(Y_(Y_(n)),"showEditPresetCommentsDialog",(function(){dt.a.showModal(o.a.createElement(G_,{onClose:dt.a.closeModal}))})),H_(Y_(Y_(n)),"getCardHeader",(function(){var e=n.props,t=e.i18n,r=e.isFiveStarEnabled,a=e.isRubricReviewEnabled,i=e.presetCommentEditingEnabled,c=e.title,s=r||a;return o.a.createElement("div",{className:"md-card-title md-card-title--primary card-title post-submission-card-header"},o.a.createElement("h2",{className:"section-header"},c),s&&o.a.createElement("div",{className:"post-submission-feedback-rating-container"},n.getRatingComponent()),s&&i&&o.a.createElement("div",{className:"header-item-separator"}),i&&o.a.createElement("div",{className:"post-submission-overflow-actions-menu"},o.a.createElement(we.f,{id:"post-submission-overflow-menu-button",icon:!0,ariaLabel:t._("Edit preset comments"),menuItems:[{primaryText:t._("Edit Preset Comments"),onClick:n.showEditPresetCommentsDialog,leftIcon:o.a.createElement(Oe.a,null,re.a.EDIT)}]},re.a.MENU_VERT)))})),H_(Y_(Y_(n)),"getRatingComponent",(function(){var e=n.props,t=e.rubric,r=e.rubricPeerEvaluations,a=e.isFiveStarEnabled,i=e.isRubricReviewEnabled,c=e.studentData,s=e.i18n;if(a){var u=0;return c&&c.peerReview&&(u=c.peerReview.fiveStarValue),o.a.createElement("div",{className:"post-submission-fivestar-container"},o.a.createElement(Qd.a,{name:"feedback-review-rating",enabled:!1,value:u}),o.a.createElement("span",null,"(",c.peerReview.fiveStarRatesAmount,")"))}if(i){var l=O.a.get(c,"peerReview.rubricGrade",0);return o.a.createElement("div",{className:"post-submission-rubric-result-container"},o.a.createElement("span",null,s._("Peer Review")),o.a.createElement(we.b,{id:"button-grading-feedback-peer-review-rubric",enabled:!!r.length,onClick:n.showPeerReviewReport.bind(null,r),className:"post-submission-rubric-result-button",ariaLabel:s._("Peer Review"),primary:!0},o.a.createElement(tf.c,{points:l,max:t.maxValue})))}})),H_(Y_(Y_(n)),"getAssessmentRatingComponent",(function(){var e=n.props,t=e.i18n,r=e.isRubricSelfReviewEnabled,a=e.isTestStudent,i=e.onEditSelfAssessmentRubric,c=e.rubric,s=e.studentRubricSelfEvaluation;if(!r)return null;var u=0;return s&&(u=s.points),o.a.createElement("div",{className:"self-assessment-container"},o.a.createElement("div",{className:"self-assessment-rubric-results"},t._("Rubric Self Assessment"),o.a.createElement(we.b,{id:"button-feedback-self-assessment-rubric",ariaLabel:t._("Rubric Self Assessment"),onClick:i,enabled:!a,className:"eval-rubric-result-button",primary:!0},o.a.createElement(tf.c,{points:u,max:c.maxValue}))),a&&o.a.createElement(Dc.b,{type:Dc.a.INFO},o.a.createElement("p",null,t._("Feedback is not allowed for test learners"))))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q_(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityId,n=e.activityCommentIsLoading,r=e.comments,a=e.commentPresets,i=e.getCommentConfig,c=e.onAddVideoComment,s=e.onCommentChange,u=e.onDeleteComment,l=e.onEditComment,d=e.onPresetDropdownVisibilityChange,f=e.onPresetMessageChange,p=e.onResultMediaChange,m=e.onSubmitComment,b=e.onSyncTimeClick,y=e.scrollCommentsToBottom,v=e.termClassId,h=e.workItems;return o.a.createElement(Hn.a,{className:E()("post-submission-card")},this.getCardHeader(),o.a.createElement(kE,{activityId:t,activityCommentIsLoading:n,assessmentRatingComponent:this.getAssessmentRatingComponent(),comments:r,commentPresets:a,getCommentConfig:i,onAddVideoComment:c,onDeleteComment:u,onEditComment:l,onCommentChange:s,onPresetDropdownVisibilityChange:d,onPresetMessageChange:f,onResultMediaChange:p,onSubmitComment:m,onSyncTimeClick:b,scrollCommentsToBottom:y,termClassId:v,workItems:h}))}}])&&B_(n.prototype,r),a&&B_(n,a),t}(o.a.PureComponent);z_.defaultProps={activityCommentIsLoading:!1,comments:[],commentPresets:[],isFiveStarEnabled:!1,isRubricReviewEnabled:!1,isRubricSelfReviewEnabled:!1,isTestStudent:!1,onPresetDropdownVisibilityChange:function(){},onPresetMessageChange:function(){},presetCommentEditingEnabled:!1,rubric:{},rubricPeerEvaluations:[],scrollCommentsToBottom:!1},z_.propTypes={activityCommentIsLoading:c.a.bool,activityId:c.a.number.isRequired,className:c.a.string,comments:c.a.array,commentPresets:c.a.array,getCommentConfig:c.a.func.isRequired,i18n:c.a.any.isRequired,isFiveStarEnabled:c.a.bool,isRubricReviewEnabled:c.a.bool,isRubricSelfReviewEnabled:c.a.bool,isTestStudent:c.a.bool,onAddVideoComment:c.a.func.isRequired,onCommentChange:c.a.func.isRequired,onDeleteComment:c.a.func.isRequired,onEditComment:c.a.func.isRequired,onEditSelfAssessmentRubric:c.a.func,onPresetDropdownVisibilityChange:c.a.func,onPresetMessageChange:c.a.func,onResultMediaChange:c.a.func.isRequired,onSubmitComment:c.a.func.isRequired,onSyncTimeClick:c.a.func.isRequired,presetCommentEditingEnabled:c.a.bool,rubric:c.a.object,rubricPeerEvaluations:c.a.array,scrollCommentsToBottom:c.a.bool,studentData:c.a.object.isRequired,studentRubricSelfEvaluation:c.a.object,termClassId:c.a.number.isRequired,title:c.a.string.isRequired,workItems:c.a.array.isRequired};var K_=Object(U.withI18n)()(Object(y.k)(z_));function X_(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function J_(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){X_(o,r,a,i,c,"next",e)}function c(e){X_(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Z_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $_=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Z_(this,"addComment",function(){var e=J_(regeneratorRuntime.mark((function e(t,n,r,a,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o!==uv.EDUCATOR){e.next=5;break}return e.next=3,Vl.createActivityCommentText(t,n,r,a);case 3:e.next=11;break;case 5:if(o!==uv.STUDENT){e.next=10;break}return e.next=8,uu.a.addFeedbackComment(t,n,r,a);case 8:e.next=11;break;case 10:throw new Error("Unknown context for adding comment.");case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}()),Z_(this,"addVideoComment",function(){var e=J_(regeneratorRuntime.mark((function e(t,n,r,a,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o!==uv.EDUCATOR){e.next=5;break}return e.next=3,Vl.createActivityCommentMedia(t,n,r,a);case 3:e.next=11;break;case 5:if(o!==uv.STUDENT){e.next=10;break}return e.next=8,uu.a.addFeedbackCommentVideo(t,n,r,a);case 8:e.next=11;break;case 10:throw new Error("Unknown context for adding video comment.");case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}()),Z_(this,"editComment",function(){var e=J_(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==uv.EDUCATOR){e.next=5;break}return e.next=3,Vl.editFeedbackComment(t,n);case 3:e.next=11;break;case 5:if(r!==uv.STUDENT){e.next=10;break}return e.next=8,uu.a.editFeedbackComment(t,n);case 8:e.next=11;break;case 10:throw new Error("Unknown context for editing comment.");case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()),Z_(this,"deleteComment",function(){var e=J_(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==uv.EDUCATOR){e.next=5;break}return e.next=3,Vl.deleteActivityComment(t,n);case 3:e.next=11;break;case 5:if(r!==uv.STUDENT){e.next=10;break}return e.next=8,uu.a.deleteFeedbackComment(t,n);case 8:e.next=11;break;case 10:throw new Error("Unknown context for deleting comment.");case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()),Z_(this,"createRubricPeerReview",function(){var e=J_(regeneratorRuntime.mark((function e(t,n,r,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a!==uv.STUDENT){e.next=5;break}return e.next=3,uu.a.createRubricPeerReview(t,n,r,!0);case 3:e.next=6;break;case 5:throw new Error("Unknown context for creating rubric peer review.");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}())};function eI(e){return(eI="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tI(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function nI(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){tI(o,r,a,i,c,"next",e)}function c(e){tI(o,r,a,i,c,"throw",e)}i(void 0)}))}}function rI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aI(e){return(aI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oI(e,t){return(oI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sI={commentIsLoading:!1,scrollCommentsToBottom:!1},uI=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=aI(t).call(this,e),n=!a||"object"!==eI(a)&&"function"!==typeof a?iI(r):a,cI(iI(iI(n)),"scrollToBottom",(function(){n.setState({scrollCommentsToBottom:!0},(function(){n.setState({scrollCommentsToBottom:!1})}))})),cI(iI(iI(n)),"getPlayerTime",(function(e){var t=n.props.studentData.resultPartials,r=ly.c(e,m.a.getState());return null===r?kv.hasVideoInReadyToSubmitResultPartials(t)?0:null:+r.toFixed(1)-.1})),cI(iI(iI(n)),"pauseVideoPlayback",(function(e){var t=n.props.dispatch;if(e&&ly.b(e,m.a.getState(),"isPlaying")){var r=n.getPlayerTime(e);t(uy.t(e)),n.globalPlayerEmitter.pause({playerId:e,startTime:r}),n.resumeVideoAfterMessageSubmit=!0}})),cI(iI(iI(n)),"finalizeCommentState",(function(e){var t=n.props.dispatch;n.scrollToBottom(),n.resumeVideoAfterMessageSubmit&&(n.globalPlayerEmitter.play({playerId:e,startTime:n.getPlayerTime()}),t(uy.u(e))),n.setState({commentIsLoading:!1}),n.resumeVideoAfterMessageSubmit=!1})),cI(iI(iI(n)),"onCommentChange",(function(e,t){n.pauseVideoPlayback(t)})),cI(iI(iI(n)),"onSubmitComment",function(){var e=nI(regeneratorRuntime.mark((function e(t,r){var a,o,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,o=a.activityId,i=a.submitter,c=a.userId,s=a.viewContext,u=c,s===uv.EDUCATOR&&(u=i.dbId),n.setState({commentIsLoading:!0}),e.next=6,$_.addComment(+o,u,t,n.getPlayerTime(r),s);case 6:n.finalizeCommentState(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),cI(iI(iI(n)),"onAddVideoComment",(function(e){var t=n.props.activityId;n.pauseVideoPlayback(e),fr.a.isRecorderSupported()&&!bt.b()?dt.a.showModal(o.a.createElement(Qb,{activityId:+t,mediaType:pr.a.COMMENT,id:"FeedbackCommentRecorder",onComplete:function(t){t&&t.masterMediaId&&n.onAddVideoComplete(t.masterMediaId,e)}})):dt.a.showModal(o.a.createElement($b,{activityId:+t,mediaType:pr.a.COMMENT,showImportFromCloud:!1,onComplete:function(t){t&&t[0]&&n.onAddVideoComplete(t[0],e)}}))})),cI(iI(iI(n)),"onAddVideoComplete",function(){var e=nI(regeneratorRuntime.mark((function e(t,r){var a,o,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props,o=a.activityId,i=a.result,c=a.userId,s=a.viewContext,t){e.next=3;break}return e.abrupt("return");case 3:return u=c,s===uv.EDUCATOR&&(u=i.submitter.dbId),e.next=7,$_.addVideoComment(+o,u,t,n.getPlayerTime(r),s);case 7:n.finalizeCommentState(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),cI(iI(iI(n)),"onAddPreset",(function(e){var t=n.props.i18n;dt.a.showModal(o.a.createElement(Db,{id:"add-comment-preset-dialog",description:t._("Are you sure you want to add this comment as a preset?"),cancelLabel:t._("No"),confirmLabel:t._("Yes"),title:t._("Add Preset"),onConfirm:nI(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ec.addPresetComment(e.commentText);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}))})),cI(iI(iI(n)),"onPresetDropdownVisibilityChange",(function(e,t){var r=n.props.dispatch;e?n.pauseVideoPlayback(t):n.resumeVideoAfterMessageSubmit&&(n.globalPlayerEmitter.play({playerId:t,startTime:n.getPlayerTime()}),r(uy.u(t)),n.resumeVideoAfterMessageSubmit=!1)})),cI(iI(iI(n)),"onPresetMessageChange",(function(e,t){n.pauseVideoPlayback(t),n.onSubmitComment(e,t)})),cI(iI(iI(n)),"onEditComment",(function(e){var t=n.props.viewContext;dt.a.showModal(o.a.createElement(wg,{comment:e,onConfirm:function(){var e=nI(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$_.editComment(n.dbId,n,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}))})),cI(iI(iI(n)),"onDeleteComment",(function(e){var t=n.props,r=t.activityId,a=t.i18n,i=t.viewContext;dt.a.showModal(o.a.createElement(Db,{id:"delete-review-item-dialog",description:a._("Are you sure you want to delete this comment?"),cancelLabel:a._("No"),confirmLabel:a._("Yes"),title:a._("Delete Comment"),onConfirm:nI(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$_.deleteComment(+r,e.dbId,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}))})),cI(iI(iI(n)),"onEditSelfAssessmentRubric",(function(){var e=n.props,t=e.activityId,r=e.result,a=e.rubric,i=e.userId,c=e.viewContext,s=null,u=null;r&&r.myRubricEvaluation&&(s=r.myRubricEvaluation.points,u=r.myRubricEvaluation.cells.map((function(e){return e.dbId}))),dt.a.showModal(o.a.createElement(tf.b,{rubric:a,rubricPoints:s,grade:u,mode:nf.a.GRADE,onCancel:dt.a.closeModal,onSubmit:function(){var e=nI(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$_.createRubricPeerReview(t,i,n,c);case 2:dt.a.closeModal();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}))})),cI(iI(iI(n)),"onResultMediaChange",(function(e){var t=n.props,r=t.dispatch;t.viewContext===uv.EDUCATOR?r(qu.pb(e)):r(yO.sc(e))})),cI(iI(iI(n)),"onSyncTimeClick",(function(e,t){var r=n.props.dispatch,a=n.getPlayerTime(t),o=e;r(uy.F(t,o)),n.globalPlayerEmitter.seek({playerId:t,startTime:a,endTime:o})})),cI(iI(iI(n)),"getWorkItemConfig",(function(e){return{actions:{primary:[],secondary:n.getSecondaryActions(e)}}})),cI(iI(iI(n)),"isDownloadEnabled",(function(e,t){var n=!1,r=O.a.get(e,["attributes",ev.DOWNLOAD_URL]);switch(e.type){case $y.FILE:case $y.IMAGE:case $y.LINK:n=Boolean(r);break;case $y.MEETING:n=t&&r&&fe.a.isMeetingDownloadAllowed();break;case $y.VIDEO:n=t&&Boolean(r)}return n})),cI(iI(iI(n)),"getSecondaryActions",(function(e){var t=n.props,r=t.activityType,a=t.isAutoAnalysisEnabled,i=t.isAutoAnalysisScoreVisible,c=t.needReflectionAnswers,s=t.reflectionAnswers,u=t.viewContext,l=t.i18n,d=[],f=O.a.get(e,["attributes",ev.PREVIEW_URL]),p=fe.a.getAutoAnalysisPermission(),m=!p.isRestricted&&kv.isItemProcessed(e),b=a&&p.isVisible&&jy.a.isActivityTypeSupported(r),y=p.isRestricted?l._(p.restrictedMessage):l._("View Analysis"),v=kv.isItemProcessed(e),h=n.isDownloadEnabled(e,v),g=u===uv.EDUCATOR||i;switch(e.type){case $y.FILE:case $y.IMAGE:case $y.LINK:var E="item-action-launch[".concat(e.key,"]");d.push(o.a.createElement(mh,{id:E,key:E,previewUrl:f}));break;case $y.REFLECTION_ANSWERS:var w="item-action-reflection-answers[".concat(e.key,"]");d.push(o.a.createElement(rg,{key:w,item:e,answers:s,needAnswers:c,enabled:!0}));break;case $y.VIDEO:if(b){var S="item-action-auto-analysis[".concat(e.key,"]");d.push(o.a.createElement(fv,{key:S,item:e,enabled:m,isAutoAnalysisScoreVisible:g,tooltip:{label:y}}))}}return e.type!==$y.REFLECTION_ANSWERS&&e.type!==$y.LINK&&d.push(o.a.createElement(Mv,{key:e.key,item:e,enabled:h})),d})),cI(iI(iI(n)),"getComments",(function(){var e=n.props.result.comments;return e?O.a.orderBy(e,["syncTime","updatedAt"],["asc","asc"]):{}})),cI(iI(iI(n)),"getCommentActions",(function(e){var t=n.props,r=t.i18n,a=t.commentPresets,i=[],c=O.a.find(a,(function(t){return t.commentText===e.commentText}));return i.push({primaryText:r._("Add as Preset"),disabled:Boolean(c),onClick:function(){n.onAddPreset(e)},leftIcon:o.a.createElement(Oe.a,null,re.a.ADD)},{primaryText:r._("Edit"),onClick:function(){n.onEditComment(e)},leftIcon:o.a.createElement(Oe.a,null,re.a.EDIT)},{primaryText:r._("Delete"),onClick:function(){n.onDeleteComment(e)},leftIcon:o.a.createElement(Oe.a,null,re.a.DELETE)}),i})),cI(iI(iI(n)),"getCommentConfig",(function(e){var t=n.props,r=t.i18n,a=t.userId,i=t.viewContext,c=e.commenter&&e.commenter.dbId===a;if(i===uv.STUDENT)return{canDelete:c,canEdit:c};var s=!c&&e.commenter&&Wr.c(e.commenter),u=null;return c&&(u=[o.a.createElement(we.f,{id:"review-comment-menu-button-"+e.dbId,key:"review-comment-menu-button-"+e.dbId,icon:!0,className:"review-edit-comment-button",menuItems:n.getCommentActions(e),ariaLabel:r._("Comment options")},re.a.MENU_VERT)]),{canDelete:!s,canEdit:!s,customActions:u}})),n.globalPlayerEmitter=new ey.a,n.state=sI,n.resumeVideoAfterMessageSubmit=!1,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oI(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.commentIsLoading,n=e.scrollCommentsToBottom,r=this.props,a=r.activityId,i=r.activityType,c=r.commentPresets,s=r.i18n,u=r.isFiveStarEnabled,l=r.isRubricReviewEnabled,d=r.isRubricSelfReviewEnabled,f=r.reflectionAnswers,p=r.result,m=r.rubric,b=r.rubricEvaluations,y=r.studentData,v=r.termClassId,h=r.userData,g=r.viewContext;if(!p)return null;var E=y.resultPartials,w=kv.getTranslatedResult(p,this.getWorkItemConfig,f,E),O=kv.getFilteredRubricEvaluations(i,b,y),S=g===uv.EDUCATOR?s._("Submission"):s._("My Submission");return o.a.createElement(K_,{activityCommentIsLoading:t,activityId:a,comments:this.getComments(),commentPresets:c,isFiveStarEnabled:u,isRubricReviewEnabled:l,isRubricSelfReviewEnabled:d,isTestStudent:Wr.i(h),getCommentConfig:this.getCommentConfig,getWorkItemActions:this.getWorkItemActions,onAddVideoComment:this.onAddVideoComment,onCommentChange:this.onCommentChange,onDeleteComment:this.onDeleteComment,onEditComment:this.onEditComment,onEditSelfAssessmentRubric:this.onEditSelfAssessmentRubric,onPresetDropdownVisibilityChange:this.onPresetDropdownVisibilityChange,onPresetMessageChange:this.onPresetMessageChange,onResultMediaChange:this.onResultMediaChange,onSubmitComment:this.onSubmitComment,onSyncTimeClick:this.onSyncTimeClick,presetCommentEditingEnabled:Boolean(g===uv.EDUCATOR),rubric:m,rubricPeerEvaluations:O,scrollCommentsToBottom:n,studentData:y,studentRubricSelfEvaluation:p.myRubricEvaluation,termClassId:v,title:S,workItems:w})}}])&&rI(n.prototype,r),a&&rI(n,a),t}(o.a.PureComponent);uI.propTypes={activityId:c.a.number,activityType:c.a.string,commentPresets:c.a.array,dispatch:c.a.func,i18n:c.a.any.isRequired,isFiveStarEnabled:c.a.bool,isAutoAnalysisEnabled:c.a.bool,isAutoAnalysisScoreVisible:c.a.bool,isRubricReviewEnabled:c.a.bool,isRubricSelfReviewEnabled:c.a.bool,needReflectionAnswers:c.a.bool,reflectionAnswers:c.a.array,result:c.a.object,rubric:c.a.object,rubricEvaluations:c.a.array,studentData:c.a.object,submitter:c.a.object,termClassId:c.a.number,userData:c.a.object,userId:c.a.number,viewContext:c.a.string.isRequired};uI.SUBMISSION_VIEW_CONTEXT=uv;var lI=Object(U.withI18n)()(Object(s.b)((function(e,t){var n=t.viewContext;return{activityId:v_(e,n),activityType:h_(e,n),hasReflectionAnswers:g_(e,n),isAutoAnalysisEnabled:E_(e,n),isAutoAnalysisScoreVisible:w_(e,n),isFiveStarEnabled:O_(e,n),isRubricReviewEnabled:S_(e,n),isRubricSelfReviewEnabled:C_(e,n),needReflectionAnswers:__(e,n),reflectionAnswers:I_(e,n),result:T_(e,n),rubric:R_(e,n),rubricEvaluations:P_(e,n),studentData:A_(e,n),submitter:N_(e,n),termClassId:j_(e,n),commentPresets:Qe.a(e),userId:Qe.i(e),userData:Qe.h(e)}}))(uI));function dI(e){return(dI="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fI(e){return(fI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pI(e,t){return(pI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yI=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=fI(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==dI(a)&&"function"!==typeof a?mI(r):a,bI(mI(mI(n)),"state",{showMilestoneDialog:!1,showMeetingDialog:!1}),bI(mI(mI(n)),"createMeeting",(function(){n.setState({showMeetingDialog:!0})})),bI(mI(mI(n)),"onMeetingDialogCancel",(function(){n.setState({showMeetingDialog:!1})})),bI(mI(mI(n)),"onMeetingDialogSubmit",(function(e){n.setState({showMeetingDialog:!1});var t=e.scheduledAt,r=e.title,a=n.props.activityId;a=+a;var o={title:r,scheduledAt:t};uu.a.createMeeting(a,o)})),bI(mI(mI(n)),"createMilestone",(function(){n.setState({showMilestoneDialog:!0})})),bI(mI(mI(n)),"onMilestoneCancel",(function(){n.setState({showMilestoneDialog:!1})})),bI(mI(mI(n)),"onMilestoneSubmit",(function(e){n.setState({showMilestoneDialog:!1});var t=e.dueDate,r=e.description,a=e.selectedUsers,o=e.status,i=n.props,c=i.studentGroup.dbId,s=i.activityId;s=+s;var u={groupDbId:c,dbId:e.dbId,dueDate:t,description:r,status:o,assignedTo:a?a.map((function(e){return+e})):[]};uu.a.createMilestone(s,u)})),bI(mI(mI(n)),"getDescription",(function(){var e=n.props,t=e.i18n,r=e.groupName,a=e.locale,i=e.result,c=null;if(i){var s=i.submitter,u=i.submittedAt,l="".concat(s.firstName," ").concat(s.lastName),d=new Date(1e3*u),f=Object(Pf.e)(d,ia.a.SHORT,Object(Zi.e)(a));c=o.a.createElement("div",null,t._("Submitted by: {submittedBy} ({submittedAtString})",{submittedBy:l,submittedAtString:f}))}return o.a.createElement("div",null,o.a.createElement("div",null,t._("Group: {groupName}",{groupName:r})),c)})),bI(mI(mI(n)),"render",(function(){var e=n.props,t=e.activityName,r=e.postSubmissionMedia,a=e.postSubmisstionText,i=e.i18n;return o.a.createElement(Bd,{title:t,description:n.getDescription(),serviceMethod:uu.a.refreshGroupSubmittedActivity},o.a.createElement("div",null,o.a.createElement(zf.a,null),o.a.createElement(Yf,null),o.a.createElement(op.a,{title:i._("Post-Submission Instructions"),media:r,text:a}),o.a.createElement(rw,null),o.a.createElement(lI,{viewContext:lI.SUBMISSION_VIEW_CONTEXT.STUDENT})))})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pI(e,t)}(t,e),t}(a.Component),vI=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),activityName:Qs.getActivityName(e),comments:Qs.getActivityLog(e),locale:jS.a(e),postSubmissionMedia:Qs.getPostSubmissionMedia(e),postSubmisstionText:Qs.getPostSubmissionText(e),groupName:Qs.getStudentGroupName(e),result:Qs.getActivityResult(e),studentGroup:Qs.getStudentGroup(e)}}))(yI))),hI=n("VmXB"),gI=n("vRGJ"),EI=n.n(gI),wI=(n("dp1i"),n("Rso3"));function OI(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    mutation skip($input: DistributeTestStudentsInput!){\n        distributeTestStudentsForActivity(input: $input){\n            activity {\n                dbId\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n"]);return OI=function(){return e},e}function SI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var CI=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"skip",value:function(e){return xe.a.mutate({mutation:_I,variables:{input:{dbId:e}}}).then((function(e){var t=e.data.distributeTestStudentsForActivity.errors;return t&&t.length>0?Promise.reject(t):Promise.resolve(e.data.distributeTestStudentsForActivity.activity.dbId)}))}}],(n=null)&&SI(t.prototype,n),r&&SI(t,r),e}(),_I=Ue()(OI()),II=n("DbOS");function TI(e){return(TI="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RI(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function PI(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){RI(o,r,a,i,c,"next",e)}function c(e){RI(o,r,a,i,c,"throw",e)}i(void 0)}))}}function AI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NI(e){return(NI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jI(e,t){return(jI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LI=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=NI(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==TI(a)&&"function"!==typeof a?kI(r):a,DI(kI(kI(n)),"state",{loading:!1}),DI(kI(kI(n)),"clickHandler",PI(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.match.params,a=r.activityId,o=r.classId,i=t.i18n,e.prev=1,n.setState({loading:!0}),e.next=5,CI.skip(+a);case 5:n.setState({loading:!1}),c=EI.a.compile(In.i.STUDENT_ACTIVITY)({activityId:a,classId:o}),c=Object(Tv.b)(c),c=Object(II.a)(c),window.location.href=c,e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),l.b.error(e.t0),n.setState({loading:!1}),ft.a.addError(i._("Failed to skip group formation step"));case 17:case"end":return e.stop()}}),e,this,[[1,12]])})))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jI(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.currentUser;return Wr.i(e)&&this.props.children&&O.a.isFunction(this.props.children)?this.props.children({clickHandler:this.clickHandler,loading:this.state.loading}):null}}])&&AI(n.prototype,r),a&&AI(n,a),t}(a.Component),MI=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{currentUser:Qe.h(e)}}))(LI)));function xI(e){return(xI="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UI(e){return(UI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VI(e,t){return(VI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BI=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=UI(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==xI(a)&&"function"!==typeof a?GI(r):a,qI(GI(GI(n)),"onBackClick",(function(){var e=n.props,t=e.match,r=e.history,a=EI.a.compile(hI.b.STUDENT_ACTIVITY_LIST)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){qI(e,t,n[t])}))}return e}({},t.params));r.push(a)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VI(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n;return o.a.createElement(ju.a,{title:e._("Group Selection")},o.a.createElement(Hn.a,{className:"group-formation-error-card"},o.a.createElement(Hn.c,null,o.a.createElement(wI.a,null),fe.a.isStudentAssignmentNavigationVisible()&&o.a.createElement(we.b,{id:"button-not-in-group-back-to-assignments",primary:!0,className:"group-formation-error-back-button",onClick:this.onBackClick,ariaLabel:e._("Back to Assignments"),iconEl:o.a.createElement(Oe.a,null,re.a.BACK)},e._("Back to Assignments")),o.a.createElement("div",{className:"group-formation-error"},o.a.createElement(Oe.a,null,re.a.INFO_OUTLINE),o.a.createElement("p",null,o.a.createElement(U.Trans,{id:"You have not yet been placed in a group for this assignment. Please contact your instructor to be placed in a group."})))),o.a.createElement("div",{className:"u-full-width"},o.a.createElement(MI,null,(function(t){var n=t.loading,r=t.clickHandler;return o.a.createElement("div",{className:"u-display-flex u-justify-end"},o.a.createElement(we.b,{id:"button-not-in-group-skip",primary:!0,isLoading:n,onClick:r,ariaLabel:e._("View Assignment")},e._("View Assignment")))})))))}}])&&FI(n.prototype,r),a&&FI(n,a),t}(a.Component),WI=Object(s.b)((function(e){return{isDeepLinkingEnabled:Ye.x(e),institution:Ye.i(e)}}))(Object(U.withI18n)()(Object(y.k)(BI)));n("kE32");function QI(e){return(QI="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YI(e){return(YI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HI(e,t){return(HI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XI={renderOldGroupFormationPages:!1},JI=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=YI(t).call(this,e),n=!a||"object"!==QI(a)&&"function"!==typeof a?zI(r):a,KI(zI(zI(n)),"render",(function(){var e=n.props,t=e.activityData,r=e.match,a=n.state.renderOldGroupFormationPages,i=Boolean(t&&t.myData&&t.myData.studentGroup),c=Boolean(i&&t.myData&&t.myData.result);return a?null:o.a.createElement("div",null,o.a.createElement(F.a,{query:"(min-width: 701px)"},o.a.createElement(y.d,null,o.a.createElement(y.b,{path:"".concat(r.path,"/group-not-found"),component:WI}),t.allowGroupsForming?o.a.createElement(y.b,{path:"".concat(r.path,"/group"),component:Md}):null,i?o.a.createElement(y.b,{component:c?vI:NS}):o.a.createElement(y.b,{component:WI}))),o.a.createElement(F.a,{query:"(max-width: 700px)"},o.a.createElement(y.d,null,t.allowGroupsForming?o.a.createElement(y.b,{path:"".concat(r.path,"/group"),component:Md}):null,o.a.createElement(y.b,{path:"".concat(r.path,"/group-not-found"),component:WI}),o.a.createElement(y.b,{path:"".concat(r.path,"/group"),component:Md}),o.a.createElement(y.b,{path:"".concat(r.path,"/chat"),render:function(){return o.a.createElement(vu,{parentUrl:r.url})}}),o.a.createElement(y.b,{path:"".concat(r.path,"/activity-log"),render:function(){return o.a.createElement(Zs,{parentUrl:r.url})}}),o.a.createElement(y.b,{path:"".concat(r.path,"/milestone/:milestoneId"),render:function(){return o.a.createElement(fm,{parentUrl:r.url})}}),o.a.createElement(y.b,{path:"".concat(r.path,"/meeting/:meetingId"),render:function(){return o.a.createElement(pb,{parentUrl:r.url})}}),i?o.a.createElement(y.b,{component:c?vI:NS}):o.a.createElement(y.b,{component:WI}))))}));var i=e.activityData,c=!1;if(i){var s=i.executorsType,u=!i.groupsFormedAt&&(!i.myData||!i.myData.studentGroup||!i.myData.studentGroup.dbId);s===Rd.a.STUDENT_FORMED&&u&&(c=!0,window.location.href="".concat(window.location.origin,"/student/activity/").concat(i.dbId,"/gpd/student-groups")),s===Rd.a.SYSTEM_FORMED&&u&&(c=!0,window.location.href="".concat(window.location.origin,"/student/activity/").concat(i.dbId,"/gpd/general-availability/show-calendar"))}return n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){KI(e,t,n[t])}))}return e}({},XI,{renderOldGroupFormationPages:c}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HI(e,t)}(t,e),t}(a.Component),ZI=Object(y.k)(Object(s.b)((function(e){return{activityData:Qs.getActivityData(e)}}))(JI)),$I=n("1h2I");n("491w");function eT(e){return(eT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){sT(e,t,n[t])}))}return e}function nT(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function rT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aT(e,t,n){return(aT="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oT(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function oT(e){return(oT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iT(e,t){return(iT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uT={isConfirmDialogVisible:!1,isDirty:!1,isPreviewDialogVisible:!1,isSavingReflectionQuestions:!1,isValid:!1,questionsWithAnswers:[],errors:{}},lT="reflection-questions-work",dT=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=oT(t).call(this,e),n=!a||"object"!==eT(a)&&"function"!==typeof a?cT(r):a,sT(cT(cT(n)),"onQuestionAnswerChange",(function(e){var t=nT(n.state.questionsWithAnswers),r=O.a.findIndex(t,{dbId:e.dbId});r>=0&&t.splice(r,1,e),n.setState({isDirty:!0,questionsWithAnswers:t})})),sT(cT(cT(n)),"onSubmitAnswersClick",(function(){n.setState({isConfirmDialogVisible:!0})})),sT(cT(cT(n)),"process",(function(){var e=n.props.i18n,t=n.state.questionsWithAnswers,r=Sh.c,a={},o=!0;return t.map((function(t,n){var i=t[Sh.a.ANSWER.TEXT];return i?i.length>r&&(o=!1,a[lT+"-answer-text-length["+n+"]"]=e._("Exceeds {maxAnswerLength} characters.",{maxAnswerLength:r})):o=!1,null})),{isValid:o,errors:a}})),sT(cT(cT(n)),"onConfirmDialogCanel",(function(){n.setState({isConfirmDialogVisible:!1})})),sT(cT(cT(n)),"onConfirmDialogSubmit",(function(){n.setState({isConfirmDialogVisible:!1}),n.onReflectionQuestionsSubmit()})),sT(cT(cT(n)),"getQuestionAnswerForm",(function(){var e=n.props,t=e.i18n,r=e.readOnly,a=n.state,i=a.questionsWithAnswers,c=a.errors;return o.a.createElement("div",{className:lT+"-form"},o.a.createElement("div",{className:lT+"-message"},o.a.createElement("p",null,t._("Please review the assignment instructions and then respond to the following questions.")),o.a.createElement("p",null,t._("This section must be completed before proceeding with the assignment."))),o.a.createElement("div",{className:lT+"-list"},i.map((function(e,t){var a=c[lT+"-answer-text-length["+t+"]"];return o.a.createElement(jh,{key:lT+"-item["+t+"]",errorMessage:a,onChange:n.onQuestionAnswerChange,question:tT({},e,sT({},Sh.a.QUESTION.SORT,t)),readOnly:r})}))))})),sT(cT(cT(n)),"onPreviewReflectionAnswersOpen",(function(){n.setState({isPreviewDialogVisible:!0})})),sT(cT(cT(n)),"getCardTitleActions",(function(){var e=n.props,t=e.i18n;return e.needAnswers?null:o.a.createElement("div",{className:lT+"-completed-container"},o.a.createElement(we.b,{id:"button-reflection-questions-preview",primary:!0,ariaLabel:t._("View Answers"),iconBefore:!1,iconEl:o.a.createElement(Oe.a,null,re.a.PREVIEW),onClick:n.onPreviewReflectionAnswersOpen},t._("View Answers")))})),sT(cT(cT(n)),"onPreviewReflectionAnswersClose",(function(){n.setState({isPreviewDialogVisible:!1})})),sT(cT(cT(n)),"getCardTitle",(function(){var e=n.props.i18n;return o.a.createElement(Hn.d,{title:e._("Reflection Questions"),actions:n.getCardTitleActions()})})),sT(cT(cT(n)),"getCardBody",(function(){return o.a.createElement(Hn.c,null,o.a.createElement("div",{className:lT+"-container"},n.getQuestionAnswerForm()))})),sT(cT(cT(n)),"getCardActions",(function(){var e=n.props,t=e.i18n,r=e.readOnly,a=n.state,i=a.isDirty,c=a.isValid,s=a.isSavingReflectionQuestions,u=i&&c&&!s,l={label:t._("You must provide an answer for each question before proceeding")},d=t._("Save Answers");return c&&(l={}),n.state.isSavingReflectionQuestions&&(d=t._("Saving Answers..."),l={}),o.a.createElement(Hn.b,null,o.a.createElement(we.h,{id:"button-reflection-questions-submit",primary:!0,ariaLabel:d,enabled:u&&!r,onClick:n.onSubmitAnswersClick,tooltip:l},d))})),sT(cT(cT(n)),"getConfirmDialog",(function(){var e=n.props.i18n,t=n.state.isConfirmDialogVisible,r=[];return r.push(o.a.createElement(we.b,{id:"button-reflection-questions-confirmation-dialog-cancel",ariaLabel:e._("Cancel"),onClick:n.onConfirmDialogCanel},e._("Close"))),r.push(o.a.createElement(we.b,{id:"button-reflection-questions-confirmation-dialog-submit",primary:!0,ariaLabel:e._("Submit"),onClick:n.onConfirmDialogSubmit},e._("Submit"))),t?o.a.createElement(Hf.a,{dialogClassName:lT+"-confirm-dialog",id:"reflection-questions-confirm-dialog",actions:r,title:e._("Confirm Submit"),visible:!0},o.a.createElement("div",null,o.a.createElement("div",null,e._("You will not be able to modify these responses after they have been submitted.")),o.a.createElement("div",null,e._("Are you sure you want to submit your answers?")))):null})),sT(cT(cT(n)),"getPreviewDialog",(function(){var e=n.state.isPreviewDialogVisible;return o.a.createElement(zh,{visible:e,onClose:n.onPreviewReflectionAnswersClose})})),sT(cT(cT(n)),"onReflectionQuestionsSubmit",(function(){var e=n.props,t=e.activityData,r=e.activityId,a=e.i18n;r=+r;var o=n.state.questionsWithAnswers.map((function(e){var t;return sT(t={},Sh.a.ANSWER.TEXT,e[Sh.a.ANSWER.TEXT]),sT(t,"questionDbId",e.dbId),t}));n.setSaving(!0),uu.a.saveReflectionQuestionAnswers(r,o).then((function(){n.setSaving(!1),uu.a.refreshActivityData(t),ft.a.addSuccess(a._("Reflection Questions: Your answers have been saved."))})).catch((function(){n.setSaving(!1),ft.a.addError(a._("Reflection Questions: Unable to save your answers."))}))})),sT(cT(cT(n)),"setSaving",(function(e){n.setState({isSavingReflectionQuestions:e})})),n.state=tT({},uT,{questionsWithAnswers:e.questions}),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iT(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.isDirty||this.setState({questionsWithAnswers:e.questions})}},{key:"setState",value:function(e,n){var r=this;aT(oT(t.prototype),"setState",this).call(this,e,(function(){r.validate(r.props,n)}))}},{key:"validate",value:function(e,n){var r=this.process(e);aT(oT(t.prototype),"setState",this).call(this,r,n)}},{key:"render",value:function(){var e=this.props,t=e.questions,n=e.needAnswers;return Boolean(t&&t.length>0)?o.a.createElement(Hn.a,null,this.getCardTitle(),n&&this.getCardBody(),n&&this.getCardActions(),n&&this.getConfirmDialog(),this.getPreviewDialog()):null}}])&&rT(n.prototype,r),a&&rT(n,a),t}(a.Component);dT.propTypes={answers:c.a.array,questions:c.a.array,readOnly:c.a.bool},dT.defaultProps={answers:[],questions:[],readOnly:!1};var fT=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityData:Qs.getActivityData(e),activityId:Qs.getActivityId(e),answers:Qs.getReflectionAnswers(e),hasQuestions:Qs.hasReflectionQuestions(e),needAnswers:Qs.needReflectionAnswers(e),questions:Qs.getReflectionQuestions(e)}}))(dT)));function pT(e){return(pT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mT(e){return(mT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bT(e,t){return(bT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var vT=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=mT(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==pT(a)&&"function"!==typeof a?yT(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(yT(yT(n)),"render",(function(){var e=n.props,t=e.activityName,r=e.availablePeerReviews,a=e.instructionsText,i=e.instructionsMedia,c=e.lmsLocked,s=e.rubric,u=e.i18n,l=e.isReflectionQuestionsEnabled;return o.a.createElement(Bd,{title:t,serviceMethod:uu.a.refreshIndividualProgressActivity},o.a.createElement(zf.a,null),o.a.createElement($I.a,null),o.a.createElement(_S.a,null),o.a.createElement(op.a,{title:u._("Instructions"),media:i,text:a,rubric:s}),!(c||!l)&&o.a.createElement(fT,null),o.a.createElement("div",null,o.a.createElement(Sm,null),o.a.createElement(CS,null)),r&&o.a.createElement(rw,null))})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bT(e,t)}(t,e),t}(a.Component);vT.propTypes={activityName:c.a.string,availablePeerReviews:c.a.array,instructionsText:c.a.string,instructionsMedia:c.a.object,lmsLocked:c.a.bool,rubric:c.a.object,i18n:c.a.object,isReflectionQuestionsEnabled:c.a.bool};var hT=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityName:Qs.getActivityName(e),availablePeerReviews:Qs.getAvailablePeerReviews(e),instructionsText:Qs.getActivityInstructionsText(e),instructionsMedia:Qs.getActivityInstructionsMedia(e),isReflectionQuestionsEnabled:Qs.isReflectionQuestionsEnabled(e),lmsLocked:Qs.getLmsLocked(e),rubric:Qs.getRubric(e)}}))(vT)));function gT(e){return(gT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ET(e){return(ET=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wT(e,t){return(wT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function OT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ST=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=ET(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==gT(a)&&"function"!==typeof a?OT(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(OT(OT(n)),"render",(function(){var e=n.props,t=e.activityName,r=e.postSubmissionMedia,a=e.postSubmisstionText,i=e.i18n;return o.a.createElement(Bd,{title:t,serviceMethod:uu.a.refreshIndividualSubmittedActivity},o.a.createElement("div",null,o.a.createElement(zf.a,null),o.a.createElement($I.b,null),o.a.createElement(op.a,{title:i._("Post-Submission Instructions"),media:r,text:a}),o.a.createElement(rw,null),o.a.createElement(lI,{viewContext:lI.SUBMISSION_VIEW_CONTEXT.STUDENT})))})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wT(e,t)}(t,e),t}(a.Component);ST.propTypes={activityName:c.a.string,i18n:c.a.any.isRequired,postSubmissionMedia:c.a.object,postSubmisstionText:c.a.string};var CT=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityName:Qs.getActivityName(e),postSubmissionMedia:Qs.getPostSubmissionMedia(e),postSubmisstionText:Qs.getPostSubmissionText(e)}}))(ST)));n("rgW0");function _T(e){return(_T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IT(e){return(IT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TT(e,t){return(TT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var PT=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=IT(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==_T(a)&&"function"!==typeof a?RT(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(RT(RT(n)),"render",(function(){var e=n.props,t=e.activityResult,r=e.match,a=t?o.a.createElement(CT,null):o.a.createElement(hT,null);return o.a.createElement("div",null,o.a.createElement(F.a,{query:"(max-width: 700px)"},(function(e){return o.a.createElement(y.d,null,e&&o.a.createElement(y.b,{path:"".concat(r.path,"/meeting/:meetingId"),render:function(){return o.a.createElement(pb,{parentUrl:r.url})}}),o.a.createElement(y.b,null,a))})))})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TT(e,t)}(t,e),t}(a.Component),AT=Object(y.k)(Object(s.b)((function(e){return{activityResult:Qs.getActivityResult(e),isLoading:Qs.getIsLoading(e)}}))(PT));n("6Byh");function NT(e){return(NT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kT(e){return(kT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DT(e,t){return(DT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function LT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xT=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=kT(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==NT(a)&&"function"!==typeof a?LT(r):a,MT(LT(LT(n)),"onPreview",(function(e){var t=n.props.onPreview;if(t&&t(e),e.previewUrl)return window.open(e.previewUrl,"_blank")})),MT(LT(LT(n)),"onDownload",(function(e){var t=n.props.onDownload;t&&t(e),mm.a.downloadPartial(e)})),MT(LT(LT(n)),"onLinkClick",(function(e){var t=n.props.onOpenLink;t&&t(e),window.open(e.link)})),MT(LT(LT(n)),"getListItem",(function(e,t){var r=n.props.i18n;return o.a.createElement("div",{className:"document-list-item",key:"document_item_"+t},o.a.createElement("span",{className:"partial-type-icon"},LS.b(e,r)),o.a.createElement("span",{className:"document-list-item-title"},e.title),n.getListItemActions(e))})),MT(LT(LT(n)),"getListItemActions",(function(e){var t=n.props.i18n;if(mm.a.isDocument(e)){var r=!!e.previewUrl;return o.a.createElement("div",null,o.a.createElement(we.d,{id:"button-document-download",ariaLabel:t._("Download"),tooltip:{position:Sg.a.LEFT,label:t._("Download")},onClick:function(){n.onDownload(e)}},re.a.DOWNLOAD),r&&o.a.createElement(we.d,{id:"button-document-preview",ariaLabel:t._("Preview (New Tab)"),tooltip:{position:Sg.a.LEFT,label:t._("Preview (New Tab)")},onClick:function(){n.onPreview(e)}},re.a.OPEN_IN_NEW))}return mm.a.isLink(e)?o.a.createElement("div",null,o.a.createElement(we.d,{id:"button-link-open",ariaLabel:t._("Preview (New Tab)"),onClick:function(){n.onLinkClick(e)},tooltip:{position:Sg.a.LEFT,html:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{key:"link_open_tooltip_1"},t._("Launch URL:")),o.a.createElement("div",{key:"link_open_tooltip_2",style:{wordBreak:"break-all"}},e.link))}},re.a.OPEN_IN_NEW)):mm.a.isReflectionAnswers(e)?o.a.createElement("div",null,o.a.createElement(we.d,{id:"button-link-preview",ariaLabel:t._("Preview"),tooltip:{position:Sg.a.LEFT,label:t._("Preview")},onClick:function(){e&&e.previewFunction()}},re.a.PREVIEW)):void 0})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DT(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.documents,r=t.links,a=O.a.concat(n,r);return a=O.a.sortBy(a,["title"]),a=O.a.compact(a),o.a.createElement("div",{className:"document-list-container"},a.map((function(t,n){return e.getListItem(t,n)})))}}])&&jT(n.prototype,r),a&&jT(n,a),t}(a.Component);xT.propTypes={documents:c.a.array,links:c.a.array,onDownload:c.a.func,onOpenLink:c.a.func,onPreview:c.a.func};var FT=Object(U.withI18n)()(xT);function UT(e){return(UT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GT(e){return(GT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qT(e,t){return(qT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function BT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var WT=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=GT(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==UT(a)&&"function"!==typeof a?BT(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(BT(BT(n)),"getDialogComponent",(function(e){var t=n.props,r=t.visible,a=t.onClose,i=t.documents,c=t.links,s=t.i18n,u=t.onDownload,l=t.onPreview,d=t.onOpenLink,f={dialogClassName:"documents-dialog",fullPage:e,id:"documents-dialog",modal:!0,onClose:a,title:s._("Documents"),visible:r};return e||(f.actions=[o.a.createElement(we.b,{id:"button-document-dialog-close",secondary:!0,onClick:a},o.a.createElement(U.Trans,{id:"Close"}))]),o.a.createElement(mb.a,f,o.a.createElement(FT,{documents:i,links:c,onDownload:u,onPreview:l,onOpenLink:d}))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qT(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F.a,{query:"(min-width: 551px)"},this.getDialogComponent(!1)),o.a.createElement(F.a,{query:"(max-width: 550px)"},this.getDialogComponent(!0)))}}])&&VT(n.prototype,r),a&&VT(n,a),t}(a.Component);WT.propTypes={documents:c.a.array,links:c.a.array,visible:c.a.bool,onClose:c.a.func,onDownload:c.a.func,onOpenLink:c.a.func,onPreview:c.a.func},WT.defaultProps={onDownload:function(){},onOpenLink:function(){},onPreivew:function(){}};var QT=Object(U.withI18n)()(WT);n("jLiW"),n("tdhA");function YT(e){return(YT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HT(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function zT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$T(e,t,n[t])}))}return e}function KT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XT(e){return(XT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JT(e,t){return(JT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eR={resumeVideoAfterMessageSubmit:!1,selectedReviewSubmitterId:null,showDocuments:!1,showDeleteCommentDialog:!1,selectedDeleteComment:null,showEditCommentDialog:!1,selectedEditComment:null,message:"",showReflectionAnswersDialog:!1,showRubricDialog:!1},tR="PeerReviewSubmission",nR=o.a.createElement(U.Trans,{id:"Peer Review"}),rR=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=XT(t).call(this,e),n=!a||"object"!==YT(a)&&"function"!==typeof a?ZT(r):a,$T(ZT(ZT(n)),"getInitialSelectedReviewIdFromProps",(function(e){var t=null,r=e.availablePeerReviews,a=n.getFilteredReviews(e);return a&&a.length>0?t=a[a.length-1].submitter.dbId:r&&r.length>0&&(t=r[0].submitter.dbId),t})),$T(ZT(ZT(n)),"componentDidMount",(function(){n.scrollToBottom()})),$T(ZT(ZT(n)),"scrollToBottom",(function(){var e=T.a.findDOMNode(n.feedContainer);e&&(e.scrollTop=e.scrollHeight)})),$T(ZT(ZT(n)),"onMessageChange",(function(e){var t=n.props.dispatch,r=n.state.resumeVideoAfterMessageSubmit,a=ly.b(n.getVideoPlayerId(),m.a.getState(),"isPlaying"),o=r;if(o||(o=a),a){var i=n.getPlayerTime(),c=n.getVideoPlayerId();t(uy.t(c)),n.globalPlayerEmitter.pause({playerId:c,startTime:i})}n.setState({message:e,resumeVideoAfterMessageSubmit:o})})),$T(ZT(ZT(n)),"getPlayerTime",(function(){var e=ly.c(n.getVideoPlayerId(),m.a.getState());return null===e?null:+e.toFixed(1)-.1})),$T(ZT(ZT(n)),"onMessageSubmit",(function(){var e=n.props,t=e.activityId,r=e.dispatch,a=n.state,o=a.message,i=a.selectedReviewSubmitterId,c=a.resumeVideoAfterMessageSubmit;uu.a.addPeerReviewComment(+t,i,o,n.getPlayerTime()).then((function(){n.setState({message:"",resumeVideoAfterMessageSubmit:!1}),n.scrollToBottom(),c&&(n.isVideoPaused()&&n.globalPlayerEmitter.play({playerId:n.getVideoPlayerId(),startTime:n.getPlayerTime()}),r(uy.u(n.getVideoPlayerId())))}))})),$T(ZT(ZT(n)),"onVideoAdd",(function(){var e=n.props,t=e.dispatch,r=e.match.params.activityId,a=n.state.resumeVideoAfterMessageSubmit,i=ly.b(n.getVideoPlayerId(),m.a.getState(),"isPlaying"),c=a;c||(c=i),i&&(n.globalPlayerEmitter.pause({playerId:n.getVideoPlayerId(),startTime:n.getPlayerTime()}),t(uy.t(n.getVideoPlayerId()))),n.setState({resumeVideoAfterMessageSubmit:c}),fr.a.isRecorderSupported()&&!bt.b()?dt.a.showModal(o.a.createElement(Qb,{mediaType:pr.a.COMMENT,id:"PeerReviewCommentRecorder",onComplete:function(e){e&&e.masterMediaId&&n.onAddVideoComplete(e.masterMediaId)},activityId:+r})):dt.a.showModal(o.a.createElement($b,{mediaType:pr.a.COMMENT,showImportFromCloud:!1,onComplete:function(e){e&&e[0]&&n.onAddVideoComplete(e[0])},activityId:+r}))})),$T(ZT(ZT(n)),"onAddVideoComplete",(function(e){var t=n.props,r=t.dispatch,a=t.match.params.activityId,o=n.state,i=o.selectedReviewSubmitterId,c=o.resumeVideoAfterMessageSubmit;e&&uu.a.addPeerReviewVideo(+a,i,e,n.getPlayerTime()).then((function(){n.setState({resumeVideoAfterMessageSubmit:!1}),n.scrollToBottom(),c&&(n.isVideoPaused()&&n.globalPlayerEmitter.play({playerId:n.getVideoPlayerId(),startTime:n.getPlayerTime()}),r(uy.u(n.getVideoPlayerId())))}))})),$T(ZT(ZT(n)),"onStudentChange",(function(e){n.setState({selectedReviewSubmitterId:null},(function(){n.setState({selectedReviewSubmitterId:e},(function(){n.scrollToBottom()}))}))})),$T(ZT(ZT(n)),"onEditComment",(function(e){n.setState({selectedEditComment:O.a.clone(e),showEditCommentDialog:!0})})),$T(ZT(ZT(n)),"onEditCancel",(function(){n.setState({selectedEditComment:null,showEditCommentDialog:!1})})),$T(ZT(ZT(n)),"onEditSubmit",(function(){var e=n.state.selectedEditComment;uu.a.editPeerReviewComment(e.dbId,e).then((function(){n.setState({showEditCommentDialog:!1,selectedEditComment:null})}))})),$T(ZT(ZT(n)),"onEditCommentChange",(function(e){n.setState({selectedEditComment:zT({},n.state.selectedEditComment,{commentText:e})})})),$T(ZT(ZT(n)),"onDeleteComment",(function(e){n.setState({showDeleteCommentDialog:!0,selectedDeleteComment:e})})),$T(ZT(ZT(n)),"onDeleteCancel",(function(){n.setState({showDeleteCommentDialog:!1,selectedDeleteComment:null})})),$T(ZT(ZT(n)),"onDeleteSubmit",(function(){var e=n.state.selectedDeleteComment,t=n.props.activityId;t=+t,uu.a.deletePeerReviewComment(t,e.dbId).then((function(){n.setState({showDeleteCommentDialog:!1,selectedDeleteComment:null})}))})),$T(ZT(ZT(n)),"getVideoPlayerId",(function(){var e=n.props.activityId,t=n.getSelectedReviewObject();return e&&t?tR+"_"+e+"_"+t.submitter.dbId:tR+"_UNKNOWN"})),$T(ZT(ZT(n)),"onSyncTimeClick",(function(e){var t=n.props.dispatch,r=n.getPlayerTime(),a=e,o=n.getVideoPlayerId();t(uy.F(o,a)),n.globalPlayerEmitter.seek({playerId:o,startTime:r,endTime:a})})),$T(ZT(ZT(n)),"onViewDocuments",(function(){n.setState({showDocuments:!0})})),$T(ZT(ZT(n)),"onDocumentDialogClose",(function(){n.setState({showDocuments:!1})})),$T(ZT(ZT(n)),"onNextPeerReview",(function(){var e=n.props.availablePeerReviews;e&&n.onStudentChange(e[0].submitter.dbId)})),$T(ZT(ZT(n)),"getPeerSelectField",(function(){var e=n.state.selectedReviewSubmitterId,t=n.props,r=t.activityType,a=t.availablePeerReviews,i=t.isFiveStarEnabled,c=t.isRubricReviewEnabled,s=t.i18n,u=t.peerReviewType,l=n.getFilteredReviews(),d=[],f=r===Wu.b.GROUP_PRESENTATION?s._("Select Peer Group"):s._("Select Peer Learner"),p=[];return u===jg.a.SYSTEM?((d=HT(l)).push(O.a.find(a,{submitter:{dbId:e}})),d=O.a.uniqBy(d,"submitter.dbId")):u===jg.a.STUDENT&&(d=HT(a)),(d=O.a.compact(d))&&(p=d.map((function(e){var t={value:e.submitter.dbId};return t.label=Object(eu.b)(e,s),n.isReviewedPeerReview(e.submitter.dbId)&&iy(e,i,c)&&(t.className="has-review"),t}))),p.length>0?o.a.createElement("div",{className:"review-student-select-container"},o.a.createElement("h5",null,s._("Peer:")),o.a.createElement(Sa.e,{id:"review-student-select",className:"review-student-select-field",label:"",ariaLabel:s._("Select Peer to Review"),value:e||"",placeholder:f,onChange:n.onStudentChange,sameWidth:!1,menuItems:p})):null})),$T(ZT(ZT(n)),"isQuantitativeReviewEnabled",(function(){var e=n.props,t=e.isFiveStarEnabled,r=e.isRubricReviewEnabled;return t||r})),$T(ZT(ZT(n)),"getCardHeader",(function(){var e=n.props,t=e.peerReviewRequiredCount,r=e.isFiveStarEnabled,a=e.isRubricReviewEnabled,i=e.i18n,c=n.getFilteredReviews(),s=[];c&&c.map((function(e){return iy(e,r,a)&&s.push(e),!0}));var u=s.length,l=["review-header-progress-label"],d=i._("Reviewed: {completedCount}",{completedCount:u}),f=null;return t&&(u>=t?(l.push("label--bold"),d=i._("Completed"),f=o.a.createElement(Og.b,{className:"review-header-progress-icon",type:Og.a.SUCCESS,enableTooltip:!1})):(d=i._("Reviewed: {completedCount} of {peerReviewRequiredCount}",{completedCount:u,peerReviewRequiredCount:t}),f=o.a.createElement(Ag,{className:"review-header-progress",value:u,maxValue:t}))),o.a.createElement("div",{className:"review-header"},o.a.createElement("div",{className:"review-header-title"},o.a.createElement("h2",{className:"card-header"},nR),o.a.createElement("div",{className:"review-header-right-container"},o.a.createElement("div",{className:E()(l)},d),f)))})),$T(ZT(ZT(n)),"getFeedSection",(function(){var e=null,t=n.getSelectedReviewObject();return t&&(e=t.comments)&&(e=O.a.orderBy(e,["syncTime","updatedAt"],["asc","asc"])),o.a.createElement("div",{className:"review-feed"},e&&e.map((function(e){return e?o.a.createElement(bE,{key:"review-comment"+e.dbId,comment:e,canDelete:!0,canEdit:!0,termClassId:n.props.termClassId,activityId:n.props.activityId,usageContext:Kh.a.COMMENT,showCommenterName:!1,onSyncTimeClick:n.onSyncTimeClick,onDeleteComment:n.onDeleteComment,onEditComment:n.onEditComment}):null})))})),$T(ZT(ZT(n)),"getSubmitSection",(function(){var e=n.state.message,t=n.props,r=t.isCommentingAnonymous,a=t.i18n,i=t.peerReviewCommentIsLoading,c=Object(eu.f)(e);i&&n._peerReviewCommentIsLoading&&requestAnimationFrame((function(){n.feedbackTextFieldRef.current.focus()})),n._peerReviewCommentIsLoading=i;var s=null;return bt.f()||(s=bt.d()?a._("(\\u2318 + Enter) to Submit"):a._("(Ctrl + Enter) to Submit")),o.a.createElement("div",{className:"review-submit-section"},!r&&o.a.createElement(we.d,{id:"button-peer-review-video-add",enabled:!i&&!n.isTestStudent(),className:"review-add-video-button",ariaLabel:a._("Add Video"),onClick:n.onVideoAdd},re.a.VIDEO_ADD),o.a.createElement(Sa.i,{ref:n.feedbackTextFieldRef,id:"review-textfield",className:"review-textfield",ariaLabel:a._("Comment"),enabled:!i&&!n.isTestStudent(),errorText:c.exceedsLimit?a._("Exceeds {0} characters.",{0:c.maxLength}):"",helpText:s,helpOnFocus:!0,maxLength:c.maxLength,maxRows:2,onChange:n.onMessageChange,onSubmit:n.onMessageSubmit,placeholder:a._("Comment..."),required:!c.isEmpty,rows:1,value:e}),o.a.createElement(we.d,{id:"button-peer-review-message-send",enabled:!i&&c.isValid&&!n.isTestStudent(),className:"message-send-button",ariaLabel:a._("Send"),onClick:n.onMessageSubmit,isLoading:i},re.a.SEND))})),$T(ZT(ZT(n)),"getVideoTopToolbar",(function(e,t){var r=[],a=n.props.i18n;return e&&e.length>0||t&&t.length>0?(r.push(o.a.createElement(we.d,{id:"button-peer-review-document-menu",className:"video-actions-menu-button",key:"document-button",ariaLabel:a._("File"),onClick:n.onViewDocuments,iconClassName:Tf.a.FILE})),o.a.createElement("div",{className:"video-top-toolbar-container"},r)):null})),$T(ZT(ZT(n)),"getDeleteDialogActions",(function(){var e=n.props,t=e.peerReviewCommentIsLoading,r=e.i18n;return[o.a.createElement(we.b,{key:"delete-dialog-cancel",id:"button-peer-review-comment-delete-dialog-cancel",secondary:!0,ariaLabel:r._("Cancel"),enabled:!t,onClick:n.onDeleteCancel},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{key:"delete-dialog-delete",id:"button-peer-review-comment-delete-dialog-delete",primary:!0,ariaLabel:r._("Delete"),isLoading:t,enabled:!t,onClick:n.onDeleteSubmit},o.a.createElement(U.Trans,{id:"Delete"}))]})),$T(ZT(ZT(n)),"onRatingChange",(function(e){var t=n.props.activityId,r=n.state.selectedReviewSubmitterId;uu.a.createPeerReviewFiveStar(+t,r,e)})),$T(ZT(ZT(n)),"getEditDialogActions",(function(e){var t=n.props,r=t.peerReviewCommentIsLoading,a=t.i18n;return[o.a.createElement(we.b,{key:"edit-dialog-cancel",id:"button-peer-review-comment-edit-dialog-cancel",secondary:!0,ariaLabel:a._("Cancel"),enabled:!r,onClick:n.onEditCancel},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{key:"delete-dialog-submit",id:"button-peer-review-comment-edit-dialog-submit",primary:!0,ariaLabel:a._("Submit"),isLoading:r,enabled:!r&&e.isValid,onClick:n.onEditSubmit},o.a.createElement(U.Trans,{id:"Submit"}))]})),$T(ZT(ZT(n)),"getSelectedReviewObject",(function(){var e=n.props.availablePeerReviews,t=n.state.selectedReviewSubmitterId,r=n.getFilteredReviews(),a=null,o=null;return r&&(o=O.a.find(r,(function(e){return e.submitter.dbId===t}))),o?a=o:e&&(a=O.a.find(e,(function(e){return e.submitter.dbId===t}))),a})),$T(ZT(ZT(n)),"isReviewedPeerReview",(function(e){var t=n.getFilteredReviews();if(t)for(var r=0;r<t.length;r++)if(t[r].submitter.dbId===e)return!0;return!1})),$T(ZT(ZT(n)),"getRatingComponent",(function(e){var t=n.props,r=t.rubric,a=t.i18n;if(e){var i=n.props,c=i.isFiveStarEnabled,s=i.isRubricReviewEnabled;if(c){var u=0;return e.myFiveStarRating&&(u=e.myFiveStarRating.value),o.a.createElement(Qd.a,{enabled:!n.isTestStudent(),name:"peer-review-rating",value:u,onChange:n.onRatingChange})}if(s){var l=0;return e.myRubricEvaluation&&(l=e.myRubricEvaluation.points),o.a.createElement("div",{className:"eval-rubric-result-container"},o.a.createElement(U.Trans,{id:"Rubric Score"}),o.a.createElement(we.b,{id:"button-peer-review-rubric",ariaLabel:a._("Rubric Score"),enabled:!n.isTestStudent(),onClick:n.onEditRubric,className:"eval-rubric-result-button",primary:!0},o.a.createElement(tf.c,{points:l,max:r.maxValue})))}}return null})),$T(ZT(ZT(n)),"onEditRubric",(function(){n.setState({showRubricDialog:!0})})),$T(ZT(ZT(n)),"onRubricDialogCancel",(function(){n.setState({showRubricDialog:!1})})),$T(ZT(ZT(n)),"onRubricDialogSubmit",(function(e){n.setState({showRubricDialog:!1});var t=n.props.activityId,r=n.state.selectedReviewSubmitterId;t=+t,uu.a.createRubricPeerReview(t,r,e,!1)})),$T(ZT(ZT(n)),"onPreviewReflectionAnswers",(function(){n.setState({showReflectionAnswersDialog:!0})})),$T(ZT(ZT(n)),"onPreviewReflectionAnswersClose",(function(){n.setState({showReflectionAnswersDialog:!1})})),$T(ZT(ZT(n)),"isTestStudent",(function(){var e=n.props.userData;return Wr.i(e)})),$T(ZT(ZT(n)),"getFilteredReviews",(function(e){var t=e;t||(t=n.props);var r=t,a=r.activityType,o=r.reviewedPeerReviews,i=r.userId;if(!o)return[];var c=O.a.filter(o,(function(e){return+e.submitter.dbId!==+i}));return a===Wu.b.GROUP_PRESENTATION&&(c=O.a.uniqBy(c,"activityStudentGroup.dbId")),c})),$T(ZT(ZT(n)),"getPeerReviewDueDate",(function(){var e=n.props,t=e.i18n,r=e.peerReviewDueDate;return r?o.a.createElement("div",{className:"peer-review-due-date-container"},o.a.createElement(Oe.a,{iconClassName:Tf.a.CALENDAR}),o.a.createElement("p",null,t._("Due Date:")," ",o.a.createElement(oa.b,{unixTime:r}))):null})),$T(ZT(ZT(n)),"getPeerReviewGradingInfo",(function(){var e=n.props,t=e.isPeerReviewGradingEnabled,r=e.gradedPeerReviewWeight,a=e.i18n;return t?o.a.createElement("div",{className:"peer-review-grading-info"},o.a.createElement(Dc.b,{className:"peer-review-grading-message",type:Dc.a.INFO,message:a._("This assignment factors your peer review activity into your overall score. Quality of all your completed peer reviews will be scored with {gradedPeerReviewWeight}% weight towards your overall score.",{gradedPeerReviewWeight:r})})):null})),$T(ZT(ZT(n)),"getPeerReviewPaperHeader",(function(){var e=n.props,t=e.availablePeerReviews,r=e.isFiveStarEnabled,a=e.isRubricReviewEnabled,i=e.i18n,c=e.peerReviewType,s=n.getSelectedReviewObject();if(!s)return null;var u=t&&t.length>0,l=ry(s),d=ay(s),f=oy(s),p=n.isReviewedPeerReview(s.submitter.dbId)&&iy(s,r,a),m=l?re.a.TASK_COMPLETE:re.a.TASK_INCOMPLETE,b=d?re.a.TASK_COMPLETE:re.a.TASK_INCOMPLETE,y=f?re.a.TASK_COMPLETE:re.a.TASK_INCOMPLETE,v=l?i._("Completed"):i._("View any of the documents or watch the video"),h=d?i._("Completed"):i._("Leave a comment"),g=f?i._("Completed"):a?i._("Submit a rubric evaluation"):i._("Submit a five star rating"),w=c===jg.a.SYSTEM,O={label:i._("Retrieve a new peer submission for review")};return w&&(p?u||(O={label:i._("There are no more peer submissions available")}):O={label:i._("You must complete the current review before proceeding")}),o.a.createElement("div",{className:"review-paper-header"},o.a.createElement("div",{className:"review-paper-header-primary"},n.getPeerSelectField(),o.a.createElement("div",{style:{flex:1}}),w&&o.a.createElement(we.b,{id:"button-peer-review-next-peer",primary:!0,ariaLabel:i._("Next Peer"),className:"next-peer-button",enabled:p&&u,tooltip:O,onClick:n.onNextPeerReview},i._("Next Peer"))),o.a.createElement("div",{className:"review-paper-header-secondary"},o.a.createElement(Ng.b,{className:E()("review-progress-item",l&&"review-progress-item--complete"),label:v},o.a.createElement(Oe.a,{className:"review-progress-item-icon"},m),o.a.createElement("div",{className:"review-progress-item-label"},i._("Viewed Submission"))),o.a.createElement(Ng.b,{className:E()("review-progress-item",d&&"review-progress-item--complete"),label:h},o.a.createElement(Oe.a,{className:"review-progress-item-icon"},b),o.a.createElement("div",{className:"review-progress-item-label"},i._("Commented"))),n.isQuantitativeReviewEnabled()&&o.a.createElement(Ng.b,{className:E()("review-progress-item",f&&"review-progress-item--complete"),label:g},o.a.createElement(Oe.a,{className:"review-progress-item-icon"},y),o.a.createElement("div",{className:"review-progress-item-label"},i._("Evaluated")))))})),$T(ZT(ZT(n)),"onSubmissionViewed",(function(){var e=n.getSelectedReviewObject();if(e&&!ry(e)){var t=n.props.activityId;uu.a.setPeerReviewViewed(+t,e.submitter.dbId)}})),$T(ZT(ZT(n)),"getPeerSubmissionPreview",(function(){var e=n.state,t=e.showDocuments,r=e.showDeleteCommentDialog,a=e.showEditCommentDialog,i=e.selectedEditComment,c=e.showReflectionAnswersDialog,s=e.showRubricDialog,u=n.props,l=u.peerReviewType,d=u.rubric,f=u.isReflectionQuestionsEnabled,p=u.i18n,m=null,b=null,y=null;if(!l)return null;var v=n.getSelectedReviewObject(),h=[],g=[];v&&(v.media?m=v.media:v.requiredMedia&&(m=v.requiredMedia),v.myRubricEvaluation&&(b=v.myRubricEvaluation.points,y=v.myRubricEvaluation.cells.map((function(e){return e.dbId}))),f&&h.push(mm.a.createReflectionAnswersPartial(p._("Reflection Answers"),g,n.onPreviewReflectionAnswers)),h=O.a.concat.apply(O.a,[h].concat(HT(v.documents||[]))),h=O.a.compact(h));var w=i?i.commentText:"",S=Object(eu.f)(w);return o.a.createElement("div",{className:"review-paper-container"},o.a.createElement(Nu.a,{className:"review-paper",zDepth:1},n.getPeerReviewPaperHeader(),o.a.createElement("div",{className:"review-paper-content"},v?o.a.createElement("div",{className:"review-wrapper"},m?o.a.createElement("div",{className:E()("review-video-container",h.length>0?null:"no-documents")},m&&n.getVideoTopToolbar(h,v.links),m&&o.a.createElement(Mt.a,{id:"peer-review-media",usageContext:Kh.a.STUDENT_RESULT,activityId:n.props.activityId,termClassId:n.props.termClassId,onPlay:n.onSubmissionViewed,playerId:n.getVideoPlayerId(),media:m})):o.a.createElement("div",{className:E()("review-document-container",m?null:"no-media")},o.a.createElement("h3",null,o.a.createElement(U.Trans,{id:"Documents"})),h?o.a.createElement(FT,{documents:h,links:v.links,onOpenLink:n.onSubmissionViewed,onDownload:n.onSubmissionViewed,onPreview:n.onSubmissionViewed}):o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"No documents found"}))),o.a.createElement("div",{className:E()("review-comments-container",m?null:"no-media")},o.a.createElement("div",{className:"review-feed-container",ref:function(e){n.feedContainer=e}},n.getFeedSection()),o.a.createElement("div",{className:"review-submit-container"},n.getSubmitSection(),o.a.createElement("div",{className:"review-rating-container"},n.getRatingComponent(v)),n.isTestStudent()&&o.a.createElement(Dc.b,{type:Dc.a.INFO},o.a.createElement("p",null,p._("Peer review is not allowed for test learners"))))),o.a.createElement(QT,{visible:t,documents:h,links:v.links,onClose:n.onDocumentDialogClose,onOpenLink:n.onSubmissionViewed,onDownload:n.onSubmissionViewed,onPreview:n.onSubmissionViewed}),o.a.createElement(Hf.a,{id:"delete-review-item-dialog",title:p._("Delete Comment"),visible:r,actions:n.getDeleteDialogActions()},o.a.createElement("p",null,o.a.createElement(U.Trans,{id:"Are you sure you want to delete this comment?"}))),i&&o.a.createElement(Hf.a,{id:"edit-review-item-dialog",className:"edit-review-item-dialog",title:p._("Edit Comment"),visible:a,actions:n.getEditDialogActions(S)},o.a.createElement(Sa.i,{id:"review-edit-textfield",className:"review-edit-textfield",enabled:!n.props.peerReviewCommentIsLoading,placeholder:p._("Comment..."),onChange:n.onEditCommentChange,value:i.commentText,rows:1,errorText:S.exceedsLimit?p._("Exceeds {0} characters.",{0:S.maxLength}):"",maxLength:S.maxLength,required:!0,maxRows:4})),s&&o.a.createElement(tf.b,{rubric:d,rubricPoints:b||0,mode:nf.a.GRADE,grade:y,onCancel:n.onRubricDialogCancel,onSubmit:n.onRubricDialogSubmit})):null,v&&o.a.createElement(zh,{visible:c,onClose:n.onPreviewReflectionAnswersClose,answers:g,needAnswers:!1}))))})),$T(ZT(ZT(n)),"getNoPeerSubmissionsMessage",(function(){var e=n.props.i18n;return o.a.createElement("div",{className:"review-no-submissions"},o.a.createElement("p",{className:"card-placeholder-text"},e._("There are no submissions to review right now.")))})),n.globalPlayerEmitter=new ey.a;var i=n.getInitialSelectedReviewIdFromProps(e);return i&&(eR.selectedReviewSubmitterId=i),n.state=eR,n.feedbackTextFieldRef=o.a.createRef(),n._peerReviewCommentIsLoading=!1,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JT(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.selectedReviewSubmitterId||this.setState({selectedReviewSubmitterId:this.getInitialSelectedReviewIdFromProps(e)})}},{key:"isVideoPaused",value:function(){return ly.b(this.getVideoPlayerId(),m.a.getState(),"isPaused")}},{key:"render",value:function(){var e=this.props,t=e.availablePeerReviews;if(!e.peerReviewType)return null;var n=this.getFilteredReviews(),r=Boolean(t&&t.length>0||n&&n.length>0);return o.a.createElement("div",null,o.a.createElement(Hn.a,{className:"review-card"},o.a.createElement("div",{className:"review-title"},this.getCardHeader()),o.a.createElement("div",{className:"review-content"},fe.a.isPeerReviewDueDateEnabled()&&this.getPeerReviewDueDate(),this.getPeerReviewGradingInfo(),r?this.getPeerSubmissionPreview():this.getNoPeerSubmissionsMessage())))}}])&&KT(n.prototype,r),a&&KT(n,a),t}(a.Component);rR.propTypes={activityId:c.a.number,activityType:c.a.string,availablePeerReviews:c.a.array,dispatch:c.a.func,gradedPeerReviewWeight:c.a.number,i18n:c.a.object,isFiveStarEnabled:c.a.bool,isRubricReviewEnabled:c.a.bool,isPeerReviewGradingEnabled:c.a.bool,isReflectionQuestionsEnabled:c.a.bool,isCommentingAnonymous:c.a.bool,match:c.a.object,peerReviewType:c.a.string,peerReviewRequiredCount:c.a.number,peerReviewCommentIsLoading:c.a.bool,peerReviewDueDate:c.a.number,rubric:c.a.object,termClassId:c.a.number,userData:c.a.object};var aR=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),activityType:Qs.getActivityType(e),rubric:Qs.getRubric(e),userData:Qe.h(e),userId:Qe.i(e),peerReviewCommentIsLoading:Qs.getPeerReviewCommentIsLoading(e),peerReviewType:Qs.getPeerReviewType(e),availablePeerReviews:Qs.getAvailablePeerReviews(e),reviewedPeerReviews:Qs.getReviewedPeerReviews(e),isFiveStarEnabled:Qs.isFiveStarEnabled(e),isRubricReviewEnabled:Qs.isRubricReviewEnabled(e),peerReviewRequiredCount:Qs.getPeerReviewRequiredCount(e),isCommentingAnonymous:Qs.isCommentingAnonymous(e),isReflectionQuestionsEnabled:Qs.isReflectionQuestionsEnabled(e),isPeerReviewGradingEnabled:Qs.isPeerReviewGradingEnabled(e),gradedPeerReviewWeight:Qs.getGradedPeerReviewWeight(e),peerReviewDueDate:Qs.getPeerReviewDueDate(e),termClassId:Qs.getTermClassId(e)}}))(rR))),oR=n("xyD6");function iR(e){return(iR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sR(e,t){return!t||"object"!==iR(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uR(e){return(uR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lR(e,t){return(lR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sR(this,uR(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lR(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityId,n=e.i18n,r=e.studentData,a=e.questions;return t?o.a.createElement("div",{className:"dashboard-container"},fe.a.isDueDateVisible()?o.a.createElement(Wd.a,null):null,o.a.createElement(If.a,{className:"item-a",title:n._("Questions Answered"),iconClassName:Tf.a.QUESTION},o.a.createElement("div",{className:"dashboard-contents"},o.a.createElement(U.Trans,{id:"{0,number} of {1,number}",values:{0:r.interactiveAnswers.length,1:a.length}})))):null}}])&&cR(n.prototype,r),a&&cR(n,a),t}(a.Component),fR=Object(U.withI18n)()(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),questions:oR.a(e),studentData:Qs.getMyData(e)}}))(dR));function pR(e){return(pR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bR(e){return(bR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yR(e,t){return(yR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gR=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=bR(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==pR(a)&&"function"!==typeof a?vR(r):a,hR(vR(vR(n)),"getInProgressCount",(function(){var e=n.props.resultPartials;return mm.a.getInProgressPartials(e).length})),hR(vR(vR(n)),"getSubmittedCount",(function(){var e=n.props.resultPartials;return mm.a.getReadyToSubmitPartials(e).length})),hR(vR(vR(n)),"onRemoveSubmission",(function(){var e=n.props.activityId;e=+e,uu.a.deleteSubmission(e)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yR(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityId,n=e.result,r=e.removeSubmissionIsLoading;return t?o.a.createElement("div",{className:"dashboard-container"},o.a.createElement(Uf.a,null),o.a.createElement(If.b,{result:n,removeSubmissionIsLoading:r,onRemoveSubmission:this.onRemoveSubmission})):null}}])&&mR(n.prototype,r),a&&mR(n,a),t}(a.Component),ER=Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),result:Qs.getActivityResult(e)}}))(gR),wR=n("/0q4"),OR=n("A2tp"),SR=n("ppB1");n("9N6j");function CR(e){return(CR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _R(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function IR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TR(e){return(TR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RR(e,t){return(RR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var NR="interactive-video-summary",jR=NR+"-answer-item",kR={isPreviewDialogVisible:!1,previewDialogMedia:null},DR=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=TR(t).call(this,e),n=!a||"object"!==CR(a)&&"function"!==typeof a?PR(r):a,AR(PR(PR(n)),"isMediaReady",(function(e){return e&&e.processingStatus===Rv.a.READY})),AR(PR(PR(n)),"isMediaProcessing",(function(e){return e&&e.processingStatus===Rv.a.PROGRESS})),AR(PR(PR(n)),"onPreviewClick",(function(e){n.setState({isPreviewDialogVisible:!0,previewDialogMedia:e})})),AR(PR(PR(n)),"getMultipleChoiceResponse",(function(e,t,n){return o.a.createElement("div",null,t,Boolean(n)&&o.a.createElement("span",{className:E()(jR+"-feedback",jR+"-feedback"+(e?"--correct":"--incorrect"))},"("+n+")"))})),AR(PR(PR(n)),"getVideoResponse",(function(e){var t=n.props.i18n,r="",a=!1;return n.isMediaReady(e)?(a=!0,r=o.a.createElement("a",null,t._("Preview"))):n.isMediaProcessing(e)?(a=!1,r=o.a.createElement("i",null,t._("(Video Response is processing)"))):(a=!1,r=o.a.createElement("i",null,t._("(There was an error processing this Video Response)"))),o.a.createElement("div",null,o.a.createElement(hp.a,{disabled:!a,onClick:function(t){n.onPreviewClick(e,t)}},r))})),AR(PR(PR(n)),"getAnswer",(function(e,t){var r=n.props,a=r.i18n,i=r.isEducator,c=r.isRestricted,s=SR.b.OPTION,u=SR.b.QUESTION,l=SR.b.SETTINGS,d=t+1,f=e.question[u.TEXT],p=null,m=null,b=null,y=null,v=null,h=e.__typename===SR.a,g=re.a.VIDEOCAM,E=null;return h?(m=a._("(N/A)"),v=e[l.MEDIA]):(g=(E=!!e.option[s.IS_CORRECT])?re.a.CHECK_CIRCLE:re.a.CANCEL,p=e.question[u.WEIGHT],m=a._("{questionWeight}%",{questionWeight:p}),b=e.option[s.TEXT],y=e.option[s.DESCRIPTION]),o.a.createElement("div",{key:"summary_item_"+t,className:jR},o.a.createElement("div",{className:jR+"-index"},a._("{questionNumber}.",{questionNumber:d})),o.a.createElement("div",{className:jR+"-middle-container"},o.a.createElement("div",{className:jR+"-question"},c?o.a.createElement("i",null,a._("(Question #{questionNumber})",{questionNumber:d})):f),o.a.createElement("div",{className:jR+"-answer"},!c||i?o.a.createElement("span",{className:jR+"-label-value-container"},o.a.createElement("i",{className:jR+"-label"},i?a._("Response:"):a._("Your response:")),h?n.getVideoResponse(v):n.getMultipleChoiceResponse(E,b,y)):null)),o.a.createElement("div",{className:jR+"-right-container"},o.a.createElement("div",{className:jR+"-weight"},m),o.a.createElement("div",{className:jR+"-correct"},h?o.a.createElement(Oe.a,{tooltip:{label:a._("Video Responses are not automatically scored")},className:jR+"-icon"},g):o.a.createElement(wR.c,{className:jR+"-icon",type:E?wR.a:wR.b}))))})),AR(PR(PR(n)),"getSummary",(function(e){var t=n.props.i18n;return e&&e.length>0?o.a.createElement("div",{className:NR+"-answers-container"},e.map(n.getAnswer)):o.a.createElement("div",{className:NR+"-empty-answers"},t._("No answers submitted yet."))})),AR(PR(PR(n)),"onPreviewCancel",(function(){n.setState(kR)})),n.state=kR,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RR(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.match.params,r=n.activityId,a=n.classId,i=this.state,c=i.isPreviewDialogVisible,s=i.previewDialogMedia,u=_R(this.props.interactiveAnswers).sort((function(e,t){return e.question.orderNumber-t.question.orderNumber}));return o.a.createElement("div",null,o.a.createElement(Hn.a,{className:NR+"-card"},o.a.createElement(Hn.c,{className:NR+"-card-body"},o.a.createElement(Hn.d,{title:t._("Question Summary"),className:NR+"-card-title"}),this.getSummary(u),c&&s&&o.a.createElement(Oh.a,{activityId:+r,termClassId:+a,isManageCaptionsAllowed:!1,usageContext:Kh.a.STUDENT_RESULT,visible:c,onCancel:this.onPreviewCancel,media:s}))))}}])&&IR(n.prototype,r),a&&IR(n,a),t}(a.Component);DR.propTypes={interactiveAnswers:c.a.array.isRequired,isEducator:c.a.bool,isRestricted:c.a.bool},DR.defaultProps={isEducator:!1,isRestricted:!1};var LR=Object(y.k)(Object(U.withI18n)()(DR)),MR=n("TDYo"),xR=n("0zen"),FR=(n("1IXb"),n("V+cX"));function UR(e){return(UR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GR(e){return(GR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qR(e,t){return(qR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function BR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QR={showingQuestion:!1,inVideoPlayback:!1,multipleChoiceValue:null,currentQuestion:null,iosSettings:null,answerFeedbackMessage:null,isAnswerCorrect:!1,submittingAnswer:!1,showFeedbackMessage:!1,isRetakeAvailable:!1,playerTime:0,recordingFinished:!1,recordingSubmitted:!1,showVideoUploadDialog:!1},YR="Interactive Video recorder",HR="Interactive Video player",zR="InteractiveQuestionOfTypeChoice",KR="InteractiveQuestionOfTypeVideo",XR=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=GR(t).call(this,e),n=!a||"object"!==UR(a)&&"function"!==typeof a?BR(r):a,WR(BR(BR(n)),"componentWillUnmount",(function(){(0,n.props.dispatch)(uy.q(HR))})),WR(BR(BR(n)),"onUnload",(function(e){var t=n.props.i18n,r=n.state,a=r.inQuestion,o=r.inAnswer;if(a||o){var i=t._("Are you sure you want to leave this page? Any unsaved changes will be lost.");return e.returnValue=i,i}})),WR(BR(BR(n)),"getNextQuestion",(function(){var e=n.props.questions,t=n.getCurrentAnswers();return e.length===t.length?null:e[t.length]})),WR(BR(BR(n)),"getCurrentQuestionIndex",(function(){var e=n.props.questions,t=n.state.currentQuestion,r=0;return t&&(r=O.a.findIndex(e,(function(e){return e.dbId===t.dbId}))),r})),WR(BR(BR(n)),"setVideoToLastQuestionTime",(function(e){var t=0,r=n.getCurrentAnswers();r&&r.length>0&&(t=r[r.length-1].question.showTime),n.setVideoPlayerTime(t,e)})),WR(BR(BR(n)),"retryQuestion",(function(){n.setVideoToLastQuestionTime((function(){n.startResumeAssignment()}))})),WR(BR(BR(n)),"isVideoQuestion",(function(e){return e.__typename===KR})),WR(BR(BR(n)),"isMultipleChoiceQuestion",(function(e){return e.__typename===zR})),WR(BR(BR(n)),"showCurrentQuestion",(function(){n.setState({showingQuestion:!0,inVideoPlayback:!1})})),WR(BR(BR(n)),"startResumeAssignment",(function(){var e=n.state.playerTime,t=n.props,r=t.enablePolling,a=t.playerDuration,o=t.studentData,i=n.getNextQuestion();!i&&o.interactiveVideoWatchingFinishedAt&&r(!0),n.setState({showingQuestion:!1,inVideoPlayback:!1,isRetakeAvailable:!1,showFeedbackMessage:!1,multipleChoiceValue:null,isAnswerCorrect:!1,currentQuestion:i,recordingSubmitted:!1},(function(){i&&i.showTime>e&&e<a?n.playVideoPlayer():i||o.interactiveVideoWatchingFinishedAt?n.showCurrentQuestion():n.playVideoPlayer()}))})),WR(BR(BR(n)),"checkTimeThreshold",(function(e){var t=n.state.currentQuestion;e&&t&&t.showTime<=e&&(n.props.isPlayerPlaying&&n.pauseVideoPlayer(),n.setVideoPlayerTime(t.showTime,(function(){n.showCurrentQuestion()}))),n.setState({playerTime:e})})),WR(BR(BR(n)),"pauseVideoPlayer",(function(){(0,n.props.dispatch)(uy.t(HR)),n.playerUserInteractionsEmitter.pause({playerId:HR,startTime:n.props.payerTime})})),WR(BR(BR(n)),"playVideoPlayer",(function(){var e=n.props.dispatch;n.setState({showingQuestion:!1,inVideoPlayback:!0},(function(){e(uy.u(HR)),n.playerUserInteractionsEmitter.play({playerId:HR,startTime:n.props.payerTime})}))})),WR(BR(BR(n)),"setVideoPlayerTime",(function(e,t){(0,n.props.dispatch)(uy.F(HR,e)),0!==n.props.payerTime&&n.playerUserInteractionsEmitter.seek({playerId:HR,startTime:n.props.payerTime,endTime:e}),n.setState({playerTime:e},(function(){t&&t()}))})),WR(BR(BR(n)),"getCurrentAnswers",(function(){var e=n.props,t=e.questions,r=e.studentData,a=[];if(r&&r.interactiveAnswers)for(var o=0;o<r.interactiveAnswers.length;o++){var i=r.interactiveAnswers[o];a[O.a.find(t,{dbId:i.question.dbId}).orderNumber]=r.interactiveAnswers[o]}return a})),WR(BR(BR(n)),"onQuestionVideoPlaybackEnded",(function(){var e=n.props.enablePolling;uu.a.setInteractiveVideoFinishedWatching(n.props.activityId),n.state.currentQuestion?n.setState({showingQuestion:!0}):e(!0)})),WR(BR(BR(n)),"getVideoProgressContainer",(function(){var e=n.state.playerTime,t=n.props,r=t.playerDuration,a=t.isPlayerPlaying,i=t.isPlayerPaused;return o.a.createElement("div",{className:"video-progress-container"},a&&o.a.createElement(we.d,{id:"button-interactive-video-progress-pause",className:"video-progress-action-button",onClick:n.pauseVideoPlayer},re.a.PAUSE),i&&o.a.createElement(we.d,{id:"button-interactive-video-progress-play",className:"video-progress-action-button",onClick:n.playVideoPlayer},re.a.PLAY),o.a.createElement("span",null,Object(Pf.k)(e)," / ",Object(Pf.k)(r)))})),WR(BR(BR(n)),"getRecorderPlayerContainer",(function(){var e=n.props,t=e.activityId,r=e.interactiveVideoSettings,a=n.state,i=a.showingQuestion,c=a.currentQuestion,s=a.recordingSubmitted,u=r.media,l={autoplay:!1,controls:!1,sources:[{src:u.srcUrl,type:"video/mp4"}]};u&&u.caption&&(l.tracks=[u.caption]);var d=!0;return i&&c&&n.isVideoQuestion(c)&&(d=!1),o.a.createElement("div",{ref:function(e){return n.recorderPlayerContainer=e},className:"player-recorder-container"},d||s||!n.isRecordingSupported()||bt.b()?o.a.createElement("div",{className:"player-container"},o.a.createElement(OR.a,{id:"assignment-interactive-video-player",activityId:t,termClassId:n.props.termClassId,mediaId:u.dbId,usageContext:Kh.a.INTERACTIVE_VIDEO,allowKeyboardControl:!0,onTimeUpdate:n.checkTimeThreshold,options:l,onEnded:n.onQuestionVideoPlaybackEnded,playerId:HR})):null,o.a.createElement("div",{className:"recorder-container"},!d&&!s&&n.isRecordingSupported()&&!bt.b()&&o.a.createElement(fr.b,{mediaType:pr.a.ACTIVITY_RESULT,questionId:c.dbId,activityId:t,recorderId:YR,showRecordButton:!0,showSubmitButton:!1,onStop:n.onRecordingFinished,onRecord:n.onRecordingStarted,onReset:n.onRecordingReset,onFinish:function(e){n.onRecordingSubmitted(e)}})))})),WR(BR(BR(n)),"onRecordingReset",(function(){n.setState({recordingFinished:!1,submittingRecording:!1})})),WR(BR(BR(n)),"onRecordingFinished",(function(){n.setState({recordingFinished:!0},(function(){Object(Se.c)(n.recorderPlayerContainer.offsetParent.offsetTop)}))})),WR(BR(BR(n)),"onRecordingSubmitted",(function(){var e=n.props.match.params.activityId;uu.a.refreshInteractiveVideoProgressActivity(+e).then((function(){n.setState({submittingRecording:!1,recordingFinished:!1,recordingSubmitted:!0})}))})),WR(BR(BR(n)),"submitRecording",(function(){var e=n.props.dispatch;n.setState({submittingRecording:!0},(function(){e(MR.j(YR))}))})),WR(BR(BR(n)),"onMultipleChoiceChange",(function(e){e&&(e=+e),n.setState({multipleChoiceValue:e})})),WR(BR(BR(n)),"submitAnswer",(function(){var e=n.state,t=e.currentQuestion,r=e.multipleChoiceValue,a=n.props,o=a.interactiveVideoSettings,i=a.dispatch;(0,a.enablePolling)(!1),n.setState({submittingAnswer:!0}),uu.a.createInteractiveAnswer(t.dbId,r).then((function(e){var t=e.createInteractiveAnswer;n.setState({isAnswerCorrect:t.option.correct,answerFeedbackMessage:t.option.optionDescription,showFeedbackMessage:!0,submittingAnswer:!1,isRetakeAvailable:!t.option.correct&&o.isRetakeRequired},(function(){!t.option.correct&&o.isRetakeRequired||i(yO.ub(t))}))}))})),WR(BR(BR(n)),"getQuestionContainer",(function(){var e=n.props,t=e.i18n,r=e.playerIsReady,a=e.questions,i=e.studentData,c=e.isSubmittable,s=n.state,u=s.showingQuestion,l=s.inVideoPlayback,d=s.currentQuestion,f=n.getCurrentAnswers();if(!d&&i.interactiveVideoWatchingFinishedAt&&f.length===a.length)return o.a.createElement("div",{className:"question-contents-container processing-message"},o.a.createElement(Oe.a,{ariaLabel:t._("Information, icon")},re.a.INFO_OUTLINE),o.a.createElement("span",null,t._("Your assignment will be submitted once it's done processing.")));var p=f.length>0?t._("Resume Assignment"):t._("Begin Assignment"),m=null;return d&&n.isMultipleChoiceQuestion(d)?u&&(m="multiple-choice"):d&&n.isVideoQuestion(d)&&u&&(m="video-question"),u?o.a.createElement("div",{className:E()("question-contents-container",m)},n.getQuestionText(),n.getAnswerOptions(),n.getAnswerFeedback(),n.getAnswerActions()):l?n.getVideoProgressContainer():o.a.createElement("div",{className:E()("question-contents-container",m)},o.a.createElement(we.h,{id:"button-interactive-video-begin-resume",primary:!0,ariaLabel:p,enabled:!l&&r&&c,onClick:n.startResumeAssignment,tooltip:{label:c?null:t._("This action is not available at this time")}},p))})),WR(BR(BR(n)),"getQuestionText",(function(){var e=n.state.currentQuestion;return e?o.a.createElement("div",{className:"question-text"},e.questionText):null})),WR(BR(BR(n)),"getAnswerOptions",(function(){var e=n.state,t=e.currentQuestion,r=e.multipleChoiceValue,a=e.showFeedbackMessage,i=e.submittingAnswer,c=n.props.i18n;return n.isMultipleChoiceQuestion(t)?o.a.createElement("div",{className:"multiple-choice-options"},o.a.createElement(br.a,{id:"question-selection-control",name:"question-selection-control",type:"radio",ariaLabel:c._("Question options"),enabled:!a&&!i,value:r,onChange:n.onMultipleChoiceChange,controls:t.options.map((function(e){return{label:e.optionText,value:e.dbId}}))})):null})),WR(BR(BR(n)),"getAnswerFeedback",(function(){var e=n.props.i18n,t=n.state,r=t.answerFeedbackMessage,a=t.isAnswerCorrect,i=t.showFeedbackMessage,c=r;return c||(c=a?e._("Correct"):e._("Incorrect")),i?o.a.createElement("div",{className:"answer-feedback"},o.a.createElement(wR.c,{className:"feedback-icon",type:a?wR.a:wR.b}),o.a.createElement("span",{className:"feedback-text"},c)):null})),WR(BR(BR(n)),"getAnswerActions",(function(){var e=n.state,t=e.currentQuestion,r=e.multipleChoiceValue,a=e.submittingAnswer,i=e.isRetakeAvailable,c=e.showingQuestion,s=e.isAnswerCorrect,u=e.recordingFinished,l=e.submittingRecording,d=e.showFeedbackMessage,f=e.recordingSubmitted,p=n.props,m=p.i18n,b=p.isInteractiveAnswerLoading,y=p.isRecording,v=!1;return c&&(!i&&d||s)&&(v=!0),n.isMultipleChoiceQuestion(t)?o.a.createElement("div",{className:"answer-actions"},i&&!s&&o.a.createElement(we.h,{id:"button-interactive-video-mc-retry",primary:!0,className:"retry-button",isLoading:b,ariaLabel:m._("Retry"),enabled:i,onClick:n.retryQuestion},m._("Retry")),v?o.a.createElement(we.h,{id:"button-interactive-video-mc-continue",primary:!0,className:"continue-button",ariaLabel:m._("Continue"),enabled:!0,onClick:n.startResumeAssignment},m._("Continue")):o.a.createElement(we.h,{id:"button-interactive-video-mc-submit",primary:!0,isLoading:b,ariaLabel:m._("Submit Answer"),enabled:Boolean(r&&!b&&!a&&!i),onClick:n.submitAnswer},m._("Submit Answer"))):u?o.a.createElement("div",{className:"answer-actions"},o.a.createElement(we.h,{id:"button-interactive-video-vr-submit",primary:!0,className:"continue-button",isLoading:l,ariaLabel:m._("Submit Video"),enabled:!l&&!y,onClick:n.submitRecording},m._("Submit Video"))):f?o.a.createElement("div",{className:"answer-actions"},o.a.createElement(we.h,{id:"button-interactive-video-vr-continue",primary:!0,className:"continue-button",ariaLabel:m._("Continue"),enabled:!0,onClick:n.startResumeAssignment},m._("Continue"))):!n.isRecordingSupported()||bt.b()?o.a.createElement("div",{className:"answer-actions"},o.a.createElement(we.h,{id:"button-interactive-video-vr-choose",primary:!0,className:"continue-button",ariaLabel:m._("Choose Video"),enabled:!0,onClick:n.onUploadVideo},m._("Choose Video"))):null})),WR(BR(BR(n)),"isRecordingSupported",(function(){return fr.a.isRecorderSupported()})),WR(BR(BR(n)),"onUploadVideo",(function(){n.setState({showVideoUploadDialog:!0})})),WR(BR(BR(n)),"onUploadVideoCancel",(function(){n.setState({showVideoUploadDialog:!1})})),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){WR(e,t,n[t])}))}return e}({},QR,{currentQuestion:n.getNextQuestion()}),n.onUnload=n.onUnload.bind(BR(BR(n))),n.playerUserInteractionsEmitter=new ey.a,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qR(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e&&e.playerIsReady&&e.playerIsReady!==this.props.playerIsReady&&this.setVideoToLastQuestionTime()}},{key:"render",value:function(){var e=this.props,t=e.questions,n=e.studentData,r=e.i18n,a=e.readOnly,i=e.userId,c=e.interactiveVideoSettings,s=this.props.match.params.activityId,u=this.state,l=u.currentQuestion,d=u.showingQuestion,f=u.showVideoUploadDialog,p=this.getCurrentAnswers(),m=n.interactiveVideoWatchingFinishedAt&&p.length===t.length,b=!l&&m,y=r._("Interactive Video");return d&&!b?y=r._("Question {0} of {1}",{0:this.getCurrentQuestionIndex()+1,1:t.length}):b&&(y=r._("Complete")),o.a.createElement("div",null,a?null:o.a.createElement(Hn.a,{className:"interactive-video-work-in-progress"},o.a.createElement(Hn.c,{className:"interactive-video-card-body"},this.getRecorderPlayerContainer(),o.a.createElement("div",{className:"question-container"},o.a.createElement("div",{className:"question-container-header"},o.a.createElement("h2",{className:"section-header"},y)),this.getQuestionContainer())),f&&o.a.createElement($b,{onCancel:this.onUploadVideoCancel,onComplete:this.onRecordingSubmitted,mediaType:pr.a.ACTIVITY_RESULT,activityId:+s,questionId:l?+l.dbId:null,studentId:i})),m&&o.a.createElement(LR,{interactiveAnswers:p,isEducator:!1,isRestricted:!c[SR.b.SETTINGS.IS_SUMMARY_VISIBLE]}))}}])&&VR(n.prototype,r),a&&VR(n,a),t}(a.Component);XR.propTypes={readOnly:c.a.bool,enablePolling:c.a.func,payerTime:c.a.number},XR.defaultProps={readOnly:!1};var JR=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),termClassId:Qs.getTermClassId(e),studentData:Qs.getMyData(e),result:Qs.getActivityResult(e),webcamFileName:xR.K(e,YR),recorderInitialized:xR.c(e,YR),interactiveVideoSettings:oR.b(e),questions:oR.a(e),recorderInIntialState:xR.J(e,YR)===FR.a.INITIAL,playerIsReady:ly.b(HR,e,"isReady"),playerDuration:ly.b(HR,e,"duration"),isPlayerPaused:ly.b(HR,e,"isPaused"),isPlayerPlaying:ly.b(HR,e,"isPlaying"),payerTime:ly.c(HR,e),recorderProps:xR.B(e,YR),isRecording:xR.J(e,YR)===FR.a.RECORDING,isInteractiveAnswerLoading:Qs.isInteractiveAnswerLoading(e),allowPeerReviewBeforeSubmission:Qs.isPeerReviewAllowedBeforeSubmission(e),userId:Qe.i(e),isSubmittable:Qs.isSubmittable(e)}}))(XR)));function ZR(e){return(ZR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eP(e){return(eP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tP(e,t){return(tP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aP=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=eP(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==ZR(a)&&"function"!==typeof a?nP(r):a,rP(nP(nP(n)),"state",{pollingEnabled:!1}),rP(nP(nP(n)),"reloadActivityData",(function(){var e=n.props.activityId;uu.a.refreshInteractiveVideoProgressActivity(+e)})),rP(nP(nP(n)),"enablePolling",(function(e){e&&n.reloadActivityData(),n.setState({pollingEnabled:e})})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tP(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.studentData,n=e.questions;t.interactiveVideoWatchingFinishedAt&&t.interactiveAnswers.length===n.length&&this.setState({pollingEnabled:!0})}},{key:"render",value:function(){var e=this.props,t=e.activityName,n=e.availablePeerReviews,r=e.instructionsText,a=e.instructionsMedia,i=e.rubric,c=e.i18n,s=this.state.pollingEnabled;return o.a.createElement(Bd,{title:t,pollingEnabled:s,serviceMethod:uu.a.refreshInteractiveVideoProgressActivity},o.a.createElement(zf.a,null),o.a.createElement(fR,null),o.a.createElement(_S.a,null),o.a.createElement(op.a,{title:c._("Instructions"),media:a,text:r,rubric:i}),n&&o.a.createElement(aR,null),!this.props.lmsLocked&&o.a.createElement(JR,{enablePolling:this.enablePolling}))}}])&&$R(n.prototype,r),a&&$R(n,a),t}(a.Component),oP=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityName:Qs.getActivityName(e),lmsLocked:Qs.getLmsLocked(e),activityId:Qs.getActivityId(e),availablePeerReviews:Qs.getAvailablePeerReviews(e),instructionsText:Qs.getActivityInstructionsText(e),instructionsMedia:Qs.getActivityInstructionsMedia(e),userId:Qe.i(e),questions:oR.a(e),rubric:Qs.getRubric(e),studentData:Qs.getMyData(e)}}))(aP)));n("Tvoo");function iP(e){return(iP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sP(e,t){return!t||"object"!==iP(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uP(e){return(uP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lP(e,t){return(lP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sP(this,uP(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lP(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.enabled,n=e.i18n,r=e.id,a=e.onClick,i=fe.a.getAutoAnalysisPermission();return i.isVisible?o.a.createElement(pv.a,{key:r,id:r,onClick:a,leftIcon:o.a.createElement(zc.a,{ariaHidden:!0},re.a.ASSESSMENT),primaryText:n._("View Analysis"),enabled:t&&!i.isRestricted,tooltip:{label:n._(i.restrictedMessage)}}):null}}])&&cP(n.prototype,r),a&&cP(n,a),t}(a.PureComponent);dP.defaultProps={enabled:!0},dP.propTypes={enabled:c.a.bool,id:c.a.string.isRequired,onClick:c.a.func.isRequired};var fP=Object(U.withI18n)()(dP);function pP(e){return(pP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mP(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function bP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){EP(e,t,n[t])}))}return e}function yP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vP(e){return(vP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hP(e,t){return(hP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wP={resumeVideoAfterMessageSubmit:!1,selectedStudent:null,selectedAvailableResult:null,selectedDeleteComment:null,selectedEditComment:null,showDeleteCommentDialog:!1,showDocuments:!1,showEditCommentDialog:!1,showRecorderDialog:!1,message:"",showSelfAssessmentDialog:!1,showReflectionAnswersDialog:!1},OP="Submission results video player",SP=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=vP(t).call(this,e),n=!a||"object"!==pP(a)&&"function"!==typeof a?gP(r):a,EP(gP(gP(n)),"componentDidMount",(function(){n.scrollToBottom()})),EP(gP(gP(n)),"scrollToBottom",(function(){var e=T.a.findDOMNode(n.feedContainer);e&&(e.scrollTop=e.scrollHeight)})),EP(gP(gP(n)),"getPlayerTime",(function(){var e=ly.c(n.getVideoPlayerId(),m.a.getState());return null===e?null:+e.toFixed(1)-.1})),EP(gP(gP(n)),"getVideoPlayerId",(function(){var e=n.props,t=e.result,r=e.activityId;return t?OP+"_"+r+"_"+t.submitter.dbId+"_"+O.a.get(t,"media.dbId"):OP})),EP(gP(gP(n)),"onMediaChange",(function(e){var t=n.props,r=t.dispatch;t.result.requiredMedia?r(yO.tc(e)):r(yO.sc(e))})),EP(gP(gP(n)),"onMessageChange",(function(e){var t=n.props.dispatch,r=n.state.resumeVideoAfterMessageSubmit,a=ly.b(n.getVideoPlayerId(),m.a.getState(),"isPlaying"),o=r;if(o||(o=a),a){var i=n.getPlayerTime(),c=n.getVideoPlayerId();t(uy.t(c)),n.globalPlayerEmitter.pause({playerId:c,startTime:i})}n.setState({message:e,resumeVideoAfterMessageSubmit:o})})),EP(gP(gP(n)),"onMessageSubmit",(function(){var e=n.props,t=e.activityId,r=e.userId,a=e.dispatch,o=n.state,i=o.message,c=o.resumeVideoAfterMessageSubmit;uu.a.addFeedbackComment(+t,r,i,n.getPlayerTime()).then((function(){n.setState({message:"",resumeVideoAfterMessageSubmit:!1}),n.scrollToBottom(),c&&(n.isVideoPaused()&&n.globalPlayerEmitter.play({playerId:n.getVideoPlayerId(),startTime:n.getPlayerTime()}),a(uy.u(n.getVideoPlayerId())))}))})),EP(gP(gP(n)),"onVideoAdd",(function(){var e=n.props,t=e.dispatch,r=e.activityId,a=n.state.resumeVideoAfterMessageSubmit,i=ly.b(n.getVideoPlayerId(),m.a.getState(),"isPlaying"),c=a;c||(c=i),i&&(n.globalPlayerEmitter.pause({playerId:n.getVideoPlayerId(),startTime:n.getPlayerTime()}),t(uy.t(n.getVideoPlayerId()))),n.setState({resumeVideoAfterMessageSubmit:c}),fr.a.isRecorderSupported()&&!bt.b()?dt.a.showModal(o.a.createElement(Qb,{mediaType:pr.a.COMMENT,id:"FeedbackCommentRecorder",onComplete:function(e){e&&e.masterMediaId&&n.onAddVideoComplete(e.masterMediaId)},activityId:+r})):dt.a.showModal(o.a.createElement($b,{mediaType:pr.a.COMMENT,showImportFromCloud:!1,onComplete:function(e){e&&e[0]&&n.onAddVideoComplete(e[0])},activityId:+r}))})),EP(gP(gP(n)),"onAddVideoComplete",(function(e){var t=n.props,r=t.dispatch,a=t.activityId,o=t.userId,i=n.state.resumeVideoAfterMessageSubmit;e&&uu.a.addFeedbackCommentVideo(+a,o,e,n.getPlayerTime()).then((function(){n.setState({resumeVideoAfterMessageSubmit:!1}),n.scrollToBottom(),i&&(n.isVideoPaused()&&n.globalPlayerEmitter.play({playerId:n.getVideoPlayerId(),startTime:n.getPlayerTime()}),r(uy.u(n.getVideoPlayerId())))}))})),EP(gP(gP(n)),"onEditComment",(function(e){n.setState({selectedEditComment:O.a.clone(e),showEditCommentDialog:!0})})),EP(gP(gP(n)),"onEditCancel",(function(){n.setState({selectedEditComment:null,showEditCommentDialog:!1})})),EP(gP(gP(n)),"onEditSubmit",(function(){var e=n.state.selectedEditComment;uu.a.editFeedbackComment(e.dbId,e).then((function(){n.setState({showEditCommentDialog:!1,selectedEditComment:null})}))})),EP(gP(gP(n)),"onEditCommentChange",(function(e){n.setState({selectedEditComment:bP({},n.state.selectedEditComment,{commentText:e})})})),EP(gP(gP(n)),"onDeleteComment",(function(e){n.setState({showDeleteCommentDialog:!0,selectedDeleteComment:e})})),EP(gP(gP(n)),"onDeleteCancel",(function(){n.setState({showDeleteCommentDialog:!1,selectedDeleteComment:null})})),EP(gP(gP(n)),"onDeleteSubmit",(function(){var e=n.state.selectedDeleteComment,t=n.props.activityId;t=+t,uu.a.deleteFeedbackComment(t,e.dbId).then((function(){n.setState({showDeleteCommentDialog:!1,selectedDeleteComment:null})}))})),EP(gP(gP(n)),"onSyncTimeClick",(function(e){var t=n.props.dispatch,r=n.getPlayerTime(),a=e,o=n.getVideoPlayerId();t(uy.F(o,a)),n.globalPlayerEmitter.seek({playerId:o,startTime:r,endTime:a})})),EP(gP(gP(n)),"isTestStudent",(function(){var e=n.props.userData;return Wr.i(e)})),EP(gP(gP(n)),"getFeedSection",(function(){var e=n.props,t=e.result,r=e.userId,a=t.comments;return a&&0===a.length?o.a.createElement("div",{className:"review-feed no-comments"},o.a.createElement("span",{className:"card-placeholder-text"},o.a.createElement(U.Trans,{id:"No comments"}))):(a&&(a=O.a.orderBy(a,["syncTime","updatedAt"],["asc","asc"])),o.a.createElement("div",{className:"review-feed"},a&&a.map((function(e){if(!e)return null;var t=Boolean(e.commenter&&e.commenter.dbId===r);return o.a.createElement(bE,{key:"review-comment"+e.dbId,comment:e,termClassId:n.props.termClassId,activityId:n.props.activityId,usageContext:Kh.a.COMMENT,showCommenterName:!0,canEdit:t,canDelete:t,onSyncTimeClick:n.onSyncTimeClick,onDeleteComment:n.onDeleteComment,onEditComment:n.onEditComment})}))))})),EP(gP(gP(n)),"getSubmitSection",(function(){var e=n.state.message,t=n.props,r=t.i18n,a=t.feedbackCommentIsLoading,i=Object(eu.f)(e);a&&n._feedbackCommentIsLoading&&requestAnimationFrame((function(){n.feedbackTextFieldRef.current.focus()})),n._feedbackCommentIsLoading=a;var c=null;return bt.f()||(c=bt.d()?r._("(\\u2318 + Enter) to Submit"):r._("(Ctrl + Enter) to Submit")),o.a.createElement("div",{className:"review-submit-section"},o.a.createElement(we.d,{id:"button-feedback-video-add",enabled:!a&&!n.isTestStudent(),className:"review-add-video-button",ariaLabel:r._("Add Video"),onClick:n.onVideoAdd},re.a.VIDEO_ADD),o.a.createElement(Sa.i,{ref:n.feedbackTextFieldRef,id:"feedback-textfield",className:"feedback-textfield",ariaLabel:r._("Self Evaluation"),enabled:!a&&!n.isTestStudent(),errorText:i.exceedsLimit?r._("Exceeds {0} characters.",{0:i.maxLength}):"",helpText:c,helpOnFocus:!0,maxLength:i.maxLength,maxRows:2,onChange:n.onMessageChange,onSubmit:n.onMessageSubmit,placeholder:r._("Self Evaluation..."),required:!i.isEmpty,rows:1,value:e}),o.a.createElement(we.d,{id:"button-feedback-message-send",enabled:!a&&i.isValid&&!n.isTestStudent(),className:"message-send-button",onClick:n.onMessageSubmit,isLoading:a,ariaLabel:r._("Send")},re.a.SEND))})),EP(gP(gP(n)),"onViewDocuments",(function(){n.setState({showDocuments:!0})})),EP(gP(gP(n)),"onDocumentDialogClose",(function(){n.setState({showDocuments:!1})})),EP(gP(gP(n)),"onShowAutoAnalysis",(function(e){var t=n.props.isAutoAnalysisScoreVisible;dt.a.showModal(o.a.createElement(Xy,{isScoreVisible:t,media:e}))})),EP(gP(gP(n)),"getVideoTopToolbar",(function(){var e=[],t=n.props,r=t.result,a=t.hasReflectionAnswers,i=t.i18n,c=t.activityType,s=t.isAutoAnalysisEnabled;if(!r)return null;(a||r.documents&&r.documents.length>0||r.links&&r.links.length>0)&&(e.push(o.a.createElement(Au.c,{key:"document_view_item",onClick:n.onViewDocuments,leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Documents, icon"),iconClassName:Tf.a.FILE}),primaryText:i._("Documents")})),e.push(o.a.createElement(pm.a,{key:"feedback_divider[0]"})));var u=r.media;if(!u&&r&&r.requiredMedia&&(u=r.requiredMedia),u){var l=Boolean(u.meetingAssets||u.meetingDownloadUrl);u.slaveMedia?e.push(o.a.createElement(Au.c,{key:"download_camera_item",enabled:Boolean(u.downloadUrl),onClick:function(){return Object(Tv.a)(u.downloadUrl)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Download, icon")},re.a.DOWNLOAD),primaryText:i._("Download camera recording")}),o.a.createElement(Au.c,{key:"download_desktop_item",enabled:Boolean(u.slaveMedia.downloadUrl),onClick:function(){return Object(Tv.a)(u.slaveMedia.downloadUrl)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Download, icon")},re.a.DOWNLOAD),primaryText:i._("Download screen recording")})):e.push(o.a.createElement(Au.c,{key:"download_item",enabled:Boolean(u.downloadUrl),onClick:function(){return mm.a.downloadPartial(u)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Download, icon")},re.a.DOWNLOAD),primaryText:i._("Download")}));var d=jy.a.isActivityTypeSupported(c);s&&d&&!l&&e.push(o.a.createElement(fP,{id:"auto-analysis",onClick:function(){n.onShowAutoAnalysis(u)}}))}return 0===e.length?null:o.a.createElement("div",{className:"video-top-toolbar-container"},o.a.createElement(we.f,{id:"video-actions-menu-button",className:"video-actions-menu-button",menuItems:e},re.a.MENU_VERT))})),EP(gP(gP(n)),"onEditSelfAssessmentRubric",(function(){n.setState({showSelfAssessmentDialog:!0})})),EP(gP(gP(n)),"onSelfAssessmentRubricSubmit",(function(e){n.setState({showSelfAssessmentDialog:!1});var t=n.props,r=t.activityId,a=t.userId;uu.a.createRubricPeerReview(r,a,e,!0).catch((function(e){l.b.error(e)}))})),EP(gP(gP(n)),"onSelfAssessmentRubricCancel",(function(){n.setState({showSelfAssessmentDialog:!1})})),EP(gP(gP(n)),"getFilteredRubricEvaluations",(function(){var e=n.props,t=e.activityType,r=e.rubricEvaluations,a=e.myData,o=[];if(r){var i=a.student;o=r.filter((function(e){if(Wr.f(i,e.user))return!1;if(Wr.e(i,e.user)){if(t===Wu.b.GROUP_PRESENTATION){var n=a.studentGroup.members;return!Wr.d(i,e.user,n)}return!0}}))}return o})),EP(gP(gP(n)),"getRatingComponent",(function(){var e=n.props,t=e.rubric,r=e.isFiveStarEnabled,a=e.isRubricReviewEnabled,i=e.myData,c=e.i18n;if(r){var s=0;return i&&i.peerReview&&(s=i.peerReview.fiveStarValue),o.a.createElement("div",{className:"peer-review-fivestar-container"},o.a.createElement(Qd.a,{name:"feedback-review-rating",enabled:!1,value:s,onChange:n.onRatingChange}),o.a.createElement("span",null,"(",i.peerReview.fiveStarRatesAmount,")"))}if(a){var u=O.a.get(i,"peerReview.rubricGrade",0),l=n.getFilteredRubricEvaluations();return o.a.createElement("div",{className:"eval-rubric-result-container"},o.a.createElement(U.Trans,{id:"Peer Review"}),o.a.createElement(we.b,{id:"button-feedback-peer-review-rubric",enabled:!!l.length&&!n.isTestStudent(),ariaLabel:c._("Peer Review"),onClick:n.showPeerReviewReport.bind(null,l),className:"eval-rubric-result-button",primary:!0},o.a.createElement(tf.c,{points:u,max:t.maxValue})))}})),EP(gP(gP(n)),"showPeerReviewReport",(function(e){var t=n.props.i18n;dt.a.showModal(o.a.createElement(af.a,{title:t._("Peer Reviews"),rubricEvaluations:e}))})),EP(gP(gP(n)),"getSelfAssessmentComponent",(function(){var e=n.props,t=e.rubric,r=e.isRubricSelfReviewEnabled,a=e.result,i=e.i18n;if(r){var c=0;return a&&a.myRubricEvaluation&&(c=a.myRubricEvaluation.points),o.a.createElement("div",{className:"self-assessment-rubric-results"},o.a.createElement(U.Trans,{id:"Rubric Self Assessment"}),o.a.createElement(we.b,{id:"button-feedback-self-assessment-rubric",ariaLabel:i._("Rubric Self Assessment"),onClick:n.onEditSelfAssessmentRubric,enabled:!n.isTestStudent(),className:"eval-rubric-result-button",primary:!0},o.a.createElement(tf.c,{points:c,max:t.maxValue})))}return null})),EP(gP(gP(n)),"getCardHeader",(function(){return o.a.createElement("div",{className:"md-card-title md-card-title--primary card-title feedback-card-header"},o.a.createElement("h2",{className:"section-header"},o.a.createElement(U.Trans,{id:"My Submission"})),o.a.createElement("div",{className:"feedback-rating-container"},n.getRatingComponent()))})),EP(gP(gP(n)),"getDeleteDialogActions",(function(){var e=n.props,t=e.feedbackCommentIsLoading,r=e.i18n;return[o.a.createElement(we.b,{id:"button-feedback-delete-dialog-cancel",secondary:!0,ariaLabel:r._("Cancel"),enabled:!t,onClick:n.onDeleteCancel},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-feedback-delete-dialog-delete",primary:!0,ariaLabel:r._("Delete"),isLoading:t,enabled:!t,onClick:n.onDeleteSubmit},o.a.createElement(U.Trans,{id:"Delete"}))]})),EP(gP(gP(n)),"getEditDialogActions",(function(e){var t=n.props,r=t.feedbackCommentIsLoading,a=t.i18n;return[o.a.createElement(we.b,{id:"button-feedback-edit-dialog-cancel",secondary:!0,ariaLabel:a._("Cancel"),enabled:!r,onClick:n.onEditCancel},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-feedback-edit-dialog-submit",primary:!0,ariaLabel:a._("Submit"),isLoading:r,enabled:!r&&e.isValid,onClick:n.onEditSubmit},o.a.createElement(U.Trans,{id:"Submit"}))]})),EP(gP(gP(n)),"onPreviewReflectionAnswers",(function(){n.setState({showReflectionAnswersDialog:!0})})),EP(gP(gP(n)),"onPreviewReflectionAnswersClose",(function(){n.setState({showReflectionAnswersDialog:!1})})),n.state=wP,n.globalPlayerEmitter=new ey.a,n.feedbackTextFieldRef=o.a.createRef(),n._feedbackCommentIsLoading=!1,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hP(e,t)}(t,e),n=t,(r=[{key:"isVideoPaused",value:function(){return ly.b(this.getVideoPlayerId(),m.a.getState(),"isPaused")}},{key:"render",value:function(){var e=this,t=this.props,n=t.result,r=t.rubric,a=t.reflectionAnswers,i=t.i18n,c=this.state,s=c.selectedEditComment,u=c.showDocuments,l=c.showDeleteCommentDialog,d=c.showEditCommentDialog,f=c.showSelfAssessmentDialog,p=c.showReflectionAnswersDialog;if(!n)return null;var m=[],b=n.media,y=n.comments;!b&&n&&n.requiredMedia&&(b=n.requiredMedia);var v=null,h=null;n&&n.myRubricEvaluation&&(v=n.myRubricEvaluation.points,h=n.myRubricEvaluation.cells.map((function(e){return e.dbId}))),y&&y.forEach((function(e){e&&null!==e.syncTime&&m.push({timestamp:e.syncTime})}));var g=s?s.commentText:"",w=Object(eu.f)(g),S=[];return S.push(mm.a.createReflectionAnswersPartial(i._("Reflection Answers"),a,this.onPreviewReflectionAnswers)),S=O.a.concat.apply(O.a,[S].concat(mP(n.documents||[]))),S=O.a.compact(S),o.a.createElement("div",null,o.a.createElement(Hn.a,{className:"review-card"},this.getCardHeader(),o.a.createElement("div",{className:"review-wrapper"},b?o.a.createElement("div",{className:E()("review-video-container",S&&S.length>0?null:"no-documents")},b&&this.getVideoTopToolbar(),b&&o.a.createElement(Mt.a,{id:"review-media",media:b,onMediaChange:this.onMediaChange,activityId:this.props.activityId,termClassId:this.props.termClassId,usageContext:Kh.a.STUDENT_RESULT,marks:m,playerId:this.getVideoPlayerId()})):o.a.createElement("div",{className:E()("review-document-container",b?null:"no-media")},n&&S?o.a.createElement(FT,{documents:S,links:n.links}):o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"No documents found"}))),o.a.createElement("div",{className:E()("review-comments-container",b?null:"no-media")},o.a.createElement("div",{className:"review-feed-container",ref:function(t){e.feedContainer=t}},this.getFeedSection()),o.a.createElement("div",{className:"review-submit-container"},this.getSubmitSection(),o.a.createElement("div",{className:"self-assessment-container"},this.getSelfAssessmentComponent()),this.isTestStudent()&&o.a.createElement(Dc.b,{type:Dc.a.INFO},o.a.createElement("p",null,i._("Feedback is not allowed for test learners"))))),o.a.createElement(QT,{visible:u,documents:S,links:n.links,onClose:this.onDocumentDialogClose}),o.a.createElement(Hf.a,{id:"delete-review-item-dialog",title:i._("Delete Comment"),visible:l,actions:this.getDeleteDialogActions()},o.a.createElement("p",null,o.a.createElement(U.Trans,{id:"Are you sure you want to delete this comment?"}))),s&&o.a.createElement(Hf.a,{id:"edit-review-item-dialog",className:"edit-review-item-dialog",title:i._("Edit Comment"),visible:d,actions:this.getEditDialogActions(w)},o.a.createElement(Sa.i,{id:"review-edit-textfield",className:"review-edit-textfield",enabled:!this.props.feedbackCommentIsLoading,placeholder:i._("Comment..."),onChange:this.onEditCommentChange,value:s.commentText,rows:1,errorText:w.exceedsLimit?i._("Exceeds {0} characters.",{0:w.maxLength}):"",maxLength:w.maxLength,required:!0,maxRows:4,ariaLabel:i._("Comment")})),f&&o.a.createElement(tf.b,{rubric:r,rubricPoints:v,grade:h,mode:nf.a.GRADE,onCancel:this.onSelfAssessmentRubricCancel,onSubmit:this.onSelfAssessmentRubricSubmit,onGradeChange:this.onRubricGradeChange}),o.a.createElement(zh,{visible:p,onClose:this.onPreviewReflectionAnswersClose}))))}}])&&yP(n.prototype,r),a&&yP(n,a),t}(a.Component),CP=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),activityData:Qs.getActivityData(e),activityType:Qs.getActivityType(e),result:Qs.getActivityResult(e),reflectionAnswers:Qs.getReflectionAnswers(e),hasReflectionAnswers:Qs.hasReflectionAnswers(e),feedbackCommentIsLoading:Qs.getFeedbackCommentIsLoading(e),userId:Qe.i(e),isFiveStarEnabled:Qs.isFiveStarEnabled(e),isRubricReviewEnabled:Qs.isRubricReviewEnabled(e),isRubricSelfReviewEnabled:Qs.isRubricSelfReviewEnabled(e),rubric:Qs.getRubric(e),rubricEvaluations:Qs.getRubricEvaluations(e),myData:Qs.getMyData(e),userData:Qe.h(e),termClassId:Qs.getTermClassId(e),isAutoAnalysisEnabled:Qs.isAutoAnalysisEnabled(e),isAutoAnalysisScoreVisible:Qs.isAutoAnalysisScoreEnabled(e)}}))(SP)));function _P(e){return(_P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IP(e){return(IP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TP(e,t){return(TP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var PP=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=IP(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==_P(a)&&"function"!==typeof a?RP(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(RP(RP(n)),"render",(function(){var e=n.props,t=e.activityName,r=e.postSubmissionMedia,a=e.postSubmisstionText,i=e.studentData,c=e.interactiveVideoSettings,s=e.i18n,u=i.result.media&&i.result.media.processingStatus===Rv.a.READY;return o.a.createElement(Bd,{title:t,serviceMethod:uu.a.refreshInteractiveVideoSubmittedActivity},o.a.createElement("div",null,o.a.createElement(zf.a,null),o.a.createElement(ER,null),o.a.createElement(op.a,{title:s._("Post-Submission Instructions"),media:r,text:a}),o.a.createElement(aR,null),u&&o.a.createElement(CP,null),o.a.createElement(LR,{interactiveAnswers:i.interactiveAnswers,isEducator:!1,isRestricted:!c[SR.b.SETTINGS.IS_SUMMARY_VISIBLE]})))})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TP(e,t)}(t,e),t}(a.Component),AP=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityName:Qs.getActivityName(e),studentData:Qs.getMyData(e),postSubmissionMedia:Qs.getPostSubmissionMedia(e),postSubmisstionText:Qs.getPostSubmissionText(e),interactiveVideoSettings:oR.b(e)}}))(PP)));n("Pnbs");function NP(e){return(NP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jP(e){return(jP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kP(e,t){return(kP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function DP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var LP=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=jP(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==NP(a)&&"function"!==typeof a?DP(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(DP(DP(n)),"render",(function(){var e=n.props.activityResult;return o.a.createElement("div",null,e?o.a.createElement(AP,null):o.a.createElement(oP,null))})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kP(e,t)}(t,e),t}(a.Component),MP=Object(y.k)(Object(s.b)((function(e){return{activityResult:Qs.getActivityResult(e),isLoading:Qs.getIsLoading(e)}}))(LP)),xP=n("W5Bm");function FP(e){return(FP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VP(e,t){return!t||"object"!==FP(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function GP(e){return(GP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qP(e,t){return(qP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var BP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),VP(this,GP(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qP(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=bt.f();return o.a.createElement("div",null,o.a.createElement(xP.a,{stopRecordingOnDocumentHide:e,refreshPageOnAnswerSubmission:e,bypassActivateCameraPrompt:!0,isStandaloneMode:!0}))}}])&&UP(n.prototype,r),a&&UP(n,a),t}(a.Component),WP=n("TVp9");function QP(e){return(QP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HP(e,t){return!t||"object"!==QP(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zP(e){return(zP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KP(e,t){return(KP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var XP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),HP(this,zP(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KP(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.i18n;this.getAnsweredQuestionsCount(e)===e.questionCount&&this.getAnsweredQuestionsCount(this.props)!==this.props.questionCount&&dt.a.showModal(o.a.createElement(Ev.a,{id:"can-close-window",visible:!0,onClose:function(){window.close()},message:o.a.createElement("div",null,t._("All questions have been answered. This window will be closed."))}))}},{key:"getAnsweredQuestionsCount",value:function(e){return e.qaAnswers?e.qaAnswers.filter((function(t){return!e.question||t.qaQuestion.dbId!==e.question.dbId})).length:0}},{key:"render",value:function(){return this.props.activityData?o.a.createElement(BP,null):o.a.createElement(te.a,{loading:!0})}}])&&YP(n.prototype,r),a&&YP(n,a),t}(a.Component);XP.propTypes={i18n:c.a.object,qaAnswers:c.a.array,questionCount:c.a.number};var JP=Object(U.withI18n)()(Object(s.b)((function(e){return{activityData:Qs.getActivityData(e),qaAnswers:WP.d(e),questionCount:WP.f(e),question:WP.e(e)}}))(Object(y.k)(XP)));function ZP(e){return(ZP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eA(e,t){return!t||"object"!==ZP(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tA(e){return(tA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nA(e,t){return(nA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),eA(this,tA(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nA(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityId,n=e.questionCount,r=e.qaAnswers,a=e.i18n;if(!t)return null;var i=r.length;return o.a.createElement("div",{className:"dashboard-container"},fe.a.isDueDateVisible()?o.a.createElement(Wd.a,null):null,o.a.createElement(If.a,{className:"item-a",title:a._("Questions Answered"),iconClassName:Tf.a.QUESTION},o.a.createElement("div",{className:"dashboard-contents"},o.a.createElement(U.Trans,{id:"{numberOfQuestionsAnswered,number} of {questionCount,number}",values:{numberOfQuestionsAnswered:i,questionCount:n}}))))}}])&&$P(n.prototype,r),a&&$P(n,a),t}(a.Component),aA=Object(U.withI18n)()(Object(s.b)((function(e){return{activityId:Qs.getActivityData(e),qaAnswers:WP.d(e),questionCount:WP.f(e)}}))(rA));function oA(e){return(oA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cA(e){return(cA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sA(e,t){return(sA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var lA=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=cA(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==oA(a)&&"function"!==typeof a?uA(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(uA(uA(n)),"onRemoveSubmission",(function(){var e=n.props.activityId;e=+e,uu.a.deleteSubmission(e)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sA(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityId,n=e.result,r=e.removeSubmissionIsLoading;return t?o.a.createElement("div",{className:"dashboard-container"},o.a.createElement(Uf.a,null),n?o.a.createElement(If.b,{result:n,removeSubmissionIsLoading:r,onRemoveSubmission:this.onRemoveSubmission}):null):null}}])&&iA(n.prototype,r),a&&iA(n,a),t}(a.Component),dA=Object(U.withI18n)()(Object(s.b)((function(e){return{activityId:Qs.getActivityId(e),result:Qs.getActivityResult(e),qaSettings:WP.g(e),reviewedPeerReviews:Qs.getReviewedPeerReviews(e),peerReviewRequiredCount:Qs.getPeerReviewRequiredCount(e),removeSubmissionIsLoading:Qs.getRemoveSubmissionIsLoading(e)}}))(lA));function fA(e){return(fA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pA(e){return(pA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mA(e,t){return(mA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var yA=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=pA(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==fA(a)&&"function"!==typeof a?bA(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(bA(bA(n)),"render",(function(){var e=n.props,t=e.activityName,r=e.availablePeerReviews,a=e.instructionsText,i=e.instructionsMedia,c=e.i18n,s=e.isPeerReviewAllowedBeforeSubmission,u=e.rubric,l=e.isReflectionQuestionsEnabled,d=bt.f();return o.a.createElement(ju.a,{title:t},o.a.createElement(zf.a,{canRemoveSubmission:function(){return!1}}),o.a.createElement(aA,null),o.a.createElement(_S.a,null),o.a.createElement(op.a,{title:c._("Instructions"),media:i,text:a,rubric:u}),!(n.props.lmsLocked||!l)&&o.a.createElement(fT,null),o.a.createElement(xP.a,{stopRecordingOnDocumentHide:d,refreshPageOnAnswerSubmission:!1}),r&&s?o.a.createElement(aR,null):null)})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mA(e,t)}(t,e),t}(a.Component),vA=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityName:Qs.getActivityName(e),lmsLocked:Qs.getLmsLocked(e),availablePeerReviews:Qs.getAvailablePeerReviews(e),instructionsText:Qs.getActivityInstructionsText(e),instructionsMedia:Qs.getActivityInstructionsMedia(e),isPeerReviewAllowedBeforeSubmission:Qs.isPeerReviewAllowedBeforeSubmission(e),isReflectionQuestionsEnabled:Qs.isReflectionQuestionsEnabled(e),rubric:Qs.getRubric(e)}}))(yA))),hA=n("3Tiu"),gA=n("rnBV"),EA=n("ERI2");function wA(e){return(wA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SA(e){return(SA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CA(e,t){return(CA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TA=2e4,RA=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=SA(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==wA(a)&&"function"!==typeof a?_A(r):a,IA(_A(_A(n)),"componentWillUnmount",(function(){n._ismounted=!1,clearTimeout(n.pollingTimer)})),IA(_A(_A(n)),"canRemoveSubmission",(function(){var e=n.props,t=e.result;return!!e.qaSettings.isStudentRetakeAllowed&&(t&&t.deletable)})),IA(_A(_A(n)),"startPolling",(function(){clearTimeout(n.pollingTimer),n._ismounted&&(n.pollingTimer=setTimeout((function(){n.refreshData()}),TA))})),IA(_A(_A(n)),"refreshData",(function(){var e=n.props,t=e.match.params.activityId;t=+t,e.currentActivityState===gA.a.SUBMITTED&&EA.a.refreshSubmittedData(t).then((function(){n.startPolling()}))})),IA(_A(_A(n)),"onResetComplete",(function(){(0,n.props.dispatch)(hA.n(gA.a.PROGRESS))})),IA(_A(_A(n)),"render",(function(){var e=n.props,t=e.activityName,r=e.i18n,a=e.instructionsText,i=e.instructionsMedia;return o.a.createElement(ju.a,{title:t},o.a.createElement("div",null,o.a.createElement(zf.a,{canRemoveSubmission:n.canRemoveSubmission,onResetComplete:n.onResetComplete}),o.a.createElement(dA,null),o.a.createElement(op.a,{title:r._("Post-Submission Instructions"),media:i,text:a}),o.a.createElement(aR,null),o.a.createElement(CP,null)))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CA(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._ismounted=!0,this.refreshData(),this.startPolling()}}])&&OA(n.prototype,r),a&&OA(n,a),t}(a.Component),PA=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityName:Qs.getActivityName(e),educatorGrade:Qs.getEducatorGrade(e),result:Qs.getActivityResult(e),instructionsMedia:Qs.getPostSubmissionMedia(e),qaSettings:WP.g(e),instructionsText:Qs.getPostSubmissionText(e),currentActivityState:WP.b(e)}}))(RA)));n("7rMt");function AA(e){return(AA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jA(e){return(jA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kA(e,t){return(kA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function DA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MA=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=jA(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==AA(a)&&"function"!==typeof a?DA(r):a,LA(DA(DA(n)),"updateCurrentActivityState",(function(){var e=n.props,t=e.result,r=e.dispatch,a=gA.a.PROGRESS;t&&t.requiredMedia&&t.requiredMedia.processingStatus&&t.requiredMedia.processingStatus===Rv.a.READY&&(a=gA.a.SUBMITTED),r(hA.n(a))})),LA(DA(DA(n)),"render",(function(){var e=n.props.currentActivityState,t=!0;return e?(e===gA.a.SUBMITTED&&(t=!1),o.a.createElement(y.d,null,o.a.createElement(y.b,{exact:!0,path:In.i.STANDALONE_QA_RECORDER,component:JP}),o.a.createElement(y.b,{component:t?vA:PA}))):null})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kA(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.updateCurrentActivityState()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.updateCurrentActivityState()}}])&&NA(n.prototype,r),a&&NA(n,a),t}(a.Component),xA=Object(y.k)(Object(s.b)((function(e){return{result:Qs.getActivityResult(e),isLoading:Qs.getIsLoading(e),currentActivityState:WP.b(e)}}))(MA));n("zFSh");function FA(e){return(FA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VA(e){return(VA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GA(e,t){return(GA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var BA=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(a=VA(t).call(this,e))||"object"!==FA(a)&&"function"!==typeof a?qA(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(qA(qA(n)),"getActivityComponent",(function(e){if(!e)return null;switch(e){case Wu.b.GROUP_PRESENTATION:return o.a.createElement(ZI,null);case Wu.b.INDIVIDUAL_PROJECT:return o.a.createElement(AT,null);case Wu.b.QA_ENHANCED:return o.a.createElement(xA,null);case Wu.b.INTERACTIVE_VIDEO:return o.a.createElement(MP,null);default:return o.a.createElement("span",null,"Activity type not supported")}})),n.state={show404Page:!1,isGroupFormationError:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GA(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props.match.params.activityId;uu.a.getActivityData(+t).catch((function(t){if(t&&t.errors){for(var n=0;n<t.errors.length;n++)if(-1!==t.errors[n].message.indexOf("group_for_activity_with_id_is_not_found")){e.setState({isGroupFormationError:!0});break}}else t.data}))}},{key:"render",value:function(){var e=this.props,t=e.activityType,n=e.activityData,r=e.isLoading,a=this.state,i=a.show404Page,c=a.isGroupFormationError;return r?o.a.createElement(ca.b,{loading:r}):i?o.a.createElement(Ls,null):c?o.a.createElement(WI,null):t?o.a.createElement("span",null,o.a.createElement(_c.a,{classId:n.termClass.dbId}),this.getActivityComponent(t)):null}}])&&UA(n.prototype,r),a&&UA(n,a),t}(a.Component),WA=Object(y.k)(Object(s.b)((function(e){return{activityData:Qs.getActivityData(e),activityType:Qs.getActivityType(e),isLoading:Qs.getIsLoading(e)}}))(BA));n("Jwcr"),n("ybFX");function QA(e){return(QA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HA(e,t){return!t||"object"!==QA(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zA(e){return(zA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KA(e,t){return(KA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var XA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),HA(this,zA(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KA(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return this.props.children?o.a.createElement("div",{className:E()("c-crate-activity__block",this.props.className)},this.props.title?o.a.createElement("h2",{className:"section-header"},this.props.title):null,this.props.children):null}}])&&YA(n.prototype,r),a&&YA(n,a),t}(a.Component);XA.propTypes={className:c.a.string,hasToggle:c.a.bool,onToggle:c.a.func,title:c.a.string};var JA=n("vnhF"),ZA=(n("9WWN"),n("VQIj")),$A=(n("dufB"),function(e){var t=e.className,n=e.children;return o.a.createElement("span",{className:E()("form-label-tag",t)},n)});$A.propTypes={className:c.a.string,children:c.a.node};var eN=$A,tN=function(e){var t=e.i18n,n=e.className;return o.a.createElement(eN,{className:E()("form-label-tag--optional",n)},t._("(optional)"))};tN.propTypes={className:c.a.string};var nN=Object(U.withI18n)()(tN),rN=function(e){var t=e.i18n,n=e.className;return o.a.createElement(eN,{className:E()("form-label-tag--required",n)},t._("(required)"))};rN.propTypes={className:c.a.string};var aN=Object(U.withI18n)()(rN);function oN(e){return(oN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cN(e){return(cN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sN(e,t){return(sN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dN=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=cN(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==oN(a)&&"function"!==typeof a?uN(r):a,lN(uN(uN(n)),"onConfigureRubrics",(function(){var e=n.props,t=e.match,r=e.history,a=e.location,o=EI.a.compile(In.d.EDUCATOR_RUBRICS_LIST)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lN(e,t,n[t])}))}return e}({},t.params));r.push({pathname:o,state:{quickNavItems:[{context:JA.a.CONFIGURATION,location:a}]}})})),lN(uN(uN(n)),"renderAutoAnalysisGradeSource",(function(){var e=n.props,t=e.i18n,r=e.onAutoGradeScoreSourceChange,a=e.autoGradeScoreSource;if(!r||!a)return null;var i=[{label:t._("Overall Score"),value:kO.AUTO_ANALYSIS_OVERALL_SCORE,itemProps:{id:"auto-grade-source-type-option-aa-overall"}},{label:t._("Delivery Score"),value:kO.AUTO_ANALYSIS_DELIVERY_SCORE,itemProps:{id:"auto-grade-source-type-option-aa-delivery"}},{label:t._("Content Score"),value:kO.AUTO_ANALYSIS_CONTENT_SCORE,itemProps:{id:"auto-grade-source-type-option-aa-content"}}];return o.a.createElement("div",{className:"grade-type-auto-analysis-source-selectfield-container"},o.a.createElement(Sa.e,{id:"selectfield-assignment-settings-grade-type-auto-analysis-source",className:"grade-type-selectfield",label:t._("Auto Analysis\\u2122 Score"),onChange:r,value:a.value,enabled:!a.disabled,menuItems:i}))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sN(e,t)}(t,e),n=t,(r=[{key:"getGradeTypeLabel",value:function(){return this.props.i18n._("Evaluation Type")}},{key:"render",value:function(){var e=this.props,t=e.onGradeTypeChange,n=e.gradeType,r=e.activityName,a=e.onActivityNameChange,i=e.submitDueAt,c=e.onSubmitDueAtChange,s=e.gradeRubric,u=e.onGradeRubricChange,l=e.rubrics,d=e.showClientErrors,f=e.i18n,p=e.rubricAlreadyUsedForPeerReview,m=e.resetSubmitDueAt,b=e.canAutoGrade,y=e.canGradeType,v=e.countTowardsFinalGrade,h=e.activityScore,g=e.institution,w=e.onActivityScoreChange,S=e.onCountTowardsFinalGradeChange,C=Object(Sc.a)(g),_=O.a.clone(l);p&&(_=O.a.map(_,(function(e){return e.dbId!==p.dbId&&((e=O.a.merge({},e)).disabled=!0),e})));var I=n.value===ty.a.RUBRIC,T=n.value===ty.a.AUTO_ANALYSIS,R=!1;i&&i.value&&(R=i.value<new Date);var P=[{label:f._("Percentage"),value:ty.a.GRADE,itemProps:{id:"grade-type-option-percentage"}}];if(b){var A=fe.a.isAutoGradingRestricted(),N=f._("Auto Analysis\\u2122");P.push({label:N,value:ty.a.AUTO_ANALYSIS,itemProps:{id:"grade-type-option-auto-analysis"},disabled:A,getProps:function(){return{primaryText:o.a.createElement(Sg.b,{className:"grade-type-option-tooltip",label:A?f._(oE.a.FREEMIUM_CONFIG_OPTION):""},N),className:E()({"grade-type-option":!0,"grade-type-option--disabled":A})}}})}var j=!fe.a.isRubricEnabled(),k=f._("Rubric");return P=O.a.concat(P,[{label:k,value:ty.a.RUBRIC,itemProps:{id:"grade-type-option-rubric"},disabled:j,getProps:function(){return{primaryText:o.a.createElement(Sg.b,{className:"grade-type-option-tooltip",label:j?f._(oE.a.FREEMIUM_CONFIG_OPTION):""},k),className:E()({"grade-type-option":!0,"grade-type-option---disabled":j})}}},{label:f._("Pass/Fail"),value:ty.a.PASS_FAIL,itemProps:{id:"grade-type-option-pass-fail"}},{label:f._("Auto Pass"),value:ty.a.COMPLETION,itemProps:{id:"grade-type-option-auto-pass"}},{label:f._("Five Star"),value:ty.a.FIVESTAR,itemProps:{id:"grade-type-option-rating"}}]),o.a.createElement(XA,{className:"general-section-form",title:f._("General")},o.a.createElement("div",{className:"config-section-contents"},fe.a.isAssignmentNameVisible()?o.a.createElement("div",null,o.a.createElement(Sa.i,{style:Mj,id:"activity-name-textfield",value:r.value,enabled:!r.disabled,errorText:d?r.error:"",label:o.a.createElement(o.a.Fragment,null,f._("Assignment Name"),o.a.createElement(aN,null)),ariaLabel:f._("Assignment Name"),onChange:function(e){return a(e)}})):null,fe.a.isDueDateVisible()?o.a.createElement("div",null,o.a.createElement("div",{className:"due-date-container"},o.a.createElement(Sa.b,{id:"due-date-datepicker",textFieldStyle:Mj,value:i.value,enabled:!i.disabled,onChange:function(e,t){c(t)},label:o.a.createElement(o.a.Fragment,null,f._("Due Date"),o.a.createElement(nN,null)),ariaLabel:f._("Due Date (optional)")}),o.a.createElement(Sa.k,{id:"due-date-timepicker",textFieldStyle:Mj,value:i.value,enabled:!i.disabled,label:o.a.createElement(o.a.Fragment,null,f._("Due Time"),o.a.createElement(nN,null)),ariaLabel:f._("Due Time (optional)"),onChange:function(e,t){c(t)}}),o.a.createElement(we.d,{id:"button-due-date-reset",onClick:m,enabled:!i.disabled,ariaLabel:f._("Reset due date"),className:"md-cell--bottom"},re.a.CLOSE)),!i.disabled&&R&&o.a.createElement(Dc.b,{className:"assignment-datetime-message",type:Dc.a.INFO,message:f._("The selected date and time is in the past."),contentInheritsStatusColor:!0})):null,y&&o.a.createElement("div",{className:"grade-type-container"},o.a.createElement("div",{className:"grade-type-selectfield-container"},o.a.createElement(Sa.e,{id:"selectfield-assignment-settings-grade-type",className:"grade-type-selectfield",label:this.getGradeTypeLabel(),ariaLabel:this.getGradeTypeLabel(),onChange:t,value:n.value,enabled:!n.disabled,menuItems:P})),T&&this.renderAutoAnalysisGradeSource(),I&&o.a.createElement(Sa.g,{className:"grade-type-select-rubric-container",onConfigureRubrics:this.onConfigureRubrics,onRubricChange:u,selectedRubric:s,rubrics:_})),C&&o.a.createElement(Sa.i,{style:Mj,id:"activity-score",value:h.value,enabled:!h.disabled,errorText:d?h.error:"",label:f._("Activity Score"),ariaLabel:f._("Activity Score"),type:"number",min:0,onChange:function(e){var t=0;e>0&&(t=e),w(t)}}),C&&o.a.createElement(ZA.a,{id:"count_towards_final_grade",name:"count_towards_final_grade",label:f._("Count towards final score"),ariaLabel:f._("Count towards final score"),checked:v.value,enabled:!v.disabled,onChange:S})))}}])&&iN(n.prototype,r),a&&iN(n,a),t}(a.Component);dN.propTypes={onGradeTypeChange:c.a.func.isRequired,gradeType:c.a.object,onAutoGradeScoreSourceChange:c.a.func.isRequired,autoGradeScoreSource:c.a.object,canAutoGrade:c.a.bool,canGradeType:c.a.bool,activityName:c.a.object,onActivityNameChange:c.a.func.isRequired,submitDueAt:c.a.object,onSubmitDueAtChange:c.a.func.isRequired,gradeRubric:c.a.object,onGradeRubricChange:c.a.func.isRequired,rubrics:c.a.arrayOf(c.a.shape({dbId:c.a.number.isRequired,name:c.a.string.isRequired}))},dN.defaultProps={canGradeType:!0};var fN=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(){return{}}))(dN))),pN=n("k/UH");n("jNk8");function mN(e){return(mN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yN(e){return(yN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vN(e,t){return(vN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var EN="{{WEIGHT_ELEMENT_PLACEHOLDER}}",wN=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=yN(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==mN(a)&&"function"!==typeof a?hN(r):a,gN(hN(hN(n)),"onPeerReviewAmountChange",(function(e){var t=e;if(t>=1e3)return!1;t<0&&(t=0),(0,n.props.onPeerReviewAmountChange)(t)})),gN(hN(hN(n)),"onGradedPeerReviewChange",(function(e,t){var r=t||n.props,a=r.onGradedPeerReviewChange,o=r.gradedPeerReviewSettings,i=r.peerReviewAmount,c=O.a.merge({},o,e),s=c.weight;c.isValid=s>=DS.e&&s<=DS.d,c.enabled&&!i.disabled&&i.value<1&&(c.isValid=!1),a&&a(c)})),gN(hN(hN(n)),"isGradedPeerReviewWeightValid",(function(){var e=n.props.gradedPeerReviewSettings.weight;return e>=DS.e&&e<=DS.d})),gN(hN(hN(n)),"getGradedPeerReviewOption",(function(){var e=n.props,t=e.i18n,r=e.canGradedPeerReview,a=e.gradedPeerReviewSettings,i=e.hasGradedSubmission;if(r){var c=a.weight,s=a.enabled&&!i&&!a.isEditingRestricted,u=s&&!n.isGradedPeerReviewWeightValid(),l=null;u&&(l=t._("Weight must be between 1% and 99%"));var d=n.getGradeUsingLabel(),f=o.a.createElement(Sa.c,{id:"graded-peer-review-weight",className:"graded-peer-review-weight",ariaLabel:t._("Peer review score weight"),enabled:s,error:u,onChange:function(e){n.onGradedPeerReviewChange({weight:e})},onValidate:function(e){return e<=DS.d},value:c}),p=O.a.split(d,EN,2);p.splice(1,0,f);var m=n.getGradedPeerReviewTooltipLabel();return a.tooltip?m=a.tooltip:!a.enabled&&i&&(m=n.getGradedPeerReviewRestrictedTooltipLabel()),o.a.createElement("div",{className:"graded-peer-review-options-container"},o.a.createElement("div",{className:"graded-peer-review-checkbox-container"},o.a.createElement(Sa.a,{id:"graded-peer-review-checkbox",name:"graded-peer-review-checkbox",className:"graded-peer-review-checkbox",ariaLabel:n.getGradeWeightLabel(c),enabled:!i&&!a.isEditingRestricted,label:o.a.createElement("div",{className:"graded-peer-review-checkbox-label"},p.map((function(e,t){return o.a.createElement("span",{key:t},e)}))),tooltip:{label:m},checked:a.enabled,onChange:function(e){n.onGradedPeerReviewChange({enabled:e})}})),u&&o.a.createElement(Dc.b,{className:"graded-peer-review-weight-error-message",type:Dc.a.ERROR,message:l,contentInheritsStatusColor:!0}))}})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vN(e,t)}(t,e),n=t,(r=[{key:"getGradeUsingLabel",value:function(){return this.props.i18n._("Score peer reviews using {WEIGHT_ELEMENT_PLACEHOLDER} weight",{WEIGHT_ELEMENT_PLACEHOLDER:EN})}},{key:"getGradedPeerReviewTooltipLabel",value:function(){return this.props.i18n._("Enabling this option will make the overall assignment score weighted. The scored peer review portion is automatically calculated but can be manually overridden.")}},{key:"getGradedPeerReviewRestrictedTooltipLabel",value:function(){return this.props.i18n._("Enabling this option is currently restricted because at least one score has been saved for this assignment.")}},{key:"getGradeWeightLabel",value:function(e){return this.props.i18n._("Score peer reviews with {weight}% weight",{weight:e})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.gradeType.value===this.props.gradeType.value&&e.peerReviewAmount.value===this.props.peerReviewAmount.value||this.onGradedPeerReviewChange(e.gradedPeerReviewSettings,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.peerReview,r=t.onPeerReviewChange,a=t.allowViewOthersResultsWithoutOwn,i=t.onAllowViewOthersResultsWithoutOwnChange,c=t.isCommentingAnonymous,s=t.onIsCommentingAnonymousChange,u=t.peerReviewType,l=t.onPeerReviewTypeChange,d=t.peerReviewAmount,f=t.quantitativeReviewType,p=t.onQuantitativeReviewTypeChange,m=t.quantitativeReviewTypes,b=t.showAdvanced,y=t.i18n,v=t.isD2LFreemium,h=t.tooltipLabel,g=t.enablePeerReview,w=t.gradedPeerReviewSettings,O=t.hasGradedSubmission,S=t.canGradedPeerReview,C=t.peerReviewDueAt,_=t.resetPeerReviewDueAt,I=t.onPeerReviewDueAtChange,T=t.isPeerRevieweeAnonymous,R=t.onIsPeerRevieweeAnonymousChange,P=Boolean(S&&O&&n.value),A=!P,N=A&&!c.disabled,j=A&&!T.disabled,k={label:y._("Enabling this option will mask the reviewer's name from the submission owner.")},D={label:y._("Enabling this option will mask the submitter's name from reviewers. This will not mask any identifiable information included in the submission.")};v?(N=!1,k.label=y._(oE.a.FREEMIUM_CONFIG_OPTION),j=!1,D.label=y._(oE.a.FREEMIUM_CONFIG_OPTION)):u.value!==jg.a.SYSTEM&&(j=!1,D.label=y._("This option is only available with the Automatic (System Selected) peer review mode"));var L=!1;return C&&C.value&&(L=C.value<new Date),o.a.createElement("div",{className:E()("peer-review-form",n.value?"c-crate-activity__block":null)},o.a.createElement("div",{id:"toggle-assignment-settings-peer-review",className:"peer-review-header"},o.a.createElement("h2",{className:"section-header"},o.a.createElement(U.Trans,{id:"Peer Review"})),o.a.createElement(pN.a,{id:"peer-review-toggle",className:E()("peer-review-toggle",P?"restricted":null),label:"",enabled:fe.a.isPeerReviewEnabled()&&g&&!n.disabled&&A,tooltip:{label:P?y._("This feature cannot be disabled"):h},ariaLabel:y._("Enable/Disable Peer Review"),name:"peer-review-toggle",onChange:r,checked:fe.a.isPeerReviewEnabled()&&n.value})),fe.a.isPeerReviewEnabled()&&o.a.createElement("div",{className:"config-section-contents peer-review-contents"},P&&o.a.createElement(Dc.b,{className:"graded-peer-review-has-grade-message",type:Dc.a.RESTRICTED,message:y._("Editing of peer review options is currently restricted because at least one score has been saved for this assignment."),contentInheritsStatusColor:!1}),n.value&&o.a.createElement("div",{id:"assignment-settings-peer-review-type"},b&&o.a.createElement(Sa.h,{style:Mj,id:"peer_review_type",enabled:!v&&!u.disabled&&A,name:"peer_review_type",type:"radio",tooltip:{label:v?y._(oE.a.FREEMIUM_CONFIG_OPTION):null},ariaLabel:y._("Peer Review Type"),value:u.value,onChange:l,controls:[{id:"radio-peer-review-type-system",label:y._("Automatic (System Selected)"),value:jg.a.SYSTEM},{id:"radio-peer-review-type-student",label:y._("Manual (Learner Selected)"),value:jg.a.STUDENT}]}),b&&o.a.createElement("div",{className:"peer-review-options-container"},o.a.createElement("div",{id:"checkbox-peer-review-allow-before-submission"},o.a.createElement(Sa.a,{id:"allow_view_other_results_without_own",enabled:!v&&!a.disabled&&A,name:"allow_view_other_results_without_own",label:y._("Allow peer review before submission"),ariaLabel:y._("Allow peer review before submission"),tooltip:{label:v?y._(oE.a.FREEMIUM_CONFIG_OPTION):null},checked:a.value,onChange:i})),o.a.createElement("div",{id:"checkbox-peer-review-allow-conceal-reviewer"},o.a.createElement(Sa.a,{id:"anonymous_commenting",enabled:N,name:"anonymous_commenting",label:y._("Conceal reviewer identity"),ariaLabel:y._("Conceal reviewer identity"),tooltip:k,checked:c.value,onChange:s})),o.a.createElement("div",{id:"checkbox-peer-review-allow-conceal-submitter"},o.a.createElement(Sa.a,{id:"anonymous_submitter",enabled:j,name:"anonymous_submitter",label:y._("Conceal submitter identity"),ariaLabel:y._("Conceal submitter identity"),tooltip:D,checked:T.value,onChange:R})),this.getGradedPeerReviewOption()),o.a.createElement("div",{className:"peer-review-other-options"},o.a.createElement(Sa.i,{style:Mj,id:"peer_review_amount",className:"peer-review-required-amount",name:"peer_review_amount",label:y._("Number of Required Reviews"),value:""+d.value,enabled:!d.disabled&&A,onChange:function(t){return e.onPeerReviewAmountChange(t)},min:0,type:"number",errorText:w&&w.enabled&&d.value<1?y._("Must be greater than 0 when using grading peer reviews"):null,ariaLabel:y._("Number of Required Reviews")}),b&&o.a.createElement(Sa.e,{style:Mj,id:"selectfield-assignment-settings-peer-review-evaluation-type",enabled:!v&&!f.disabled&&A,className:"peer-review-quantitative-type",label:y._("Review Type"),ariaLabel:y._("Review Type"),tooltip:{label:v?y._(oE.a.FREEMIUM_CONFIG_OPTION):null},value:f.value,onChange:p,menuItems:m})),b&&fe.a.isPeerReviewDueDateEnabled()&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"due-date-container"},o.a.createElement(Sa.b,{id:"due-date-datepicker",textFieldStyle:Mj,value:C.value,enabled:!C.disabled&&A,onChange:function(e,t){I(t)},label:o.a.createElement(o.a.Fragment,null,y._("Due Date"),o.a.createElement(nN,null)),ariaLabel:y._("Due Date (optional)")}),o.a.createElement(Sa.k,{id:"due-date-timepicker",textFieldStyle:Mj,value:C.value,enabled:!C.disabled&&A,label:o.a.createElement(o.a.Fragment,null,y._("Due Time"),o.a.createElement(nN,null)),ariaLabel:y._("Due Time (optional)"),onChange:function(e,t){I(t)}}),o.a.createElement(we.d,{id:"button-peer-review-due-date-reset",onClick:_,ariaLabel:y._("Reset due date"),className:"due-date-reset-btn md-cell--bottom",enabled:!C.disabled&&A},re.a.CLOSE)),!C.disabled&&L&&o.a.createElement(Dc.b,{className:"peer-review-datetime-message",type:Dc.a.INFO,message:y._("The selected date and time is in the past."),contentInheritsStatusColor:!0})))))}}])&&bN(n.prototype,r),a&&bN(n,a),t}(a.Component);wN.propTypes={showAdvanced:c.a.bool,enablePeerReview:c.a.bool.isRequired,tooltipLabel:c.a.string,peerReview:c.a.object.isRequired,onPeerReviewChange:c.a.func.isRequired,gradeType:c.a.object.isRequired,allowViewOthersResultsWithoutOwn:c.a.object.isRequired,onAllowViewOthersResultsWithoutOwnChange:c.a.func.isRequired,isCommentingAnonymous:c.a.object.isRequired,onIsCommentingAnonymousChange:c.a.func.isRequired,isPeerRevieweeAnonymous:c.a.object.isRequired,onIsPeerRevieweeAnonymousChange:c.a.func.isRequired,peerReviewType:c.a.object.isRequired,onPeerReviewTypeChange:c.a.func.isRequired,peerReviewAmount:c.a.object.isRequired,onPeerReviewAmountChange:c.a.func.isRequired,quantitativeReviewType:c.a.object.isRequired,onQuantitativeReviewTypeChange:c.a.func.isRequired,canGradedPeerReview:c.a.bool,gradedPeerReviewSettings:c.a.object,onGradedPeerReviewChange:c.a.func,hasGradedSubmission:c.a.bool,peerReviewDueAt:c.a.object,onPeerReviewDueAtChange:c.a.func,resetPeerReviewDueAt:c.a.func,i18n:c.a.object,quantitativeReviewTypes:c.a.array,isD2LFreemium:c.a.bool},wN.defaultProps={canGradedPeerReview:!1,enablePeerReview:!0,hasGradedSubmission:!1,showAdvanced:!1};var ON=Object(U.withI18n)()(Object(s.b)((function(e){return{isD2LFreemium:Ye.u(e)}}))(wN));n("idEK");function SN(e){return(SN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _N(e,t){return!t||"object"!==SN(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function IN(e){return(IN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TN(e,t){return(TN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var RN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_N(this,IN(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TN(e,t)}(t,e),n=t,(r=[{key:"getDisabledLabel",value:function(){var e=this.props.i18n;return fe.a.isRubricEnabled()?e._("Rubric Self Assessment can only be enabled for assignments with an Evaluation Type of Rubric"):e._(oE.a.FREEMIUM_CONFIG_OPTION)}},{key:"render",value:function(){var e=this.props,t=e.selfAssessment,n=e.onSelfAssessmentChange,r=e.i18n,a=t.disabled,i=a?this.getDisabledLabel():"";return o.a.createElement("div",{className:"self-assessment-form"},o.a.createElement("div",{id:"toggle-assignment-settings-self-assessment",className:"self-assessment-header"},o.a.createElement("h2",{className:"section-header"},r._("Rubric Self Assessment")),o.a.createElement(pN.a,{ariaLabel:r._("Enable/Disable Rubric Self Assessment"),id:"self-assessment-toggle",checked:t.value,className:"self-assessment-toggle",enabled:!a,label:"",name:"self-assessment-toggle",onChange:n,tooltip:{label:i}})))}}])&&CN(n.prototype,r),a&&CN(n,a),t}(a.Component);RN.propTypes={selfAssessment:c.a.object.isRequired,onSelfAssessmentChange:c.a.func.isRequired,i18n:c.a.object.isRequired};var PN,AN=Object(U.withI18n)()(RN);n("KeFY");function NN(e){return(NN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jN(){return(jN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){FN(e,t,n[t])}))}return e}function DN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LN(e){return(LN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MN(e,t){return(MN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UN=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=LN(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==NN(a)&&"function"!==typeof a?xN(r):a,FN(xN(xN(n)),"onTextChange",(function(e){var t=kN({},n.props.question,FN({isDirty:!0},Sh.a.QUESTION.TEXT,O.a.trimStart(e)));n.props.onChange(t)})),FN(xN(xN(n)),"onDelete",(function(){n.props.onDelete(n.props.question)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MN(e,t)}(t,e),n=t,(r=[{key:"getQuestionNumber",value:function(){var e=this.props,t=e.i18n,n=e.question[Sh.a.QUESTION.SORT]+1;if(n)return t._("{questionNumber}.",{questionNumber:n})}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.question,r=e.isEditingLocked,a=e.isEditingRestricted,i=e.dragHandleProps,c=e.errorMessage,s=String(n[Sh.a.QUESTION.TEXT]),u=r||a;return o.a.createElement("div",{className:"reflection-questions-config-item"},o.a.createElement("div",{className:"reflection-questions-config-item-index"},this.getQuestionNumber()),o.a.createElement(Sa.i,{id:"reflection-questions-config-item-text",className:"reflection-questions-config-item-text",ariaLabel:t._("Edit Reflection Question Text"),enabled:!r,maxLength:Sh.e,maxRows:3,onChange:this.onTextChange,placeholder:n.isNew?t._("New question..."):"",rows:1,required:!0,errorText:c,value:s}),o.a.createElement("div",{className:"reflection-questions-config-item-icons"},o.a.createElement(we.d,{id:"button-reflection-question-delete",ariaLabel:t._("Delete Reflection Question"),enabled:!u,onClick:this.onDelete,tooltip:u?{label:t._("Questions cannot be deleted at this time")}:null},re.a.DELETE),o.a.createElement("div",jN({className:"reflection-questions-config-item-icons-reorder"},i),o.a.createElement(Oe.a,{ariaLabel:t._("Reorder Question"),className:Tf.a.DOT_8,enabled:!u,tooltip:{label:u?t._("Questions cannot be reorderd at this time"):t._("Drag to reorder")}}))))}}])&&DN(n.prototype,r),a&&DN(n,a),t}(a.Component);UN.propTypes={dragHandleProps:c.a.object,errorMessage:c.a.string,isEditingRestricted:c.a.bool,onChange:c.a.func.isRequired,onDelete:c.a.func.isRequired,question:c.a.shape((PN={isDirty:c.a.bool,isNew:c.a.bool},FN(PN,Sh.a.QUESTION.TEXT,c.a.string.isRequired),FN(PN,Sh.a.QUESTION.SORT,c.a.number.isRequired),PN)).isRequired},UN.defaultProps={dragHandleProps:{},errorMessage:null,isEditingLocked:!1,isEditingRestricted:!1,question:kN({},Sh.g)};var VN=Object(U.withI18n)()(UN);n("mWtQ");function GN(e){return(GN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qN(){return(qN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function BN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function WN(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function QN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){XN(e,t,n[t])}))}return e}function YN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HN(e){return(HN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zN(e,t){return(zN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var JN="reflection-questions-settings",ZN=JN+"-list-item",$N="REFLECTION_QUESTION",ej=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=HN(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==GN(a)&&"function"!==typeof a?KN(r):a,XN(KN(KN(n)),"onToggleChange",(function(){var e=n.props.settings.enabled;n.onChange(QN({},n.props.settings,{enabled:!e,isDirty:!0}))})),XN(KN(KN(n)),"onQuestionChange",(function(e){for(var t=n.props.settings.questions,r=[],a=!1,o=0;t&&o<t.length;o++){var i=t[o];i.dbId===e.dbId?(r.push(e),a=!0):r.push(i)}!a&&Boolean(e.isNew)&&r.push(e),n.onChange(QN({},n.props.settings,{questions:r,isDirty:!0}))})),XN(KN(KN(n)),"onQuestionDelete",(function(e){var t=n.props.settings.questions,r=t?WN(t):[],a=O.a.findIndex(r,["dbId",e.dbId]);r.splice(a,1),n.onChange(QN({},n.props.settings,{questions:r,isDirty:!0}))})),XN(KN(KN(n)),"onDragEnd",(function(e){if(e.destination){var t=n.props.settings.questions,r=n.reorder(t,e.source.index,e.destination.index);n.onChange(QN({},n.props.settings,{questions:r,isDirty:!0}))}})),XN(KN(KN(n)),"reorder",(function(e,t,n){var r=WN(e),a=BN(r.splice(t,1),1)[0];return r.splice(n,0,a),r})),XN(KN(KN(n)),"onChange",(function(e){var t=n.process(e);n.props.onChange(QN({},e,t))})),XN(KN(KN(n)),"process",(function(e){var t=n.props.i18n,r=e.questions,a=e.enabled,o=r.length,i={},c=Sh.f,s=Sh.e;o>=c||(i[JN+"-no-questions"]=t._("Please create at least {minQuestionCount} reflection question.",{minQuestionCount:c}));for(var u=0;u<r.length;u++){var l=r[u][Sh.a.QUESTION.TEXT];l.length>s&&(i[JN+"-question-text-length["+u+"]"]=t._("Exceeds {maxQuestionLength} characters.",{maxQuestionLength:s})),l.length>0||(i[JN+"-question-text-length["+u+"]"]=t._("Field is required."))}return{errors:i,isValid:!a||!(Object.keys(i).length>0)}})),XN(KN(KN(n)),"getErrorsList",(function(){var e=n.props.settings,t=e.errors,r=e.isValid,a=[],i=t[JN+"-no-questions"];return i&&a.push(o.a.createElement("h5",{key:JN+"-error[0]"},i)),r||!(a&&a.length>0)?null:o.a.createElement("div",{className:JN+"-validation-container"},o.a.createElement(Oe.a,{className:JN+"-validation-icon"},re.a.ERROR),o.a.createElement("div",{className:JN+"-validation-errors"},a))})),XN(KN(KN(n)),"getQuestion",(function(e,t,r){var a=n.props.settings,i=a.errors,c=a.isEditingLocked,s=a.isEditingRestricted,u=t,l=i[JN+"-question-text-length["+t+"]"];return o.a.createElement(VN,{key:ZN+"["+u+"]",isEditingLocked:c,isEditingRestricted:s,question:QN({},e,{orderNumber:u}),onChange:n.onQuestionChange,onDelete:n.onQuestionDelete,dragHandleProps:r,errorMessage:l})})),XN(KN(KN(n)),"onNewQuestionClick",(function(){var e,t=n.props.settings.questions,r=t?t.length:0,a=QN({},Sh.g,(XN(e={},Sh.a.QUESTION.SORT,r),XN(e,"dbId",Sh.h()),e));n.onQuestionChange(a)})),XN(KN(KN(n)),"getActions",(function(){var e=n.props,t=e.i18n,r=e.settings,a=r.questions,i=r.isEditingLocked,c=r.isEditingRestricted,s=(a?a.length:0)<Sh.d&&!i&&!c;return o.a.createElement("div",{className:JN+"-actions"},o.a.createElement(we.h,{id:"button-assignment-settings-reflection-questions-create",primary:!0,onClick:n.onNewQuestionClick,enabled:s,tooltip:{label:s?"":t._("Questions cannot be created at this time")}},t._("Add New Question")))})),XN(KN(KN(n)),"getQuestions",(function(){var e=n.props,t=e.i18n,r=e.settings,a=r.questions,i=r.isEditingLocked,c=r.isEditingRestricted,s=a.map((function(e,t){return o.a.createElement(jw.b,{key:e.dbId,draggableId:e.dbId,index:t,type:$N,isDragDisabled:i||c},(function(r,a){return o.a.createElement("div",qN({ref:r.innerRef,className:a.isDragging?ZN+"-drag-container--active":""},r.draggableProps),n.getQuestion(e,t,r.dragHandleProps))}))}));return o.a.createElement("div",{className:JN},n.getWarningMessage(),o.a.createElement("p",{className:JN+"-message"},t._("Provide a list of questions below. The learner will be prompted to answer these questions prior to proceeding to work on the assignment.")),o.a.createElement("div",{className:JN+"-list"},o.a.createElement(jw.a,{onDragEnd:n.onDragEnd},o.a.createElement(jw.c,{droppableId:"droppable-reflection-questions",type:$N},(function(e,t){return o.a.createElement("div",qN({ref:e.innerRef,className:t.isDraggingOver?JN+"-list-drag-container--active":""},e.droppableProps),s)}))),n.getErrorsList(),n.getActions()))})),XN(KN(KN(n)),"getWarningMessage",(function(){var e=n.props,t=e.i18n,r=e.settings,a=r.isEditingLocked,i=r.isEditingRestricted;if(!a&&!i)return null;var c="";return a?c=t._("Changes to the Reflection Questions section is not allowed."):i&&(c=t._("Changes to the Reflection Questions section is currently limited because at least one learner has already answered these questions.")),o.a.createElement("div",{className:JN+"-message--warning"},o.a.createElement(Dc.b,{type:Dc.a.WARNING,message:c}))})),XN(KN(KN(n)),"getHeader",(function(e,t){var r=n.props,a=r.i18n,i=r.settings,c=i.isEditingLocked,s=i.isEditingRestricted,u=Sh.d;return o.a.createElement("div",{id:"toggle-assignment-settings-reflection-questions",className:JN+"-header"},o.a.createElement("div",{className:JN+"-header-left"},o.a.createElement("h2",{className:JN+"-header-text--primary section-header"},a._("Reflection Questions")),e&&t>0&&o.a.createElement("h4",{className:JN+"-header-text--secondary"},a._("({questionCount} of {max} max)",{questionCount:t,max:u}))),o.a.createElement(pN.a,{id:"reflection-questions-toggle",className:JN+"-toggle",label:"",ariaLabel:a._("Enable/Disable Reflection Questions"),name:"reflection-questions-toggle",onChange:n.onToggleChange,enabled:!c&&!s,checked:e}))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zN(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.settings,t=e.enabled,n=e.questions;return o.a.createElement("div",{className:JN+"-container"},this.getHeader(t,n.length||0),t&&this.getQuestions())}}])&&YN(n.prototype,r),a&&YN(n,a),t}(a.Component);ej.propTypes={onChange:c.a.func.isRequired,settings:c.a.shape({enabled:c.a.bool,isEditingLocked:c.a.bool,isEditingRestricted:c.a.bool,questions:c.a.array})},ej.defaultProps={settings:{enabled:!1,isEditingLocked:!1,isEditingRestricted:!1,questions:[]}};var tj=Object(U.withI18n)()(ej),nj=tj,rj=n("1w3K"),aj=(n("LcIb"),function(e){var t=e.children;if(!t)return null;var n=O.a.flatten([t]);return o.a.createElement(rj.TransitionGroup,null,n.map((function(e,t){return o.a.createElement(rj.CSSTransition,{key:t,in:!0,appear:!0,classNames:"leftToRight",timeout:{enter:150,exit:150}},e)})))});aj.displayName="LeftToRightAnimation";var oj=aj;n("+hrH");function ij(e){return(ij="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sj(e,t){return!t||"object"!==ij(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uj(e){return(uj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lj(e,t){return(lj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dj=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sj(this,uj(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lj(e,t)}(t,e),n=t,(r=[{key:"getGradeSyncLabel",value:function(){return this.props.i18n._("Score Sync")}},{key:"getEnableGradeSyncLabel",value:function(){return this.props.i18n._("Enable/Disable Score Sync")}},{key:"render",value:function(){var e=this.props,t=e.deepLink,n=e.onDeepLinkChange,r=e.ltiGradeIdentifier,a=e.gradeSync,i=e.onGradeSyncChange,c=e.onLtiGradeIdentifierChange,s=e.showAdvanced,u=e.i18n;return o.a.createElement("div",null,s&&fe.a.isLMSSyncOptionVisible()&&o.a.createElement("div",{className:"lms-sync-form"},o.a.createElement("div",{id:"toggle-assignment-settings-lms-sync",className:"lms-sync-header"},o.a.createElement("h2",{className:"section-header"},o.a.createElement(U.Trans,{id:"Deep Linking"})),o.a.createElement(pN.a,{id:"lms-sync-toggle",className:"lms-sync-toggle",label:"",ariaLabel:u._("Enable/Disable Deep Linking"),name:"lms-sync-toggle",onChange:n,enabled:!t.disabled,checked:t.value})),o.a.createElement(oj,null,t.value&&o.a.createElement("div",{className:"config-section-contents"},o.a.createElement(Sa.i,{id:"lti-grade-identifier",value:r.value,enabled:!r.disabled,onChange:function(e){return c(e)},label:u._("Deep Linking Identifier"),ariaLabel:u._("Deep Linking Identifier")}),o.a.createElement(ZA.a,{id:"grade_sync",name:"grade_sync",label:this.getGradeSyncLabel(),ariaLabel:this.getEnableGradeSyncLabel(),checked:a.value,enabled:!a.disabled,onChange:i})))))}}])&&cj(n.prototype,r),a&&cj(n,a),t}(a.Component);dj.propTypes={deepLink:c.a.object.isRequired,onDeepLinkChange:c.a.func.isRequired,ltiGradeIdentifier:c.a.object.isRequired,gradeSync:c.a.object.isRequired,onGradeSyncChange:c.a.func.isRequired,onLtiGradeIdentifierChange:c.a.func.isRequired};var fj=Object(U.withI18n)()(dj),pj=n("x6TD"),mj=(n("TkQy"),n("Onr9")),bj=n("3UYF");n("mGax");function yj(e){return(yj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hj(e,t){return!t||"object"!==yj(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gj(e){return(gj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ej(e,t){return(Ej=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wj=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hj(this,gj(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ej(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.link,r=e.ssoToken,a=new URL(n);r&&a.searchParams.append("token",r),a=a.toString();var i=o.a.createElement(we.d,{id:"instructions-preview-open-in-tab-button",key:"instructions-preview-open-in-tab-button",className:"instructions-preview-open-in-tab-button",onClick:function(){return window.open(a)},tooltip:{label:t._("Open instructions in new window")}},re.a.OPEN_IN_NEW);return o.a.createElement(mb.a,{id:"c-preview-instruction-link-dialog",dialogClassName:"c-preview-instruction-link-dialog",title:o.a.createElement(o.a.Fragment,null,t._("Instructions Link Preview"),"\xa0",i),visible:!0,actions:[o.a.createElement(we.b,{id:"button-instructions-link-dialog-close",secondary:!0,ariaLabel:t._("Close"),onClick:dt.a.closeModal},t._("Close"))]},o.a.createElement(bj.a,{link:a}))}}])&&vj(n.prototype,r),a&&vj(n,a),t}(a.Component),Oj=Object(s.b)((function(e){return{ssoToken:Qe.f(e)}}))(Object(U.withI18n)()(wj));function Sj(e){return(Sj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _j(e,t){return!t||"object"!==Sj(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ij(e){return(Ij=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tj(e,t){return(Tj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rj=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_j(this,Ij(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tj(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.instructions,n=e.onInstructionsChange,r=e.showClientErrors,a=e.overviewVideo,i=e.onAddOverviewMedia,c=e.onSetOverviewVideo,s=e.onAddCommentaryMedia,u=e.onSetCommentaryMedia,l=e.showAdvanced,d=e.i18n,f=this.props,p=f.commentaryText,m=f.onCommentaryTextChange,b=f.commentaryMedia;return o.a.createElement(XA,{className:"instructions-section-form",title:d._("Instructions")},o.a.createElement("div",{className:"config-section-contents"},o.a.createElement("div",{className:"instructions-container"},o.a.createElement(F.a,{query:"(max-width: 599px)"},(function(e){return o.a.createElement(pj.a,{id:"assignment-settings-instructions-video-container",showControls:e,media:a,isLocked:t.disabled,onAddMedia:i,onSetMedia:c})})),o.a.createElement("div",{className:"u-display-flex u-full-width"},o.a.createElement(Sa.i,{id:"instructions-textfield",value:t.value,errorText:r?t.error:"",enabled:!t.disabled,label:o.a.createElement(o.a.Fragment,null,d._("Instructions"),o.a.createElement(aN,null)),fullWidth:!0,maxRows:4,rows:1,ariaLabel:d._("Instructions"),onChange:function(e){return n(e)}}),fe.a.isViewInstructionsLinkAllowed()&&t.link&&o.a.createElement(mj.a,{id:"button-instructions-preview-link",title:d._("Preview link"),className:"preview-url-button",onClick:function(){dt.a.showModal(o.a.createElement(Oj,{link:t.link}))},ariaLabel:d._("Preview link, icon")},re.a.PREVIEW))),l&&o.a.createElement("div",{className:"instructions-container"},o.a.createElement(F.a,{query:"(max-width: 599px)"},(function(e){return o.a.createElement(pj.a,{id:"assignment-settings-post-instructions-video-container",showControls:e,media:b,isLocked:p.disabled,onAddMedia:s,onSetMedia:u})})),o.a.createElement(Sa.i,{id:"post-submission-instructions-textfield",value:p.value,enabled:!p.disabled,label:d._("Post-Submission Instructions"),maxRows:4,rows:1,ariaLabel:d._("Post-Submission Instructions"),onChange:function(e){return m(e)}}))))}}])&&Cj(n.prototype,r),a&&Cj(n,a),t}(a.Component);Rj.propTypes={instructions:c.a.object,onInstructionsChange:c.a.func.isRequired,commentaryText:c.a.object.isRequired,onCommentaryTextChange:c.a.func.isRequired,commentaryMedia:c.a.any};var Pj=Object(U.withI18n)()(Rj),Aj=(n("CmP4"),function(){return o.a.createElement("div",{className:"premium-upgrade-message"},o.a.createElement(zc.a,null,re.a.INFO_OUTLINE),o.a.createElement("span",null,"Upgrade to Premium to get access to Rubric Grading, Peer Review, Document Submission, Virtual Meetings and more! Please contact ",o.a.createElement("a",{href:"mailto:support@tophat.com"},"support@tophat.com"),"\xa0 for more information. To learn more about how to use Video Assignments, visit our Support Page ",o.a.createElement("a",{target:"_blank",href:"https://success.tophat.com/s/article/Professor-Creating-a-Video-Assignment"},"https://success.tophat.com/s/article/Professor-Creating-a-Video-Assignment")))});function Nj(e){return(Nj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kj(e){return(kj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dj(e,t){return(Dj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Mj={width:"100%"},xj=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=kj(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==Nj(a)&&"function"!==typeof a?Lj(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Lj(Lj(n)),"onBeforeUnload",(function(e){var t=n.props,r=t.i18n,a=t.isFormDirty,o=t.isSaving;if(!a||o)return null;var i=r._("Are you sure you want to leave this page? Changes you made may not be saved.");return e.returnValue=i,i})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dj(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.onBeforeUnload)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.onBeforeUnload)}},{key:"render",value:function(){var e=this.props,t=e.gradeType,n=e.onGradeTypeChange,r=e.onDeepLinkChange,a=e.deepLink,i=e.peerReview,c=e.onPeerReviewChange,s=e.activityName,u=e.onActivityNameChange,l=e.instructions,d=e.onInstructionsChange,f=e.overviewVideo,p=e.submitDueAt,m=e.onSubmitDueAtChange,b=e.gradeRubric,y=e.onGradeRubricChange,v=e.commentaryText,h=e.onCommentaryTextChange,g=e.commentaryMedia,E=e.allowViewOthersResultsWithoutOwn,w=e.onAllowViewOthersResultsWithoutOwnChange,S=e.isCommentingAnonymous,C=e.onIsCommentingAnonymousChange,_=e.peerReviewType,I=e.onPeerReviewTypeChange,T=e.peerReviewAmount,R=e.onPeerReviewAmountChange,P=e.quantitativeReviewType,A=e.onQuantitativeReviewTypeChange,N=e.selfAssessment,j=e.onSelfAssessmentChange,k=e.ltiGradeIdentifier,D=e.gradeSync,L=e.onGradeSyncChange,M=e.onLtiGradeIdentifierChange,x=e.quantitativeReviewTypes,F=e.rubrics,V=e.showAdvanced,G=e.onSubmit,q=e.showClientErrors,B=e.onAddOverviewMedia,W=e.onSetOverviewVideo,Q=e.onSetCommentaryMedia,Y=e.onAddCommentaryMedia,H=e.serverErrors,z=e.i18n,K=e.rubricAlreadyUsedForPeerReview,X=e.enablePeerReview,J=e.peerReviewTooltipLabel,Z=e.resetSubmitDueAt,$=e.canSave,ee=e.saveButtonTooltipLabel,te=e.canAutoGrade,ne=e.canGradeType,re=e.canSelfAssessment,ae=e.canReflectionQuestions,oe=e.reflectionQuestionsSettings,ie=e.onReflectionQuestionsChange,ce=e.canGradedPeerReview,se=e.gradedPeerReviewSettings,ue=e.onGradedPeerReviewChange,le=e.countTowardsFinalGrade,de=e.activityScore,pe=e.hasGradedSubmission,me=e.institution,be=e.onActivityScoreChange,ye=e.onCountTowardsFinalGradeChange,ve=e.disableEditing,he=e.peerReviewDueAt,ge=e.onPeerReviewDueAtChange,Ee=e.resetPeerReviewDueAt,Oe=e.isPeerRevieweeAnonymous,Se=e.onIsPeerRevieweeAnonymousChange,Ce=e.isSaving,_e={instructions:l,onInstructionsChange:d,showAdvanced:V,showClientErrors:q,overviewVideo:f,onAddOverviewMedia:B,onSetOverviewVideo:W,serverErrors:H,commentaryText:v,commentaryMedia:g,onCommentaryTextChange:h,onSetCommentaryMedia:Q,onAddCommentaryMedia:Y},Ie={activityName:s,instructions:l,gradeType:t,overviewVideo:f,submitDueAt:p,gradeRubric:b,onGradeTypeChange:n,onGradeRubricChange:y,onSubmitDueAtChange:m,onInstructionsChange:d,onActivityNameChange:u,rubrics:F,showAdvanced:V,showClientErrors:q,serverErrors:H,rubricAlreadyUsedForPeerReview:K,resetSubmitDueAt:Z,canAutoGrade:te,canGradeType:ne,countTowardsFinalGrade:le,activityScore:de,institution:me,onActivityScoreChange:be,onCountTowardsFinalGradeChange:ye,autoGradeScoreSource:e.autoGradeScoreSource,onAutoGradeScoreSourceChange:e.onAutoGradeScoreSourceChange},Te={peerReview:i,gradeType:t,isCommentingAnonymous:S,allowViewOthersResultsWithoutOwn:E,peerReviewType:_,peerReviewAmount:T,quantitativeReviewType:P,onQuantitativeReviewTypeChange:A,onPeerReviewAmountChange:R,onPeerReviewTypeChange:I,onAllowViewOthersResultsWithoutOwnChange:w,onIsCommentingAnonymousChange:C,onPeerReviewChange:c,quantitativeReviewTypes:x,showAdvanced:V,showClientErrors:q,serverErrors:H,enablePeerReview:X,tooltipLabel:J,canGradedPeerReview:ce,gradedPeerReviewSettings:se,onGradedPeerReviewChange:ue,hasGradedSubmission:pe,peerReviewDueAt:he,onPeerReviewDueAtChange:ge,resetPeerReviewDueAt:Ee,isPeerRevieweeAnonymous:Oe,onIsPeerRevieweeAnonymousChange:Se},Re={ltiGradeIdentifier:k,gradeSync:D,onGradeSyncChange:L,onLtiGradeIdentifierChange:M,deepLink:a,onDeepLinkChange:r,showAdvanced:V,showClientErrors:q,serverErrors:H},Pe={onChange:ie,settings:oe},Ae=H&&O.a.values(H),Ne=O.a.isFunction(this.props.children)?this.props.children(this.props):this.props.children;return o.a.createElement("div",{className:"c-crate-activity"},fe.a.isPremiumUpgradeMessageVisible()&&o.a.createElement(Aj,null),o.a.createElement(fN,Ie),o.a.createElement(Pj,_e),o.a.createElement(XA,null,Ne),o.a.createElement("div",{className:"settings-form-advanced-container"},V&&ae&&o.a.createElement(tj,Pe),o.a.createElement(ON,Te),V&&re&&o.a.createElement(AN,{selfAssessment:N,onSelfAssessmentChange:j}),V&&fe.a.isDeepLinkingEnabled()&&o.a.createElement(fj,Re),V&&this.props.advancedComponents),Ae&&Ae.length>0&&o.a.createElement("ul",{className:"u-pb-20px"},Ae.map((function(e){return o.a.createElement("li",{key:e,className:"u-error"},o.a.createElement("p",null,e))}))),Ae&&0===Ae.length&&o.a.createElement("p",{className:"u-error"},o.a.createElement(U.Trans,{id:"Something went wrong. Please try again"})),o.a.createElement("div",{className:"settings-form-actions"},o.a.createElement(we.h,{id:"button-assignment-settings-save",primary:!0,ariaLabel:Ce?z._("Saving..."):z._("Save"),enabled:$&&!ve&&!Ce,tooltip:{label:ee},onClick:G,className:"settings-form-save-button"},Ce?z._("Saving..."):z._("Save")),o.a.createElement(we.b,{id:"button-assignment-settings-advanced",secondary:!0,ariaLabel:this.props.showAdvanced?z._("Hide Advanced"):z._("Show Advanced"),className:"settings-form-advanced-button",onClick:this.props.onShowAdvanced},this.props.showAdvanced?z._("Hide Advanced"):z._("Show Advanced"))))}}])&&jj(n.prototype,r),a&&jj(n,a),t}(a.Component),Fj=Object(U.withI18n)()(xj),Uj={NONE:"TYPE__NONE",FIVE_STAR:"TYPE__FIVE_STAR",RUBRIC:"TYPE__RUBRIC"};n("gAqt"),n("gEnJ");function Vj(e){return(Vj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qj(e,t){return!t||"object"!==Vj(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bj(e){return(Bj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wj(e,t){return(Wj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qj=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qj(this,Bj(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wj(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.onComplete,n=e.activityId,r=e.recorderType;return o.a.createElement(Qb,{mediaType:pr.a.LIBRARY,activityId:n,id:"Library record media",recorderType:r,onComplete:function(e,n){dt.a.closeModal(),200===n&&t([e.masterMediaId])}})}}])&&Gj(n.prototype,r),a&&Gj(n,a),t}(a.Component);Qj.propTypes={onComplete:c.a.func,activityId:c.a.number,recorderType:c.a.oneOf(Object.values(Lb.a)).isRequired,desktopMode:c.a.bool};var Yj=Object(ot.a)(kS,(function(e){return e.library})),Hj=Object(ot.a)(Yj,(function(e){return e.isLoading})),zj=Object(ot.a)(Yj,(function(e){return e.list})),Kj=Object(ot.a)(Yj,(function(e){return e.isItemProcessing})),Xj=n("sZpB");function Jj(){var e=nk(["\n    mutation  combineLibraryMedia($input: CombineLibraryMediaInput!) {\n        combineLibraryMedia(input: $input) {\n            media {\n                ...LibraryMedia\n            }\n        }\n    }\n    ","\n"]);return Jj=function(){return e},e}function Zj(){var e=nk(["\n    mutation editlibraryMediaTitle($input: EditLibraryMediaTitleInput!) {\n        editLibraryMediaTitle(input: $input) {\n            media {\n                title\n            }\n        }\n    }\n"]);return Zj=function(){return e},e}function $j(){var e=nk(["\n    mutation deleteLibraryMedia($input:  DeleteLibraryMediaInput!) {\n        deleteLibraryMedia(input: $input) {\n            removedId\n        }\n    }\n"]);return $j=function(){return e},e}function ek(){var e=nk(["\n    query getLibraryMedia($dbId: Int!){\n        viewer {\n            libraryMedia(dbId: $dbId) {\n                ...LibraryMedia\n            }\n        }\n    }\n    ","\n"]);return ek=function(){return e},e}function tk(){var e=nk(["\n    query getEducatorsLibrary {\n        viewer {\n            libraryMedias {\n                ...LibraryMedia\n            }\n        }\n    }\n    ","\n"]);return tk=function(){return e},e}function nk(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function rk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ak(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ok=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"combineItems",value:function(e){return new Promise((function(t,n){xe.a.mutate({mutation:lk,variables:{input:{mediaDbIds:e}}}).then((function(e){if(e&&e.data){var r=e.data.combineLibraryMedia.media;m.a.dispatch(Xj.h(r)),t(r)}else n(e)})).catch((function(e){n(e)}))}))}}],(n=null)&&rk(t.prototype,n),r&&rk(t,r),e}();ak(ok,"getLibraryData",(function(){return new Promise((function(e,t){return m.a.dispatch(Xj.n(!0)),xe.a.query({query:ik,fetchPolicy:"network-only"}).then((function(t){var n=t.data.viewer.libraryMedias;m.a.dispatch(Xj.m(n)),m.a.dispatch(Xj.n(!1)),e(n)})).catch((function(e){t(e),m.a.dispatch(Xj.n(!1))}))}))})),ak(ok,"deleteItem",(function(e){return new Promise((function(t,n){m.a.dispatch(Xj.l(!0)),xe.a.mutate({mutation:sk,variables:{input:{dbId:e}}}).then((function(e){if(e&&e.data){var r=e.data.deleteLibraryMedia.removedId;m.a.dispatch(Xj.i(r)),m.a.dispatch(Xj.l(!1)),t(r)}else n(e)})).catch((function(e){n(e)}))}))})),ak(ok,"editItemTitle",(function(e,t){return new Promise((function(n,r){m.a.dispatch(Xj.l(!0)),xe.a.mutate({mutation:uk,variables:{input:{dbId:e,title:t}}}).then((function(t){if(t&&t.errors&&t.errors.length)r(t.errors);else if(t&&t.data&&t.data.editLibraryMediaTitle){var a=t.data.editLibraryMediaTitle.media.title;m.a.dispatch(Xj.j(e,a)),n({id:e,title:a})}else r(t);m.a.dispatch(Xj.l(!1))})).catch((function(e){r(e),m.a.dispatch(Xj.l(!1))}))}))})),ak(ok,"getItem",(function(e){return new Promise((function(t,n){return xe.a.query({query:ck,variables:{dbId:e}}).then((function(e){e&&e.data?t(e.data.viewer.libraryMedia):n(e)})).catch((function(e){n(e)}))}))})),ak(ok,"addItemToList",(function(e){m.a.dispatch(Xj.h(e))})),ak(ok,"replaceItem",(function(e){m.a.dispatch(Xj.k(e))}));var ik=Ue()(tk(),fn.a),ck=Ue()(ek(),fn.a),sk=Ue()($j()),uk=Ue()(Zj()),lk=Ue()(Jj(),fn.a),dk=n("t4gB");n("/V82");function fk(e){return(fk="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mk(e){return(mk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bk(e,t){return(bk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var vk=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,n=!(a=(e=mk(t)).call.apply(e,[this].concat(i)))||"object"!==fk(a)&&"function"!==typeof a?yk(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(yk(yk(n)),"close",(function(){dt.a.closeModal()})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bk(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.media,r=t.onComplete,a=t.i18n,i=[];return i.push(o.a.createElement(we.b,{id:"button-add-video-media-dialog-back",secondary:!0,ariaLabel:a._("Back"),onClick:dt.a.showPreviousModal},o.a.createElement(U.Trans,{id:"Back"}))),i.push(o.a.createElement(we.b,{id:"button-add-video-media-dialog-select",secondary:!0,ariaLabel:a._("Select"),onClick:function(){r(),e.close()}},o.a.createElement(U.Trans,{id:"Select"}))),o.a.createElement(V.a,{id:"media-dialog",dialogClassName:"c-media-dialog",contentClassName:"c-media-dialog__content",title:a._("Preview Media"),footerActions:i,onHide:this.close},o.a.createElement("div",null,o.a.createElement(Mt.a,{id:"library-preview-dialog-media",playerId:"Media "+n.dbId,termClassId:this.props.termClassId,activityId:this.props.activityId,usageContext:Kh.a.DIRECT_LIBRARY,media:n})))}}])&&pk(n.prototype,r),a&&pk(n,a),t}(a.Component);vk.propTypes={media:c.a.object,onComplete:c.a.func,termClassId:c.a.number,activityId:c.a.number};var hk=Object(U.withI18n)()(vk);n("HqXl");function gk(e){return(gk="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ek(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wk(e){return(wk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ok(e,t){return(Ok=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ck=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,n=!(a=(e=wk(t)).call.apply(e,[this].concat(i)))||"object"!==gk(a)&&"function"!==typeof a?Sk(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Sk(Sk(n)),"handlePagination",(function(){})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ok(e,t)}(t,e),n=t,(r=[{key:"getColumns",value:function(){var e=this,t=this.props.onComplete,n=this.props.i18n;return[{accessor:"title",grow:!0,className:"wip-name",label:n._("Video Title"),renderer:function(e){return o.a.createElement("div",{className:"u-break-long-words"},o.a.createElement("a",{onClick:function(){t(e),dt.a.closeModal()}},e[this.accessor]))}},{accessor:"",className:"table-actions wip-actions",label:"",renderer:function(t,r){var a=mm.a.isMediaProcessed({media:t});return o.a.createElement("div",{className:"educator-library-item-actions"},o.a.createElement(we.d,{id:"button-library-item-preview["+r+"]",enabled:a,title:n._("Preview"),ariaLabel:n._("Preview"),onClick:function(){dt.a.showNextModal(o.a.createElement(hk,{media:t,termClassId:e.props.termClassId,activityId:e.props.activityId,onComplete:e.props.onComplete.bind(null,t)}))}},re.a.PREVIEW),o.a.createElement(we.d,{id:"button-library-item-select["+r+"]",title:n._("Select"),ariaLabel:n._("Select"),onClick:function(){e.props.onComplete(t),dt.a.closeModal()}},re.a.ADD))}}]}},{key:"createActionsMenu",value:function(e,t){var n=this,r=mm.a.isMediaProcessed({media:e}),a=this.props.i18n;return[o.a.createElement(Au.c,{key:t+"_add",data:e,enabled:!0,onClick:function(){n.props.onComplete(e),dt.a.closeModal()},leftIcon:o.a.createElement(zc.a,{ariaLabel:a._("Choose, icon")},re.a.ADD),primaryText:a._("Choose")}),o.a.createElement(Au.c,{key:t+"_watch",data:e,enabled:r,onClick:function(){dt.a.showNextModal(o.a.createElement(hk,{media:e,termClassId:n.props.termClassId,activityId:n.props.activityId,onComplete:n.props.onComplete.bind(null,e)}))},leftIcon:o.a.createElement(zc.a,{ariaLabel:a._("Preview, icon")},re.a.PREVIEW),primaryText:a._("Preview")})]}},{key:"render",value:function(){var e=this,t=this.props,n=t.list,r=t.i18n;return o.a.createElement("div",null,o.a.createElement(dk.a,{columns:this.getColumns(),data:n,listAccessor:"title",tableSummary:r._("Inside a table, a list of available videos in your library"),onListRowSelect:function(t){e.props.onComplete(t),dt.a.closeModal()}}))}}])&&Ek(n.prototype,r),a&&Ek(n,a),t}(a.Component);Ck.propTypes={list:c.a.arrayOf(c.a.object),onComplete:c.a.func,termClassId:c.a.number,activityId:c.a.number};var _k=Object(U.withI18n)()(Ck);n("UYZU");function Ik(e){return(Ik="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rk(e,t){return!t||"object"!==Ik(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pk(e){return(Pk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ak(e,t){return(Ak=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nk=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Rk(this,Pk(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ak(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillMount",value:function(){ok.getLibraryData()}},{key:"render",value:function(){var e=this.props,t=e.onComplete,n=e.isLoading,r=e.list,a=e.i18n,i=[];return i.push(o.a.createElement(we.b,{id:"button-add-video-library-dialog-back",secondary:!0,ariaLabel:a._("Back"),onClick:dt.a.showPreviousModal},o.a.createElement(U.Trans,{id:"Back"}))),i.push(o.a.createElement(we.b,{id:"button-add-video-library-dialog-close",secondary:!0,ariaLabel:a._("Close"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"Close"}))),o.a.createElement(mb.a,{actions:i,dialogClassName:"c-library-dialog",mobileFullScreen:!0,id:"library-dialog",title:a._("Select from Library"),initialFocus:"",containFocus:!1,modal:!0,visible:!0},o.a.createElement("div",null,o.a.createElement(te.a,{loading:n},!!r.length&&o.a.createElement(_k,{list:r,termClassId:this.props.termClassId,activityId:this.props.activityId,onComplete:t}),!r.length&&!n&&o.a.createElement("p",null,o.a.createElement(U.Trans,{id:"Empty"})))))}}])&&Tk(n.prototype,r),a&&Tk(n,a),t}(a.Component);Nk.propTypes={onComplete:c.a.func,termClassId:c.a.number,activityId:c.a.number};var jk=Object(U.withI18n)()(Object(s.b)((function(e){return{isLoading:Hj(e),list:zj(e)}}))(Nk));function kk(e){return(kk="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lk(e){return(Lk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mk(e,t){return(Mk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uk=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Lk(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==kk(a)&&"function"!==typeof a?xk(r):a,Fk(xk(xk(n)),"state",{webcamMode:!0,desktopMode:!1}),Fk(xk(xk(n)),"isWaitingForComplete",!1),Fk(xk(xk(n)),"onUpload",(function(){var e=n.props.activityId;dt.a.showNextModal(o.a.createElement($b,{activityId:e,mediaType:pr.a.LIBRARY,onCancel:n.onUploadCancel,onComplete:n.onComplete}))})),Fk(xk(xk(n)),"onUploadCancel",(function(){n.isWaitingForComplete||dt.a.closeModal()})),Fk(xk(xk(n)),"onRecord",(function(e,t){var r=n.props.activityId,a=Lb.a.CAMERA_ONLY;e&&t&&(a=Lb.a.CAMERA_WITH_DESKTOP),t&&!e&&(a=Lb.a.DESKTOP_ONLY),dt.a.showNextModal(o.a.createElement(Qj,{activityId:r,onComplete:n.onComplete,recorderType:a}))})),Fk(xk(xk(n)),"onLibrary",(function(){var e=n.props,t=e.activityId,r=e.termClassId;dt.a.showNextModal(o.a.createElement(jk,{activityId:t,termClassId:r,onComplete:n.onComplete}))})),Fk(xk(xk(n)),"onComplete",(function(e){var t=n.props.onComplete;if(e.dbId)return t([e]);if("undefined"!==typeof e[0]){n.isWaitingForComplete=!0;var r=[],a=e.map((function(e){return new Promise((function(t){ok.getItem(e).then((function(e){r.push(e),t()}))}))}));Promise.all(a).then((function(){n.isWaitingForComplete=!1,t(r),dt.a.closeModal()}))}})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mk(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.i18n,r=t.selectFromLibrary,a=t.allowDesktopSharing,i=this.state,c=i.webcamMode,s=i.desktopMode,u=!bt.b(),l=[];return l.push(o.a.createElement(we.b,{id:"button-add-video-dialog-cancel",secondary:!0,ariaLabel:n._("Cancel"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"Cancel"}))),o.a.createElement(mb.a,{actions:l,dialogClassName:"activity-config-add-video-dialog",mobileFullScreen:!0,id:"add-video-dialog",title:n._("Add Video"),modal:!0,visible:!0},o.a.createElement("div",{className:"u-text-center"},u&&o.a.createElement("div",{className:"add-video-button-with-checkboxes"},o.a.createElement(we.h,{id:"button-video-dialog-record",className:"u-mr-5px",ariaLabel:n._("Record Video"),enabled:fr.a.isRecorderSupported()&&(c||s),tooltip:{label:fr.a.isRecorderSupported()?null:n._(oE.a.RECORDING_NOT_SUPPORTED)},onClick:function(){e.onRecord(c,s)}},o.a.createElement(U.Trans,{id:"Record Video"})),fe.a.isWebcamRecordingSelectionEnabled()&&a&&o.a.createElement("div",{id:"checkbox-add-video-dialog-webcam"},o.a.createElement(Sa.a,{id:"webcam",name:"webcam",label:n._("Camera"),ariaLabel:n._("Camera"),className:"add-video-checkmark",checked:c,onChange:function(t){e.setState({webcamMode:t})}})),fe.a.isDesktopRecordingSelectionEnabled()&&a&&o.a.createElement("div",{id:"checkbox-add-video-dialog-desktop"},o.a.createElement(Sa.a,{id:"desktop",name:"desktop",label:n._("Screen"),ariaLabel:n._("Screen"),className:"add-video-checkmark-btm",checked:s,onChange:function(t){e.setState({desktopMode:t})}}))),o.a.createElement(we.h,{id:"button-video-dialog-upload",ariaLabel:n._("Upload Video"),onClick:this.onUpload,className:"align-top"},o.a.createElement(U.Trans,{id:"Upload Video"})),r&&fe.a.isEducatorLibraryAvailable()&&o.a.createElement(we.h,{id:"button-video-dialog-library",ariaLabel:n._("Select from resources"),onClick:this.onLibrary,className:"align-top"},o.a.createElement(U.Trans,{id:"Select from resources"}))))}}])&&Dk(n.prototype,r),a&&Dk(n,a),t}(a.Component);Uk.propTypes={allowDesktopSharing:c.a.bool,onComplete:c.a.func,termClassId:c.a.number,activityId:c.a.number},Uk.defaultProps={allowDesktopSharing:!0,selectFromLibrary:!0};var Vk=Object(U.withI18n)()(Object(s.b)((function(){return{}}))(Uk));function Gk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){qk(e,t,n[t])}))}return e}function qk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bk=function(e){!(window===window.top)&&window.parent&&window.parent.postMessage(e,"*")},Wk="SAVING",Qk="SUCCESS",Yk="ERROR",Hk=function(e){return{source:"YouSeeU",type:"FormStateChangeEvent",changedState:e}},zk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Bk(Gk({},Hk({isDirty:!0}),{form:e}))},Kk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Bk(Gk({},Hk({saveStatus:Wk}),{form:e}))},Xk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Bk(Gk({},Hk({isDirty:!1,saveStatus:Qk}),{form:e}))},Jk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Bk(Gk({},Hk({saveStatus:Yk}),{form:e}))};function Zk(e){return(Zk="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $k(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function eD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function tD(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function nD(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){tD(o,r,a,i,c,"next",e)}function c(e){tD(o,r,a,i,c,"throw",e)}i(void 0)}))}}function rD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){uD(e,t,n[t])}))}return e}function aD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oD(e,t,n){return(oD="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iD(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function iD(e){return(iD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cD(e,t){return(cD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lD={showAdvanced:!1,isValid:!0,isSaving:!1,isFormDirty:!1,activityName:{value:"",error:"",disabled:!1},instructions:{value:"",error:"",link:null,disabled:!1},gradeType:{value:ty.a.GRADE,disabled:!1},autoGradeScoreSource:{value:kO.NONE,disabled:!1},overviewVideo:null,submitDueAt:{value:null,disabled:!1},gradeRubric:{value:null,disabled:!1},commentaryText:{value:"",disabled:!1},commentaryMedia:null,peerReview:{value:!1,disabled:!1},allowViewOthersResultsWithoutOwn:{value:!1,disabled:!1},isCommentingAnonymous:{value:!1,disabled:!1},isPeerRevieweeAnonymous:{value:!1,disabled:!1},peerReviewType:{value:jg.a.SYSTEM,disabled:!1},peerReviewAmount:{value:3,disabled:!1},quantitativeReviewType:{value:Uj.NONE,disabled:!1},peerReviewDueAt:{value:null,disabled:!1},rubricAlreadyUsedForPeerReview:null,selfAssessment:{value:!1,disabled:!0},deepLink:{value:!1,disabled:!1},ltiGradeIdentifier:{value:"",disabled:!1},gradeSync:{value:!1,disabled:!1},addVideoModal:null,activityScore:{value:null,error:"",disabled:!1},countTowardsFinalGrade:{value:!0,disabled:!1},reflectionQuestionsSettings:{enabled:!1,errors:{},isDirty:!1,isEditingLocked:!1,isEditingRestricted:!1,isValid:!0,questions:[]},gradedPeerReviewSettings:{enabled:!1,isEditingRestricted:!1,isValid:!0,weight:DS.c,tooltip:""},hasGradedSubmission:!1},dD=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=iD(t).call(this,e),n=!a||"object"!==Zk(a)&&"function"!==typeof a?sD(r):a,uD(sD(sD(n)),"getRectifiedState",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=O.a.merge({},e,t),a=r.gradeType.value===ty.a.AUTO_ANALYSIS;a&&(r=n.getUpdatedStateForAutoAnalysisGradeType(r,!0));var o=r.gradeType.value===ty.a.RUBRIC;return o||(r=n.getUpdatedStateForRubricGradeType(r,!1)),r})),uD(sD(sD(n)),"getUpdatedStateForRubricGradeType",(function(e,t){var n={};t||(n.selfAssessment=O.a.merge({},e.selfAssessment,{disabled:!0,value:!1}),n.gradeRubric=O.a.merge({},e.gradeRubric,{value:null}),e.quantitativeReviewType.value===Uj.RUBRIC&&(n.quantitativeReviewType=O.a.merge({},e.quantitativeReviewType,{value:Uj.NONE})));return O.a.merge({},e,n)})),uD(sD(sD(n)),"getUpdatedStateForAutoAnalysisGradeType",(function(e,t){var r=n.props.i18n,a={};return t?(a.gradedPeerReviewSettings=O.a.merge({},e.gradedPeerReviewSettings,{enabled:!1,valid:!0,isEditingRestricted:!0,weight:DS.c,tooltip:r._(oE.a.AUTO_ANALYSIS_CONFIG_OPTION_NOT_EDITABLE)}),e.autoGradeScoreSource.value===kO.NONE&&(a.autoGradeScoreSource=O.a.merge({},e.autoGradeScoreSource,{value:kO.AUTO_ANALYSIS_OVERALL_SCORE}))):(a.gradedPeerReviewSettings=O.a.merge({},e.gradedPeerReviewSettings,{isEditingRestricted:!1,tooltip:""}),a.autoGradeScoreSource=O.a.merge({},e.autoGradeScoreSource,{value:kO.NONE})),O.a.merge({},e,a)})),uD(sD(sD(n)),"onReflectionQuestionsChange",(function(e){n.setState({reflectionQuestionsSettings:e},n.onChange)})),uD(sD(sD(n)),"onGradedPeerReviewChange",(function(e){n.setState({gradedPeerReviewSettings:e},n.onChange)})),uD(sD(sD(n)),"onGradeTypeChange",(function(e){var t=n.state.gradeType,r=t.value,a=O.a.merge({},n.state,{gradeType:rD({},t,{value:e})}),o=r===ty.a.AUTO_ANALYSIS,i=e===ty.a.AUTO_ANALYSIS;if(i||o){var c=n.getUpdatedStateForAutoAnalysisGradeType(a,i);a=O.a.merge(a,c)}var s=r===ty.a.RUBRIC,u=e===ty.a.RUBRIC;if(u||s){var l=n.getUpdatedStateForRubricGradeType(a,u);a=O.a.merge(a,l)}n.setState(a,(function(){var t=n.props.onGradeTypeChange;n.onChange(),t(e,r)}))})),uD(sD(sD(n)),"onAutoGradeScoreSourceChange",(function(e){var t=n.state.autoGradeScoreSource,r=O.a.merge({},t,{value:e});n.setState({autoGradeScoreSource:r},n.onChange)})),uD(sD(sD(n)),"onDeepLinkChange",(function(e){var t={},r=O.a.merge({},n.state.deepLink);r.value=e,t.deepLink=r,n.setState(t,n.onChange)})),uD(sD(sD(n)),"onPeerReviewChange",(function(e){var t=O.a.merge({},n.state.peerReview);t.value=e,n.setState({peerReview:t},n.onChange)})),uD(sD(sD(n)),"onActivityNameChange",(function(e){var t=O.a.merge({},n.state.activityName);t.value=e,n.setState({activityName:t},n.onChange)})),uD(sD(sD(n)),"onActivityScoreChange",(function(e){var t=O.a.merge({},n.state.activityScore);e<0&&(e=0),t.value=e,n.setState({activityScore:t},n.onChange)})),uD(sD(sD(n)),"onCountTowardsFinalGradeChange",(function(e){var t=O.a.merge({},n.state.countTowardsFinalGrade);t.value=e,n.setState({countTowardsFinalGrade:t},n.onChange)})),uD(sD(sD(n)),"onInstructionsChange",(function(e){var t=O.a.merge({},n.state.instructions),r=LS.a(e);t.link=r||null,t.value=e,n.setState({instructions:t},n.onChange)})),uD(sD(sD(n)),"onSubmitDueAtChange",(function(e){var t=O.a.merge({},n.state.submitDueAt);t.value=e,n.setState({submitDueAt:t},n.onChange)})),uD(sD(sD(n)),"resetSubmitDueAt",(function(){var e=O.a.merge({},n.state.submitDueAt);e.value=null,n.setState({submitDueAt:e},n.onChange)})),uD(sD(sD(n)),"onPeerReviewDueAtChange",(function(e){var t=O.a.merge({},n.state.peerReviewDueAt);t.value=e,n.setState({peerReviewDueAt:t},n.onChange)})),uD(sD(sD(n)),"resetPeerReviewDueAt",(function(){var e=O.a.merge({},n.state.peerReviewDueAt);e.value=null,n.setState({peerReviewDueAt:e},n.onChange)})),uD(sD(sD(n)),"onGradeRubricChange",(function(e){var t={},r=O.a.merge({},n.state.gradeRubric);r.value=e,t.gradeRubric=r;var a=O.a.merge({},n.state.selfAssessment);a.disabled=!1,t.selfAssessment=a,n.setState(t,n.onChange)})),uD(sD(sD(n)),"onCommentaryTextChange",(function(e){var t=O.a.merge({},n.state.commentaryText);t.value=e,n.setState({commentaryText:t},n.onChange)})),uD(sD(sD(n)),"onAllowViewOthersResultsWithoutOwnChange",(function(e){var t=O.a.merge({},n.state.allowViewOthersResultsWithoutOwn);t.value=e,n.setState({allowViewOthersResultsWithoutOwn:t},n.onChange)})),uD(sD(sD(n)),"onIsCommentingAnonymousChange",(function(e){var t=O.a.merge({},n.state.isCommentingAnonymous);t.value=e,n.setState({isCommentingAnonymous:t},n.onChange)})),uD(sD(sD(n)),"onIsPeerRevieweeAnonymousChange",(function(e){var t=rD({},n.state.isPeerRevieweeAnonymous,{value:e});n.setState({isPeerRevieweeAnonymous:t},n.onChange)})),uD(sD(sD(n)),"onPeerReviewTypeChange",(function(e){var t=O.a.merge({},n.state.peerReviewType);t.value=e,n.setState({peerReviewType:t},n.onChange),e!==jg.a.SYSTEM&&n.onIsPeerRevieweeAnonymousChange(!1)})),uD(sD(sD(n)),"onPeerReviewAmountChange",(function(e){var t=O.a.merge({},n.state.peerReviewAmount);e<0&&(e=0),t.value=+e,n.setState({peerReviewAmount:t},n.onChange)})),uD(sD(sD(n)),"onQuantitativeReviewTypeChange",(function(e){var t=O.a.merge({},n.state.quantitativeReviewType);t.value=e,n.setState({quantitativeReviewType:t},n.onChange)})),uD(sD(sD(n)),"onSelfAssessmentChange",(function(e){var t=O.a.merge({},n.state.selfAssessment);t.value=e,n.setState({selfAssessment:t},n.onChange)})),uD(sD(sD(n)),"onLtiGradeIdentifierChange",(function(e){var t=O.a.merge({},n.state.ltiGradeIdentifier);t.value=e,n.setState({ltiGradeIdentifier:t},n.onChange)})),uD(sD(sD(n)),"onGradeSyncChange",(function(e){var t=O.a.merge({},n.state.gradeSync);t.value=e,n.setState({gradeSync:t},n.onChange)})),uD(sD(sD(n)),"onShowAdvanced",(function(){n.props.onShowAdvanced()})),uD(sD(sD(n)),"onChange",O.a.debounce((function(){n.props.onChange(n.getFormData(),rD({},n.state))}))),uD(sD(sD(n)),"onSubmit",nD(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isSaving:!0},null,!0),e.next=3,n.props.onSubmit();case 3:n.setState({isSaving:!1,isFormDirty:!1},null,!0);case 4:case"end":return e.stop()}}),e,this)})))),uD(sD(sD(n)),"onAddOverviewMedia",(function(){var e=n.props.match.params,t=e.activityId,r=e.classId;dt.a.showModal(o.a.createElement("div",{id:"activity-config-instructions-add-video-dialog"},o.a.createElement(Vk,{activityId:t,termClassId:+r,onComplete:function(e){var t=eD(e,1)[0];n.onSetOverviewVideo(t)}})))})),uD(sD(sD(n)),"onAddCommentaryMedia",(function(){var e=n.props.match.params,t=e.activityId,r=e.classId;dt.a.showModal(o.a.createElement("div",{id:"activity-config-post-instructions-add-video-dialog"},o.a.createElement(Vk,{activityId:t,termClassId:+r,onComplete:function(e){var t=eD(e,1)[0];n.onSetCommentaryMedia(t)}})))})),uD(sD(sD(n)),"onSetOverviewVideo",(function(e){var t=O.a.merge({},n.state);t.overviewVideo=e,n.setState(t,n.onChange)})),uD(sD(sD(n)),"onSetCommentaryMedia",(function(e){var t=O.a.merge({},n.state);t.commentaryMedia=e,n.setState(t,n.onChange)})),uD(sD(sD(n)),"getReflectStageSettings",(function(){var e=n.state.reflectionQuestionsSettings;return e?{reflectStageEnabled:e.enabled,reflectQuestions:n.getReflectQuestions()}:null})),uD(sD(sD(n)),"getPeerReviewSettings",(function(){var e={allowViewOthersResultsWithoutOwn:n.state.allowViewOthersResultsWithoutOwn.value,isCommentingAnonymous:n.state.isCommentingAnonymous.value,peerReviewSubmitterAnonymous:n.state.isPeerRevieweeAnonymous.value,peerReviewType:n.state.peerReviewType.value,peerReviewAmount:n.state.peerReviewAmount.value,peerReviewDueAt:n.state.peerReviewDueAt.value?Pf.d(n.state.peerReviewDueAt.value):void 0,quantitativeReviewType:n.state.quantitativeReviewType.value};if(fe.a.isGradedPeerReviewAllowed())if(n.props.canGradedPeerReview){var t=n.state.gradedPeerReviewSettings;e[DS.b.SETTINGS_ENABLED]=t.enabled,e[DS.b.SETTINGS_WEIGHT]=t.weight}else e[DS.b.SETTINGS_ENABLED]=!1,e[DS.b.SETTINGS_WEIGHT]=DS.c;return e})),uD(sD(sD(n)),"getReflectQuestions",(function(){var e=n.state.reflectionQuestionsSettings;return e&&e.enabled&&e.questions?e.questions.map((function(e,t){return O.a.merge({},O.a.pick(e,O.a.values(Sh.a.QUESTION)),{orderNumber:t})})):[]})),uD(sD(sD(n)),"getGradeTypeSetting",(function(){var e=n.state.gradeType;return e.value===ty.a.AUTO_ANALYSIS?ty.a.GRADE:e.value})),n.state=n.mapActivityDataToState(e),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cD(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.enablePeerReview!==e.enablePeerReview&&this.setState({peerReview:rD({},this.state.peerReview,{value:e.enablePeerReview})},this.onChange),!this.props.termClass&&e.termClass&&this.onChange()}},{key:"componentDidUpdate",value:function(e){this.props.rubrics!==e.rubrics&&this.onChange()}},{key:"componentDidMount",value:function(){this.onChange(),this.onChange.flush()}},{key:"setState",value:function(e,n,r){var a=rD({},e);r||(a.isFormDirty=!0,zk()),oD(iD(t.prototype),"setState",this).call(this,a,n)}},{key:"mapActivityDataToState",value:function(e){var t=e.activityData,n=e.enablePeerReview,r=e.canGradedPeerReview,a=e.canReflectionQuestions,o=e.mainFormState;if(o)return O.a.merge({},lD,o);var i=O.a.merge({},lD),c=An.getContentName(),s=An.getContentId();if(An.clear(),c&&(i.activityName.value=c,t&&(t.name=c)),s&&(i.ltiGradeIdentifier.value=s,i.deepLink.value=!0,i.gradeSync.value=!0,t&&(t.ltiGradeIdentifier=s,t.ltiDeepLinking=!0)),!t)return i.peerReview.value=n,i.peerReviewType.value=fe.a.getDefaultPeerReviewType(),i.quantitativeReviewType.value=Uj.FIVE_STAR,i;t.name&&(i.activityName.value=t.name),i.overviewVideo=t.instructionsMedia,i.instructions.value=t.instructionsText;var u=LS.a(t.instructionsText);u&&(i.instructions.link=u),O.a.includes(jO,t.autoGradeScoreSource)?(i.gradeType.value=ty.a.AUTO_ANALYSIS,i.autoGradeScoreSource.value=t.autoGradeScoreSource):i.gradeType.value=t.gradeType,t.submitDueAt&&(i.submitDueAt.value=Pf.n(t.submitDueAt)),t.commentaryText&&(i.commentaryText.value=t.commentaryText),i.commentaryMedia=t.commentaryMedia,t.rubric&&(i.gradeRubric.value=O.a.isNumber(t.rubric)?t.rubric:t.rubric.dbId),O.a.isNumber(t.activityScore)&&(i.activityScore.value=t.activityScore),O.a.isBoolean(t.countTowardsFinalGrade)&&(i.countTowardsFinalGrade.value=t.countTowardsFinalGrade),i.peerReview.value=n&&!!t.peerReviewType,t.peerReviewType&&(i.peerReviewType.value=t.peerReviewType),t.peerReviewDueAt&&(i.peerReviewDueAt.value=Pf.n(t.peerReviewDueAt)),O.a.isNumber(t.peerReviewAmount)&&(i.peerReviewAmount.value=t.peerReviewAmount),O.a.isBoolean(t.allowViewOthersResultsWithoutOwn)&&(i.allowViewOthersResultsWithoutOwn.value=t.allowViewOthersResultsWithoutOwn),O.a.isBoolean(t.isCommentingAnonymous)&&(i.isCommentingAnonymous.value=t.isCommentingAnonymous),O.a.isBoolean(t.peerReviewSubmitterAnonymous)&&(i.isPeerRevieweeAnonymous.value=t.peerReviewSubmitterAnonymous),O.a.isBoolean(t.studentFivestarValuationEnabled)?t.studentFivestarValuationEnabled?i.quantitativeReviewType.value=Uj.FIVE_STAR:t.rubricPeerAllowed?i.quantitativeReviewType.value=Uj.RUBRIC:i.quantitativeReviewType.value=Uj.NONE:i.quantitativeReviewType.value=t.studentFivestarValuationEnabled,i.selfAssessment.value=t.rubricSelfAllowed,t.rubric&&(i.selfAssessment.disabled=!1),i.deepLink.value=t.ltiDeepLinking,t.ltiGradeIdentifier&&(i.ltiGradeIdentifier.value=t.ltiGradeIdentifier),t.ltiGradeIdentifier&&(i.deepLink.value=!0),i.gradeSync.value=t.ltiGradeSyncEnabled;var l=!1;if(t.dataForAllStudents){var d=!1,f=null;t.dataForAllStudents.forEach((function(e){if(e.educatorGrade&&(d=!0),!l&&e.reflectAnswers&&e.reflectAnswers.length>0&&(l=!0),e.rubricEvaluations&&e.rubricEvaluations.length){var t=e.rubricEvaluations.filter((function(e){return Wr.g(e.user)}));t.length&&(f=t[0].rubric)}})),i.rubricAlreadyUsedForPeerReview=f,i.gradeType.disabled=d,i.autoGradeScoreSource.disabled=d,i.hasGradedSubmission=d,t.rubric&&(i.gradeRubric.disabled=d)}return a&&t.reflectStageSettings&&(i.reflectionQuestionsSettings=rD({},i.reflectionQuestionsSettings,{enabled:t.reflectStageSettings.reflectStageEnabled,questions:$k(t.reflectStageSettings.reflectQuestions||[]),isEditingRestricted:l})),t.cengageSettings&&(i.activityScore.value=t.cengageSettings.score,i.countTowardsFinalGrade.value=t.cengageSettings.countTowardsFinalGrade),this.props.disableEditing&&(i.activityName.disabled=!0,i.instructions.disabled=!0,i.gradeType.disabled=!0,i.autoGradeScoreSource.disabled=!0,i.submitDueAt.disabled=!0,i.gradeRubric.disabled=!0,i.commentaryText.disabled=!0,i.peerReview.disabled=!0,i.allowViewOthersResultsWithoutOwn.disabled=!0,i.isCommentingAnonymous.disabled=!0,i.isPeerRevieweeAnonymous.disabled=!0,i.peerReviewType.disabled=!0,i.peerReviewDueAt.disabled=!0,i.peerReviewAmount.disabled=!0,i.quantitativeReviewType.disabled=!0,i.selfAssessment.disabled=!0,i.deepLink.disabled=!0,i.ltiGradeIdentifier.disabled=!0,i.gradeSync.disabled=!0,i.activityScore.disabled=!0,i.countTowardsFinalGrade.disabled=!0,i.reflectionQuestionsSettings.isEditingRestricted=!0,i.gradedPeerReviewSettings.isEditingRestricted=!0),this.props.isEditingLocked&&(i.activityName.disabled=!0,i.instructions.disabled=!0,i.commentaryText.disabled=!0,i.reflectionQuestionsSettings.isEditingLocked=!0),r&&t[DS.b.SETTINGS_ENABLED]&&(i.gradedPeerReviewSettings=rD({},i.gradedPeerReviewSettings,{enabled:t[DS.b.SETTINGS_ENABLED]||!1,weight:t[DS.b.SETTINGS_WEIGHT]||DS.c})),this.getRectifiedState(i)}},{key:"getStateWithoutErrors",value:function(){var e=O.a.merge({},this.state);return e.activityName.error="",e.instructions.error="",e.gradeRubric.error="",e.activityScore.error="",e}},{key:"validate",value:function(){var e=this.props,t=e.i18n,n=e.canGradedPeerReview,r=e.canGradeType,a=e.rubrics,o=this.state,i=o.activityName,c=o.gradedPeerReviewSettings,s=o.gradeRubric,u=o.gradeType,l=o.peerReview,d=o.instructions,f=o.reflectionQuestionsSettings,p=!0,m=this.getStateWithoutErrors(),b=t._("This field is required");return u.value===ty.a.RUBRIC&&null===a&&(p=!1),i.value||(p=!1,m.activityName.error=b),d.value||(p=!1,m.instructions.error=b),f.isValid||(p=!1),l&&l.value&&n&&c.enabled&&!c.isValid&&(p=!1),r&&u.value===ty.a.RUBRIC&&null!==a&&(!s.value||O.a.findIndex(a,["dbId",+s.value])<0)&&(p=!1,m.gradeRubric.error=b),Object(Sc.a)(this.props.institution)&&(this.state.activityScore.value<0||!this.state.activityScore.value)&&(p=!1,m.activityScore.error=b),this.setState(rD({},m,{isValid:p}),null,!0),p}},{key:"getFormData",value:function(){var e=this.props.canReflectionQuestions,t=this.validate(),n={name:this.state.activityName.value,instructions:this.state.instructions.value,overviewMedia:this.state.overviewVideo?this.state.overviewVideo.dbId:void 0,submitDueAt:this.state.submitDueAt.value?Pf.d(this.state.submitDueAt.value):void 0,gradeType:this.getGradeTypeSetting(),rubric:this.state.gradeRubric.value,commentaryText:this.state.commentaryText.value,commentaryMedia:this.state.commentaryMedia?this.state.commentaryMedia.dbId:void 0,peerReview:this.getPeerReviewSettings(),selfAssessment:this.state.selfAssessment.value,lmsSync:{deepLink:this.state.deepLink.value,ltiGradeIdentifier:this.state.ltiGradeIdentifier.value,gradeSync:this.state.gradeSync.value}};return fe.a.isDeepLinkingEnabled()||(n.lmsSync.deepLink=!1,n.lmsSync.ltiGradeIdentifier=null,n.lmsSync.gradeSync=!1),e&&(n.reflectStageSettings=this.getReflectStageSettings()),Object(Sc.a)(this.props.institution)&&(n.cengageSettings={score:+this.state.activityScore.value,countTowardsFinalGrade:this.state.countTowardsFinalGrade.value}),fe.a.isDeepLinkingEnabled()||(n.lmsSync.deepLink=!1,n.lmsSync.ltiGradeIdentifier=null,n.lmsSync.gradeSync=!1),this.state.peerReview.value||(n.peerReview.peerReviewType=null),n.rubric||delete n.rubric,{isValid:t,form:n}}},{key:"render",value:function(){var e=this.state,t=e.gradeType,n=e.deepLink,r=e.peerReview,a=e.activityName,i=e.instructions,c=e.overviewVideo,s=e.submitDueAt,u=e.gradeRubric,l=e.commentaryText,d=e.commentaryMedia,f=e.allowViewOthersResultsWithoutOwn,p=e.isCommentingAnonymous,m=e.isPeerRevieweeAnonymous,b=e.peerReviewType,y=e.peerReviewAmount,v=e.quantitativeReviewType,h=e.selfAssessment,g=e.ltiGradeIdentifier,E=e.gradeSync,w=e.addVideoModal,O=e.rubricAlreadyUsedForPeerReview,S=e.activityScore,C=e.countTowardsFinalGrade,_=e.reflectionQuestionsSettings,I=e.gradedPeerReviewSettings,T=e.isValid,R=e.hasGradedSubmission,P=e.peerReviewDueAt,A=e.isSaving,N=e.isFormDirty,j=e.autoGradeScoreSource,k=this.props,D=k.i18n,L=k.canSave,M=k.enablePeerReview,x=k.canGradeType,F=k.peerReviewTooltipLabel,U=k.saveButtonTooltipLabel,V=k.advancedComponents,G=k.canSelfAssessment,q=k.canAutoGrade,B=k.canGradedPeerReview,W=k.canReflectionQuestions,Q=k.institution,Y=k.disableEditing,H=t.value===ty.a.RUBRIC,z=[{label:D._("None"),value:Uj.NONE,itemProps:{id:"peer-review-evaluation-type-option-none"}},{label:D._("Five Star"),value:Uj.FIVE_STAR,itemProps:{id:"peer-review-evaluation-type-option-rating"}},{label:D._("Assignment Rubric"),value:Uj.RUBRIC,itemProps:{id:"peer-review-evaluation-type-option-rubric"},disabled:!H}],K=T&&L,X=U;return X||T||(X=D._("All required fields must be completed and valid before saving")),o.a.createElement(Fj,{canGradeType:x,disableEditing:Y,activityScore:S,countTowardsFinalGrade:C,institution:Q,enablePeerReview:M,canSave:K,canSelfAssessment:G,saveButtonTooltipLabel:X,isSaving:A,gradeType:t,autoGradeScoreSource:j,deepLink:n,peerReviewTooltipLabel:F,peerReview:r,activityName:a,instructions:i,overviewVideo:c,submitDueAt:s,gradeRubric:u,commentaryText:l,commentaryMedia:d,allowViewOthersResultsWithoutOwn:f,isCommentingAnonymous:p,isPeerRevieweeAnonymous:m,peerReviewType:b,peerReviewAmount:y,quantitativeReviewType:v,selfAssessment:h,ltiGradeIdentifier:g,gradeSync:E,advancedComponents:V,canAutoGrade:q,canGradedPeerReview:B,gradedPeerReviewSettings:I,onGradedPeerReviewChange:this.onGradedPeerReviewChange,canReflectionQuestions:W,reflectionQuestionsSettings:_,onReflectionQuestionsChange:this.onReflectionQuestionsChange,serverErrors:this.props.serverErrors,showAdvanced:this.props.showAdvanced,addVideoModal:w,rubrics:this.props.rubrics,rubricAlreadyUsedForPeerReview:O,showClientErrors:this.props.showClientErrors,quantitativeReviewTypes:z,onActivityScoreChange:this.onActivityScoreChange,onCountTowardsFinalGradeChange:this.onCountTowardsFinalGradeChange,resetSubmitDueAt:this.resetSubmitDueAt,onAddCommentaryMedia:this.onAddCommentaryMedia,onSetCommentaryMedia:this.onSetCommentaryMedia,onSetOverviewVideo:this.onSetOverviewVideo,onAddOverviewMedia:this.onAddOverviewMedia,onSubmit:this.onSubmit,onGradeSyncChange:this.onGradeSyncChange,onLtiGradeIdentifierChange:this.onLtiGradeIdentifierChange,onSelfAssessmentChange:this.onSelfAssessmentChange,onQuantitativeReviewTypeChange:this.onQuantitativeReviewTypeChange,onPeerReviewAmountChange:this.onPeerReviewAmountChange,onPeerReviewTypeChange:this.onPeerReviewTypeChange,onIsCommentingAnonymousChange:this.onIsCommentingAnonymousChange,onIsPeerRevieweeAnonymousChange:this.onIsPeerRevieweeAnonymousChange,onAllowViewOthersResultsWithoutOwnChange:this.onAllowViewOthersResultsWithoutOwnChange,onCommentaryTextChange:this.onCommentaryTextChange,onGradeRubricChange:this.onGradeRubricChange,onSubmitDueAtChange:this.onSubmitDueAtChange,onDeepLinkChange:this.onDeepLinkChange,onPeerReviewChange:this.onPeerReviewChange,onInstructionsChange:this.onInstructionsChange,onActivityNameChange:this.onActivityNameChange,onGradeTypeChange:this.onGradeTypeChange,onAutoGradeScoreSourceChange:this.onAutoGradeScoreSourceChange,onShowAdvanced:this.onShowAdvanced,hasGradedSubmission:R,peerReviewDueAt:P,onPeerReviewDueAtChange:this.onPeerReviewDueAtChange,resetPeerReviewDueAt:this.resetPeerReviewDueAt,isFormDirty:N},this.props.children)}}])&&aD(n.prototype,r),a&&aD(n,a),t}(a.Component);dD.defaultProps={onChange:function(){},onGradeTypeChange:function(){},onSubmit:function(){},advancedComponents:null,canGradeType:!0,canSave:!0,canSelfAssessment:!0,enablePeerReview:!0,isSaving:!1,saveButtonTooltipLabel:"",showClientErrors:!1,canAutoGrade:!1,canGradedPeerReview:!1,canReflectionQuestions:!1,mainFormState:null,disableEditing:!1,rubrics:null};var fD=Object(s.b)((function(e){return{institution:Ye.i(e),termClass:Ye.m(e)}}))(Object(U.withI18n)()(Object(y.k)(dD)));n("NWOK");function pD(e){return(pD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bD(e){return(bD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yD(e,t){return(yD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gD={width:"100%"},ED=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=bD(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==pD(a)&&"function"!==typeof a?vD(r):a,hD(vD(vD(n)),"getTooltipMessage",(function(e,t,r){var a=n.props,o=a.i18n;return a.isD2LFreemium?e.value?o._(t)+" ("+o._(oE.a.FREEMIUM_CONFIG_NOT_EDITABLE_OPTION)+")":o._(r)+" ("+o._(oE.a.FREEMIUM_CONFIG_OPTION)+")":e.value?o._(t):o._(r)})),hD(vD(vD(n)),"onConfigureRubrics",(function(){var e=n.props,t=e.match,r=e.history,a=e.location,o=EI.a.compile(In.d.EDUCATOR_RUBRICS_LIST)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){hD(e,t,n[t])}))}return e}({},t.params));r.push({pathname:o,state:{quickNavItems:[{context:JA.a.CONFIGURATION,location:a}]}})})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yD(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.executorsType,n=e.onExecutorsTypeChange,r=e.rubrics,a=e.groupReviewType,i=e.onGroupReviewTypeChange,c=e.activityData,s=e.onIsVideoToolEnabledChange,u=e.isVideoToolEnabled,l=e.isDocumentToolEnabled,d=e.onIsDocumentToolEnabledChange,f=e.isMeetingToolEnabled,p=e.onIsMeetingToolEnabledChange,m=e.gpdRubric,b=e.onGpdRubricChange,y=e.finalizeGroupDate,v=e.onFinalizeGroupDateChange,h=e.minStudentsAmountInGroup,g=e.maxStudentsAmountInGroup,E=e.onMinStudentsAmountInGroupChange,w=e.onMaxStudentsAmountInGroupChange,O=e.onMainFormChange,S=e.onSubmit,C=e.onShowAdvanced,_=e.showAdvanced,I=e.showClientErrors,T=e.meetingToolError,R=e.serverErrors,P=e.i18n,A=e.isD2LFreemium,N=e.mainFormState,j=e.disableEditing,k=e.isEditingLocked,D=t.value!==Rd.a.EDUCATOR_FORMED&&t.value!==Rd.a.WHOLE_CLASS,L=a.value===bf.RUBRIC,M=P._("Video enabled"),x=P._("Video disabled"),F=P._("Documents enabled"),V=P._("Documents disabled"),G=P._("Meetings enabled"),q=P._("Meetings disabled");return o.a.createElement(fD,{onChange:O,onSubmit:S,serverErrors:R,showClientErrors:I,showAdvanced:_,onShowAdvanced:C,rubrics:r,disableEditing:j,isEditingLocked:k,activityData:c,mainFormState:N,enablePeerReview:fe.a.isPeerReviewEnabled(),peerReviewTooltipLabel:fe.a.isPeerReviewEnabled()?"":P._(oE.a.FREEMIUM_CONFIG_OPTION),canGradedPeerReview:!1,canAutoGrade:!1},_&&o.a.createElement("div",{className:"group-student-activity-form"},o.a.createElement("div",null,o.a.createElement("h2",{className:"section-header"},o.a.createElement(U.Trans,{id:"Toolset"})),o.a.createElement("div",{className:"activity-toolset-container"},o.a.createElement("div",{className:"activity-toolset-primary"},o.a.createElement(we.c,{secondary:!0,id:"group-assignment-toolset-video",enabled:!A&&!u.disabled,isToggle:!0,checked:u.value,onClick:s,tooltip:{label:this.getTooltipMessage(u,M,x)},ariaLabel:P._("Enable/Disable Video")},re.a.VIDEOCAM),o.a.createElement(we.c,{secondary:!0,id:"group-assignment-toolset-document",enabled:!A&&!l.disabled,isToggle:!0,iconClassName:Tf.a.FILE,onClick:d,checked:l.value,tooltip:{label:this.getTooltipMessage(l,F,V)},ariaLabel:P._("Enable/Disable Documents")}),o.a.createElement(we.c,{secondary:!0,id:"group-assignment-toolset-meeting",enabled:!A&&!f.disabled,isToggle:!0,iconClassName:Tf.a.CALENDAR,onClick:p,checked:f.value,tooltip:{label:this.getTooltipMessage(f,G,q)},ariaLabel:P._("Enable/Disable Meetings")})),o.a.createElement("div",{className:"activity-toolset-secondary"})),I&&T&&o.a.createElement("p",{className:"u-error u-text-center"},T)),o.a.createElement("div",{className:"group-options-container"},o.a.createElement("h2",{className:"section-header"},o.a.createElement(U.Trans,{id:"Group Options"})),o.a.createElement("div",{className:"config-section-contents"},o.a.createElement("div",{className:"config-section-contents group-formation-container"},o.a.createElement(Sa.e,{id:"selectfield-assignment-settings-group-formation",value:t.value,enabled:!t.disabled,onChange:n,label:P._("Group Formation"),ariaLabel:P._("Group Formation"),menuItems:[{label:P._("Educator Formed"),value:Rd.a.EDUCATOR_FORMED,itemProps:{id:"group-formation-option-educator"}},{label:P._("Learner Formed"),value:Rd.a.STUDENT_FORMED,itemProps:{id:"group-formation-option-student"}},{label:P._("System Formed"),value:Rd.a.SYSTEM_FORMED,itemProps:{id:"group-formation-option-system"}}]}),o.a.createElement(oj,null,D&&o.a.createElement("div",null,o.a.createElement("div",{className:"finalize-group-date-container"},o.a.createElement(Sa.b,{id:"finalize-group-date-datepicker",className:"finalize-group-date-datepicker",textFieldStyle:gD,label:P._("Finalize groups at date"),value:y.value,enabled:!y.disabled,errorText:I?y.error:"",ariaLabel:P._("Finalize groups at date"),onChange:function(e,t){v(t)}}),o.a.createElement(Sa.k,{id:"finalize-group-date-timepicker",className:"finalize-group-date-timepicker",textFieldStyle:gD,label:P._("Finalize groups at time"),value:y.value,enabled:!y.disabled,ariaLabel:P._("Finalize groups at time"),onChange:function(e,t){v(t)}})),o.a.createElement("div",{className:"finalize-group-min-max-container"},o.a.createElement(Sa.i,{id:"min_students_amount",className:"min_students_amount",name:"min_students_amount",label:P._("Minimum learners per group"),ariaLabel:P._("Minimum learners per group"),value:""+h.value,enabled:!h.disabled,errorText:I?h.error:"",onChange:E,min:0,type:"number"}),o.a.createElement(Sa.i,{id:"max_students_amount",className:"max_students_amount",name:"max_students_amount",label:P._("Max learners per group"),ariaLabel:P._("Max learners per group"),onChange:w,value:""+g.value,enabled:!g.disabled,errorText:I?g.error:"",min:0,type:"number"}))))),o.a.createElement("div",{className:"config-section-contents group-team-eval-container"},o.a.createElement(Sa.e,{id:"selectfield-assignment-settings-group-review-type",className:"team-eval-selectfield",label:P._("Team Evaluation"),ariaLabel:P._("Team Evaluation"),value:a.value,enabled:!a.disabled,onChange:i,menuItems:[{label:P._("Disabled"),value:bf.DISABLED,itemProps:{id:"group-review-option-disabled"}},{label:P._("Five Star"),value:bf.RATING,itemProps:{id:"group-review-option-rating"}},{label:P._("Rubric"),value:bf.RUBRIC,itemProps:{id:"group-review-option-rubric"}}]}),L&&o.a.createElement(Sa.g,{className:"team-eval-select-rubric-container",onConfigureRubrics:this.onConfigureRubrics,onRubricChange:b,selectedRubric:m,rubrics:r}))))))}}])&&mD(n.prototype,r),a&&mD(n,a),t}(a.Component),wD=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{isD2LFreemium:Ye.u(e)}}))(ED))),OD=Object(ot.a)(kS,(function(e){return e.configuration})),SD=Object(ot.a)(OD,(function(e){return e.groupConfiguration})),CD=Object(ot.a)(OD,(function(e){return e.individualConfiguration})),_D=Object(ot.a)(OD,(function(e){return e.qaConfiguration})),ID=Object(ot.a)(OD,(function(e){return e.interactiveVideoConfiguration})),TD=n("qea/");function RD(e,t){var n={};return n.name=e.name,n.ltiGradeIdentifier=e.lmsSync.ltiGradeIdentifier,n.ltiDeepLinking=e.lmsSync.deepLink,n.ltiGradeSyncEnabled=e.lmsSync.gradeSync,n.instructionsText=e.instructions,n.instructionsMedia=t.overviewVideo,n.commentaryText=e.commentaryText,n.commentaryMedia=t.commentaryMedia,n.gradeType=e.gradeType,n.submitDueAt=e.submitDueAt,n.rubric=e.rubric,n.peerReviewType=e.peerReview.peerReviewType,n.peerReviewAmount=e.peerReview.peerReviewAmount,n.allowViewOthersResultsWithoutOwn=e.peerReview.allowViewOthersResultsWithoutOwn,n.isCommentingAnonymous=e.peerReview.isCommentingAnonymous,n.isPeerRevieweeAnonymous=e.peerReview.isPeerRevieweeAnonymous,n.studentFivestarValuationEnabled=e.peerReview.quantitativeReviewType,n.rubricSelfAllowed=e.selfAssessment,n}function PD(e){return(PD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AD(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function ND(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){AD(o,r,a,i,c,"next",e)}function c(e){AD(o,r,a,i,c,"throw",e)}i(void 0)}))}}function jD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kD(e){return(kD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DD(e,t){return(DD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function LD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xD={executorsType:{value:Rd.a.EDUCATOR_FORMED,disabled:!1},groupReviewType:{value:bf.DISABLED,disabled:!1},isVideoToolEnabled:{value:!0,disabled:!1},isDocumentToolEnabled:{value:!0,disabled:!1},isMeetingToolEnabled:{value:!0,disabled:!1},gpdRubric:{value:null,disabled:!1},finalizeGroupDate:{value:null,disabled:!1},minStudentsAmountInGroup:{value:1,disabled:!1},maxStudentsAmountInGroup:{value:1,disabled:!1},meetingToolError:"",showAdvanced:!1},FD=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=kD(t).call(this,e),n=!a||"object"!==PD(a)&&"function"!==typeof a?LD(r):a,MD(LD(LD(n)),"_isSubmitting",!1),MD(LD(LD(n)),"onShowAdvanced",(function(){var e=!n.state.showAdvanced;n.setState({showAdvanced:e})})),MD(LD(LD(n)),"onExecutorsTypeChange",(function(e){var t=O.a.merge({},n.state.executorsType);t.value=e,n.setState({executorsType:t},n.onChange)})),MD(LD(LD(n)),"onGpdRubricChange",(function(e){var t=O.a.merge({},n.state.gpdRubric);t.value=e,n.setState({gpdRubric:t},n.onChange)})),MD(LD(LD(n)),"onMinStudentsAmountInGroupChange",(function(e){e=+e;var t=O.a.merge({},n.state.minStudentsAmountInGroup);e>n.state.maxStudentsAmountInGroup.value&&(e=n.state.maxStudentsAmountInGroup.value),e<0&&(e=0),t.value=+e,n.setState({minStudentsAmountInGroup:t},n.onChange)})),MD(LD(LD(n)),"onMaxStudentsAmountInGroupChange",(function(e){e=+e;var t=O.a.merge({},n.state.maxStudentsAmountInGroup);e<n.state.minStudentsAmountInGroup.value&&(e=n.state.minStudentsAmountInGroup.value),e<0&&(e=0),t.value=e,n.setState({maxStudentsAmountInGroup:t},n.onChange)})),MD(LD(LD(n)),"onFinalizeGroupDateChange",(function(e){var t=O.a.merge({},n.state.gpdRubric);t.value=e,n.setState({finalizeGroupDate:t},n.onChange)})),MD(LD(LD(n)),"onIsVideoToolEnabledChange",(function(){var e=O.a.merge({},n.state.isVideoToolEnabled);e.value=!e.value,n.setState({isVideoToolEnabled:e},n.onChange)})),MD(LD(LD(n)),"onIsDocumentToolEnabledChange",(function(){var e=O.a.merge({},n.state.isDocumentToolEnabled);e.value=!e.value,n.setState({isDocumentToolEnabled:e},n.onChange)})),MD(LD(LD(n)),"onIsMeetingToolEnabledChange",(function(){var e=O.a.merge({},n.state.isMeetingToolEnabled);e.value=!e.value,n.setState({isMeetingToolEnabled:e},n.onChange)})),MD(LD(LD(n)),"onGroupReviewTypeChange",(function(e){var t=O.a.merge({},n.state.groupReviewType);t.value=e,n.setState({groupReviewType:t},n.onChange)})),MD(LD(LD(n)),"getStateWithoutErrors",(function(){var e=O.a.merge({},n.state);return e.finalizeGroupDate.error="",e.minStudentsAmountInGroup.error="",e.maxStudentsAmountInGroup.error="",e.finalizeGroupDate.error="",e.meetingToolError="",e.gpdRubric.error="",e})),MD(LD(LD(n)),"validate",(function(){var e=n.props,t=e.i18n,r=e.rubrics,a=!0,o=n.getActivityData(),i=n.getStateWithoutErrors(),c=t._("This field is required");if(n.state.executorsType.value!==Rd.a.EDUCATOR_FORMED&&n.state.executorsType.value!==Rd.a.WHOLE_CLASS&&(n.state.finalizeGroupDate.value||(a=!1,i.finalizeGroupDate.error=c),n.state.minStudentsAmountInGroup.value||(a=!1,i.minStudentsAmountInGroup.error=c),n.state.maxStudentsAmountInGroup.value||(a=!1,i.maxStudentsAmountInGroup.error=c),o&&o.studentGroups&&o.studentGroups.length||!n.state.finalizeGroupDate.value||n.state.finalizeGroupDate.value.getTime()<(new Date).getTime()&&(a=!1,i.finalizeGroupDate.error=t._("Finalize at date can't be in the past"))),n.state.groupReviewType.value===bf.RUBRIC&&null!==r){var s=n.state.gpdRubric;(!s.value||O.a.findIndex(r,["dbId",+s.value])<0)&&(a=!1,i.gpdRubric.error=c)}return n.state.isMeetingToolEnabled.value||n.state.isDocumentToolEnabled.value||n.state.isVideoToolEnabled.value||(a=!1,i.meetingToolError=c),n.setState(i),a})),MD(LD(LD(n)),"onChange",(function(){n.props.onChange(n.getFormData())})),MD(LD(LD(n)),"onMainFormChange",(function(e,t){n.mainFormData=e,n.mainFormState=t,n.onChange()})),MD(LD(LD(n)),"getFormData",(function(){var e=n.validate(),t=n.state.finalizeGroupDate,r=t.value?Pf.m(t.value):null,a={executorsType:n.state.executorsType.value,gpd:{finalizeGroupsAt:r,minStudentsAmount:+n.state.minStudentsAmountInGroup.value,maxStudentsAmount:+n.state.maxStudentsAmountInGroup.value,groupReviewType:n.state.groupReviewType.value,rubric:n.state.gpdRubric.value},toolsets:{isVideoToolEnabled:n.state.isVideoToolEnabled.value,isDocumentToolEnabled:n.state.isDocumentToolEnabled.value,isMeetingToolEnabled:n.state.isMeetingToolEnabled.value}};return a.gpd.rubric||delete a.gpd.rubric,a.executorsType!==Rd.a.EDUCATOR_FORMED&&a.executorsType!==Rd.a.WHOLE_CLASS||(delete a.gpd.finalizeGroupsAt,delete a.gpd.minStudentsAmount,delete a.gpd.maxStudentsAmount),{isValid:e&&n.mainFormData.isValid,form:O.a.merge({},n.mainFormData.form,a)}})),MD(LD(LD(n)),"onSubmit",ND(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._isSubmitting=!0,e.next=3,n.props.onSubmit(n.getFormData());case 3:case"end":return e.stop()}}),e,this)})))),MD(LD(LD(n)),"getActivityData",(function(){var e=n.props,t=e.activityData,r=e.groupConfiguration;return r?r.activityData:t})),MD(LD(LD(n)),"getMainFormState",(function(){var e=n.props.groupConfiguration;return e?e.mainFormState:null})),n.state=n.mapActivityDataToState(),n.mainFormData=null,n._isSubmitting=!1,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DD(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){if(!this._isSubmitting){var e,t,n=this.props,r=n.dispatch,a=n.match,o=n.activityData;if(o&&+o.dbId!==+a.params.activityId)r(TD.e(null));else{var i=(e=this.getFormData().form,t=this.mainFormState,RD(e,t));r(TD.e({activityData:i,mainFormState:this.mainFormState,state:this.state})),r(qu.bb(null,Bu.CONFIGURATION)),r(qu.ab(null))}}}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this._isSubmitting=!1}},{key:"mapActivityDataToState",value:function(){var e=this.props,t=e.groupConfiguration,n=e.isD2LFreemium,r=O.a.merge({},xD),a=this.getActivityData();if(t)return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){MD(e,t,n[t])}))}return e}({},r,t.state);if(!a)return n&&(r.isVideoToolEnabled.value=!0,r.isDocumentToolEnabled.value=!0,r.isMeetingToolEnabled.value=!1),r;if(r.isVideoToolEnabled.value=a.isVideoToolEnabled,r.isDocumentToolEnabled.value=a.isDocumentToolEnabled,r.isMeetingToolEnabled.value=a.isMeetingToolEnabled,r.groupReviewType.value=a.groupReviewType,a.groupReviewRubric&&(r.gpdRubric.value=O.a.isNumber(a.groupReviewRubric)?a.groupReviewRubric:a.groupReviewRubric.dbId),a.groupsFormationFinalizeAt&&(r.finalizeGroupDate.value=Pf.n(a.groupsFormationFinalizeAt)),a.minStudentsAmountInGroup&&(r.minStudentsAmountInGroup.value=a.minStudentsAmountInGroup),a.maxStudentsAmountInGroup&&(r.maxStudentsAmountInGroup.value=a.maxStudentsAmountInGroup),a.executorsType&&(r.executorsType.value=a.executorsType),a.dataForAllStudents){var o=!1;a.dataForAllStudents.forEach((function(e){e.studentGroup&&e.studentGroup.members&&e.studentGroup.members.forEach((function(e){e.rubricEvaluations&&e.rubricEvaluations.length>0&&(o=!0)}))})),r.groupReviewType.disabled=o,a.groupReviewRubric&&(r.gpdRubric.disabled=o)}return this.props.disableEditing&&(r.executorsType.disabled=!0,r.groupReviewType.disabled=!0,r.isVideoToolEnabled.disabled=!0,r.isDocumentToolEnabled.disabled=!0,r.isMeetingToolEnabled.disabled=!0,r.gpdRubric.disabled=!0,r.finalizeGroupDate.disabled=!0,r.minStudentsAmountInGroup.disabled=!0,r.maxStudentsAmountInGroup.disabled=!0),this.props.isEditingLocked&&(r.isVideoToolEnabled.disabled=!0,r.isDocumentToolEnabled.disabled=!0,r.isMeetingToolEnabled.disabled=!0),r}},{key:"render",value:function(){var e=this.state,t=e.executorsType,n=e.groupReviewType,r=e.isVideoToolEnabled,a=e.isDocumentToolEnabled,i=e.isMeetingToolEnabled,c=e.gpdRubric,s=e.finalizeGroupDate,u=e.minStudentsAmountInGroup,l=e.maxStudentsAmountInGroup,d=e.showAdvanced,f=e.meetingToolError,p=this.props,m=p.rubrics,b=p.serverErrors;return o.a.createElement(wD,{executorsType:t,serverErrors:b,rubrics:m,groupReviewType:n,activityData:this.getActivityData(),mainFormState:this.getMainFormState(),isVideoToolEnabled:r,isDocumentToolEnabled:a,isMeetingToolEnabled:i,gpdRubric:c,finalizeGroupDate:s,minStudentsAmountInGroup:u,maxStudentsAmountInGroup:l,showAdvanced:d,meetingToolError:f,showClientErrors:this.props.showClientErrors,onShowAdvanced:this.onShowAdvanced,disableEditing:this.props.disableEditing,isEditingLocked:this.props.isEditingLocked,onSubmit:this.onSubmit,onMainFormChange:this.onMainFormChange,onMaxStudentsAmountInGroupChange:this.onMaxStudentsAmountInGroupChange,onMinStudentsAmountInGroupChange:this.onMinStudentsAmountInGroupChange,onFinalizeGroupDateChange:this.onFinalizeGroupDateChange,onGpdRubricChange:this.onGpdRubricChange,onIsMeetingToolEnabledChange:this.onIsMeetingToolEnabledChange,onIsDocumentToolEnabledChange:this.onIsDocumentToolEnabledChange,onIsVideoToolEnabledChange:this.onIsVideoToolEnabledChange,onGroupReviewTypeChange:this.onGroupReviewTypeChange,onExecutorsTypeChange:this.onExecutorsTypeChange})}}])&&jD(n.prototype,r),a&&jD(n,a),t}(a.Component);FD.defaultProps={onChange:function(){},onSubmit:function(){},disableEditing:!1,isEditingLocked:!1};var UD=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{isD2LFreemium:Ye.u(e),groupConfiguration:SD(e)}}))(FD))),VD=n("oe1p");function GD(e){return(GD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WD(e,t){return!t||"object"!==GD(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QD(e){return(QD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YD(e,t){return(YD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var HD=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),WD(this,QD(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YD(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.activityData,r=e.history,a=e.match;if(!n)return null;var i=LS.f(n);return o.a.createElement(pv.a,{leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Copy, icon")},re.a.CONTENT_COPY),primaryText:t._("Copy"),onClick:function(){Vl.copyActivity(n.dbId).then((function(e){if(i){var t=EI.a.compile(In.e.EDUCATOR_ACTIVITY_EDIT)({activityId:e.dbId});return t=Object(II.a)(t),window.location.href=t}var n=EI.a.compile(hI.b.EDUCATOR_ACTIVITY_SETTINGS);r.push(n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){qD(e,t,n[t])}))}return e}({},a.params,{activityId:e.dbId})))}))}})}}])&&BD(n.prototype,r),a&&BD(n,a),t}(a.Component);HD.propTypes={activityData:c.a.object.isRequired};var zD=Object(U.withI18n)()(Object(y.k)(HD));function KD(e){return(KD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JD(e,t){return!t||"object"!==KD(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ZD(e){return(ZD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $D(e,t){return($D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var eL=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),JD(this,ZD(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$D(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.onConfirm,n=e.i18n,r=e.activityName,a=e.isLoading,i=e.hasError,c=[o.a.createElement(we.b,{id:"button-confirm-delete-dialog-no",enabled:!a,secondary:!0,ariaLabel:n._("No"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"No"})),o.a.createElement(we.b,{id:"button-confirm-delete-dialog-yes",isLoading:a,primary:!0,ariaLabel:n._("Yes"),onClick:t},o.a.createElement(U.Trans,{id:"Yes"}))];return o.a.createElement(mb.a,{actions:c,id:"confirm-activity-delete",title:n._("Delete Assignment?"),modal:!0,visible:!0},o.a.createElement("div",null,i&&o.a.createElement("p",{className:"u-error"},n._("Error: Can't remove provided assignment")),o.a.createElement("p",null,n._('Are you sure you want to delete assignment "{activityName}"?',{activityName:r}))))}}])&&XD(n.prototype,r),a&&XD(n,a),t}(a.Component),tL=Object(U.withI18n)()(eL);function nL(e){return(nL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aL(e){return(aL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oL(e,t){return(oL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sL=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=aL(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==nL(a)&&"function"!==typeof a?iL(r):a,cL(iL(iL(n)),"state",{isLoading:!1,hasError:!1}),cL(iL(iL(n)),"onConfirm",(function(){var e=n.props,t=e.activity,r=e.onSuccess;n.setIsLoading(!0),n.setHasError(!1),Vl.deleteActivity(t.dbId,t.name).then((function(e){r(e),dt.a.closeModal()})).catch((function(){n.setIsLoading(!1),n.setHasError(!0)}))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oL(e,t)}(t,e),n=t,(r=[{key:"setIsLoading",value:function(e){this.setState({isLoading:e})}},{key:"setHasError",value:function(e){this.setState({hasError:e})}},{key:"render",value:function(){var e=this.props.activity,t=this.state,n=t.isLoading,r=t.hasError;return o.a.createElement(tL,{onConfirm:this.onConfirm,isLoading:n,hasError:r,activityName:e.name})}}])&&rL(n.prototype,r),a&&rL(n,a),t}(a.Component);sL.propTypes={onSuccess:c.a.func,activity:c.a.object};var uL=sL;function lL(e){return(lL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pL(e,t){return!t||"object"!==lL(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mL(e){return(mL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bL(e,t){return(bL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yL=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pL(this,mL(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bL(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.activityData,r=e.history,a=e.match,i=e.onDeleteSuccess;return o.a.createElement(pv.a,{enabled:n.deletable&&fe.a.isDeleteAssignmentActionVisible(),leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Delete, icon")},re.a.DELETE),primaryText:t._("Delete"),onClick:function(){dt.a.showModal(o.a.createElement(uL,{activityName:!0,activity:n,onSuccess:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dL(e,t,n[t])}))}return e}({},a.params);i&&i(e);var n=EI.a.compile(hI.b.EDUCATOR_ACTIVITY_LIST);r.push(n(t))}}))}})}}])&&fL(n.prototype,r),a&&fL(n,a),t}(a.Component);yL.propTypes={activityData:c.a.object.isRequired,onDeleteSuccess:c.a.func};var vL=Object(U.withI18n)()(Object(y.k)(yL));function hL(e){return(hL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wL(e,t){return!t||"object"!==hL(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function OL(e){return(OL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SL(e,t){return(SL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var CL=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wL(this,OL(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SL(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityData,n=e.activityId,r=e.i18n,a=e.history,i=e.match,c=e.dispatch,s=t&&LS.f(t);return o.a.createElement(pv.a,{primaryText:r._("Configure"),leftIcon:o.a.createElement(zc.a,{ariaLabel:r._("Configure, icon")},re.a.CONFIGURE),onClick:function(){c(TD.f(null)),c(TD.e(null)),c(TD.h(null)),c(TD.g(null));var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gL(e,t,n[t])}))}return e}({},i.params);if(t?e.activityId=t.dbId:n&&(e.activityId=n),s){var r=EI.a.compile(In.e.EDUCATOR_ACTIVITY_EDIT)(e);return r=Object(II.a)(r),window.location.href=r}var o=EI.a.compile(hI.b.EDUCATOR_ACTIVITY_SETTINGS);a.push(o(e))}})}}])&&EL(n.prototype,r),a&&EL(n,a),t}(a.Component);CL.propTypes={activityId:c.a.string,activityData:c.a.any};var _L=Object(U.withI18n)()(Object(s.b)()(Object(y.k)(CL)));n("yt4I");function IL(e){return(IL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PL(e,t){return!t||"object"!==IL(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function AL(e){return(AL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NL(e,t){return(NL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jL=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),PL(this,AL(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NL(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityData,n=e.locale,r=e.i18n,a=e.match,i=e.history,c=null,s=t&&t.type===Wu.b.GROUP_PRESENTATION,u=t&&t.groupsFormedAt,l=t&&t.executorsType===Rd.a.EDUCATOR_FORMED,d=!0;if(s&&!l&&!u){var f=Object(Pf.e)(new Date(1e3*t.groupsFormationFinalizeAt),ia.a.SHORT,Object(Zi.e)(n));d=!1,c={html:o.a.createElement("div",{className:"gradebook-menu-tooltip"},o.a.createElement("span",null,r._("Activity Overview will be available once groups are finalized.")),o.a.createElement("span",null,r._("Groups will be finalized at: {formattedDate}.",{formattedDate:f})))}}return o.a.createElement(pv.a,{enabled:d,primaryText:r._("Overview"),leftIcon:o.a.createElement(zc.a,{ariaLabel:r._("Overview, icon")},re.a.GRADEBOOK),tooltip:c,onClick:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){TL(e,t,n[t])}))}return e}({},a.params);if(t&&(e.activityId=t.dbId),t&&t.type===Wu.b.IN_CLASSROOM){var n=EI.a.compile(In.e.GRADEBOOK);return location.href=n(e)}var r=EI.a.compile(hI.b.EDUCATOR_GRADEBOOK);i.push(r(e))}})}}])&&RL(n.prototype,r),a&&RL(n,a),t}(a.Component);jL.propTypes={activityId:c.a.number,activityData:c.a.object,locale:c.a.any.isRequired};var kL=Object(U.withI18n)()(Object(y.k)(jL));function DL(e){return(DL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ML(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xL(e,t){return!t||"object"!==DL(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FL(e){return(FL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UL(e,t){return(UL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var VL=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xL(this,FL(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UL(e,t)}(t,e),n=t,(r=[{key:"getGradingLabel",value:function(){return this.props.i18n._("Scoring")}},{key:"render",value:function(){var e=this.props,t=e.match,n=e.history;return o.a.createElement(pv.a,{primaryText:this.getGradingLabel(),leftIcon:o.a.createElement(zc.a,null,re.a.GRADE),onClick:function(){var e=EI.a.compile(hI.b.EDUCATOR_ACTIVITY_GRADING);n.push(e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){LL(e,t,n[t])}))}return e}({},t.params)))}})}}])&&ML(n.prototype,r),a&&ML(n,a),t}(a.Component),GL=Object(U.withI18n)()(Object(y.k)(VL)),qL=n("J3bt");n("4WYY");function BL(e){return(BL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QL(e){return(QL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YL(e,t){return(YL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KL="create-groups-action-button",XL="COPY_GROUPS_VIEW",JL={view:"DEFAULT_VIEW",selectedAssignment:"",activities:[]},ZL=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=QL(t).call(this,e),n=!a||"object"!==BL(a)&&"function"!==typeof a?HL(r):a,zL(HL(HL(n)),"onHide",(function(){var e=n.props.onHide;e&&e()})),zL(HL(HL(n)),"onCopyGroupsSelection",(function(){n.setState({view:XL},(function(){n.selectFieldContainer.current.querySelector('div[role="listbox"]').focus()}))})),zL(HL(HL(n)),"getActionButton",(function(e){var t=e.enabled,n=e.icon,r=e.id,a=e.message,i=e.onClick,c=e.title,s=e.tooltip;return o.a.createElement(we.b,{id:"".concat(KL,"-").concat(r),key:"".concat(KL,"-").concat(r),className:KL,ariaLabel:a,enabled:t,tooltip:s,onClick:i},o.a.createElement("div",{className:KL+"-container"},o.a.createElement("div",{className:KL+"-icon"},o.a.createElement(zc.a,null,n)),o.a.createElement("div",{className:KL+"-contents"},o.a.createElement("div",{className:KL+"-title"},c),o.a.createElement("div",{className:KL+"-message"},a))))})),zL(HL(HL(n)),"getDefaultView",(function(){var e=n.props,t=e.activities,r=e.i18n,a=e.onManualCreation,i=r._("Choose an action below to create groups for this assignment."),c=[{id:"manual-create",title:r._("Manual Creation"),message:r._("Manually create groups and assign members"),icon:re.a.CONFIGURE,onClick:a},{id:"copy-groups",title:r._("Copy From Assignment"),message:r._("Copy groups from an existing assignment"),enabled:t.length>0,icon:re.a.CONTENT_COPY,tooltip:t.length>0?"":{label:r._("No group assignments found to copy from")},onClick:n.onCopyGroupsSelection}];return o.a.createElement("div",{className:"create-groups-dialog-container"},o.a.createElement("div",{className:"create-groups-dialog-header"},i),o.a.createElement("div",{className:"create-groups-dialog-actions"},c.map((function(e){return n.getActionButton(e)}))))})),zL(HL(HL(n)),"getActivityListItems",(function(){var e=n.props,t=e.activities,r=e.i18n;return t.map((function(e){var t=O.a.get(e,"studentGroups"),n=t?t.length:0;return{key:"copy-group-activity[".concat(e.dbId,"]"),label:e.name,value:e.dbId,disabled:0===n,getProps:function(){return{primaryText:e.name,secondaryText:r._("Groups: {groupCount}",{groupCount:n})}}}}))})),zL(HL(HL(n)),"getCopyGroupsView",(function(){var e=n.props,t=e.i18n,r=e.onCopy,a=n.state.selectedAssignment;return o.a.createElement("div",{className:"create-groups-dialog-container"},o.a.createElement("div",{className:"create-groups-dialog-header"},t._("Choose an assignment below to copy groups from.")),o.a.createElement("div",{ref:n.selectFieldContainer,className:"create-groups-dialog-copy-options"},o.a.createElement(qL.b,{id:"copy-groups-assignment-select-field",className:"copy-groups-assignment-select-field",ariaLabel:t._("Assignment"),placeholder:t._("Assignment..."),menuItems:n.getActivityListItems(),value:a,onChange:function(e){n.setState({selectedAssignment:e})}})),o.a.createElement("div",{className:"create-groups-dialog-copy-actions"},o.a.createElement(we.h,{id:"create-groups-dialog-copy-actions--copy",primary:!0,ariaLabel:t._("Copy groups from selected assignment"),className:"create-groups-dialog-copy-actions--copy",enabled:Boolean(a),iconEl:o.a.createElement(zc.a,null,re.a.CONTENT_COPY),onClick:function(){r(a)}},t._("Copy"))))})),n.selectFieldContainer=o.a.createRef(),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){zL(e,t,n[t])}))}return e}({},JL),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YL(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n,t=this.state.view;return o.a.createElement(V.a,{id:"create-groups-dialog",dialogClassName:"create-groups-dialog",onHide:this.onHide,title:e._("Create Groups")},"DEFAULT_VIEW"===t&&this.getDefaultView(),t===XL&&this.getCopyGroupsView())}}])&&WL(n.prototype,r),a&&WL(n,a),t}(o.a.PureComponent);ZL.propTypes={activities:c.a.array,onCopy:c.a.func.isRequired,onHide:c.a.func,onManualCreation:c.a.func.isRequired,viewportDimensions:c.a.object.isRequired},ZL.defaultProps={activities:[],onHide:function(){}};var $L=Object(U.withI18n)()(ZL);function eM(e){return(eM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tM(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function nM(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){tM(o,r,a,i,c,"next",e)}function c(e){tM(o,r,a,i,c,"throw",e)}i(void 0)}))}}function rM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aM(e){return(aM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oM(e,t){return(oM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sM={loading:!0,activities:[]},uM=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=aM(t).call(this,e),n=!a||"object"!==eM(a)&&"function"!==typeof a?iM(r):a,cM(iM(iM(n)),"fetchGroupActivities",nM(regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.activityId,a=t.termClass,e.next=3,Vl.fetchGroupActivities(a.dbId);case 3:return o=e.sent,o=O.a.filter(o,(function(e){return e.dbId!==r})),o=O.a.orderBy(o,[function(e){return e.name.toLowerCase()}],["asc"]),n.setState({activities:o,loading:!1}),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})))),cM(iM(iM(n)),"launchGroupFormationPage",(function(){var e=n.props.groupFormationUrl;n.setState({loading:!0},(function(){window.location.href=e}))})),cM(iM(iM(n)),"onCopy",(function(e){var t=n.props,r=t.activityId,a=t.activityName,o=t.i18n;n.setState({loading:!0},nM(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Vl.copyGroupsToAssignment(e,r);case 3:n.launchGroupFormationPage(),t.next=11;break;case 6:t.prev=6,t.t0=t.catch(0),l.b.error(t.t0),dt.a.closeModal(),ft.a.addError(o._('We were not able to copy groups to: "{activityName}"',{activityName:a}));case 11:case"end":return t.stop()}}),t,this,[[0,6]])}))))})),cM(iM(iM(n)),"onHide",(function(){dt.a.closeModal()})),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){cM(e,t,n[t])}))}return e}({},sM),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oM(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.fetchGroupActivities()}},{key:"render",value:function(){var e=this.props.viewportDimensions,t=this.state,n=t.loading,r=t.activities;return n?o.a.createElement(te.a,{loading:!0}):o.a.createElement($L,{onHide:this.onHide,onCopy:this.onCopy,onManualCreation:this.launchGroupFormationPage,activities:r,viewportDimensions:e})}}])&&rM(n.prototype,r),a&&rM(n,a),t}(o.a.PureComponent);uM.propTypes={activityId:c.a.number.isRequired,activityName:c.a.string.isRequired,groupFormationUrl:c.a.string.isRequired};var lM=Object(U.withI18n)()(Object(s.b)((function(e){return{termClass:Ye.m(e),viewportDimensions:dy.a(e)}}))(uM));function dM(e){return(dM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pM(e){return(pM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mM(e,t){return(mM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vM=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=pM(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==dM(a)&&"function"!==typeof a?bM(r):a,yM(bM(bM(n)),"onClick",(function(){var e=n.props.activityData,t=e.studentGroups,r=e.dbId,a=e.name,i=n.createGroupFormationUrl();e&&e.type===Wu.b.GROUP_PRESENTATION&&O.a.isEmpty(t)?dt.a.showModal(o.a.createElement(lM,{activityId:r,activityName:a,groupFormationUrl:i})):window.location.href=i})),yM(bM(bM(n)),"createGroupFormationUrl",(function(){var e=n.props,t=e.activityData,r=e.ltiScope,a=e.reff,o=t.dbId,i="".concat(window.location.origin,"/educator/activity/").concat(o,"/student-groups/");return a?(i+="?ref="+a,r&&(i+="&lti-scope=".concat(r))):!a&&r&&(i+="?lti-scope="+r),i})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mM(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityData,n=e.i18n,r=e.institution,a=!Sc.a(r)||t&&t.cengageSettings&&t.cengageSettings.inPath,i=t&&t.type===Wu.b.GROUP_PRESENTATION,c=t&&t.groupsFormedAt,s=t&&t.executorsType===Rd.a.EDUCATOR_FORMED,u=!0;return!i||s||c||(u=!1),o.a.createElement(pv.a,{enabled:a&&u,primaryText:n._("Manage groups"),leftIcon:o.a.createElement(zc.a,null,re.a.GROUP),onClick:this.onClick})}}])&&fM(n.prototype,r),a&&fM(n,a),t}(a.Component);vM.propTypes={activityData:c.a.object,activityId:c.a.number,allowGroupsForming:c.a.bool,reff:c.a.string};var hM=Object(s.b)((function(e){return{ltiScope:Ye.l(e),institution:Ye.i(e)}}))(Object(U.withI18n)()(vM));function gM(e){return(gM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OM(e,t){return!t||"object"!==gM(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SM(e){return(SM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CM(e,t){return(CM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),OM(this,SM(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CM(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.match,r=e.history;return o.a.createElement(pv.a,{primaryText:t._("Learner progress"),leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Learner progress")},re.a.PERSON),onClick:function(){var e=EI.a.compile(hI.b.EDUCATOR_ACTIVITY_STUDENT_PROGRESS);r.push(e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){EM(e,t,n[t])}))}return e}({},n.params)))}})}}])&&wM(n.prototype,r),a&&wM(n,a),t}(a.Component);_M.propTypes={activityId:c.a.number};var IM=Object(U.withI18n)()(Object(y.k)(_M)),TM={GRADEBOOK:"gradebook",ACTIVITY_LIST:"activity-list"};n("s6u6");function RM(e){return(RM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AM(e){return(AM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NM(e,t){return(NM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DM="tooltip-trial",LM=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=AM(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==RM(a)&&"function"!==typeof a?jM(r):a,kM(jM(jM(n)),"onDismiss",(function(){var e=n.props.onDismiss;O.a.isFunction(e)&&e()})),kM(jM(jM(n)),"onRequestExtension",(function(){var e=n.props.onRequestExtension;O.a.isFunction(e)&&e()})),kM(jM(jM(n)),"getTooltipContent",(function(){var e=n.props,t=e.i18n,r=e.expirationDate,a=Cc.a.getFormattedExpirationDateTime(r);return o.a.createElement("div",{className:"".concat(DM,"--content")},o.a.createElement("div",{className:"".concat(DM,"--header")},t._("Full-featured Bongo Trial")),o.a.createElement("div",{className:"".concat(DM,"--message-container")},o.a.createElement("div",null,o.a.createElement(Oe.a,{className:"".concat(DM,"--message-icon")},re.a.TIMER),t._("Trial expiration: {expiration}",{expiration:a})),o.a.createElement("div",null,o.a.createElement(Oe.a,{className:"".concat(DM,"--message-icon")},re.a.UNLOCKED),t._("All functionality is unlocked during the trial period.")),o.a.createElement("div",{className:E()("".concat(DM,"--message--centered"),"".concat(DM,"--message-actions"))},o.a.createElement(we.b,{id:"button-trial-request-extension",className:"".concat(DM,"--message-button"),onClick:n.onRequestExtension},t._("Request Extension")),o.a.createElement(we.b,{id:"button-trial-dismiss",className:"".concat(DM,"--message-button"),onClick:n.onDismiss},t._("Dismiss")))))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NM(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.isOpen;return o.a.createElement(Sg.b,{animation:"fade",className:E()(DM,n),delay:0,distance:0,duration:250,html:this.getTooltipContent(),interactive:!0,open:r,position:Sg.a.BOTTOM,sticky:!0,stickyDuration:0,trigger:"manual"},t)}}])&&PM(n.prototype,r),a&&PM(n,a),t}(a.Component);LM.propTypes={className:c.a.string,children:c.a.node,expirationDate:c.a.number,isOpen:c.a.bool,onDismiss:c.a.func.isRequired,onHidden:c.a.func,onRequestExtension:c.a.func.isRequired,i18n:c.a.any},LM.defaultProps={expirationDate:0,isOpen:!1};var MM=Object(U.withI18n)()(LM);function xM(e){return(xM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FM(){return(FM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function UM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){WM(e,t,n[t])}))}return e}function VM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GM(e){return(GM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qM(e,t){return(qM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function BM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QM="button-trial",YM=[Number.POSITIVE_INFINITY,2592e5,864e5];var HM=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=GM(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==xM(a)&&"function"!==typeof a?BM(r):a,WM(BM(BM(n)),"_updateTimeoutId",null),WM(BM(BM(n)),"state",{isTooltipOpen:!Cc.a.isTrialExpired(n.props.expirationDate)&&Cc.a.shouldShowTrialNotice()}),WM(BM(BM(n)),"navigateToTrialsPage",(function(){var e=n.props,t=e.history,r=e.match,a=EI.a.compile(hI.b.EDUCATOR_TRIAL)(UM({},r.params));t.push(a)})),WM(BM(BM(n)),"onTooltipRequestExtension",(function(){Cc.a.updateLastAckTime(),n.setState({isTooltipOpen:!1},(function(){setTimeout(n.navigateToTrialsPage,100)}))})),WM(BM(BM(n)),"onTooltipDismiss",(function(){Cc.a.updateLastAckTime(),n.setState({isTooltipOpen:!1})})),WM(BM(BM(n)),"onClick",(function(){n.setState({isTooltipOpen:!0})})),WM(BM(BM(n)),"renderButtonLabel",(function(){for(var e=n.props,t=e.i18n,r=e.expirationDate,a=Ea()(),i=Ea()(r),c=r-(new Date).getTime(),s=YM.length-1;s>=0&&!(c<=YM[s]);s--);var u=o.a.createElement("span",{className:E()("".concat(QM,"--label-time"),"".concat(QM,"--label-time--severity-").concat(s))},a.to(i,!0));return o.a.createElement("div",{className:"".concat(QM,"--label")},t._("Trial ends in"),"\xa0",u)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qM(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(){var e=this,t=this.props.expirationDate;clearTimeout(this._updateTimeoutId),this._updateTimeoutId=setTimeout((function(){if(e.forceUpdate(),Cc.a.isTrialExpired(t)){var n=e.props,r=n.location,a=n.history;Cc.a.rerouteToTrialsPage(r.pathname,a)}}),3e4)}},{key:"componentWillUnmount",value:function(){this._updateTimeoutId&&clearTimeout(this._updateTimeoutId)}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.expirationDate,a=t.location,i=this.state.isTooltipOpen;return Cc.a.isTrialExpired(this.props.expirationDate)?null:Cc.a.isTrialPath(a.pathname)?null:o.a.createElement(MM,{expirationDate:r,isOpen:i,onRequestExtension:this.onTooltipRequestExtension,onDismiss:this.onTooltipDismiss},o.a.createElement(we.b,FM({},(e=this.props,O.a.pick(e,O.a.keys(we.b.propTypes))),{id:"button-trial",className:E()(QM,n),onClick:this.onClick,enabled:!i}),o.a.createElement(Oe.a,{className:"".concat(QM,"--icon")},re.a.TIMER),this.renderButtonLabel()))}}])&&VM(n.prototype,r),a&&VM(n,a),t}(a.Component);HM.propTypes=UM({},we.b.propTypes,{className:c.a.string,children:c.a.node,expirationDate:c.a.number,history:c.a.any,match:c.a.any,location:c.a.any}),HM.defaultProps={expirationDate:0};var zM=Object(U.withI18n)()(Object(y.k)(HM));function KM(e){return(KM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JM(e){return(JM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZM(e,t){return(ZM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ex(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tx="trial-card",nx="https://www.bongolearn.com/ready-to-upgrade/",rx=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=JM(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==KM(a)&&"function"!==typeof a?$M(r):a,ex($M($M(n)),"getExtensionFormUrl",(function(){var e=n.props.institution.externalTrackingUuid,t="institutionUUID=".concat(encodeURIComponent(e));return"".concat(nx,"?").concat(t)})),ex($M($M(n)),"renderDetails",(function(){var e=n.props,t=e.i18n,r=e.currentUser,a=e.trialExpirationDate,i=e.institution,c=Cc.a.isTrialExpired(a),s=Cc.a.getFormattedExpirationDateTime(a),u=Object(Wr.c)(r),l=[];return l.push(o.a.createElement("div",{key:"trial-card-detail[expiration]"},o.a.createElement(Oe.a,{className:"".concat(tx,"-detail-icon--left")},re.a.TIMER),o.a.createElement("div",{className:"".concat(tx,"-detail-text")},t._("Trial expiration: {expiration}",{expiration:s})))),l.push(o.a.createElement("div",{key:"trial-card-detail[restrictions]"},o.a.createElement(Oe.a,{className:"".concat(tx,"-detail-icon--left")},c?re.a.LOCKED:re.a.UNLOCKED),o.a.createElement("div",{className:"".concat(tx,"-detail-text")},c?t._("All functionality is locked since the trial period has expired"):t._("All functionality is unlocked during the trial period")))),u?(l.push(o.a.createElement("div",{key:"trial-card-detail[institution-id]"},o.a.createElement(Oe.a,{className:"".concat(tx,"-detail-icon--left")},re.a.ACCOUNT),o.a.createElement("div",{className:"".concat(tx,"-detail-text")},t._("Institution ID:"),"\xa0",o.a.createElement(Sg.b,{label:t._("Click to copy. Use this unique ID when requesting an extension.")},o.a.createElement(hp.a,{id:"button-trial-institution-id",className:"".concat(tx,"-detail-button"),onClick:function(){Object(Se.a)(i.externalTrackingUuid)}},i.externalTrackingUuid,o.a.createElement(Oe.a,{className:"".concat(tx,"-detail-icon--right")},re.a.CONTENT_COPY)))))),l.push(o.a.createElement("div",{key:"trial-card-detail[info]"},o.a.createElement(Oe.a,{className:"".concat(tx,"-detail-icon--left")},re.a.INFO_OUTLINE),o.a.createElement("div",{className:"".concat(tx,"-detail-text")},t._("To continue using Bongo after the trial period, please contact us using this form:"),"\xa0",o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("a",{id:"link-trial-extension-form",href:n.getExtensionFormUrl(),target:"_blank",rel:"noopener noreferrer"},nx),o.a.createElement(Oe.a,{className:"".concat(tx,"-detail-icon--right")},re.a.OPEN_IN_NEW)))))):l.push(o.a.createElement("div",{key:"trial-card-detail[info]"},o.a.createElement(Oe.a,{className:"".concat(tx,"-detail-icon--left")},re.a.INFO_OUTLINE),o.a.createElement("div",{className:"".concat(tx,"-detail-text")},t._("To continue using Bongo after the trial period, please contact your institution or instructor")))),o.a.createElement("div",{className:"".concat(tx,"-detail-container")},l)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZM(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isTrial,r=e.trialExpirationDate;if(!n)return null;var a=Cc.a.isTrialExpired(r)?t._("Bongo Trial: Expired"):t._("Bongo Trial: Active");return o.a.createElement(Hn.a,null,o.a.createElement(Hn.d,{title:a,className:"trial-card-title"}),o.a.createElement(Hn.c,null,this.renderDetails()))}}])&&XM(n.prototype,r),a&&XM(n,a),t}(a.Component);rx.propTypes={currentUser:c.a.object,institution:c.a.object,isTrial:c.a.bool,trialExpirationDate:c.a.number,i18n:c.a.any};var ax=Object(U.withI18n)()(Object(s.b)((function(e){return{currentUser:Qe.h(e),institution:Ye.i(e),isTrial:Ye.B(e),trialExpirationDate:Ye.s(e)}}))(rx));n("6ru4");function ox(e){return(ox="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ix(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fx(e,t,n[t])}))}return e}function cx(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function sx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ux(e){return(ux=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lx(e,t){return(lx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var px=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=ux(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==ox(a)&&"function"!==typeof a?dx(r):a,fx(dx(dx(n)),"getMenuItems",(function(){var e=n.props.menuActions,t=[];return e&&(t=cx(e)),t})),fx(dx(dx(n)),"getCompiledPath",(function(e,t){return EI.a.compile(e)(t)})),fx(dx(dx(n)),"getQuickNav",(function(){var e=n.props,t=e.context,r=e.existingQuickNavItems,a=e.activityName,i=e.activityType,c=e.match,s=e.showQuickNav,u=[],l=[JA.a.ACTIVITY_OVERVIEW,JA.a.GROUPS,JA.a.PROGRESS,JA.a.CONFIGURATION,JA.a.GRADING];if(!t||!c.params.classId||!s)return null;if(t===JA.a.ASSIGNMENTS||t===JA.a.CONFIGURATION_NEW)return null;if(r&&r.length>0)(u=r.map((function(e,t){return o.a.createElement(VD.e,{key:"nav-item-"+t,context:e.context,to:e.url||e.location,text:e.context.breadcrumbLabel||e.context.label})}))).push(o.a.createElement(VD.e,{key:"current-nav-location",text:t.breadcrumbLabel||t.label}));else{if([JA.a.RUBRICS,JA.a.MEETINGS,JA.a.LIBRARY,JA.a.NOTIFICATIONS,JA.a.SUPPORT,JA.a.TEMPLATE_SETTINGS].includes(t))return null;fe.a.isEducatorAssignmentNavigationVisible()&&(u.push(o.a.createElement(VD.e,{key:"assignment-nav-item-",to:n.getCompiledPath(hI.b.EDUCATOR_ACTIVITY_LIST,ix({},c.params)),text:JA.a.ASSIGNMENTS.label})),a&&u.push(o.a.createElement(VD.e,{key:"activity-name-nav-item",text:a}))),t===JA.a.GRADING||t===JA.a.PROGRESS?(u.push(o.a.createElement(VD.e,{key:"gradebook-nav-item",text:JA.a.ACTIVITY_OVERVIEW.breadcrumbLabel||JA.a.ACTIVITY_OVERVIEW.label,to:n.getCompiledPath(hI.b.EDUCATOR_GRADEBOOK,ix({},c.params))})),O.a.remove(l,JA.a.ACTIVITY_OVERVIEW),O.a.remove(l,JA.a.GROUPS)):i&&i!==Wu.b.GROUP_PRESENTATION&&O.a.remove(l,JA.a.GROUPS),O.a.remove(l,t),u.push(o.a.createElement(VD.e,{key:"current-nav-location",text:t.breadcrumbLabel||t.label,menuItems:n.createNavMenuItems(l)}))}return o.a.createElement(VD.d,{navItems:u})})),fx(dx(dx(n)),"getTrialButton",(function(){var e=n.props,t=e.isTrial,r=e.trialExpirationDate;if(t)return o.a.createElement(zM,{className:"toolbar-trial-button",expirationDate:r})})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lx(e,t)}(t,e),n=t,(r=[{key:"createNavMenuItems",value:function(e){var t=this.props,n=t.match,r=t.activityType,a=t.institution,i=t.activityData,c=t.locale,s=[],u=!0,l=!0;return Sc.a(a)&&(u=!1,l=!1),e.indexOf(JA.a.CONFIGURATION)>=0&&l&&s.push(o.a.createElement(_L,{key:"edit-assignment-menu-item",activityId:n.params.activityId})),e.indexOf(JA.a.ACTIVITY_OVERVIEW)>=0&&u&&s.push(o.a.createElement(kL,{key:"gradebook-menu-item",locale:c})),e.indexOf(JA.a.GRADING)>=0&&n.params.studentId&&s.push(o.a.createElement(GL,{key:"grading-menu-item"})),r&&r===Wu.b.GROUP_PRESENTATION&&e.indexOf(JA.a.GROUPS)>=0&&s.push(o.a.createElement(hM,{key:"manage-groups-menu-item",reff:TM.GRADEBOOK,activityData:i})),e.indexOf(JA.a.PROGRESS)>=0&&n.params.studentId&&s.push(o.a.createElement(IM,{key:"student-progress-menu-item"})),s}},{key:"render",value:function(){var e=this.props,t=e.actions,n=e.classId,r=e.className,a=e.i18n,i=e.match.params.activityId,c=[];return Object(JA.b)(a),i&&(i=+i),t&&(c=cx(t)),c.push(this.getTrialButton()),o.a.createElement(Ms.b,{activityId:i,actions:c,classId:n,className:r,title:this.getQuickNav(),menuOptions:this.getMenuItems(),navigationDrawerType:VD.b.EDUCATOR})}}])&&sx(n.prototype,r),a&&sx(n,a),t}(a.Component);px.propTypes={actions:c.a.array,activityData:c.a.object,activityId:c.a.number,activityName:c.a.string,activityType:c.a.string,existingQuickNavItems:c.a.array,classId:c.a.number,className:c.a.string,context:c.a.object,menuActions:c.a.array,studentId:c.a.number,showQuickNav:c.a.bool},px.defaultProps={actions:[],existingQuickNavItems:[],menuActions:[],showQuickNav:!0};var mx=Object(s.b)((function(e){return{institution:Ye.i(e),isTrial:Ye.B(e),trialExpirationDate:Ye.s(e),locale:jS.a(e)}}))(Object(U.withI18n)()(Object(y.k)(px))),bx=n("cMfo");function yx(e){return(yx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hx(e){return(hx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gx(e,t){return(gx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ex(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var wx=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=hx(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==yx(a)&&"function"!==typeof a?Ex(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ex(Ex(n)),"getMenuActions",(function(){var e=n.props,t=e.activityData,r=e.isCengageEditLtiScope;if(!t||r)return[];var a=[];return fe.a.isDeleteAssignmentActionVisible()&&a.push(o.a.createElement(vL,{key:"delete-assignment-menu-action",activityData:t})),a})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gx(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityData,n=e.isCengageEditLtiScope;return t?o.a.createElement(mx,{activityName:t.name,activityType:t.type,activityData:t,showQuickNav:!n,context:JA.a.CONFIGURATION,menuActions:this.getMenuActions()}):null}}])&&vx(n.prototype,r),a&&vx(n,a),t}(a.Component);wx.propTypes={activityData:c.a.object.isRequired};var Ox=Object(s.b)((function(e){return{isCengageEditLtiScope:Ye.l(e)===bx.a.CENGAGE_EDIT}}))(Object(U.withI18n)()(Object(y.k)(wx)));function Sx(e){return(Sx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _x(e,t){return!t||"object"!==Sx(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ix(e){return(Ix=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tx(e,t){return(Tx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rx=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_x(this,Ix(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tx(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.rubrics,n=e.activityData,r=e.onFormChange,a=e.onSubmit,i=e.showClientErrors,c=e.serverErrors,s=e.i18n,u=e.disableEditing,l=e.isEditingLocked;return o.a.createElement(Dt.a,{title:s._("Configure Group Assignment")},o.a.createElement(_c.a,null),o.a.createElement(Ox,{activityData:n}),o.a.createElement(Lt.a,null,o.a.createElement(UD,{rubrics:t,activityData:n,showClientErrors:i,serverErrors:c,onSubmit:a,disableEditing:u,isEditingLocked:l,onChange:r})))}}])&&Cx(n.prototype,r),a&&Cx(n,a),t}(a.Component),Px=Object(U.withI18n)()(Rx),Ax=n("4pH6"),Nx="/educator/cengage/finish-lpn-activity-edit/".concat(In.a,"/cancel/false"),jx=function(e){var t=m.a.getState();Ye.l(t)===bx.a.CENGAGE_EDIT&&e&&(window.location.href=EI.a.compile(Nx)({activityId:e})+"?lti-scope=cengage-edit")};function kx(e){return(kx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Vx(e,t,n[t])}))}return e}function Lx(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Mx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xx(e){return(xx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fx(e,t){return(Fx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ux(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gx=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=xx(t).call(this,e),n=!a||"object"!==kx(a)&&"function"!==typeof a?Ux(r):a,Vx(Ux(Ux(n)),"onFormChange",(function(e){n.formData=e})),Vx(Ux(Ux(n)),"onSubmit",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isValid,a=t.form,o=n.props,i=o.match,c=o.history,s=o.dispatch,Kk(),r){e.next=7;break}return Jk(),n.setState({showClientErrors:!0}),e.abrupt("return");case 7:return e.next=9,Vl.editGroupProject(n.props.activityId,a).then((function(){Xk({linkId:O.a.get(a,"lmsSync.ltiGradeIdentifier")||"",name:O.a.get(a,"name")}),jx(n.props.activityId),s(TD.e(null)),s(qu.bb(null,Bu.CONFIGURATION)),s(qu.ab(null));var e=EI.a.compile(fe.a.getNavigationPathAfterConfiguration())(Dx({},i.params));c.push(e)})).catch((function(e){Jk(),e.length?n.setState({serverErrors:zv(e)}):n.setState({serverErrors:[]})}));case 9:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Lx(o,r,a,i,c,"next",e)}function c(e){Lx(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.state={showClientErrors:!1,serverErrors:null},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fx(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityData,n=e.rubrics,r=e.isD2LFreemium,a=e.disableEditing,i=e.isEditingLocked;return o.a.createElement(Px,{rubrics:n,showClientErrors:this.state.showClientErrors,serverErrors:this.state.serverErrors,onSubmit:this.onSubmit,onFormChange:this.onFormChange,activityData:t,disableEditing:a,isEditingLocked:i,isD2LFreemium:r})}}])&&Mx(n.prototype,r),a&&Mx(n,a),t}(a.Component);Gx.propTypes={activityId:c.a.number.isRequired,activityData:c.a.object,rubrics:c.a.arrayOf(c.a.object)};var qx=Object(y.k)(Object(s.b)((function(e){return{isD2LFreemium:Ye.u(e),navigation:Ax.a(e)}}))(Gx)),Bx="keyTerm_",Wx=100;function Qx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Yx(e,t,n[t])}))}return e}function Yx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zx=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"mergeCustomizer",value:function(e,t){if(O.a.isArray(e))return t}},{key:"checkForDuplicateKeyTerm",value:function(e,t){for(var n=!1,r=e[t].term.trim().toLowerCase(),a=0;a<e.length;a++)if(a!==t&&e[a].term.trim().toLowerCase()===r){n=!0;break}return n}},{key:"getTranslatedKeyTerms",value:function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n],a=this.checkForDuplicateKeyTerm(e,n),o=O.a.trim(r.term).length>0&&r.count>0&&!a;t.push(Qx({},r,{id:r.id||O.a.uniqueId(Bx),isDuplicate:a,isValid:o}))}return t}},{key:"processStudentData",value:function(e){var t=!1,n=!1,r=!1;return e&&e.dataForAllStudents&&e.dataForAllStudents.forEach((function(e){e.educatorGrade&&(n=!0),e.reflectAnswers&&e.reflectAnswers.length>0&&(t=!0),e.rubricEvaluations&&e.rubricEvaluations.length&&e.rubricEvaluations.filter((function(e){return Wr.g(e.user)})).length&&(r=!0)})),{hasReflectionAnswers:t,hasSubmissionEvaluation:n,hasPeerRubricEvaluation:r}}}],(n=null)&&Hx(t.prototype,n),r&&Hx(t,r),e}();function Kx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Jx(e,t,n[t])}))}return e}function Xx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zx=Object(l.c)("activity-form"),$x=function(){function e(t,n){var r=this,a=n.activityData,o=n.formCustomizations,i=n.isReadOnly,c=n.onChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Jx(this,"form",{}),Jx(this,"_onActivityFormChangeHandler",null),Jx(this,"_applyExistingSettings",(function(e){Zx.debug("Applying existing settings from activityData",e);var t=O.a.keys(r.form);O.a.forEach(t,(function(t){var n=r.form[t];if(n.selectFieldName){var a=O.a.get(e,n.selectFieldName),o=a;O.a.isFunction(n.getFormSettingValue)&&(o=n.getFormSettingValue(a)),n.updateValue(o)}else if(O.a.isFunction(n.getFormSettingValue)){var i=n.getFormSettingValue(e);n.updateValue(i)}})),Zx.debug("activityData applied to form",r.form)})),Jx(this,"_applyIntegrationSettings",(function(){var e=An.getContentName();e&&r.form.name.updateValue(e);var t=An.getContentId();t&&(r.form.integrationDeepLink.updateValue(!0),r.form.integrationDeepLinkId.updateValue(t),r.form.integrationDeepLinkGradeSync.updateValue(!0)),An.clear()})),Jx(this,"_applyCustomizations",(function(e){var t=O.a.keys(e);O.a.forEach(t,(function(t){var n=e[t],a=r.form[t];a&&a.update(n)}))})),Jx(this,"_createDefaultActivityForm",(function(e){var t={};return O.a.forEach(e,(function(e,n){var a=O.a.merge({},e,{key:n,onChange:r._onActivitySettingChange});t[n]=eF(a)})),t})),Jx(this,"_makeReadOnly",(function(){O.a.forEach(r.form,(function(e,t){var n=O.a.merge({},e,{disabledReasons:{isReadOnly:!0}});r.form[t]=eF(n)}))})),Jx(this,"_onActivitySettingChange",(function(e,t){Zx.debug("[".concat(e.key,"] _onActivitySettingChange"),e.value);var n=Kx({},r.form,Jx({},e.key,e));r._onActivityFormChange(n),r._applyActivitySettingChangeSideEffects(e,t)})),Jx(this,"_applyActivitySettingChangeSideEffects",(function(e,t){if(O.a.isFunction(e.getSideEffects)){var n=e.getSideEffects(e,t,r.form);Zx.debug("[".concat(e.key,"] _applyActivitySettingChangeSideEffects"),n),O.a.forEach(n,(function(e,t){var n=r.form[t];n&&n.update(e)}))}})),Jx(this,"_onActivityFormChange",(function(e){Zx.debug("_onActivityFormChange",e),r.form=e,O.a.isFunction(r._onActivityFormChangeHandler)&&r._onActivityFormChangeHandler(r.form)})),Jx(this,"setOnChangeHandler",(function(e){r._onActivityFormChangeHandler=e})),this.form=this._createDefaultActivityForm(t),o&&this._applyCustomizations(o),a&&this._applyExistingSettings(a),this._applyIntegrationSettings(),i&&this._makeReadOnly(),this.setOnChangeHandler(c)}var t,n,r;return t=e,(n=[{key:"getForm",value:function(){return this.form}},{key:"applyUpdates",value:function(e){e&&this._applyCustomizations(e)}}])&&Xx(t.prototype,n),r&&Xx(t,r),e}(),eF=function e(t){if(!t||O.a.isEmpty(t))throw new Error("createActivitySetting requires a setting object");if(!t.key)throw new Error("createActivitySetting requires setting.key");if(!t.onChange||!O.a.isFunction(t.onChange))throw new Error("createActivitySetting requires setting.onChange function");var n=O.a.compact(O.a.values(t.disabledReasons)),r=Kx({},t,{value:O.a.get(t,"value",t.defaultValue),disabledReasons:O.a.get(t,"disabledReasons",{}),selectFieldName:O.a.get(t,"selectFieldName",t.key),inputFieldName:O.a.get(t,"inputFieldName",t.key),isEnabled:n.length<=0}),a=function(t,n){var r=e(t);return r.onChange(r,n),r},o=function(e){var t=O.a.mergeWith({},r,e,zx.mergeCustomizer);return a(t,r)},i=function(e){var t=Kx({},r,e);return a(t,r)},c=function(e){return i({value:e})};return Kx({},r,{update:o,updateValue:function(e){return o({value:e})},set:i,setValue:c,useDefaultValue:function(){var e=O.a.get(r,"defaultValue",null);return c(e)},getSideEffects:function(e,t,n){if(O.a.isFunction(r.getSideEffects)){var a=r.getSideEffects(e,t,n);return O.a.isObject(a)?a:{}}return{}},toMutationInput:function(){var e=r.value;return O.a.isFunction(r.getMutationInputValue)&&(e=r.getMutationInputValue(r)),r.inputFieldName?O.a.set({},r.inputFieldName,e):e}})},tF=n("28FC");function nF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rF={activityScore:{selectFieldName:"cengageSettings.score",inputFieldName:"cengageSettings.score",defaultValue:null},countTowardsFinalGrade:{selectFieldName:"cengageSettings.countTowardsFinalGrade",inputFieldName:"cengageSettings.countTowardsFinalGrade",defaultValue:!0}},aF={name:{selectFieldName:"name",inputFieldName:"name",defaultValue:""},dueDate:{selectFieldName:"submitDueAt",inputFieldName:"submitDueAt",defaultValue:null,getMutationInputValue:function(e){return e.value?Pf.d(e.value):void 0},getFormSettingValue:function(e){return e?Pf.n(e):null}},gradeType:{selectFieldName:"gradeType",inputFieldName:"gradeType",defaultValue:ty.a.GRADE,getMutationInputValue:function(e){return e.value===ty.a.AUTO_ANALYSIS?ty.a.GRADE:e.value},getSideEffects:function(e,t,n){if(!(e.value!==t.value))return{};var r={},a=t.value===ty.a.RUBRIC;if(e.value===ty.a.RUBRIC)r.gradeRubric={disabledReasons:{gradeType:null}};else if(a){r.gradeRubric={value:null,disabledReasons:{gradeType:!0}},n.peerReviewEvaluationType.value===Uj.RUBRIC&&(r.peerReviewEvaluationType={value:Uj.NONE})}var o=t.value===ty.a.AUTO_ANALYSIS;if(e.value===ty.a.AUTO_ANALYSIS){var i=n.autoGradeScoreSource.value;n.autoGradeScoreSource.value&&n.autoGradeScoreSource.value!==kO.NONE||(i=kO.AUTO_ANALYSIS_OVERALL_SCORE),r.toolsetVideo={value:!0,disabledReasons:{isAutoAnalysisGradeType:!0}},r.autoAnalysis={value:!0,disabledReasons:{isAutoAnalysisGradeType:!0}},r.autoAnalysisScore={value:!0,disabledReasons:{isAutoAnalysisGradeType:!0}},r.autoGradeScoreSource={value:i,disabledReasons:{isAutoAnalysisGradeType:null}},r.peerReviewGrading={value:{enabled:!1},disabledReasons:{isAutoAnalysisGradeType:!0}}}else o&&(r.toolsetVideo={disabledReasons:{isAutoAnalysisGradeType:null}},r.autoAnalysis={value:!0,disabledReasons:{isAutoAnalysisGradeType:null}},r.autoAnalysisScore={value:!0,disabledReasons:{isAutoAnalysisGradeType:null}},r.autoGradeScoreSource={value:kO.NONE,disabledReasons:{isAutoAnalysisGradeType:!0}},r.peerReviewGrading={disabledReasons:{isAutoAnalysisGradeType:null}});return r}},gradeRubric:{selectFieldName:"rubric",inputFieldName:"rubric",defaultValue:null,getMutationInputValue:function(e){if(e.value)return e.value},getFormSettingValue:function(e){if(O.a.isNumber(e))return e;var t=O.a.get(e,"dbId",null);return O.a.isNumber(t)?t:null},getSideEffects:function(e){return e.value?{selfAssessment:{disabledReasons:{gradeRubric:null}}}:{selfAssessment:{value:!1,disabledReasons:{gradeRubric:!0}}}}},autoGradeScoreSource:{selectFieldName:"autoGradeScoreSource",inputFieldName:"autoGradeScoreSource",defaultValue:kO.NONE,getSideEffects:function(e){if(O.a.includes(jO,e.value))return{gradeType:{value:ty.a.AUTO_ANALYSIS}}}}},oF={instructions:{selectFieldName:"instructionsText",inputFieldName:"instructions",defaultValue:{text:"",link:null},getMutationInputValue:function(e){return e.value.text},getFormSettingValue:function(e){return{text:e||"",link:LS.a(e)}}},instructionsMedia:{selectFieldName:"instructionsMedia",inputFieldName:"overviewMedia",defaultValue:null,getMutationInputValue:function(e){if(e.value&&O.a.isNumber(e.value.dbId))return e.value.dbId}},commentary:{selectFieldName:"commentaryText",inputFieldName:"commentaryText",defaultValue:""},commentaryMedia:{selectFieldName:"commentaryMedia",inputFieldName:"commentaryMedia",defaultValue:null,getMutationInputValue:function(e){if(e.value&&O.a.isNumber(e.value.dbId))return e.value.dbId}}},iF={toolsetVideo:{selectFieldName:"isVideoToolEnabled",inputFieldName:"toolsets.isVideoToolEnabled",defaultValue:!0,getSideEffects:function(e,t){if(e.value!==t.value)return e.value?{autoAnalysis:{disabledReasons:{toolsetVideo:null}}}:{autoAnalysis:{value:!1,disabledReasons:{toolsetVideo:!0}}}}},toolsetDocument:{selectFieldName:"isDocumentToolEnabled",inputFieldName:"toolsets.isDocumentToolEnabled",defaultValue:!0},toolsetMeeting:{selectFieldName:"isMeetingToolEnabled",inputFieldName:"toolsets.isMeetingToolEnabled",defaultValue:!0},autoAnalysisScore:{selectFieldName:"isVideoAnalysisScoreEnabled",inputFieldName:"toolsets.isVideoAnalysisScoreEnabled",defaultValue:!0,getFormSettingValue:function(e){return Boolean(e)}},autoAnalysisKeyTerms:{selectFieldName:"videoAnalysisKeyTerms",inputFieldName:"toolsets.videoAnalysisKeyTerms",defaultValue:[],getMutationInputValue:function(e){for(var t=[],n=0;n<e.value.length;n++){var r=e.value[n];t.push({term:r.term,count:r.count})}return t},getFormSettingValue:function(e){return e||[]}}},cF={autoAnalysis:{selectFieldName:"autoAnalysisEnabled",inputFieldName:"autoAnalysisEnabled",defaultValue:!0,getMutationInputValue:function(e){return e.value?tF.a.ENABLED:tF.a.DISABLED},getFormSettingValue:function(e){return e===tF.a.ENABLED},getSideEffects:function(e,t){var n={};return e.value!==t.value&&(e.value?(n.autoAnalysisScore={disabledReasons:{autoAnalysis:null}},n.autoAnalysisKeyTerms={disabledReasons:{autoAnalysis:null}}):(n.autoAnalysisScore={disabledReasons:{autoAnalysis:!0}},n.autoAnalysisKeyTerms={disabledReasons:{autoAnalysis:!0}})),n}}},sF={reflectionQuestions:{selectFieldName:"reflectStageSettings",inputFieldName:"reflectStageSettings",defaultValue:{enabled:!1,errors:{},isDirty:!1,isEditingLocked:!1,isEditingRestricted:!1,isValid:!0,questions:[]},getFormSettingValue:function(e){return{enabled:O.a.get(e,"reflectStageEnabled",!1),questions:O.a.get(e,"reflectQuestions",[])}},getMutationInputValue:function(e){var t=e.value,n=t.enabled,r=t.questions,a=[];return n&&(a=r.map((function(e,t){return O.a.merge({},O.a.pick(e,O.a.values(Sh.a.QUESTION)),{orderNumber:t})}))),{reflectStageEnabled:n,reflectQuestions:a}}}},uF={peerReviewConcealedReviewer:{defaultValue:!1,selectFieldName:"isCommentingAnonymous",inputFieldName:"peerReview.isCommentingAnonymous"},peerReviewConcealedSubmitter:{defaultValue:!1,selectFieldName:"peerReviewSubmitterAnonymous",inputFieldName:"peerReview.peerReviewSubmitterAnonymous"},peerReviewAllowedPriorToSubmission:{defaultValue:!1,selectFieldName:"allowViewOthersResultsWithoutOwn",inputFieldName:"peerReview.allowViewOthersResultsWithoutOwn"},peerReviewMode:{defaultValue:jg.a.SYSTEM,selectFieldName:"peerReviewType",inputFieldName:"peerReview.peerReviewType",getSideEffects:function(e,t){var n={};return e.value!==t.value&&(e.value===jg.a.SYSTEM?n.peerReviewConcealedSubmitter={disabledReasons:{peerReviewMode:null}}:e.value===jg.a.STUDENT&&(n.peerReviewConcealedSubmitter={value:!1,disabledReasons:{peerReviewMode:!0}})),Boolean(e.value)!==Boolean(t.value)&&e.value&&(n.peerReviewRequiredReviews={value:3}),n}},peerReviewRequiredReviews:{defaultValue:3,selectFieldName:"peerReviewAmount",inputFieldName:"peerReview.peerReviewAmount",getMutationInputValue:function(e){return+e.value}},peerReviewEvaluationType:{defaultValue:Uj.FIVE_STAR,selectFieldName:null,inputFieldName:"peerReview.quantitativeReviewType",getFormSettingValue:function(e){var t=Uj.NONE,n=O.a.get(e,"studentFivestarValuationEnabled",!1),r=O.a.get(e,"rubricPeerAllowed",!1);return n?t=Uj.FIVE_STAR:r&&(t=Uj.RUBRIC),t}},peerReviewDueDate:{defaultValue:null,selectFieldName:"peerReviewDueAt",inputFieldName:"peerReview.peerReviewDueAt",getMutationInputValue:function(e){return e.value?Pf.d(e.value):void 0},getFormSettingValue:function(e){return e?Pf.n(e):null}}},lF={peerReviewGrading:{defaultValue:{enabled:!1,isEditingRestricted:!1,isValid:!0,weight:DS.c,tooltip:""},selectFieldName:null,inputFieldName:"peerReview",getMutationInputValue:function(e){var t,n=e.value,r=n.enabled,a=n.weight;return nF(t={},DS.b.SETTINGS_ENABLED,r),nF(t,DS.b.SETTINGS_WEIGHT,a),t},getFormSettingValue:function(e){return{enabled:O.a.get(e,DS.b.SETTINGS_ENABLED,!1),weight:O.a.get(e,DS.b.SETTINGS_WEIGHT,DS.c)}}}},dF={selfAssessment:{defaultValue:!1,disabledReasons:{gradeRubric:!0},selectFieldName:"rubricSelfAllowed",inputFieldName:"selfAssessment"}},fF={integrationDeepLink:{defaultValue:!1,selectFieldName:"ltiDeepLinking",inputFieldName:"lmsSync.deepLink"},integrationDeepLinkId:{defaultValue:"",selectFieldName:"ltiGradeIdentifier",inputFieldName:"lmsSync.ltiGradeIdentifier"},integrationDeepLinkGradeSync:{defaultValue:!1,selectFieldName:"ltiGradeSyncEnabled",inputFieldName:"lmsSync.gradeSync"}};!function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nF(e,t,n[t])}))}}({},aF,oF,iF,sF,uF,dF,fF,rF);function pF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mF=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pF(e,t,n[t])}))}return e}({},aF,oF,iF,uF,dF,fF,cF);function bF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yF(e,t,n[t])}))}return e}function yF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vF=function(e){var t=e.activityForm,n=e.institution,r=e.rubrics,a=e.canAutoGrade,i=e.canGradeType,c=t.name,s=t.dueDate,u=t.gradeType,l=t.gradeRubric,d=t.autoGradeScoreSource,f=t.activityScore,p=t.countTowardsFinalGrade,m={canAutoGrade:a,canGradeType:i,institution:n,rubrics:r,activityName:{value:c.value,disabled:!c.isEnabled},onActivityNameChange:c.updateValue,submitDueAt:{value:s.value,disabled:!s.isEnabled},onSubmitDueAtChange:s.updateValue,resetSubmitDueAt:function(){s.updateValue(null)},gradeType:{value:u.value,disabled:!u.isEnabled},onGradeTypeChange:u.updateValue,gradeRubric:{value:l.value,disabled:!l.isEnabled},onGradeRubricChange:l.updateValue,autoGradeScoreSource:{value:d.value,disabled:!d.isEnabled},onAutoGradeScoreSourceChange:d.updateValue};return f&&(m=bF({},m,{activityScore:{value:f.value,disabled:!f.isEnabled},onActivityScoreChange:f.updateValue})),p&&(m=bF({},m,{countTowardsFinalGrade:{value:p.value,disabled:!p.isEnabled},onCountTowardsFinalGradeChange:p.updateValue})),o.a.createElement(fN,m)},hF=function(e){var t=e.activityForm,n=e.showAdvanced,r=e.onAddOverviewMedia,a=e.onAddCommentaryMedia,i=t.instructions,c=t.instructionsMedia,s=t.commentary,u=t.commentaryMedia,l={showAdvanced:n,instructions:{value:i.value.text,link:i.value.link,disabled:!i.isEnabled},onInstructionsChange:function(e){var t={link:LS.a(e),text:e};i.updateValue(t)},overviewVideo:c.value,onAddOverviewMedia:r,onSetOverviewVideo:c.updateValue,commentaryText:{value:s.value,disabled:!s.isEnabled},onCommentaryTextChange:s.updateValue,commentaryMedia:u.value,onAddCommentaryMedia:a,onSetCommentaryMedia:u.updateValue};return o.a.createElement(Pj,l)};function gF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){EF(e,t,n[t])}))}return e}function EF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wF=function(e){var t=e.activityForm.reflectionQuestions,n={settings:gF({},t.value,{isEditingLocked:!t.isEnabled}),onChange:t.setValue};return o.a.createElement(nj,n)};function OF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){SF(e,t,n[t])}))}return e}function SF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CF=function(e){var t=e.canGradedPeerReview,n=e.canPeerReview,r=e.showAdvanced,a=e.peerReviewEvaluationTypes,i=e.peerReviewTooltipLabel,c=e.peerReviewGradingTooltipLabel,s=e.hasSubmissionEvaluation,u=e.activityForm,l=u.gradeType,d=u.peerReviewMode,f=u.peerReviewConcealedReviewer,p=u.peerReviewConcealedSubmitter,m=u.peerReviewAllowedPriorToSubmission,b=u.peerReviewRequiredReviews,y=u.peerReviewEvaluationType,v=u.peerReviewGrading,h=u.peerReviewDueDate,g={enablePeerReview:n,canGradedPeerReview:t,hasGradedSubmission:s,tooltipLabel:i,showAdvanced:r,peerReview:{value:Boolean(d.value),disabled:!d.isEnabled},onPeerReviewChange:function(e){e?d.useDefaultValue():d.updateValue(null)},peerReviewType:{value:d.value,disabled:!d.isEnabled},onPeerReviewTypeChange:d.updateValue,isCommentingAnonymous:{value:f.value,disabled:!f.isEnabled},onIsCommentingAnonymousChange:f.updateValue,isPeerRevieweeAnonymous:{value:p.value,disabled:!p.isEnabled},onIsPeerRevieweeAnonymousChange:p.updateValue,allowViewOthersResultsWithoutOwn:{value:m.value,disabled:!m.isEnabled},onAllowViewOthersResultsWithoutOwnChange:m.updateValue,peerReviewAmount:{value:b.value,disabled:!b.isEnabled},onPeerReviewAmountChange:b.updateValue,quantitativeReviewTypes:a,quantitativeReviewType:{value:y.value,disabled:!y.isEnabled},onQuantitativeReviewTypeChange:y.updateValue,peerReviewDueAt:{value:h.value,disabled:!h.isEnabled},onPeerReviewDueAtChange:h.updateValue,resetPeerReviewDueAt:function(){h.updateValue(null)},gradeType:{value:l.value}};return t&&(g=OF({},g,{gradedPeerReviewSettings:OF({},v.value,{isEditingRestricted:!v.isEnabled,tooltip:c}),onGradedPeerReviewChange:v.setValue})),o.a.createElement(ON,g)},_F=function(e){var t=e.activityForm.selfAssessment,n={selfAssessment:{value:t.value,disabled:!t.isEnabled},onSelfAssessmentChange:t.updateValue};return o.a.createElement(AN,n)},IF=function(e){var t=e.activityForm,n=e.showAdvanced,r=t.integrationDeepLink,a=t.integrationDeepLinkId,i=t.integrationDeepLinkGradeSync,c={showAdvanced:n,deepLink:{value:r.value,disabled:!r.isEnabled},onDeepLinkChange:r.updateValue,ltiGradeIdentifier:{value:a.value,disabled:!a.isEnabled},onLtiGradeIdentifierChange:a.updateValue,gradeSync:{value:i.value,disabled:!i.isEnabled},onGradeSyncChange:i.updateValue};return o.a.createElement(fj,c)};n("QvYj");function TF(e){return(TF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){kF(e,t,n[t])}))}return e}function PF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AF(e){return(AF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NF(e,t){return(NF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DF=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=AF(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==TF(a)&&"function"!==typeof a?jF(r):a,kF(jF(jF(n)),"onDelete",(function(){var e=n.props,t=e.keyTerm;(0,e.onDelete)(t)})),kF(jF(jF(n)),"onTermChanged",(function(e){var t=n.props,r=t.keyTerm;(0,t.onChange)(RF({},r,{term:e}))})),kF(jF(jF(n)),"onCountChanged",(function(e){var t=n.props,r=t.keyTerm,a=t.onChange,o=e?parseInt(e):e;if(o>Wx)return!1;a(RF({},r,{count:o}))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NF(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.countError,n=e.enabled,r=e.keyTerm,a=e.i18n,i=e.showHeader,c=e.termError;return o.a.createElement("div",{className:"activity-auto-analysis-desired-key-term"},o.a.createElement("div",{className:"activity-auto-analysis-desired-key-term-container"},o.a.createElement("div",{className:"activity-auto-analysis-desired-key-term-input"},i&&o.a.createElement("span",{className:"activity-auto-analysis-desired-key-term-input-label"},a._("Word or Phrase")),o.a.createElement(Sa.i,{id:"activity-auto-analysis-desired-key-term-input[".concat(r.id,"]"),ariaLabel:c?a._("Word or Phrase is required"):a._("Word or Phrase"),onChange:this.onTermChanged,enabled:n,error:Boolean(c),value:r.term})),o.a.createElement("div",{className:"activity-auto-analysis-desired-key-term-count"},i&&o.a.createElement("span",{className:"activity-auto-analysis-desired-key-term-input-label"},a._("Occurrences")),o.a.createElement(Sa.i,{id:"activity-auto-analysis-desired-key-term-count[".concat(r.id,"]"),ariaLabel:t?a._("Count of word or phrases must be a number greater than zero"):a._("Count of word or phrase"),type:"number",enabled:n,error:Boolean(t),onChange:this.onCountChanged,value:r.count})),o.a.createElement("div",{className:"activity-auto-analysis-desired-key-term-item-actions"},o.a.createElement(we.d,{id:"activity-auto-analysis-desired-key-term-delete[".concat(r.id,"]"),ariaLabel:a._("Delete key term"),enabled:n,onClick:this.onDelete},re.a.DELETE))),(c||t)&&o.a.createElement("div",{className:"activity-auto-analysis-key-term-validation-container"},o.a.createElement(Oe.a,{className:"activity-auto-analysis-key-term-validation-icon"},re.a.ERROR),o.a.createElement("div",{className:"activity-auto-analysis-key-term-validation-msg-container"},c&&o.a.createElement("span",{className:"activity-auto-analysis-key-term-validation-msg"},c),t&&o.a.createElement("span",{className:"activity-auto-analysis-key-term-validation-msg"},t))))}}])&&PF(n.prototype,r),a&&PF(n,a),t}(o.a.PureComponent);DF.propTypes={countError:c.a.string,termError:c.a.string,keyTerm:c.a.object.isRequired,onDelete:c.a.func.isRequired,onChange:c.a.func.isRequired,showHeader:c.a.bool,enabled:c.a.bool},DF.defaultProps={countError:"",termError:"",showHeader:!1,enabled:!0};var LF=Object(U.withI18n)()(DF);n("tS7S");function MF(e){return(MF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){BF(e,t,n[t])}))}return e}function FF(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function UF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VF(e){return(VF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GF(e,t){return(GF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WF={newKeyTerm:null},QF=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=VF(t).call(this,e),n=!a||"object"!==MF(a)&&"function"!==typeof a?qF(r):a,BF(qF(qF(n)),"getTooltipLabel",(function(){var e=n.props.i18n,t=fe.a.getAutoAnalysisPermission(),r="";return t.isRestricted&&(r=e._(t.restrictedMessage)),r})),BF(qF(qF(n)),"addNewKeyTerm",(function(){var e=n.props.keyTerms,t=n.state.newKeyTerm,r=O.a.trim(t),a=[{id:O.a.uniqueId(Bx),term:r,count:1}].concat(FF(e));n.onChange(a),n.setState({newKeyTerm:null})})),BF(qF(qF(n)),"onNewKeyTermChange",(function(e){n.setState({newKeyTerm:e})})),BF(qF(qF(n)),"onNewKeyTermSubmit",(function(){n.addNewKeyTerm()})),BF(qF(qF(n)),"onKeyTermChange",(function(e){var t=n.props.keyTerms,r=O.a.map(t,(function(t){return t.id===e.id?xF({},e):t}));n.onChange(r)})),BF(qF(qF(n)),"onKeyTermDelete",(function(e){var t=n.props.keyTerms,r=O.a.map(t,(function(t){return t.id===e.id?null:t}));n.onChange(r)})),BF(qF(qF(n)),"onChange",(function(e){var t=n.props.onChange,r=O.a.compact(e);t(r=zx.getTranslatedKeyTerms(r))})),BF(qF(qF(n)),"renderKeyTermsWarning",(function(){var e=n.props,t=e.i18n;if(e.showRecalculationWarning){var r=t._("Any changes to Key Terms will recalculate Auto Analysis\\u2122 scores");return o.a.createElement(Ee.a,{className:"activity-auto-analysis-key-terms-note",type:Ee.a.NOTE_TYPES.WARNING,message:r})}return null})),BF(qF(qF(n)),"renderKeyTermsActions",(function(){var e=n.props,t=e.i18n,r=e.isEditable,a=n.state.newKeyTerm,i=n.getTooltipLabel(),c=Boolean(a&&a.trim().length>0&&r);return o.a.createElement("div",{className:"activity-auto-analysis-desired-key-terms-actions"},o.a.createElement(Sa.i,{id:"activity-auto-analysis-desired-key-terms-actions-input",className:"activity-auto-analysis-desired-key-terms-actions-input",ariaLabel:t._("Enter new key term"),enabled:r,onChange:n.onNewKeyTermChange,placeholder:t._("New key term"),tooltip:{label:i},value:a,onSubmit:n.onNewKeyTermSubmit,onSubmitKeystroke:{modifiers:[],keyCode:Dw.a.ENTER}}),o.a.createElement(we.h,{id:"activity-auto-analysis-key-terms-create-button",ariaLabel:t._("Add new key term"),primary:!0,enabled:c,tooltip:{label:i},onClick:n.addNewKeyTerm},t._("Add")))})),BF(qF(qF(n)),"renderKeyTerms",(function(){var e=n.props,t=e.i18n,r=e.isEditable,a=e.keyTerms;return O.a.map(a,(function(e,a){var i="",c="";return 0===e.term.trim().length?i=t._("Field is required."):e.isDuplicate&&(i=t._("Duplicate key terms are not allowed.")),(!e.count||e.count<=0||e.count>Wx)&&(c=t._("Count must be between 1 and {0}.",{0:Wx})),o.a.createElement(LF,{key:"activity-auto-analysis-desired-key-term[".concat(e.id,"]"),keyTerm:e,countError:c,termError:i,onChange:n.onKeyTermChange,onDelete:n.onKeyTermDelete,showHeader:0===a,enabled:r})}))})),n.state=xF({},WF),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GF(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n;return o.a.createElement("div",{id:"individual-assignment-toolset-auto-analysis-key-terms-container",className:"activity-auto-analysis-key-terms-container"},o.a.createElement("div",{className:"activity-auto-analysis-key-terms-header"},o.a.createElement("p",{className:"activity-auto-analysis-key-terms-header-msg"},e._("Entering key terms will add a content portion to Auto Analysis reports. For each key word or phrase, enter the desired occurrence of the term. Do not enter plurals, they will be automatically grouped into the singular form. These terms can be updated later and the reports will be updated accordingly.")),this.renderKeyTermsWarning()),o.a.createElement("div",{className:"activity-auto-analysis-desired-key-terms-contents"},this.renderKeyTermsActions(),o.a.createElement("div",{className:"activity-auto-analysis-desired-key-terms"},this.renderKeyTerms())))}}])&&UF(n.prototype,r),a&&UF(n,a),t}(o.a.PureComponent);QF.defaultProps={isEditable:!0,keyTerms:[],showRecalculationWarning:!1},QF.propTypes={isEditable:c.a.bool,keyTerms:c.a.array,onChange:c.a.func.isRequired,showRecalculationWarning:c.a.bool,i18n:c.a.object.isRequired};var YF=Object(U.withI18n)()(QF);n("fIC4");function HF(e){return(HF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KF(e){return(KF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XF(e,t){return(XF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function JF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $F={keyTerms:[],isValid:!0},eU=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=KF(t).call(this,e),n=!a||"object"!==HF(a)&&"function"!==typeof a?JF(r):a,ZF(JF(JF(n)),"onKeyTermsChange",(function(e){var t=!0;O.a.forEach(e,(function(e){if(!e.isValid)return t=!1,!1})),n.setState({keyTerms:e,isValid:t})})),ZF(JF(JF(n)),"onSaveClick",(function(){(0,n.props.onSave)(n.state.keyTerms),n.close()})),ZF(JF(JF(n)),"close",(function(){dt.a.closeModal()}));var o=e.activityForm.autoAnalysisKeyTerms,i=zx.getTranslatedKeyTerms(o.value);return n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ZF(e,t,n[t])}))}return e}({},$F,{keyTerms:i}),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XF(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.activityForm,r=e.hasSubmissionEvaluation,a=n.autoAnalysisKeyTerms,i=n.autoGradeScoreSource,c=this.state,s=c.keyTerms,u=c.isValid,l=r&&O.a.includes([kO.AUTO_ANALYSIS_OVERALL_SCORE,kO.AUTO_ANALYSIS_CONTENT_SCORE],i.value),d=t._("Auto Analysis\\u2122 Key Terms"),f=t._("Ok"),p=[o.a.createElement(we.h,{primary:!0,id:"auto-analysis-key-terms-dialog-save",key:"auto-analysis-key-terms-dialog-save",enabled:u,ariaLabel:f,onClick:this.onSaveClick},f)];return o.a.createElement(V.a,{id:"auto-analysis-key-terms-dialog",dialogClassName:"auto-analysis-key-terms-dialog",contentClassName:"auto-analysis-key-terms-dialog-content",title:d,footerActions:p,onHide:this.close},o.a.createElement("div",{className:"auto-analysis-key-terms-dialog-content-container"},o.a.createElement(YF,{showRecalculationWarning:l,isEditable:a.isEnabled,onChange:this.onKeyTermsChange,keyTerms:s})))}}])&&zF(n.prototype,r),a&&zF(n,a),t}(o.a.PureComponent);eU.defaultProps={hasSubmissionEvaluation:!1},eU.propTypes={activityForm:c.a.object.isRequired,hasSubmissionEvaluation:c.a.bool,onSave:c.a.func.isRequired,i18n:c.a.object.isRequired};var tU=Object(U.withI18n)()(eU);n("6Swy");function nU(e){return(nU="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aU(e){return(aU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oU(e,t){return(oU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sU=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=aU(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==nU(a)&&"function"!==typeof a?iU(r):a,cU(iU(iU(n)),"onKeyTermsDialogSave",(function(e){n.props.activityForm.autoAnalysisKeyTerms.updateValue(e)})),cU(iU(iU(n)),"onConfigureKeyTermsClick",(function(){var e=n.props,t=e.activityForm,r=e.hasSubmissionEvaluation,a=o.a.createElement(tU,{activityForm:t,hasSubmissionEvaluation:r,onSave:n.onKeyTermsDialogSave});dt.a.showModal(a)})),cU(iU(iU(n)),"getKeyTermCount",(function(){var e=n.props.activityForm.autoAnalysisKeyTerms;return e.value?e.value.length:0})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oU(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n,t=e._("Configure Key Terms"),n="",r=this.getKeyTermCount();return r&&(n=e._({id:"{keyTermCount, plural, one {{keyTermCount} term defined} other {{keyTermCount} terms defined}}",values:{keyTermCount:r}})),o.a.createElement(we.b,{primary:!0,id:"auto-analysis-key-terms-configure",className:"auto-analysis-key-terms-configure",ariaLabel:t,onClick:this.onConfigureKeyTermsClick},o.a.createElement("div",{className:"auto-analysis-key-terms-configure-label-primary"},o.a.createElement(Oe.a,{className:"auto-analysis-key-terms-configure-icon"},re.a.SETTINGS),t),o.a.createElement("div",{className:"auto-analysis-key-terms-configure-label-secondary"},n))}}])&&rU(n.prototype,r),a&&rU(n,a),t}(o.a.PureComponent);sU.defaultProps={hasSubmissionEvaluation:!1},sU.propTypes={activityForm:c.a.object.isRequired,hasSubmissionEvaluation:c.a.bool,i18n:c.a.object.isRequired};var uU=Object(U.withI18n)()(sU);n("MKu0");function lU(e){return(lU="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fU(e){return(fU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pU(e,t){return(pU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yU={newKeyTerm:null},vU=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=fU(t).call(this,e),n=!a||"object"!==lU(a)&&"function"!==typeof a?mU(r):a,bU(mU(mU(n)),"getTooltipLabel",(function(){var e=n.props,t=e.i18n,r=e.activityForm.toolsetVideo,a=fe.a.getAutoAnalysisPermission(),o="";return a.isRestricted?o=t._(a.restrictedMessage):r.value||(o=t._("This option is only applicable if video has been enabled in the Toolset")),o})),bU(mU(mU(n)),"renderScoreSettings",(function(){var e=n.props,t=e.i18n,r=e.activityForm.autoAnalysisScore,a=n.getTooltipLabel(),i=t._("Enabling this option will display scores to learners on the Auto Analysis\\u2122 report");return r.disabledReasons.isAutoAnalysisGradeType?i=t._(oE.a.AUTO_ANALYSIS_CONFIG_OPTION_NOT_EDITABLE):a&&(i=a),o.a.createElement("div",{id:"individual-assignment-toolset-auto-analysis-scores"},o.a.createElement(ZA.a,{id:"individual-assignment-toolset-auto-analysis-scores-checkbox",name:"individual-assignment-toolset-auto-analysis-scores-checkbox",checked:r.value,enabled:r.isEnabled,label:t._("Auto Analysis\\u2122 Scores Displayed to Learner"),onChange:r.updateValue,tooltip:{label:i}}))})),bU(mU(mU(n)),"renderSubSettings",(function(){var e=n.props,t=e.activityForm,r=e.hasSubmissionEvaluation;return t.autoAnalysis.value?o.a.createElement("div",{id:"individual-assignment-toolset-auto-analysis-contents"},n.renderScoreSettings(),o.a.createElement(uU,{activityForm:t,hasSubmissionEvaluation:r})):null})),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){bU(e,t,n[t])}))}return e}({},yU),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pU(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.activityForm.autoAnalysis,r="";return r=n.disabledReasons.isAutoAnalysisGradeType?t._(oE.a.AUTO_ANALYSIS_CONFIG_OPTION_NOT_EDITABLE):this.getTooltipLabel(),o.a.createElement("div",{className:"activity-auto-analysis-container"},o.a.createElement("div",{className:"activity-auto-analysis-header"},o.a.createElement("h2",{className:"section-header"},t._("Auto Analysis\\u2122")),o.a.createElement(pN.a,{id:"activity-auto-analysis-toggle",className:"activity-auto-analysis-toggle",label:"",ariaLabel:t._("Enable/Disable Auto Analysis\\u2122"),name:"activity-auto-analysis-toggle",onChange:n.updateValue,enabled:n.isEnabled,checked:n.value,tooltip:{label:r}})),o.a.createElement("p",null,t._("Auto Analysis\\u2122 is a tool that will automatically transcribe video submissions and provide a report of key metrics on the learner's delivery.")),this.renderSubSettings())}}])&&dU(n.prototype,r),a&&dU(n,a),t}(o.a.PureComponent);vU.defaultProps={hasSubmissionEvaluation:!1},vU.propTypes={activityForm:c.a.object.isRequired,hasSubmissionEvaluation:c.a.bool,i18n:c.a.object.isRequired};var hU=Object(U.withI18n)()(vU),gU=(n("3Hpt"),function(e,t,n,r){var a=O.a.get(t,"disabledReasons",{});return a.isFreemium?t.value?"".concat(n," (").concat(e._(oE.a.FREEMIUM_CONFIG_NOT_EDITABLE_OPTION),")"):"".concat(r," (").concat(e._(oE.a.FREEMIUM_CONFIG_OPTION),")"):a.isAutoAnalysisGradeType?t.value?"".concat(n," (").concat(e._(oE.a.AUTO_ANALYSIS_CONFIG_OPTION_NOT_EDITABLE),")"):"".concat(r," (").concat(e._(oE.a.AUTO_ANALYSIS_CONFIG_OPTION_NOT_EDITABLE),")"):t.value?n:r}),EU=function(e){var t=e.i18n,n=e.activityForm,r=n.toolsetVideo,a=n.toolsetDocument,i=n.toolsetMeeting,c=gU(t,r,t._("Video enabled"),t._("Video disabled")),s=gU(t,a,t._("Documents enabled"),t._("Documents disabled")),u=gU(t,i,t._("Meetings enabled"),t._("Meetings disabled"));return o.a.createElement("div",null,o.a.createElement("h2",{className:"section-header"},t._("Toolset")),o.a.createElement("div",{className:"activity-toolset-container"},o.a.createElement("div",{className:"activity-toolset-primary"},o.a.createElement(we.c,{secondary:!0,id:"individual-assignment-toolset-video",enabled:r.isEnabled,isToggle:!0,onClick:function(){r.updateValue(!r.value)},checked:r.value,tooltip:{label:c},ariaLabel:c},re.a.VIDEOCAM),o.a.createElement(we.c,{secondary:!0,id:"individual-assignment-toolset-document",enabled:a.isEnabled,isToggle:!0,iconClassName:Tf.a.FILE,onClick:function(){a.updateValue(!a.value)},checked:a.value,tooltip:{label:s},ariaLabel:s}),o.a.createElement(we.c,{secondary:!0,id:"individual-assignment-toolset-meeting",enabled:i.isEnabled,isToggle:!0,iconClassName:Tf.a.CALENDAR,onClick:function(){i.updateValue(!i.value)},checked:i.value,tooltip:{label:u},ariaLabel:u}))))};EU.propTypes={activityForm:c.a.object.isRequired,i18n:c.a.object.isRequired};var wU=Object(U.withI18n)()(EU);n("F+kV");function OU(e){return(OU="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CU(e){return(CU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _U(e,t){return(_U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RU=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=CU(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==OU(a)&&"function"!==typeof a?IU(r):a,TU(IU(IU(n)),"renderHeader",(function(){return fe.a.isPremiumUpgradeMessageVisible()?o.a.createElement(Aj,null):null})),TU(IU(IU(n)),"renderErrors",(function(){var e=n.props,t=e.i18n,r=e.serverErrors,a=r&&O.a.values(r);return o.a.createElement(o.a.Fragment,null,a&&a.length>0&&o.a.createElement("ul",{className:"u-pb-20px"},a.map((function(e){return o.a.createElement("li",{key:e,className:"u-error"},o.a.createElement("p",null,e))}))),a&&0===a.length&&o.a.createElement("p",{className:"u-error"},t._("Something went wrong. Please try again")))})),TU(IU(IU(n)),"renderFooter",(function(){var e=n.props.i18n,t=n.props,r=t.isValid,a=t.isSaving,i=t.isReadOnly,c=t.validationErrors,s=n.props,u=s.showAdvanced,l=s.onShowAdvanced,d=s.onSubmit,f=r&&!a&&!i,p=u?e._("Hide Advanced"):e._("Show Advanced"),m=a?e._("Saving..."):e._("Save"),b=r?"":e._("All required fields must be completed and valid before saving");return O.a.isEmpty(c)||(b=c[0]),o.a.createElement("div",{className:"settings-form-actions"},o.a.createElement(we.h,{id:"button-assignment-settings-save",primary:!0,ariaLabel:m,enabled:f,tooltip:{label:b},onClick:d,className:"settings-form-save-button"},m),o.a.createElement(we.b,{id:"button-assignment-settings-advanced",secondary:!0,ariaLabel:p,className:"settings-form-advanced-button",onClick:l},p))})),TU(IU(IU(n)),"renderSettings",(function(){return o.a.createElement(o.a.Fragment,null,n.renderBasicSettings(),n.renderInstructionsSettings(),n.renderToolsetSettings(),n.renderAutoAnalysisSettings(),o.a.createElement("div",{className:"settings-form-advanced-container"},n.renderReflectionQuestionSettings(),n.renderPeerReviewSettings(),n.renderSelfAssessmentSettings(),n.renderDeepLinkSettings()))})),TU(IU(IU(n)),"renderBasicSettings",(function(){var e=n.props,t=e.activityForm,r=e.institution,a=e.rubrics,i=n.props,c={activityForm:t,institution:r,rubrics:a,canAutoGrade:i.canAutoGrade,canGradeType:i.canGradeType};return o.a.createElement(vF,c)})),TU(IU(IU(n)),"renderInstructionsSettings",(function(){var e=n.props,t=e.activityForm,r=e.showAdvanced,a=n.props,i={showAdvanced:r,activityForm:t,onAddOverviewMedia:a.onAddOverviewMedia,onAddCommentaryMedia:a.onAddCommentaryMedia};return o.a.createElement(hF,i)})),TU(IU(IU(n)),"renderToolsetSettings",(function(){var e=n.props,t=e.activityForm;if(!e.showAdvanced)return null;var r={activityForm:t};return o.a.createElement(wU,r)})),TU(IU(IU(n)),"renderAutoAnalysisSettings",(function(){var e=n.props,t={activityForm:e.activityForm,hasSubmissionEvaluation:e.hasSubmissionEvaluation};return o.a.createElement(hU,t)})),TU(IU(IU(n)),"renderReflectionQuestionSettings",(function(){var e=n.props,t=e.showAdvanced,r=e.canReflectionQuestions,a=e.activityForm;if(!t)return null;if(!r)return null;var i={activityForm:a};return o.a.createElement(wF,i)})),TU(IU(IU(n)),"renderPeerReviewSettings",(function(){var e=n.props,t=e.i18n,r=e.activityForm,a=n.props,i=a.canGradedPeerReview,c=a.canPeerReview,s=n.props,u=s.showAdvanced,l=s.hasSubmissionEvaluation,d=r.gradeType,f=d.value===ty.a.RUBRIC,p=[{label:t._("None"),value:Uj.NONE,itemProps:{id:"peer-review-evaluation-type-option-none"}},{label:t._("Five Star"),value:Uj.FIVE_STAR,itemProps:{id:"peer-review-evaluation-type-option-rating"}},{label:t._("Assignment Rubric"),value:Uj.RUBRIC,itemProps:{id:"peer-review-evaluation-type-option-rubric"},disabled:!f}],m="";d.value===ty.a.AUTO_ANALYSIS&&(m=t._(oE.a.AUTO_ANALYSIS_CONFIG_OPTION_NOT_EDITABLE));var b={activityForm:r,canGradedPeerReview:i,canPeerReview:c,showAdvanced:u,peerReviewEvaluationTypes:p,peerReviewTooltipLabel:c?"":t._(oE.a.FREEMIUM_CONFIG_OPTION),peerReviewGradingTooltipLabel:m,hasSubmissionEvaluation:l};return o.a.createElement(CF,b)})),TU(IU(IU(n)),"renderSelfAssessmentSettings",(function(){var e=n.props,t=e.showAdvanced,r=e.activityForm;if(!t)return null;var a={activityForm:r};return o.a.createElement(_F,a)})),TU(IU(IU(n)),"renderDeepLinkSettings",(function(){var e=n.props,t=e.showAdvanced,r=e.activityForm;if(!t)return null;if(!fe.a.isDeepLinkingEnabled())return null;var a={activityForm:r,showAdvanced:t};return o.a.createElement(IF,a)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_U(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:E()("activity-settings-form")},this.renderHeader(),this.renderSettings(),this.renderErrors(),this.renderFooter())}}])&&SU(n.prototype,r),a&&SU(n,a),t}(a.Component);RU.defaultProps={canAutoGrade:!1,canGradedPeerReview:!1,canGradeType:!0,canReflectionQuestions:!1,showAdvanced:!1,isSaveButtonEnabled:!0,isSaving:!1,isReadOnly:!1,isValid:!1,validationErrors:[]},RU.propTypes={activityForm:c.a.object.isRequired,rubrics:c.a.array,institution:c.a.object.isRequired,hasSubmissionEvaluation:c.a.bool,canAutoGrade:c.a.bool,canGradedPeerReview:c.a.bool,canGradeType:c.a.bool,canReflectionQuestions:c.a.bool,isSaveButtonEnabled:c.a.bool,isSaving:c.a.bool,isReadOnly:c.a.bool,isValid:c.a.bool,showAdvanced:c.a.bool,validationErrors:c.a.array,serverErrors:c.a.any,onAddOverviewMedia:c.a.func,onAddCommentaryMedia:c.a.func,onShowAdvanced:c.a.func.isRequired,onSubmit:c.a.func.isRequired,i18n:c.a.object};var PU=Object(U.withI18n)()(RU);function AU(e){return(AU="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function jU(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function kU(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){jU(o,r,a,i,c,"next",e)}function c(e){jU(o,r,a,i,c,"throw",e)}i(void 0)}))}}function DU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){UU(e,t,n[t])}))}return e}function LU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MU(e){return(MU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xU(e,t){return(xU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VU={isSaving:!1,isValid:!0,isFormDirty:!1,validationErrors:[],showAdvanced:!1,activityId:null,hasReflectionAnswers:!1,hasSubmissionEvaluation:!1,hasPeerRubricEvaluation:!1,activityForm:{}},GU=function(e){function t(e){var n,r,a;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=MU(t).call(this,e),n=!a||"object"!==AU(a)&&"function"!==typeof a?FU(r):a,UU(FU(FU(n)),"_isSubmitting",!1),UU(FU(FU(n)),"_activityForm",null),UU(FU(FU(n)),"onBeforeUnload",(function(e){var t=n.props.i18n,r=n.state,a=r.isFormDirty,o=r.isSaving;if(!a||o)return null;var i=t._("Are you sure you want to leave this page? Changes you made may not be saved.");return e.returnValue=i,i})),UU(FU(FU(n)),"onFormChange",(function(e){zk(),n.setState({activityForm:e,isFormDirty:!0}),n.validate(e)})),UU(FU(FU(n)),"validate",(function(e){var t=n.processActivityForm(e);n.setState(t)})),UU(FU(FU(n)),"processActivityForm",(function(e){var t=n.props,r=t.i18n,a=t.institution,o=t.rubrics,i=e.name,c=e.gradeType,s=e.instructions,u=e.reflectionQuestions,l=e.peerReviewMode,d=e.peerReviewGrading,f=e.activityScore,p=e.gradeRubric,m={isValid:!0,validationErrors:[]};i.value||(m.isValid=!1,m.validationErrors.push(r._("Please enter an Assignment Name"))),c.value===ty.a.RUBRIC&&(null!==o?(!p.value||O.a.findIndex(o,["dbId",+p.value])<0)&&(m.isValid=!1,m.validationErrors.push(r._("Please select a Rubric"))):m.isValid=!1),s.value.text||(m.isValid=!1,m.validationErrors.push(r._("Please enter Instructions"))),fe.a.isReflectionQuestionsAllowed()&&(u.value.isValid||(m.isValid=!1,m.validationErrors.push(r._("Please fix issues in the Reflection Questions section")))),l.value&&fe.a.isGradedPeerReviewAllowed()&&d.value.enabled&&!d.value.isValid&&(m.isValid=!1,m.validationErrors.push(r._("Please fix issues in the Peer Review section"))),Object(Sc.a)(a)&&f&&(f.value<0||!f.value)&&(m.isValid=!1,m.validationErrors.push(r._("Please enter a valid Activity Score")));var b=e.toolsetVideo,y=e.toolsetDocument,v=e.toolsetMeeting;b.value||y.value||v.value||(m.isValid=!1,m.validationErrors.push(r._("Please enabled at least 1 toolset option (Video, Documents or Meetings)")));var h=e.autoAnalysisKeyTerms;e.autoGradeScoreSource.value===kO.AUTO_ANALYSIS_CONTENT_SCORE&&O.a.isEmpty(h.value)&&(m.isValid=!1,m.validationErrors.push(r._("Key Terms must be configured when using the Auto Analysis\\u2122 Content Score for grading")));for(var g=0;g<h.value.length;g++){var E=h.value[g];(0===E.term.trim().length||E.isDuplicate||!E.count||E.count<=0)&&(m.isValid=!1,m.validationErrors.push(r._("Please fix issues in the Auto Analysis\\u2122, Key Terms section")))}return m})),UU(FU(FU(n)),"getFormInput",(function(){var e=n.state,t=e.activityForm,r=e.isValid,a={};return O.a.forEach(t,(function(e){a=O.a.merge({},a,e.toMutationInput())})),{isValid:r,form:DU({},a)}})),UU(FU(FU(n)),"onSubmit",kU(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.onSubmit,n._isSubmitting=!0,n.setState({isSaving:!0}),e.next=5,t(n.getFormInput());case 5:n._isSubmitting=!1,n.setState({isSaving:!1,isFormDirty:!1});case 7:case"end":return e.stop()}}),e,this)})))),UU(FU(FU(n)),"onShowAdvanced",(function(){var e=n.state.showAdvanced;n.setState({showAdvanced:!e})})),UU(FU(FU(n)),"onAddOverviewMedia",(function(){var e=n.state.activityForm.instructionsMedia,t=n.props.match.params,r=t.activityId,a=t.classId;dt.a.showModal(o.a.createElement("div",{id:"activity-config-instructions-add-video-dialog"},o.a.createElement(Vk,{activityId:+r,termClassId:+a,onComplete:function(t){var n=NU(t,1)[0];e.updateValue(n)}})))})),UU(FU(FU(n)),"onAddCommentaryMedia",(function(){var e=n.state.activityForm.commentaryMedia,t=n.props.match.params,r=t.activityId,a=t.classId;dt.a.showModal(o.a.createElement("div",{id:"activity-config-post-instructions-add-video-dialog"},o.a.createElement(Vk,{activityId:+r,termClassId:+a,onComplete:function(t){var n=NU(t,1)[0];e.updateValue(n)}})))})),e.individualConfiguration){var i=e.individualConfiguration,c=i.state,s=i.activityForm;n._activityForm=s,n._activityForm.setOnChangeHandler(n.onFormChange),n.state=DU({},c)}else{var u=O.a.get(e.activityData,"dbId",null),l=n.createActivitySettingsConfig(e),d=zx.processStudentData(e.activityData),f=n.getFormCustomizations(e,d);n._activityForm=new $x(l,{activityData:e.activityData,isReadOnly:e.isReadOnly,formCustomizations:f,onChange:n.onFormChange}),n.state=DU({},VU,d,{activityForm:n._activityForm.getForm(),activityId:u})}return n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xU(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.onBeforeUnload);var e=this.state.activityForm;this.validate(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.institution,r=t.termClass;if(Object(Sc.j)(n,r)&&!Object(Sc.j)(e.institution,e.termClass)){var a=this.getTopHatFreemiumCustomizations();this._activityForm.applyUpdates(a)}if(this.props.rubrics!==e.rubrics){var o=this.state.activityForm;this.validate(o)}}},{key:"componentWillUnmount",value:function(){if(window.removeEventListener("beforeunload",this.onBeforeUnload),!this._isSubmitting){var e=this.props,t=e.dispatch,n=e.match,r=this.state.activityId;if(r&&+r!==+n.params.activityId)t(TD.f(null));else{var a={activityForm:this._activityForm,state:this.state};t(TD.f(a)),t(qu.bb(null,Bu.CONFIGURATION)),t(qu.ab(null))}}}},{key:"createActivitySettingsConfig",value:function(e){var t=e.institution,n=DU({},mF);return Object(Sc.a)(t)&&(n=O.a.merge({},n,rF)),fe.a.isGradedPeerReviewAllowed()&&(n=O.a.merge({},n,lF)),fe.a.isReflectionQuestionsAllowed()&&(n=O.a.merge({},n,sF)),n}},{key:"getFormCustomizations",value:function(e,t){return DU({},this.getIntegrationCustomizations(e),this.getCustomizationsBasedOnStudentData(t))}},{key:"getIntegrationCustomizations",value:function(e){var t={},n=fe.a.getDefaultPeerReviewType();t.peerReviewMode={value:n,defaultValue:n};var r=e.institution;return Object(Sc.b)(r)?t=O.a.merge({},t,this.getD2LCustomizations(e)):Object(Sc.i)(r)?t=O.a.merge({},t,this.getTopHatCustomizations(e)):Object(Sc.a)(r)&&(t=O.a.merge({},t,this.getCengageCustomizations(e))),t}},{key:"getD2LCustomizations",value:function(e){var t=e.institution;return Object(Sc.c)(t)?this.getD2LFreemiumCustomizations():{}}},{key:"getD2LFreemiumCustomizations",value:function(){return{toolsetVideo:{value:!0,disabledReasons:{isFreemium:!0}},toolsetDocument:{value:!0,disabledReasons:{isFreemium:!0}},toolsetMeeting:{value:!1,disabledReasons:{isFreemium:!0}},autoAnalysis:{value:!1,disabledReasons:{isFreemium:!0}},autoAnalysisScore:{value:!1,disabledReasons:{isFreemium:!0}},autoAnalysisKeyTerms:{value:!1,disabledReasons:{isFreemium:!0}},peerReviewMode:{value:jg.a.STUDENT,defaultValue:jg.a.STUDENT}}}},{key:"getTopHatCustomizations",value:function(e){var t=e.institution,n=e.termClass;return Object(Sc.j)(t,n)?this.getTopHatFreemiumCustomizations():{}}},{key:"getTopHatFreemiumCustomizations",value:function(){return{toolsetDocument:{value:!1,disabledReasons:{isFreemium:!0}},toolsetMeeting:{value:!1,disabledReasons:{isFreemium:!0}},autoAnalysis:{value:!1,disabledReasons:{isFreemium:!0}},autoAnalysisScore:{value:!1,disabledReasons:{isFreemium:!0}},autoAnalysisKeyTerms:{value:!1,disabledReasons:{isFreemium:!0}},peerReviewMode:{value:null,disabledReasons:{isFreemium:!0}}}}},{key:"getCengageCustomizations",value:function(e){return e.isEditingLimited?this.getCengageLimitedEditingCustomizations():{}}},{key:"getCengageLimitedEditingCustomizations",value:function(){return{name:{disabledReasons:{isEditingLimited:!0}},instructions:{disabledReasons:{isEditingLimited:!0}},commentary:{disabledReasons:{isEditingLimited:!0}},reflectionQuestions:{disabledReasons:{isEditingLimited:!0}},toolsetVideo:{disabledReasons:{isEditingLimited:!0}},toolsetDocument:{disabledReasons:{isEditingLimited:!0}},toolsetMeeting:{disabledReasons:{isEditingLimited:!0}}}}},{key:"getCustomizationsBasedOnStudentData",value:function(e){var t={};return e.hasSubmissionEvaluation&&(t.gradeType={disabledReasons:{hasSubmissionEvaluation:!0}},t.gradeRubric={disabledReasons:{hasSubmissionEvaluation:!0}},t.autoGradeScoreSource={disabledReasons:{hasSubmissionEvaluation:!0}},t.peerReviewGrading={disabledReasons:{hasSubmissionEvaluation:!0}}),e.hasPeerRubricEvaluation&&(t.gradeRubric={disabledReasons:{hasPeerRubricEvaluation:!0}}),e.hasReflectionAnswers&&(t.reflectionQuestions={value:{isEditingRestricted:!0}}),t}},{key:"render",value:function(){var e=this.props,t=e.rubrics,n=e.institution,r=e.serverErrors,a=e.showClientErrors,i=this.props.isReadOnly,c=this.state,s=c.activityForm,u=c.hasSubmissionEvaluation,l=this.state,d=l.showAdvanced,f=l.isSaving,p=this.state,m=p.isValid,b=p.validationErrors;return o.a.createElement(PU,{activityForm:s,rubrics:t,canAutoGrade:fe.a.isAutoGradingAllowed(),canGradedPeerReview:fe.a.isGradedPeerReviewAllowed(),canPeerReview:fe.a.isPeerReviewEnabled(),canReflectionQuestions:fe.a.isReflectionQuestionsAllowed(),isSaving:f,isValid:m,isReadOnly:i,validationErrors:b,showClientErrors:a,showAdvanced:d,serverErrors:r,institution:n,hasSubmissionEvaluation:u,onShowAdvanced:this.onShowAdvanced,onSubmit:this.onSubmit,onAddCommentaryMedia:this.onAddCommentaryMedia,onAddOverviewMedia:this.onAddOverviewMedia})}}])&&LU(n.prototype,r),a&&LU(n,a),t}(o.a.PureComponent);GU.defaultProps={isReadOnly:!1,isEditingLimited:!1,serverErrors:null,showClientErrors:!1},GU.propTypes={activityData:c.a.object,isReadOnly:c.a.bool,isEditingLimited:c.a.bool,onSubmit:c.a.func.isRequired,rubrics:c.a.array,serverErrors:c.a.any,showClientErrors:c.a.bool,individualConfiguration:c.a.object,institution:c.a.object,termClass:c.a.object,i18n:c.a.object,match:c.a.object,dispatch:c.a.func};var qU=Object(y.k)(Object(s.b)((function(e){return{individualConfiguration:CD(e),institution:Ye.i(e),termClass:Ye.m(e)}}))(Object(U.withI18n)()(GU)));function BU(e){return(BU="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){XU(e,t,n[t])}))}return e}function QU(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function YU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HU(e){return(HU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zU(e,t){return(zU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var JU=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=HU(t).call(this,e),n=!a||"object"!==BU(a)&&"function"!==typeof a?KU(r):a,XU(KU(KU(n)),"onSubmit",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.match,o=r.history,i=r.dispatch,c=n.props.activityId,Kk(),t.isValid){e.next=7;break}return Jk(),n.setState({showClientErrors:!0}),e.abrupt("return");case 7:return e.next=9,Vl.editIndividualProject(c,t.form).then((function(){Xk({linkId:O.a.get(t.form,"lmsSync.ltiGradeIdentifier")||"",name:O.a.get(t.form,"name")}),jx(c),i(TD.f(null)),i(qu.bb(null,Bu.CONFIGURATION)),i(qu.ab(null));var e=EI.a.compile(fe.a.getNavigationPathAfterConfiguration())(WU({},a.params));o.push(e)})).catch((function(e){Jk(),e.length?n.setState({serverErrors:zv(e)}):n.setState({serverErrors:[]})}));case 9:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){QU(o,r,a,i,c,"next",e)}function c(e){QU(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.state={showClientErrors:!1,serverErrors:null},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zU(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.institution,r=this.props,a=r.rubrics,i=r.activityData,c=r.isReadOnly,s=r.isEditingLimited,u=this.state,l=u.showClientErrors,d=u.serverErrors;return n?o.a.createElement(Dt.a,{title:t._("Configure Individual Assignment")},o.a.createElement(Ox,{activityData:i}),o.a.createElement(Lt.a,null,o.a.createElement(qU,{activityData:i,rubrics:a,showClientErrors:l,serverErrors:d,isReadOnly:c,isEditingLimited:s,onSubmit:this.onSubmit}))):null}}])&&YU(n.prototype,r),a&&YU(n,a),t}(o.a.PureComponent);JU.propTypes={activityId:c.a.number.isRequired,activityData:c.a.object,rubrics:c.a.array,isEditingLimited:c.a.bool,isReadOnly:c.a.bool,institution:c.a.object,dispatch:c.a.func.isRequired,match:c.a.object.isRequired,history:c.a.object.isRequired,i18n:c.a.object.isRequired};var ZU=Object(y.k)(Object(s.b)((function(e){return{institution:Ye.i(e)}}))(Object(U.withI18n)()(JU)));n("dCfD");function $U(e){return($U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tV(e){return(tV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nV(e,t){return(nV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oV=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=tV(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==$U(a)&&"function"!==typeof a?rV(r):a,aV(rV(rV(n)),"onFieldChange",(function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){aV(e,t,n[t])}))}return e}({},n.props.option,aV({isDirty:!0},e,t));n.props.onChange(r)})),aV(rV(rV(n)),"onDelete",(function(){n.props.onDelete(n.props.option)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nV(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.i18n,r=t.option,a=t.isEditingRestricted,i=t.disableEditing,c=!r.isNew||r.isDirty;return o.a.createElement("div",{className:"interactive-video-answer-option"},o.a.createElement(Sa.d,{id:"interactive-video-answer-option-radio_"+r.dbId,className:"interactive-video-answer-option-radio",ariaLabel:n._("Set Correct Answer"),checked:r[SR.b.OPTION.IS_CORRECT],enabled:c&&!a,name:SR.b.OPTION.IS_CORRECT,onChange:function(t,n){e.onFieldChange(SR.b.OPTION.IS_CORRECT,!0,n)},tooltip:{label:n._("Set this option as the correct answer")}}),o.a.createElement(Sa.i,{id:"interactive-video-answer-option-text",className:"interactive-video-answer-option-text",ariaLabel:n._("Edit Answer Option Text"),maxLength:SR.g,maxRows:1,onChange:function(t,n){e.onFieldChange(SR.b.OPTION.TEXT,O.a.trimStart(t),n)},placeholder:r.isNew?n._("New option..."):"",rows:1,required:!r.isNew||r.isDirty,value:String(r[SR.b.OPTION.TEXT]),enabled:!i}),o.a.createElement(wR.c,{id:"interactive-video-answer-option-correct-icon",className:E()("interactive-video-answer-option-correct-icon",!c&&"interactive-video-answer-option-correct-icon--hidden"),type:r[SR.b.OPTION.IS_CORRECT]?wR.a:wR.b}),o.a.createElement(Sa.i,{id:"interactive-video-answer-option-feedback",className:"interactive-video-answer-option-feedback",ariaLabel:n._("Edit Answer Feedback Text"),enabled:!i&&c,maxLength:SR.e,maxRows:1,onChange:function(t,n){e.onFieldChange(SR.b.OPTION.DESCRIPTION,O.a.trimStart(t),n)},placeholder:c?n._("Feedback Text"):"",rows:1,value:r[SR.b.OPTION.DESCRIPTION]}),o.a.createElement(we.d,{id:"button-interactive-video-question-option-delete",ariaLabel:n._("Delete Answer Option"),enabled:c&&!a,onClick:this.onDelete},re.a.DELETE))}}])&&eV(n.prototype,r),a&&eV(n,a),t}(a.Component);oV.propTypes={isEditingRestricted:c.a.bool,onChange:c.a.func.isRequired,onDelete:c.a.func.isRequired,option:c.a.object.isRequired},oV.defaultProps={isEditingRestricted:!1};var iV=Object(U.withI18n)()(oV);n("5sx6");function cV(e){return(cV="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sV(){return(sV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function uV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lV(e){return(lV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dV(e,t){return(dV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mV=/^(\d*)(:?)(\d{0,2})$/,bV=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=lV(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==cV(a)&&"function"!==typeof a?fV(r):a,pV(fV(fV(n)),"state",{isFocused:!1,tmpValue:""}),pV(fV(fV(n)),"getTimeInSecondsFromString",(function(e){if(!e)return 0;var t,n,r=mV.exec(e);r&&r.length>0?r[2]&&r[2].length>0?(t=r[1],n=r[3]):n=r[1]:(t=0,n=0);return 60*(t+=Math.floor(n/60))+(n%=60)})),pV(fV(fV(n)),"onChange",(function(e,t){if(mV.test(e)){var r,a;n.setState({tmpValue:e});var o=mV.exec(e);if(o&&!(o.length<4)){var i;Boolean(o[2]&&o[2].length>0)?(r=+o[1],a=+o[3]):(r=0,a=+o[1]),i=60*(r+=Math.floor(a/60))+(a%=60),n.props.onChange&&n.props.onChange(i,t)}}})),pV(fV(fV(n)),"onFocus",(function(){n.setState({isFocused:!0,tmpValue:Pf.k(+n.props.value)})})),pV(fV(fV(n)),"onBlur",(function(){n.setState({isFocused:!1,tmpValue:n.getValue(n.props.value)})})),pV(fV(fV(n)),"getValue",(function(){var e=n.props,t=e.value,r=e.valueLabel,a=n.state,o=a.isFocused,i=a.tmpValue;return r||(o?i:Pf.k(+t))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dV(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props;return o.a.createElement(Sa.i,sV({},function(e){return O.a.pick(e,Object.keys(bV.componentProps))}(e),{className:E()("input-time",e.className),floating:this.state.isFocused,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus,value:this.getValue()}))}}])&&uV(n.prototype,r),a&&uV(n,a),t}(a.Component);bV.componentProps={ariaLabel:c.a.string,className:c.a.string,enabled:c.a.bool,onBlur:c.a.func,onChange:c.a.func,onFocus:c.a.func,id:c.a.string,label:c.a.string,maxRows:c.a.number,placeholder:c.a.string,required:c.a.bool,rows:c.a.number,style:c.a.object,value:c.a.string,valueLabel:c.a.string},bV.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pV(e,t,n[t])}))}return e}({},bV.componentProps,{tooltip:c.a.any}),bV.defaultProps={enabled:!0,maxRows:1,rows:1,value:0};var yV=Object(Sg.c)(bV);function vV(e){return(vV="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hV(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function gV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_V(e,t,n[t])}))}return e}function EV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wV(e,t,n){return(wV="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=OV(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function OV(e){return(OV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SV(e,t){return(SV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IV="interactive-video-questions-dialog",TV={value:SR.n,label:"mc",itemProps:{id:"question-type-option-multiple-choice"}},RV={value:SR.o,label:"video",itemProps:{id:"question-type-option-video"}},PV=[TV,RV],AV={errors:{},isDirty:!1,isValid:!0,isEndTimeSelected:!1,question:SR.m},NV=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=OV(t).call(this,e),n=!a||"object"!==vV(a)&&"function"!==typeof a?CV(r):a,_V(CV(CV(n)),"onQuestionTextChange",(function(e){e=O.a.trimStart(e),n.setState({isDirty:!0,question:gV({},n.state.question,_V({},SR.b.QUESTION.TEXT,e))})})),_V(CV(CV(n)),"onTypeChange",(function(e){n.setState({isDirty:!0,question:gV({},n.state.question,{type:e})})})),_V(CV(CV(n)),"onTimeChange",(function(e){n.setState({isDirty:!0,question:gV({},n.state.question,_V({},SR.b.QUESTION.SHOW_TIME,e))})})),_V(CV(CV(n)),"onSave",(function(e){var t=n.state.question;n.props.onSave(t,e)})),_V(CV(CV(n)),"onCancel",(function(e){n.setState(gV({},AV)),n.props.onCancel(e)})),_V(CV(CV(n)),"onOptionChange",(function(e){for(var t=[],r=!1,a=0;a<n.state.question[SR.b.QUESTION.OPTIONS].length;a++){var o=n.state.question[SR.b.QUESTION.OPTIONS][a];o.dbId===e.dbId?(t.push(e),r=!0):e[SR.b.OPTION.IS_CORRECT]&&o[SR.b.OPTION.IS_CORRECT]?t.push(gV({},o,_V({},SR.b.OPTION.IS_CORRECT,!1))):t.push(o)}!r&&e.isNew&&t.push(e),n.setState({isDirty:!0,question:gV({},n.state.question,_V({},SR.b.QUESTION.OPTIONS,t))})})),_V(CV(CV(n)),"onOptionDelete",(function(e){var t=hV(n.state.question[SR.b.QUESTION.OPTIONS]),r=O.a.findIndex(t,["dbId",e.dbId]);t.splice(r,1),n.setState({isDirty:!0,question:gV({},n.state.question,_V({},SR.b.QUESTION.OPTIONS,t))})})),_V(CV(CV(n)),"onEndTimeClick",(function(){var e=n.props.videoDuration;n.state.isEndTimeSelected?n.setState({isDirty:!0,isEndTimeSelected:!1,question:gV({},n.state.question,_V({},SR.b.QUESTION.SHOW_TIME,0))}):n.setState({isDirty:!0,isEndTimeSelected:!0,question:gV({},n.state.question,_V({},SR.b.QUESTION.SHOW_TIME,Math.floor(e)+1))})})),_V(CV(CV(n)),"getMultipleChoiceOption",(function(e){var t=n.props,r=t.isEditingRestricted,a=t.disableEditing;return o.a.createElement(iV,{disableEditing:a,key:IV+"-option_"+e.dbId,isEditingRestricted:r,option:e,onChange:n.onOptionChange,onDelete:n.onOptionDelete})})),_V(CV(CV(n)),"getMultipleChoiceOptions",(function(e){for(var t=n.props,r=t.i18n,a=t.isEditingRestricted,i=[],c=0;c<e[SR.b.QUESTION.OPTIONS].length;c++){var s=e[SR.b.QUESTION.OPTIONS][c];i.push(n.getMultipleChoiceOption(s))}if(i.length<SR.f&&!a){var u,l=gV({},SR.l,(_V(u={},SR.b.OPTION.IS_CORRECT,0===i.length),_V(u,"dbId",SR.p()),u));i.push(n.getMultipleChoiceOption(l))}return o.a.createElement("div",{className:IV+"-answers-container"},o.a.createElement("div",{className:IV+"-answers-header"},o.a.createElement("h4",null,r._("Multiple Choice Options")),o.a.createElement("i",null,r._("(maximum of {0})",{0:SR.f}))),o.a.createElement("div",{className:IV+"-answers-list"},i))})),_V(CV(CV(n)),"getErrorsList",(function(){var e=n.state,t=e.errors;if(e.isValid)return null;for(var r=[],a=Object.values(t),i=0;i<a.length;i++)r.push(o.a.createElement("h5",{key:IV+"-errors_"+i},a[i]));return o.a.createElement("div",{className:IV+"-validation-container"},o.a.createElement(Oe.a,{className:IV+"-validation-icon"},re.a.ERROR),o.a.createElement("div",{className:IV+"-validation-errors"},r))})),_V(CV(CV(n)),"process",(function(e,t){var r=n.props,a=r.i18n,o=r.videoDuration,i=t.question,c=t.isEndTimeSelected,s={errors:{},isValid:!1};i[SR.b.QUESTION.TEXT]||(s.errors[IV+"-text"]=a._("Enter text for the question.")),i[SR.b.QUESTION.TEXT].length>SR.i&&(s.errors[IV+"-text-length"]=a._("Question text cannot exceed {0} characters.",{0:SR.i}));var u=i[SR.b.QUESTION.SHOW_TIME];if(!c&&u>o&&(s.errors[IV+"-time"]=a._("The time entered exceeds the video duration.")),i.type===SR.n){(!i[SR.b.QUESTION.OPTIONS]||i[SR.b.QUESTION.OPTIONS].length<SR.j)&&(s.errors[IV+"-options"]=a._("Enter at least {0} multiple choice options for this question.",{0:SR.j}));for(var l=!1,d=0;d<i[SR.b.QUESTION.OPTIONS].length;d++){var f=i[SR.b.QUESTION.OPTIONS][d];f[SR.b.OPTION.TEXT]||(s.errors[IV+"-option-text"]=a._("All multiple choice options must have text.")),f[SR.b.OPTION.TEXT].length>SR.g&&(s.errors[IV+"-text"]=a._("Option text cannot exceed {0} characters.",{0:SR.g})),f[SR.b.OPTION.DESCRIPTION]&&f[SR.b.OPTION.DESCRIPTION].length>SR.e&&(s.errors[IV+"-feedback"]=a._("Feedback text cannot exceed {0} characters.",{0:SR.e})),l=l||f[SR.b.OPTION.IS_CORRECT]}l||(s.errors[IV+"-correct"]=a._("Mark an option as the correct answer."))}return s.isValid=0===Object.keys(s.errors).length,s})),_V(CV(CV(n)),"getShowTimeValue",(function(){return n.state.isEndTimeSelected?"":String(n.state.question[SR.b.QUESTION.SHOW_TIME])}));var i=e.i18n;return TV.label=i._({id:"Multiple Choice"}),RV.label=i._({id:"Video Response"}),n.state=gV({},AV,{question:O.a.merge({},e.question),isEndTimeSelected:e.question[SR.b.QUESTION.SHOW_TIME]>e.videoDuration}),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SV(e,t)}(t,e),n=t,(r=[{key:"setState",value:function(e,n){var r=this;wV(OV(t.prototype),"setState",this).call(this,e,(function(){r.validate(r.props,r.state,n)}))}},{key:"validate",value:function(e,n,r){var a=this.process(e,n);wV(OV(t.prototype),"setState",this).call(this,a,r)}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isVisible,r=e.title,a=e.isEditingRestricted,i=e.disableEditing,c=this.state,s=c.isDirty,u=c.isValid,l=c.isEndTimeSelected;return o.a.createElement(Hf.a,{id:IV,contentClassName:IV+"-content",dialogClassName:IV,title:r,visible:n,actions:[o.a.createElement(we.b,{id:"button-interactive-video-question-dialog-cancel",secondary:!0,ariaLabel:t._("Cancel"),onClick:this.onCancel},t._("Cancel")),o.a.createElement(we.b,{id:"button-interactive-video-question-dialog-ok",primary:!0,ariaLabel:t._("OK"),enabled:s&&u&&!i,onClick:this.onSave},t._("OK"))]},o.a.createElement("div",{className:IV+"-content-form"},o.a.createElement("div",{className:IV+"-top"},o.a.createElement("div",{className:IV+"-left"},o.a.createElement(Sa.e,{id:IV+"-question-type",className:IV+"-question-type",ariaLabel:t._("Question Type"),enabled:!a,label:t._("Question Type"),menuItems:PV,onChange:this.onTypeChange,value:this.state.question.type}),o.a.createElement(Sa.i,{id:IV+"-question-text",value:String(this.state.question[SR.b.QUESTION.TEXT]),enabled:!i,ariaLabel:t._("Edit Question Text"),label:t._("Question"),maxLength:SR.i,maxRows:4,onChange:this.onQuestionTextChange,required:!0,rows:1})),o.a.createElement("div",{className:IV+"-right"},o.a.createElement("div",{className:IV+"-time-container"},o.a.createElement(yV,{id:IV+"-time",className:IV+"-time",enabled:!l&&!a,value:this.getShowTimeValue(),valueLabel:l?t._("(end of video)"):"",ariaLabel:t._("Prompt at time within video"),label:t._("Prompt At"),onChange:this.onTimeChange,required:!0}),!a&&o.a.createElement(hp.a,{id:IV+"-time-set",className:IV+"-time-set",onClick:this.onEndTimeClick},o.a.createElement("a",null,l?t._("Set Custom Time"):t._("Set At End")))))),this.state.question.type===SR.n&&this.getMultipleChoiceOptions(this.state.question)),this.getErrorsList())}}])&&EV(n.prototype,r),a&&EV(n,a),t}(a.Component);NV.propTypes={isEditingRestricted:c.a.bool,isVisible:c.a.bool,videoDuration:c.a.number,onCancel:c.a.func.isRequired,onSave:c.a.func.isRequired,title:c.a.string.isRequired,question:c.a.object},NV.defaultProps={isEditingRestricted:!1,isVisible:!1,videoDuration:0,question:SR.m};var jV=Object(U.withI18n)()(NV);n("gZ03");function kV(e){return(kV="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){VV(e,t,n[t])}))}return e}function LV(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function MV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xV(e){return(xV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FV(e,t){return(FV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GV="interactive-video-question-item",qV=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=xV(t).call(this,e),n=!a||"object"!==kV(a)&&"function"!==typeof a?UV(r):a,VV(UV(UV(n)),"getFormattedTime",(function(e){return Pf.k(+e)})),VV(UV(UV(n)),"getQuestionMenuActions",(function(e){var t=n.props,r=t.i18n,a=t.isEditingRestricted,i=[];return i.push({primaryText:r._("Edit"),onClick:function(t){n.onEditQuestion(e,t)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:r._("Edit, icon")},re.a.EDIT)}),a||i.push({primaryText:r._("Delete"),onClick:function(t){n.onDeleteQuestion(e,t)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:r._("Delete, icon")},re.a.DELETE)}),i})),VV(UV(UV(n)),"getQuestionWeightInfo",(function(e){var t=n.props.i18n;return n.isVideoType(e)?{isAuto:!0,value:t._("(auto)")}:{isAuto:!1,value:String(e[SR.b.QUESTION.WEIGHT])}})),VV(UV(UV(n)),"getShowTimeLabel",(function(e){var t=n.props,r=t.videoDuration,a=t.i18n,o=e[SR.b.QUESTION.SHOW_TIME];return o>0&&o>=r?a._("(end)"):n.getFormattedTime(o)})),VV(UV(UV(n)),"isVideoType",(function(e){return e.type===SR.o})),VV(UV(UV(n)),"getQuestion",(function(e,t,r,a,i){var c=n.props,s=c.i18n,u=c.errors,l=c.isEditingRestricted,d=n.getQuestionWeightInfo(e);return o.a.createElement("div",{key:GV+"_"+e.dbId,className:GV},o.a.createElement(we.b,{id:"button-interactive-video-question-time["+i+"]",primary:!0,className:GV+"--time",onClick:function(t){n.onQuestionTimeClick(e,t)}},n.getShowTimeLabel(e)),o.a.createElement("div",{className:GV+"--type"},o.a.createElement(Oe.a,{tooltip:{label:n.isVideoType(e)?s._("Video Response"):s._("Multiple Choice")}},n.isVideoType(e)?re.a.VIDEOCAM:re.a.SPEAKER_NOTES)),t&&o.a.createElement("div",{className:GV+"--position"},o.a.createElement(we.d,{id:"button-interactive-video-question-position-up",className:GV+"--position-up",enabled:!r&&!l,forceIconFontSize:!0,forceIconSize:24,onClick:function(t){n.onQuestionPositionChange(e,-1,t)}},re.a.ARROW_UP),o.a.createElement(we.d,{id:"button-interactive-video-question-position-down",className:GV+"--position-down",enabled:!a&&!l,forceIconFontSize:!0,forceIconSize:24,onClick:function(t){n.onQuestionPositionChange(e,1,t)}},re.a.ARROW_DOWN)),o.a.createElement("div",{className:E()(GV+"--text",t&&GV+"--text-with-position")},e[SR.b.QUESTION.TEXT]),o.a.createElement("div",{className:GV+"--weight"},o.a.createElement(Sa.c,{id:GV+"-weight_"+e.dbId,enabled:!d.isAuto&&!l,error:Boolean(u[GV+"-weight_"+e.dbId]),isAuto:d.isAuto,onChange:function(t,r){n.onWeightChange(e,t,r)},value:d.value})),o.a.createElement("div",{className:GV+"--actions"},o.a.createElement(we.f,{icon:!0,id:GV+"-actions_"+e.dbId,ariaLabel:s._("Comment options"),menuItems:n.getQuestionMenuActions(e)},re.a.MENU_VERT)))})),VV(UV(UV(n)),"getQuestions",(function(){for(var e=n.props.questions,t=[],r=!1,a=0;e&&a<e.length;a++){var o=e[a],i=a>0?e[a-1]:null,c=i&&i[SR.b.QUESTION.SHOW_TIME]===o[SR.b.QUESTION.SHOW_TIME],s=a+1<e.length?e[a+1]:null,u=s&&s[SR.b.QUESTION.SHOW_TIME]===o[SR.b.QUESTION.SHOW_TIME];r=c||u,t.push(n.getQuestion(o,r,!c,!u,a))}return t})),VV(UV(UV(n)),"getQuestionDialog",(function(){var e=n.props,t=e.i18n,r=e.videoDuration,a=e.isEditingRestricted,i=e.disableEditing;if(n.state.editDialog.isVisible)return o.a.createElement(jV,{isVisible:n.state.editDialog.isVisible,disableEditing:i,onSave:n.onSaveQuestionDialog,onCancel:n.onCancelQuestionDialog,question:n.state.editDialog.question,title:t._("Edit Question"),videoDuration:r,isEditingRestricted:a})})),VV(UV(UV(n)),"onWeightChange",(function(e,t){var r=LV(n.props.questions),a=O.a.findIndex(r,["dbId",e.dbId]),o=DV({},r[a],VV({},SR.b.QUESTION.WEIGHT,t));r.splice(a,1,o),n.props.onChange(r)})),VV(UV(UV(n)),"onEditQuestion",(function(e){n.setState({editDialog:{isVisible:!0,question:e}})})),VV(UV(UV(n)),"onDeleteQuestion",(function(e){var t=LV(n.props.questions),r=O.a.findIndex(t,["dbId",e.dbId]);t.splice(r,1),n.props.onChange(t)})),VV(UV(UV(n)),"onQuestionPositionChange",(function(e,t){var r=LV(n.props.questions),a=O.a.findIndex(r,["dbId",e.dbId]);if(!(a<0)){var o=a+t;if(!(o<0||o>r.length)){var i=Math.min(a,o),c=r.splice(i,2),s=DV({},c[1],VV({},SR.b.QUESTION.SORT,c[0][SR.b.QUESTION.SORT])),u=DV({},c[0],VV({},SR.b.QUESTION.SORT,c[1][SR.b.QUESTION.SORT]));r.splice(i,0,s,u),n.props.onChange(r)}}})),VV(UV(UV(n)),"onQuestionTimeClick",(function(e,t){n.props.onQuestionTimeClick&&n.props.onQuestionTimeClick(e,t)})),VV(UV(UV(n)),"onSaveQuestionDialog",(function(e,t){n.props.onSaveQuestion(e,t),n.setState({editDialog:{isVisible:!1,question:null}})})),VV(UV(UV(n)),"onCancelQuestionDialog",(function(){n.setState({editDialog:{isVisible:!1,question:null}})})),n.state={editDialog:{isVisible:!1,question:{}}},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FV(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.questions;return e&&0!==e.length?o.a.createElement("div",{className:E()("interactive-video-questions")},this.getQuestions(),this.getQuestionDialog()):null}}])&&MV(n.prototype,r),a&&MV(n,a),t}(a.Component);qV.propTypes={errors:c.a.object,isEditingRestricted:c.a.bool,onChange:c.a.func.isRequired,onQuestionTimeClick:c.a.func,onSaveQuestion:c.a.func.isRequired,onValid:c.a.func,questions:c.a.array.isRequired,videoDuration:c.a.number},qV.defaultProps={errors:{},isEditingRestricted:!1,videoDuration:0};var BV=Object(U.withI18n)()(Object(s.b)((function(){return{}}))(qV));n("3/zm");function WV(e){return(WV="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ZV(e,t,n[t])}))}return e}function YV(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function HV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zV(e,t,n){return(zV="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=KV(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function KV(e){return(KV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XV(e,t){return(XV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function JV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $V="interactive-video-settings",eG=$V+"-player",tG=15e3,nG={editDialog:{isVisible:!1,question:null},errors:{},hasVideoResponseQuestions:!1,hasMultipleChoiceQuestions:!1,isValid:!0,totalWeight:0},rG=eG+"-"+(new Date).getTime(),aG=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=KV(t).call(this,e),n=!a||"object"!==WV(a)&&"function"!==typeof a?JV(r):a,ZV(JV(JV(n)),"stopPollingForInteractiveVideoMedia",(function(){l.b.debug("Stopping polling for interactive video media processing"),clearTimeout(n._timer)})),ZV(JV(JV(n)),"pollForInteractiveVideoMedia",(function(e){e&&e.dbId&&n.isMediaProcessing(e)&&(l.b.debug("Polling for interactive video media processing:",e),clearTimeout(n._timer),n._timer=setTimeout(n.fetchMedia,tG))})),ZV(JV(JV(n)),"fetchMedia",(function(){var e=n.props.interactiveVideoConfiguration,t=O.a.get(e,"media.dbId");l.b.debug("Fetching media:",t),t&&ok.getItem(+t).then((function(e){n.onFetchMediaResult(e)}))})),ZV(JV(JV(n)),"onFetchMediaResult",(function(e){l.b.debug("Fetched media:",e),e&&(n.isMediaProcessing(e)?n.pollForInteractiveVideoMedia(e):n.onSetInteractiveVideoMedia(e))})),ZV(JV(JV(n)),"getSortedQuestions",(function(e){var t=YV(e);t.sort((function(e,t){var n=e[SR.b.QUESTION.SHOW_TIME]-t[SR.b.QUESTION.SHOW_TIME];return 0===n?e[SR.b.QUESTION.SORT]-t[SR.b.QUESTION.SORT]:n}));for(var n=0;n<t.length;n++)t[n]=QV({},t[n],ZV({},SR.b.QUESTION.SORT,n));return t})),ZV(JV(JV(n)),"getCounter",(function(){var e=n.props,t=e.i18n,r=e.interactiveVideoConfiguration,a=r.questions?r.questions.length:0;return o.a.createElement("div",{className:$V+"-counter"},o.a.createElement("h4",null,t._("Questions: {count}",{count:a})),o.a.createElement("i",null,t._("(maximum of 20)")))})),ZV(JV(JV(n)),"getMessage",(function(e){var t=n.props.i18n;return e?n.isMediaReady(e)?o.a.createElement("div",{className:$V+"-message"},o.a.createElement("i",null,t._("Create multiple choice or video response questions that will be prompted during the video."))):n.isMediaProcessing(e)?o.a.createElement("div",{className:$V+"-message"},o.a.createElement("i",null,t._("The video is processing. This may take several minutes. After the video has finished processing then you will be able to create questions.")),o.a.createElement($s.b,{id:$V+"-progress",className:$V+"-progress"})):o.a.createElement("div",{className:$V+"-message"},o.a.createElement("i",null,t._("There was an issue retrieving or processing the video."))):o.a.createElement("div",{className:$V+"-message"},o.a.createElement("i",null,t._("Add a video then you can create questions which will be prompted in context of that video.")))})),ZV(JV(JV(n)),"getActions",(function(e){var t=n.props,r=t.i18n,a=t.interactiveVideoConfiguration,i=a.isEditingRestricted,c=a.questions,s=!(c&&c.length>=SR.h);if(e)return o.a.createElement("div",{className:$V+"-actions"},o.a.createElement(we.h,{id:"button-assignment-interactive-video-question-create",primary:!0,className:$V+"-actions-create",enabled:s&&!i,onClick:n.onCreateQuestion,tooltip:{label:s?"":r._("A maximum of {0} questions are allowed",{0:SR.h})}},r._("Create Question")))})),ZV(JV(JV(n)),"getRubricItems",(function(e){var t=n.props.interactiveVideoConfiguration.rubricAlreadyUsedForPeerReview;return e=O.a.clone(e||[]),t&&(e=e.map((function(e){return e.dbId!==t.dbId&&((e=O.a.merge({},e)).disabled=!0),e}))),e})),ZV(JV(JV(n)),"getGradeTypeMenuItems",(function(){var e=n.props,t=e.i18n,r=e.isD2LFreemium;return[{label:t._("Percentage"),value:ty.a.GRADE},{label:t._("Rubric"),value:ty.a.RUBRIC,disabled:r},{label:t._("Pass/Fail"),value:ty.a.PASS_FAIL},{label:t._("Auto Pass"),value:ty.a.COMPLETION},{label:t._("Five Star"),value:ty.a.FIVESTAR}]})),ZV(JV(JV(n)),"getConfigBlock",(function(){var e=n.props,t=e.i18n,r=e.rubrics,a=e.disableEditing,i=e.interactiveVideoConfiguration,c=i.isEditingRestricted,s=i.isRetakeEnabled,u=n.state,l=u.errors,d=u.hasMultipleChoiceQuestions,f=u.hasVideoResponseQuestions,p=n.activityFormProps.gradeType.value===ty.a.RUBRIC,m=!a&&f&&!d&&!n.activityFormProps.gradeType.disabled,b="";a?b=n.getGradeTypeLabel():f&&d&&(b=n.getGradeTypeWithVideoLabel());var y=Boolean(l[$V+"-grade-type-rubric"]),v=n.activityFormProps.gradeRubric;y&&((v=QV({},v)).error=!0);var h=!a&&!c;return o.a.createElement("div",{className:$V+"-config"},d&&o.a.createElement("div",{id:"checkbox-assignment-settings-force-retake"},o.a.createElement(Sa.a,{id:"force-retake",name:"force-retake",ariaLabel:t._("Force retaking multiple choice questions"),enabled:h,label:t._("Force retaking multiple choice questions"),tooltip:{label:t._("If enabled, this will require the learner to answer each multiple choice question correctly before proceeding")},checked:s,onChange:n.onAllowRetakeChange})),f&&o.a.createElement("div",{className:$V+"-grade-type-container"},o.a.createElement(Sa.e,{id:"grade-type",className:$V+"-grade-type-dropdown",ariaLabel:n.getVideoResponseGradeTypeLabel(),enabled:m,label:n.getVideoResponseGradeTypeLabel(),menuItems:n.getGradeTypeMenuItems(),onChange:function(e){n.activityFormProps.onGradeTypeChange(e),n.setState({})},tooltip:{label:b},value:n.activityFormProps.gradeType.value}),p&&o.a.createElement(Sa.g,{id:$V+"-grade-type-rubric",className:$V+"-grade-type-rubric",onConfigureRubrics:n.onConfigureRubrics,onRubricChange:function(e){n.activityFormProps.onGradeRubricChange(e),n.setState({})},selectedRubric:v,rubrics:n.getRubricItems(r)})))})),ZV(JV(JV(n)),"getQuestionDialog",(function(){var e=n.props,t=e.i18n,r=e.interactiveVideoConfiguration.isEditingRestricted,a=e.disableEditing;if(n.state.editDialog.isVisible)return o.a.createElement(jV,{isEditingRestricted:r,isVisible:n.state.editDialog.isVisible,onCancel:n.onCancelQuestionDialog,onSave:n.onSaveQuestion,disableEditing:a,question:n.state.editDialog.question,title:t._("Create Question"),videoDuration:n.getMediaDuration()})})),ZV(JV(JV(n)),"onConfigureRubrics",(function(){var e=n.props,t=e.match,r=e.history,a=e.location,o=EI.a.compile(In.d.EDUCATOR_RUBRICS_LIST)(QV({},t.params));r.push({pathname:o,state:{quickNavItems:[{context:JA.a.CONFIGURATION,location:a}]}})})),ZV(JV(JV(n)),"onAllowRetakeChange",(function(){n.props.onChange({isRetakeEnabled:!n.props.interactiveVideoConfiguration.isRetakeEnabled})})),ZV(JV(JV(n)),"onRestrictSummaryChange",(function(){n.props.onChange({isSummaryEnabled:!n.props.interactiveVideoConfiguration.isSummaryEnabled})})),ZV(JV(JV(n)),"onQuestionsChange",(function(e){var t=n.getSortedQuestions(e),r={questions:t},a=n.getQuestionsTotals(t);a.hasMultipleChoiceQuestions&&a.hasVideoResponseQuestions&&n.activityFormProps.onGradeTypeChange(ty.a.GRADE),a.hasMultipleChoiceQuestions||(r.isRetakeEnabled=!1),n.props.onChange(r)})),ZV(JV(JV(n)),"onCreateQuestion",(function(){var e=n.props.dispatch,t=ly.c(rG,m.a.getState()),r=Math.floor(+t);e(uy.t(rG)),e(uy.F(rG,r));var a=QV({},SR.m,ZV({dbId:SR.p()},SR.b.QUESTION.SHOW_TIME,r));n.setState({editDialog:{isVisible:!0,question:a}})})),ZV(JV(JV(n)),"onSaveQuestion",(function(e){var t=YV(n.props.interactiveVideoConfiguration.questions),r=O.a.findIndex(t,["dbId",e.dbId]);r<0?t.push(e):t.splice(r,1,e),n.setState({editDialog:{isVisible:!1,question:null}}),n.onQuestionsChange(t)})),ZV(JV(JV(n)),"onCancelQuestionDialog",(function(){n.setState({editDialog:{isVisible:!1,question:null}})})),ZV(JV(JV(n)),"onSetInteractiveVideoMedia",(function(e){(0,n.props.dispatch)(uy.q(rG)),n.props.onSetInteractiveVideoMedia(e),e||n.stopPollingForInteractiveVideoMedia()})),ZV(JV(JV(n)),"onQuestionTimeClick",(function(e){var t=n.props.dispatch;t(uy.t(rG)),t(uy.F(rG,e[SR.b.QUESTION.SHOW_TIME]))})),ZV(JV(JV(n)),"getMediaDuration",(function(){var e=n.props.interactiveVideoMediaDuration;return e||0})),ZV(JV(JV(n)),"getQuestionsSummary",(function(){var e=n.props.i18n,t=n.state,r=t.hasMultipleChoiceQuestions,a=t.hasVideoResponseQuestions;if(!r&&!a)return null;var i=n.state.totalQuestionWeight,c=a?Math.max(0,100-i):0,s=i+c,u=[];return r&&a&&(u.push(o.a.createElement("div",{key:$V+"-summary-item_"+u.length,className:$V+"-summary-item"},o.a.createElement("h6",{className:$V+"-summary-label"},n.getMultipleChoiceWeightLabel()),o.a.createElement("h6",{className:$V+"-summary-value"},i+"%"))),u.push(o.a.createElement("div",{key:$V+"-summary-item_"+u.length,className:$V+"-summary-item"},o.a.createElement("h6",{className:$V+"-summary-label"},n.getVideoResponseWeightLabel()),o.a.createElement("h6",{className:$V+"-summary-value"},c+"%"))),u.push(o.a.createElement("div",{key:$V+"-summary-item_"+u.length,className:$V+"-summary-item-separator"}))),u.push(o.a.createElement("div",{key:$V+"-summary-item_"+u.length,className:$V+"-summary-item"},o.a.createElement("h6",{className:$V+"-summary-label"},e._("Total:")),o.a.createElement("h6",{className:$V+"-summary-value"},s+"%"))),o.a.createElement("div",{className:$V+"-summary"},o.a.createElement("div",{className:$V+"-summary-list"},u))})),ZV(JV(JV(n)),"getErrorsList",(function(){var e=n.state,t=e.errors;if(e.isValid)return null;for(var r=[],a=Object.values(t),i=0;i<a.length;i++)r.push(o.a.createElement("h5",{key:$V+"-errors_"+i},a[i]));return o.a.createElement("div",{className:$V+"-validation-container"},o.a.createElement(Oe.a,{className:$V+"-validation-icon"},re.a.ERROR),o.a.createElement("div",{className:$V+"-validation-errors"},r))})),ZV(JV(JV(n)),"isMediaReady",(function(e){return e&&e.processingStatus===Rv.a.READY})),ZV(JV(JV(n)),"isMediaProcessing",(function(e){return e&&e.processingStatus===Rv.a.PROGRESS})),ZV(JV(JV(n)),"getAdvancedComponents",(function(){var e=n.props,t=e.interactiveVideoConfiguration,r=e.i18n;return o.a.createElement("div",{id:"toggle-assignment-settings-restricted-summary",key:$V+"-restricted-summary",className:$V+"-restricted-summary-container"},o.a.createElement("h2",{className:"section-header"},r._("Restricted Submission Summary Details")),o.a.createElement(pN.a,{id:"restricted-summary-toggle",name:"restricted-summary-toggle",className:$V+"-restricted-summary-toggle",ariaLabel:r._("Enable/Disable Restricted Summary"),checked:!t.isSummaryEnabled,label:"",onChange:n.onRestrictSummaryChange,tooltip:{label:r._("If restricted, the learner submission summary will not show the question text or answer after completing the Interactive Video")}}))})),ZV(JV(JV(n)),"process",(function(e){var t=n.props,r=t.i18n,a=t.rubrics,o=e.interactiveVideoConfiguration,i=o.questions,c={errors:{},hasVideoResponseQuestions:!1,hasMultipleChoiceQuestions:!1,isValid:!1,totalWeight:0};if(o.media){if(n.activityFormProps&&n.activityFormProps.gradeType.value===ty.a.RUBRIC){var s=n.activityFormProps.gradeRubric.value;(!s||O.a.findIndex(a,["dbId",+s])<0)&&(c.errors[$V+"-grade-type-rubric"]=r._("Select a rubric to use for scoring."))}if(i&&i.length>=SR.k){if(i){for(var u=0;u<i.length;u++){var l=i[u];if(l.type===SR.n){var d=+l[SR.b.QUESTION.WEIGHT];d>100?c.errors[GV+"-weight_"+l.dbId]=r._("Question weight ({value}%) cannot exceed 100%.",{value:d}):d<=0&&(c.errors[GV+"-weight_"+l.dbId]=r._("Question weight ({value}%) must be at least 1%.",{value:d}))}}var f=n.getQuestionsTotals(i),p=f.totalQuestionWeight,m=f.hasVideoResponseQuestions,b=f.hasMultipleChoiceQuestions;m?p>99&&(c.errors[GV+"-total-weight"]=r._("Total percent ({totalQuestionWeight}%) of multiple choice questions cannot exceed 99% when using video response questions.",{totalQuestionWeight:p})):100!==p&&(c.errors[GV+"-total-weight"]=r._("Total percent ({totalQuestionWeight}%) must equal 100%.",{totalQuestionWeight:p})),c.totalQuestionWeight=p,c.hasMultipleChoiceQuestions=b,c.hasVideoResponseQuestions=m}}else c.errors[$V+"-counter"]=r._("There must be at least {0} question configured.",{0:SR.k})}else c.errors[$V+"-media"]=r._("There must be a video provided for the interactive video section.");return c.isValid=0===Object.keys(c.errors).length,c})),ZV(JV(JV(n)),"getQuestionsTotals",(function(e){for(var t={hasVideoResponseQuestions:!1,hasMultipleChoiceQuestions:!1,totalQuestionWeight:0},n=0;n<e.length;n++){var r=e[n];if(r.type===SR.o)t.hasVideoResponseQuestions=!0;else{t.hasMultipleChoiceQuestions=!0;var a=+r[SR.b.QUESTION.WEIGHT];t.totalQuestionWeight+=a}}return t}));var i=n.process(e);return n.state=QV({},nG,i),n.updatePlayerId(e),n.pollForInteractiveVideoMedia(e.interactiveVideoConfiguration.media),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XV(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.validate(e),this.pollForInteractiveVideoMedia(e.interactiveVideoConfiguration.media);var t=O.a.get(this.props,"interactiveVideoConfiguration.media.dbId");O.a.get(e,"interactiveVideoConfiguration.media.dbId")!==t&&this.updatePlayerId(e)}},{key:"updatePlayerId",value:function(e){var t=O.a.get(e,"activityData.dbId","NEW"),n=O.a.get(e,"interactiveVideoConfiguration.media.dbId");rG=eG+"-"+t+"-"+n}},{key:"getGradeTypeLabel",value:function(){return this.props.i18n._("Evaluation type cannot be changed once a learner has started the assignment.")}},{key:"getGradeTypeWithVideoLabel",value:function(){return this.props.i18n._("Currently, evaluation type can only be Percentage when using a mix of multiple choice and video response questions.")}},{key:"getVideoResponseGradeTypeLabel",value:function(){return this.props.i18n._("Video Response Evaluation Type")}},{key:"getMultipleChoiceWeightLabel",value:function(){return this.props.i18n._("Multiple Choice Score Weight:")}},{key:"getVideoResponseWeightLabel",value:function(){return this.props.i18n._("Video Response Score Weight:")}},{key:"render",value:function(){var e=this,t=this.props,n=t.activityData,r=t.onMainFormChange,a=t.onSubmit,i=t.onShowAdvanced,c=t.rubrics,s=t.showAdvanced,u=t.showClientErrors,l=t.serverErrors,d=t.i18n,f=t.interactiveVideoConfiguration,p=t.onAddInteractiveVideoMedia,m=t.mainFormState,b=t.disableEditing,y=t.isEditingLocked,v=this.state,h=v.errors,g=v.isValid,E=v.hasVideoResponseQuestions,w=f.media,O=rG,S=this.isMediaReady(w);return o.a.createElement(fD,{advancedComponents:this.getAdvancedComponents(),canSave:g,disableEditing:b,isEditingLocked:y,canSelfAssessment:!0,canGradeType:!1,canAutoGrade:!1,canGradedPeerReview:!1,saveButtonTooltipLabel:g?"":d._("Please complete all required fields"),rubrics:c,activityData:n,mainFormState:m,onSubmit:a,showAdvanced:s,onShowAdvanced:i,serverErrors:l,showClientErrors:u,onChange:r,enablePeerReview:!!fe.a.isPeerReviewEnabled()&&E,peerReviewTooltipLabel:E?"":d._("Peer Review is only available if Video Response questions are being used")},(function(t){return e.activityFormProps=t,o.a.createElement("div",{className:$V+"-container"},o.a.createElement("h2",{className:"section-header"},d._("Interactive Video")),o.a.createElement("div",{className:$V},o.a.createElement("div",{className:$V+"-top-container"},o.a.createElement("div",{className:$V+"-top-left-container",style:{"--aspect-ratio":"4/3"}},o.a.createElement(pj.a,{id:"assignment-settings-interactive-video-container",className:$V+"-media",isLocked:f.isEditingRestricted,media:w,usageContext:Kh.a.INTERACTIVE_VIDEO,onAddMedia:p,onSetMedia:e.onSetInteractiveVideoMedia,playerId:O,showControls:!0,allowDesktopSharing:!1})),o.a.createElement("div",{className:$V+"-top-right-container"},e.getCounter(),e.getMessage(w),e.getActions(S))),e.getConfigBlock(),o.a.createElement("div",{className:$V+"-questions-container"},o.a.createElement(BV,{errors:h,disableEditing:b||f.isEditingLocked,onChange:e.onQuestionsChange,onQuestionTimeClick:e.onQuestionTimeClick,onSaveQuestion:e.onSaveQuestion,questions:f.questions,videoDuration:e.getMediaDuration(),isEditingRestricted:f.isEditingRestricted}),e.getQuestionsSummary()),e.getErrorsList(),e.getQuestionDialog()))}))}},{key:"setState",value:function(e,n){var r=this;zV(KV(t.prototype),"setState",this).call(this,e,(function(){r.validate(r.props,n)}))}},{key:"validate",value:function(e,n){var r=this.process(e);zV(KV(t.prototype),"setState",this).call(this,r,n)}}])&&HV(n.prototype,r),a&&HV(n,a),t}(a.Component);aG.componentProps={interactiveVideoConfiguration:c.a.object.isRequired};var oG=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{isD2LFreemium:Ye.u(e),interactiveVideoMediaDuration:ly.b(rG,e,"duration")}}))(aG)));function iG(e){return(iG="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cG(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function sG(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){cG(o,r,a,i,c,"next",e)}function c(e){cG(o,r,a,i,c,"throw",e)}i(void 0)}))}}function uG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){bG(e,t,n[t])}))}return e}function lG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fG(e){return(fG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pG(e,t){return(pG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yG={showAdvanced:!1,interactiveVideoConfiguration:{isRetakeEnabled:!1,isSummaryEnabled:!0,media:null,questions:[],isEditingRestricted:!1,isEditingLocked:!1,rubricAlreadyUsedForPeerReview:null},dualStreamMediaDialogMessage:""},vG=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=fG(t).call(this,e),n=!a||"object"!==iG(a)&&"function"!==typeof a?mG(r):a,bG(mG(mG(n)),"_isSubmitting",!1),bG(mG(mG(n)),"onAddInteractiveVideoMedia",(function(){var e,t=n.props,r=t.activityData,a=t.match.params.classId;r&&(e=r.dbId),dt.a.showModal(o.a.createElement("div",{id:"activity-config-interactive-video-add-video-dialog"},o.a.createElement(Vk,{activityId:e,termClassId:+a,allowDesktopSharing:!1,onComplete:function(e){var t=lG(e,1)[0];n.onSetInteractiveVideoMedia(t)}})))})),bG(mG(mG(n)),"onSetInteractiveVideoMedia",(function(e){for(var t=n.props,r=t.i18n,a=t.onMainFormChange,o=n.state.interactiveVideoConfiguration.questions,i=[],c=0;c<o.length;c++)i.push(uG({},o[c],bG({},SR.b.QUESTION.SHOW_TIME,0)));var s=e?O.a.merge({},e):null,u="";if(s&&s.slaveMedia){var l=e.title;u=r._('The selected video "{videoTitle}" includes screen recording but only the camera recording will be visible during playback.',{videoTitle:l}),s.slaveMedia=null}n.setState({interactiveVideoConfiguration:uG({},n.state.interactiveVideoConfiguration,{media:s,questions:i}),dualStreamMediaDialogMessage:u},a)})),bG(mG(mG(n)),"onShowAdvanced",(function(){var e=!n.state.showAdvanced;n.setState({showAdvanced:e})})),bG(mG(mG(n)),"getData",(function(){var e=n.props,t=e.activityData,r=e.interactiveVideoConfiguration;return r?r.activityData:t})),bG(mG(mG(n)),"getMainFormState",(function(){var e=n.props.interactiveVideoConfiguration;return e?e.mainFormState:null})),bG(mG(mG(n)),"mapInteractiveQuestions",(function(e){return e?e.map((function(e){if(e.__typename===SR.n){var t,r=n.mapQuestionOptions(e[SR.b.QUESTION.OPTIONS]);return uG({},SR.d,e,(bG(t={},SR.b.QUESTION.OPTIONS,r),bG(t,"type",SR.n),t))}return e.__typename===SR.o?uG({},SR.d,e,{type:SR.o}):null})):[]})),bG(mG(mG(n)),"mapQuestionOptions",(function(e){return e.map((function(e){return uG({},SR.c,e)}))})),bG(mG(mG(n)),"onChange",(function(){n.props.onChange(n.getFormData())})),bG(mG(mG(n)),"onInteractiveVideoConfigurationChange",(function(e){n.setState({interactiveVideoConfiguration:uG({},n.state.interactiveVideoConfiguration,e)})})),bG(mG(mG(n)),"onMainFormChange",(function(e,t){n.mainFormData=e,n.mainFormState=t})),bG(mG(mG(n)),"getStateWithoutErrors",(function(){return O.a.merge({},n.state)})),bG(mG(mG(n)),"validate",(function(){var e=n.getStateWithoutErrors();return n.setState(e),!0})),bG(mG(mG(n)),"getGradeType",(function(e){for(var t=n.state.interactiveVideoConfiguration,r=t.questions,a=!1,o=!1,i=0;(!a||!o)&&i<r.length;i++){r[i].type===SR.o?o=!0:a=!0}return a&&!o?t.isRetakeEnabled?ty.a.COMPLETION:ty.a.GRADE:e})),bG(mG(mG(n)),"getMainFormOverrides",(function(e){var t=e.gradeType;return{gradeType:n.getGradeType(t.value)}})),bG(mG(mG(n)),"getFormData",(function(){var e=n.validate(),t=n.state.interactiveVideoConfiguration,r=n.getQuestions(t),a={interactiveVideoSettings:n.getSettings(t),interactiveQuestionsOfTypeVideo:r.videoQuestions,interactiveQuestionsOfTypeChoice:r.multipleChoiceQuestions};return{isValid:e&&n.mainFormData.isValid,form:O.a.merge({},n.mainFormData.form,n.getMainFormOverrides(n.mainFormData.form),a)}})),bG(mG(mG(n)),"getSettings",(function(e){var t;return bG(t={},SR.b.SETTINGS.IS_RETAKE,e.isRetakeEnabled),bG(t,SR.b.SETTINGS.IS_SUMMARY_VISIBLE,e.isSummaryEnabled),bG(t,SR.b.SETTINGS.MEDIA,e.media?e.media.dbId:null),t})),bG(mG(mG(n)),"getQuestions",(function(e){for(var t=[],r=[],a=0;a<e.questions.length;a++){var o=uG({},e.questions[a]);o.type===SR.o?(o=O.a.pick(o,O.a.values(SR.b.QUESTION_VIDEO)),t.push(o)):o.type===SR.n&&((o=O.a.pick(o,O.a.values(SR.b.QUESTION)))[SR.b.QUESTION.OPTIONS]=n.getQuestionOptions(o),r.push(o))}return{videoQuestions:t,multipleChoiceQuestions:r}})),bG(mG(mG(n)),"getQuestionOptions",(function(e){var t=[];if(e[SR.b.QUESTION.OPTIONS])for(var n=0;n<e[SR.b.QUESTION.OPTIONS].length;n++)t.push(O.a.pick(e[SR.b.QUESTION.OPTIONS][n],O.a.values(SR.b.OPTION)));return t})),bG(mG(mG(n)),"onSubmit",sG(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._isSubmitting=!0,e.next=3,n.props.onSubmit(n.getFormData());case 3:case"end":return e.stop()}}),e,this)})))),bG(mG(mG(n)),"onDualStreamMediaDialogClose",(function(){n.setState({dualStreamMediaDialogMessage:""})})),n.mainFormData=null,n.state=uG({},n.mapActivityDataToState()),n._isSubmitting=!1,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pG(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){if(!this._isSubmitting){var e,t,n=this.props,r=n.dispatch,a=n.match,o=n.activityData;if(o&&+o.dbId!==+a.params.activityId)r(TD.g(null));else{var i=(e=this.getFormData().form,t=this.mainFormState,RD(e,t));r(TD.g({activityData:i,mainFormState:this.mainFormState,state:this.state})),r(qu.bb(null,Bu.CONFIGURATION)),r(qu.ab(null))}}}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this._isSubmitting=!1}},{key:"mapActivityDataToState",value:function(){var e=this.props.interactiveVideoConfiguration,t=O.a.merge({},yG),n=this.getData();if(e)return t=uG({},t,e.state);if(!n)return t;var r=!1,a=null;n.dataForAllStudents&&n.dataForAllStudents.forEach((function(e){if(e.educatorGrade&&(r=!0),!r&&e.interactiveAnswers&&e.interactiveAnswers.length>0&&(r=!0),e.rubricEvaluations&&e.rubricEvaluations.length){var t=e.rubricEvaluations.filter((function(e){return Wr.g(e.user)}));t.length&&(a=t[0].rubric)}}));var o=n.interactiveVideoSettings||{};return t=O.a.merge(t,{interactiveVideoConfiguration:{isRetakeEnabled:o[SR.b.SETTINGS.IS_RETAKE],isSummaryEnabled:o[SR.b.SETTINGS.IS_SUMMARY_VISIBLE],media:o[SR.b.SETTINGS.MEDIA],questions:this.mapInteractiveQuestions(n.interactiveQuestions),gradeType:n.gradeType,rubric:n.rubric?n.rubric.dbId:null,selfAssessment:n.rubricSelfAllowed,isEditingRestricted:r,rubricAlreadyUsedForPeerReview:a}}),this.props.disableEditing&&(t.interactiveVideoConfiguration.isEditingRestricted=!0),this.props.isEditingLocked&&(t.interactiveVideoConfiguration.isEditingRestricted=!0,t.interactiveVideoConfiguration.isEditingLocked=!0),t}},{key:"render",value:function(){var e=this.state,t=e.showAdvanced,n=e.interactiveVideoConfiguration,r=e.dualStreamMediaDialogMessage,a=this.props,i=a.rubrics,c=a.serverErrors;return o.a.createElement("div",null,o.a.createElement(oG,{disableEditing:this.props.disableEditing,isEditingLocked:this.props.isEditingLocked,activityData:this.getData(),mainFormState:this.getMainFormState(),interactiveVideoConfiguration:n,onAddInteractiveVideoMedia:this.onAddInteractiveVideoMedia,onChange:this.onInteractiveVideoConfigurationChange,onMainFormChange:this.onMainFormChange,onSetInteractiveVideoMedia:this.onSetInteractiveVideoMedia,onShowAdvanced:this.onShowAdvanced,onSubmit:this.onSubmit,rubrics:i,serverErrors:c,showAdvanced:t,showClientErrors:this.props.showClientErrors}),o.a.createElement(Ev.a,{id:"dual-stream-media-dialog",message:r,onClose:this.onDualStreamMediaDialogClose}))}}])&&dG(n.prototype,r),a&&dG(n,a),t}(a.Component);vG.defaultProps={onChange:function(){},onSubmit:function(){},disableEditing:!1,isEditingLocked:!1};var hG=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{isD2LFreemium:Ye.u(e),interactiveVideoConfiguration:ID(e)}}))(vG)));function gG(e){return(gG="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wG(e,t){return!t||"object"!==gG(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function OG(e){return(OG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SG(e,t){return(SG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var CG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wG(this,OG(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SG(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.rubrics,n=e.activityData,r=e.onSubmit,a=e.showClientErrors,i=e.serverErrors,c=e.i18n,s=e.disableEditing,u=e.isEditingLocked;return o.a.createElement(Dt.a,{title:c._("Interactive Video Assignment")},o.a.createElement(_c.a,null),o.a.createElement(Ox,{activityData:n}),o.a.createElement(Lt.a,null,o.a.createElement(hG,{rubrics:t,onSubmit:r,showClientErrors:a,serverErrors:i,activityData:n,disableEditing:s,isEditingLocked:u})))}}])&&EG(n.prototype,r),a&&EG(n,a),t}(a.Component),_G=Object(U.withI18n)()(CG);function IG(e){return(IG="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){kG(e,t,n[t])}))}return e}function RG(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function PG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AG(e){return(AG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NG(e,t){return(NG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DG=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=AG(t).call(this,e),n=!a||"object"!==IG(a)&&"function"!==typeof a?jG(r):a,kG(jG(jG(n)),"onSubmit",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.match,o=r.history,i=r.dispatch,Kk(),t.isValid){e.next=6;break}return Jk(),n.setState({showClientErrors:!0}),e.abrupt("return");case 6:return e.next=8,Vl.editInteractiveVideoProject(n.props.activityId,t.form).then((function(){Xk({linkId:O.a.get(t.form,"lmsSync.ltiGradeIdentifier")||"",name:O.a.get(t.form,"name")}),jx(n.props.activityId),i(TD.g(null)),i(qu.bb(null,Bu.CONFIGURATION)),i(qu.ab(null));var e=EI.a.compile(fe.a.getNavigationPathAfterConfiguration())(TG({},a.params));o.push(e)})).catch((function(e){Jk(),e.length?n.setState({serverErrors:zv(e)}):n.setState({serverErrors:[]})}));case 8:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){RG(o,r,a,i,c,"next",e)}function c(e){RG(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.state={showClientErrors:!1,serverErrors:null},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NG(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityData,n=e.rubrics,r=e.disableEditing,a=e.isEditingLocked;return o.a.createElement(_G,{rubrics:n,showClientErrors:this.state.showClientErrors,serverErrors:this.state.serverErrors,onSubmit:this.onSubmit,disableEditing:r,isEditingLocked:a,activityData:t})}}])&&PG(n.prototype,r),a&&PG(n,a),t}(a.Component);DG.propTypes={activityId:c.a.number.isRequired,activityData:c.a.object,rubrics:c.a.arrayOf(c.a.object)};var LG=Object(y.k)(Object(s.b)((function(e){return{navigation:Ax.a(e)}}))(DG)),MG=n("jpbM"),xG=n.n(MG),FG=n("8eDJ");n("AVXr");function UG(e){return(UG="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VG(){return(VG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function GG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qG(e,t){return!t||"object"!==UG(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BG(e){return(BG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WG(e,t){return(WG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var QG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qG(this,BG(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WG(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.index,n=e.onRemoveQuestion,r=e.questionText,a=e.isUsed,i=e.onQuestionTextChange,c=e.onIsUsedChange,s=e.media,u=e.addQuestionMedia,l=e.dragHandleProps,d=e.setQuestionMedia,f=e.showClientErrors,p=e.isQaQuestionsLocked,m=e.i18n,b="QA question #".concat(this.props.dbId," ");return s&&(b+="Media #".concat(s.dbId)),o.a.createElement("div",{className:"c-qa-question",tabIndex:0},o.a.createElement(F.a,{query:"(max-width: 699px)"},o.a.createElement(pj.a,{id:"assignment-settings-qa-question-video-container[".concat(t,"]"),usageContext:Kh.a.QA_QUESTION,playerId:b,showControls:!0,media:s,onAddMedia:u,onSetMedia:d,isLocked:p,allowDesktopSharing:!1})),o.a.createElement(F.a,{query:"(min-width: 700px)"},o.a.createElement(pj.a,{id:"assignment-settings-qa-question-video-container[".concat(t,"]"),usageContext:Kh.a.QA_QUESTION,playerId:b,media:s,onAddMedia:u,onSetMedia:d,isLocked:p,allowDesktopSharing:!1})),o.a.createElement("div",{className:"c-qa-question__info-container"},o.a.createElement("div",{id:"qa-question-text[".concat(t,"]")},o.a.createElement(mr.b,{style:{width:"100%"},onChange:i,value:r.value,errorText:f?r.error:"",maxRows:3,rows:1,id:"textfield-qa-question-text[".concat(t,"]"),name:"question-text"+t,label:m._("Question Text"),ariaLabel:m._("Question Text")})),o.a.createElement("div",{id:"qa-question-active[".concat(t,"]")},o.a.createElement(ZA.a,{enabled:!p,checked:a.value,onChange:c,id:"checkbox-qa-question-active[".concat(t,"]"),name:"is_used"+t,label:m._("Active"),ariaLabel:m._("Active")}))),o.a.createElement("div",{className:"c-qa-question__delete-container"},o.a.createElement("div",{className:"c-qa-question__action-container"},o.a.createElement(we.d,{id:"button-qa-question-delete[".concat(t,"]"),ariaLabel:m._("Delete"),onClick:n,enabled:!p},re.a.DELETE)),o.a.createElement("div",{className:"c-qa-question__action-container"},o.a.createElement("span",VG({id:"button-qa-question-reorder[".concat(t,"]"),className:"c-qa-question__dragger"},l),o.a.createElement(zc.a,{className:Tf.a.DOT_8,ariaLabel:m._("Reorder Question"),enabled:!p,tooltip:{label:p?m._("Questions cannot be reorderd at this time"):m._("Drag to reorder")}})))))}}])&&GG(n.prototype,r),a&&GG(n,a),t}(a.Component);QG.propTypes={dragHandleProps:c.a.object};var YG=Object(U.withI18n)()(QG);n("aqn0");function HG(e){return(HG="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zG(){return(zG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function KG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XG(e){return(XG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JG(e,t){return(JG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eq=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=XG(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==HG(a)&&"function"!==typeof a?ZG(r):a,$G(ZG(ZG(n)),"onDragEnd",(function(e){e.destination&&(0,n.props.moveQuestion)(e.source.index,e.destination.index)})),$G(ZG(ZG(n)),"renderRecordingModeOptions",(function(){var e=n.props,t=e.i18n,r=e.onRecordingModeChange,a=e.recordingMode,i={id:"radio-recording-mode-camera",label:o.a.createElement("div",{className:"radio-recording-mode-option-text"},t._("Camera only")),value:FG.a.CAMERA_ONLY},c={id:"radio-recording-mode-camera-screen",label:o.a.createElement("div",{className:"radio-recording-mode-option-text"},t._("Camera + Screen"),o.a.createElement(zc.a,{tooltip:{label:t._("Users will be required to record their screen in addition to their camera for every answer. This will require users to access this assignment from a device that supports screen recording (mobile devices not supported).")}},re.a.STATUS_INFO)),value:FG.a.CAMERA_AND_SCREENSHARE};return o.a.createElement("div",{className:"qa-assignment-settings-recording-mode-container"},o.a.createElement(br.a,{id:"qa_recording_mode",name:"qa_recording_mode",enabled:!a.disabled,tooltip:{label:a.tooltip},controls:[i,c],label:t._("Recording Mode"),labelClassName:E()("md-subheading-1","qa-assignment-settings-recording-mode-header"),onChange:r,type:"radio",value:a.value}))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JG(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.rubrics,n=e.activityData,r=e.onMainFormChange,a=e.onSubmit,i=e.isStartedImmediately,c=e.delay,s=e.answerMinLength,u=e.answerMaxLength,l=e.amountOfRandomQuestionsPerStudent,d=e.isRandomQuestionsModeEnabled,f=e.isStudentRetakeAllowed,p=e.onIsStudentRetakeAllowedChange,m=e.onIsStartedImmediatelyChange,b=e.onIsRandomQuestionsModeEnabledChange,y=e.onAmountOfRandomQuestionsPerStudentChange,v=e.onDelayChange,h=e.onAnswerMinLengthChange,g=e.onAnswerMaxLengthChange,w=e.qaQuestions,O=e.onAddQuestion,S=e.onRemoveQuestion,C=e.onQuestionTextChange,_=e.onIsUsedChange,I=e.showClientErrors,T=e.addQuestionMedia,R=e.setQuestionMedia,P=e.showAdvanced,A=e.onShowAdvanced,N=e.serverErrors,j=e.isQaQuestionsLocked,k=e.addQuestionLocked,D=e.mainFormState,L=e.i18n,M=e.disableEditing,x=e.isEditingLocked;k=w.length>=20;var F=w.map((function(e,t){return o.a.createElement(jw.b,{key:e.dbId,draggableId:e.dbId,index:t,type:"QA_QUESTION",isDragDisabled:j},(function(n,r){return o.a.createElement("div",zG({ref:n.innerRef,className:r.isDragging?"qa-questions-list-item-drag-container--active":""},n.draggableProps),o.a.createElement(YG,zG({key:e.dbId+"_"+t,isQaQuestionsLocked:j,showClientErrors:I,addQuestionMedia:T.bind(null,t),setQuestionMedia:R.bind(null,t),onIsUsedChange:_.bind(null,t),onQuestionTextChange:C.bind(null,t),onRemoveQuestion:S.bind(null,t),index:t,addQuestionLocked:k,dragHandleProps:n.dragHandleProps},e)))}))}));return o.a.createElement(fD,{rubrics:t,activityData:n,mainFormState:D,canAutoGrade:!1,canGradedPeerReview:fe.a.isGradedPeerReviewAllowed(),canReflectionQuestions:fe.a.isReflectionQuestionsAllowed(),onSubmit:a,disableEditing:M,isEditingLocked:x,serverErrors:N,showAdvanced:P,onShowAdvanced:A,showClientErrors:I,onChange:r,enablePeerReview:fe.a.isPeerReviewEnabled(),peerReviewTooltipLabel:fe.a.isPeerReviewEnabled()?"":L._(oE.a.FREEMIUM_CONFIG_OPTION)},o.a.createElement("div",null,o.a.createElement("div",{className:"c-crate-activity__block questions-container"},o.a.createElement("h2",{className:"section-header"},o.a.createElement(U.Trans,{id:"Questions"})),o.a.createElement("div",{className:"config-section-contents"},o.a.createElement(jw.a,{onDragEnd:this.onDragEnd},o.a.createElement(jw.c,{droppableId:"droppable-qa-questions",type:"QA_QUESTION"},(function(e,t){return o.a.createElement("div",zG({ref:e.innerRef,className:t.isDraggingOver?"qa-questions-list-drag-container--active":""},e.droppableProps),F)}))),o.a.createElement(we.h,{id:"button-assignment-qa-question-create",className:"add-question-button",ariaLabel:L._("Add Question"),enabled:k?!k:!j,tooltip:{label:k?L._("Maximum allowed questions reached"):""},onClick:O},o.a.createElement(U.Trans,{id:"Add Question"}))))),o.a.createElement("div",null,o.a.createElement("h2",{className:"section-header"},o.a.createElement(U.Trans,{id:"Answer Settings"})),o.a.createElement("div",{className:E()("config-section-contents","qa-answer-settings-contents")},this.renderRecordingModeOptions(),P&&o.a.createElement("div",{id:"checkbox-assignment-settings-allow-retake"},o.a.createElement(ZA.a,{id:"allow_retake",name:"allow_retake",label:L._("Allow Retake"),ariaLabel:L._("Allow Retake"),checked:f.value,enabled:!f.disabled,onChange:p})),P&&o.a.createElement("div",{id:"checkbox-assignment-settings-record-reaction"},o.a.createElement(ZA.a,{id:"record_reaction",name:"record_reaction",label:L._("Record Reaction"),ariaLabel:L._("Record Reaction"),checked:i.value,enabled:!i.disabled,onChange:m})),P&&o.a.createElement("div",{id:"checkbox-assignment-settings-random-mode"},o.a.createElement(ZA.a,{id:"random_question_mode_enabled",name:"random_question_mode_enabled",label:L._("Random Question Mode"),ariaLabel:L._("Random Question Mode"),checked:d.value,enabled:!d.disabled,onChange:b})),P&&d.value&&o.a.createElement(mr.b,{style:Mj,id:"amount_of_random_questions",name:"amount_of_random_questions",label:L._("Number of random questions per learner"),enabled:!d.disabled&&!l.disabled,value:""+l.value,errorText:I?l.error:"",onChange:y,min:0,type:"number"}),!i.value&&o.a.createElement(mr.b,{style:Mj,value:""+c.value,enabled:!c.disabled,tooltip:{label:c.tooltip},errorText:I?c.error:"",onChange:v,id:"delay",name:"delay",label:L._("Delay (seconds)"),min:0,type:"number"}),o.a.createElement("div",{className:"record-time-container"},o.a.createElement(mr.b,{className:"min-record-time-input",style:Mj,errorText:I?s.error:"",value:""+s.value,enabled:!s.disabled,tooltip:{label:s.tooltip},onChange:h,id:"min_record_time",name:"min_record_time",label:L._("Min Record Time (seconds)"),min:1,type:"number"}),o.a.createElement(mr.b,{className:"max-record-time-input",style:Mj,errorText:I?u.error:"",value:""+u.value,enabled:!u.disabled,onChange:g,id:"max_record_time",name:"max_record_time",label:L._("Max Record Time (seconds)"),min:0,type:"number"})))))}}])&&KG(n.prototype,r),a&&KG(n,a),t}(a.Component),tq=Object(U.withI18n)()(eq);function nq(e){return(nq="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rq(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function aq(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){rq(o,r,a,i,c,"next",e)}function c(e){rq(o,r,a,i,c,"throw",e)}i(void 0)}))}}function oq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function iq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cq(e){return(cq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sq(e,t){return(sq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dq={dbId:"",questionText:{value:""},media:null,isUsed:{value:!0},orderNumber:0},fq={isStartedImmediately:{value:!1,disabled:!1},delay:{value:10,disabled:!1,tooltip:""},answerMinLength:{value:10,disabled:!1,tooltip:""},answerMaxLength:{value:60,disabled:!1},amountOfRandomQuestionsPerStudent:{value:"",disabled:!1},isRandomQuestionsModeEnabled:{value:!1,disabled:!1},isStudentRetakeAllowed:{value:!1,disabled:!1},recordingMode:{value:FG.a.CAMERA_ONLY,disabled:!1,tooltip:""},qaQuestions:[],showAdvanced:!1,isQaQuestionsLocked:!1,addQuestionLocked:!1,dualStreamMediaDialogMessage:""},pq=o.a.createElement(U.Trans,{id:"This field is required"}),mq=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=cq(t).call(this,e),n=!a||"object"!==nq(a)&&"function"!==typeof a?uq(r):a,lq(uq(uq(n)),"_isSubmitting",!1),lq(uq(uq(n)),"onShowAdvanced",(function(){var e=!n.state.showAdvanced;n.setState({showAdvanced:e})})),lq(uq(uq(n)),"getUnableToEditTooltipLabel",(function(){return n.props.i18n._("This setting can only be changed prior to any answers being recorded")})),lq(uq(uq(n)),"onRecordingModeChange",(function(e){var t=n.props.i18n,r=O.a.merge({},n.state.recordingMode,{value:e}),a=O.a.merge({},n.state.answerMinLength),o=O.a.merge({},n.state.delay);if(e===FG.a.CAMERA_AND_SCREENSHARE){var i=t._('This setting cannot be configured when recording mode is set to "Camera + Screen"');a.value=1,a.disabled=!0,a.tooltip=i,o.value=0,o.disabled=!0,o.tooltip=i}else a.disabled=!1,a.tooltip="",o.disabled=!1,o.tooltip="";n.setState({recordingMode:r,answerMinLength:a,delay:o},n.onChange)})),lq(uq(uq(n)),"onIsStudentRetakeAllowedChange",(function(e){var t=O.a.merge({},n.state.isStudentRetakeAllowed);t.value=e,n.setState({isStudentRetakeAllowed:t},n.onChange)})),lq(uq(uq(n)),"onIsStartedImmediatelyChange",(function(e){var t=O.a.merge({},n.state.isStartedImmediately);t.value=e,n.setState({isStartedImmediately:t},n.onChange)})),lq(uq(uq(n)),"onIsRandomQuestionsModeEnabledChange",(function(e){var t=O.a.merge({},n.state.isRandomQuestionsModeEnabled);t.value=e,n.setState({isRandomQuestionsModeEnabled:t},n.onChange)})),lq(uq(uq(n)),"onAmountOfRandomQuestionsPerStudentChange",(function(e){var t=O.a.merge({},n.state.amountOfRandomQuestionsPerStudent);(e=+e)<0&&(e=0);var r=n.getActiveQuestionsCount();e>r&&(e=r),t.value=e,n.setState({amountOfRandomQuestionsPerStudent:t},n.onChange)})),lq(uq(uq(n)),"onDelayChange",(function(e){var t=O.a.merge({},n.state.delay);(e=+e)<0&&(e=0),t.value=e,n.setState({delay:t},n.onChange)})),lq(uq(uq(n)),"onAnswerMinLengthChange",(function(e){var t=O.a.merge({},n.state.answerMinLength);(e=+e)<0&&(e=0),t.value=e,n.setState({answerMinLength:t},n.onChange)})),lq(uq(uq(n)),"onAnswerMaxLengthChange",(function(e){var t=O.a.merge({},n.state.answerMaxLength);(e=+e)<0&&(e=0),t.value=e,n.setState({answerMaxLength:t},n.onChange)})),lq(uq(uq(n)),"onAddQuestion",(function(){var e=O.a.merge([],n.state.qaQuestions),t=O.a.merge({},dq);t.dbId=xG()(5),e.push(t),n.setState({qaQuestions:e},n.onChange)})),lq(uq(uq(n)),"onQuestionTextChange",(function(e,t){var r=O.a.merge([],n.state.qaQuestions);r[e].questionText.value=t,n.setState({qaQuestions:r},n.onChange)})),lq(uq(uq(n)),"onIsUsedChange",(function(e,t){var r=O.a.merge([],n.state.qaQuestions);r[e].isUsed.value=t,n.setState({qaQuestions:r},n.onChange)})),lq(uq(uq(n)),"onRemoveQuestion",(function(e){var t=O.a.merge([],n.state.qaQuestions);t=Nw.d(t,e),n.setState({qaQuestions:t},n.onChange)})),lq(uq(uq(n)),"moveQuestion",(function(e,t){var r=Nw.c(n.state.qaQuestions,e,t);n.setState({qaQuestions:r})})),lq(uq(uq(n)),"addQuestionMedia",(function(e){var t,r=n.props,a=r.activityData,i=r.match.params.classId;a&&(t=a.dbId),dt.a.showModal(o.a.createElement("div",{id:"activity-config-qa-add-video-dialog"},o.a.createElement(Vk,{activityId:t,termClassId:+i,allowDesktopSharing:!1,onComplete:function(t){var r=oq(t,1)[0];n.setQuestionMedia(e,r)}})))})),lq(uq(uq(n)),"setQuestionMedia",(function(e,t){var r=n.props.i18n,a=O.a.merge([],n.state.qaQuestions),o=t?O.a.merge({},t):null,i="";if(o&&o.slaveMedia){var c=t.title;i=r._('The selected video "{videoTitle}" includes screen recording but only the camera recording will be visible during playback.',{videoTitle:c}),o.slaveMedia=null}a[e].media=o,n.setState({qaQuestions:a,dualStreamMediaDialogMessage:i},n.onChange)})),lq(uq(uq(n)),"onChange",(function(){n.props.onChange(n.getFormData())})),lq(uq(uq(n)),"onMainFormChange",(function(e,t){n.mainFormData=e,n.mainFormState=t,n.onChange()})),lq(uq(uq(n)),"validate",(function(){var e=!0,t=n.getStateWithoutErrors(),r=n.props.i18n;if(+n.state.answerMaxLength.value<+n.state.answerMinLength.value&&(e=!1,t.answerMaxLength.error=r._("Max record time must be greater than the minimum")),n.state.answerMinLength.value||(e=!1,t.answerMinLength.error=pq),n.state.answerMaxLength.value||(e=!1,t.answerMaxLength.error=pq),n.state.qaQuestions.forEach((function(n,r){n.questionText.value||(e=!1,t.qaQuestions[r].questionText.error=pq)})),n.state.isRandomQuestionsModeEnabled.value){var a=n.getActiveQuestionsCount();n.state.amountOfRandomQuestionsPerStudent.value||(t.amountOfRandomQuestionsPerStudent.error=pq,e=!1),n.state.amountOfRandomQuestionsPerStudent.value>a&&(t.amountOfRandomQuestionsPerStudent.error=r._("Can't be larger than the number of active questions"),e=!1)}return n.setState(t),e})),lq(uq(uq(n)),"getFormData",(function(){var e=n.validate(),t={qaSettings:{isStartedImmediately:n.state.isStartedImmediately.value,delay:n.state.delay.value,answerMinLength:n.state.answerMinLength.value,answerMaxLength:n.state.answerMaxLength.value,amountOfRandomQuestionsPerStudent:n.state.amountOfRandomQuestionsPerStudent.value,isRandomQuestionsModeEnabled:n.state.isRandomQuestionsModeEnabled.value,isStudentRetakeAllowed:n.state.isStudentRetakeAllowed.value,recordingMode:n.state.recordingMode.value},qaQuestions:n.state.qaQuestions.map((function(e,t){return delete(e=O.a.merge({},e)).dbId,e.media?e.media=e.media.dbId:delete e.media,e.isUsed=e.isUsed.value,e.questionText=e.questionText.value,e.orderNumber=t,e}))};return n.state.isRandomQuestionsModeEnabled.value||delete t.qaSettings.amountOfRandomQuestionsPerStudent,t.qaSettings.amountOfRandomQuestionsPerStudent||delete t.qaSettings.amountOfRandomQuestionsPerStudent,O.a.isNumber(t.qaSettings.delay)&&!n.state.isStartedImmediately.value||delete t.qaSettings.delay,{isValid:e&&n.mainFormData.isValid,form:O.a.merge({},n.mainFormData.form,t)}})),lq(uq(uq(n)),"onSubmit",aq(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._isSubmitting=!0,e.next=3,n.props.onSubmit(n.getFormData());case 3:case"end":return e.stop()}}),e,this)})))),lq(uq(uq(n)),"getActivityData",(function(){var e=n.props,t=e.activityData,r=e.qaConfiguration;return r?r.activityData:t})),lq(uq(uq(n)),"getMainFormState",(function(){var e=n.props.qaConfiguration;return e?e.mainFormState:null})),lq(uq(uq(n)),"onDualStreamMediaDialogClose",(function(){n.setState({dualStreamMediaDialogMessage:""})})),n.state=n.mapActivityDataToState(),n.mainFormData=null,n._isSubmitting=!1,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sq(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){if(!this._isSubmitting){var e,t,n=this.props,r=n.dispatch,a=n.match,o=n.activityData;if(o&&+o.dbId!==+a.params.activityId)r(TD.h(null));else{var i=(e=this.getFormData().form,t=this.mainFormState,RD(e,t));r(TD.h({activityData:i,mainFormState:this.mainFormState,state:this.state})),r(qu.bb(null,Bu.CONFIGURATION)),r(qu.ab(null))}}}},{key:"componentDidMount",value:function(){this.onRecordingModeChange(this.state.recordingMode.value)}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this._isSubmitting=!1}},{key:"mapActivityDataToState",value:function(){var e=this.props.qaConfiguration,t=O.a.merge({},fq),n=this.getActivityData();if(!n)return t;if(e&&e.state)return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lq(e,t,n[t])}))}return e}({},t,e.state);t.isStartedImmediately.value=n.qaSettings.isStartedImmediately,t.delay.value=n.qaSettings.delay,t.answerMinLength.value=n.qaSettings.answerMinLength,t.answerMaxLength.value=n.qaSettings.answerMaxLength,t.amountOfRandomQuestionsPerStudent.value=n.qaSettings.amountOfRandomQuestionsPerStudent,t.isRandomQuestionsModeEnabled.value=n.qaSettings.isRandomQuestionsModeEnabled,t.isStudentRetakeAllowed.value=n.qaSettings.isStudentRetakeAllowed,t.recordingMode.value=n.qaSettings.recordingMode,t.isQaQuestionsLocked=n.isQaQuestionsLocked;var r=O.a.merge([],n.qaQuestions);return r.sort((function(e,t){return e.orderNumber-t.orderNumber})),t.qaQuestions=r.map((function(e){var t=O.a.merge({},dq);return t.dbId=e.dbId,t.isUsed.value=e.isUsed,t.media=e.media,t.questionText.value=e.questionText,t})),t.isQaQuestionsLocked&&(t.isRandomQuestionsModeEnabled.disabled=!0,t.recordingMode.disabled=!0,t.recordingMode.tooltip=this.getUnableToEditTooltipLabel()),this.props.disableEditing&&(t.isQaQuestionsLocked=!0,t.addQuestionLocked=!0,t.isStartedImmediately.disabled=!0,t.delay.disabled=!0,t.answerMinLength.disabled=!0,t.answerMaxLength.disabled=!0,t.amountOfRandomQuestionsPerStudent.disabled=!0,t.isRandomQuestionsModeEnabled.disabled=!0,t.isStudentRetakeAllowed.disabled=!0,t.recordingMode.disabled=!0),this.props.isEditingLocked&&(t.isQaQuestionsLocked=!0,t.addQuestionLocked=!0,t.recordingMode.disabled=!0),t}},{key:"getActiveQuestionsCount",value:function(){var e=0;return this.state.qaQuestions.forEach((function(t){t.isUsed.value&&e++})),e}},{key:"getStateWithoutErrors",value:function(){var e=O.a.merge({},this.state);return e.answerMinLength.error="",e.answerMaxLength.error="",e.delay.error="",e.amountOfRandomQuestionsPerStudent.error="",e.qaQuestions.map((function(e){return e.questionText.error="",null})),e}},{key:"render",value:function(){var e=this.props,t=e.rubrics,n=e.showClientErrors,r=e.serverErrors,a=this.state,i=a.isStartedImmediately,c=a.delay,s=a.answerMinLength,u=a.answerMaxLength,l=a.amountOfRandomQuestionsPerStudent,d=a.isRandomQuestionsModeEnabled,f=a.isStudentRetakeAllowed,p=a.qaQuestions,m=a.showAdvanced,b=a.isQaQuestionsLocked,y=a.dualStreamMediaDialogMessage,v=a.recordingMode;return o.a.createElement("div",null,o.a.createElement(tq,{rubrics:t,showAdvanced:m,activityData:this.getActivityData(),mainFormState:this.getMainFormState(),isStartedImmediately:i,delay:c,answerMinLength:s,answerMaxLength:u,amountOfRandomQuestionsPerStudent:l,isRandomQuestionsModeEnabled:d,recordingMode:v,isStudentRetakeAllowed:f,qaQuestions:p,serverErrors:r,showClientErrors:n,isQaQuestionsLocked:b,disableEditing:this.props.disableEditing,isEditingLocked:this.props.isEditingLocked,onShowAdvanced:this.onShowAdvanced,addQuestionMedia:this.addQuestionMedia,setQuestionMedia:this.setQuestionMedia,moveQuestion:this.moveQuestion,onIsUsedChange:this.onIsUsedChange,onQuestionTextChange:this.onQuestionTextChange,onRemoveQuestion:this.onRemoveQuestion,onAddQuestion:this.onAddQuestion,onAnswerMaxLengthChange:this.onAnswerMaxLengthChange,onAnswerMinLengthChange:this.onAnswerMinLengthChange,onDelayChange:this.onDelayChange,onAmountOfRandomQuestionsPerStudentChange:this.onAmountOfRandomQuestionsPerStudentChange,onIsRandomQuestionsModeEnabledChange:this.onIsRandomQuestionsModeEnabledChange,onIsStartedImmediatelyChange:this.onIsStartedImmediatelyChange,onIsStudentRetakeAllowedChange:this.onIsStudentRetakeAllowedChange,onRecordingModeChange:this.onRecordingModeChange,onSubmit:this.onSubmit,onMainFormChange:this.onMainFormChange}),o.a.createElement(Ev.a,{id:"dual-stream-media-dialog",message:y,onClose:this.onDualStreamMediaDialogClose}))}}])&&iq(n.prototype,r),a&&iq(n,a),t}(a.Component);mq.defaultProps={onChange:function(){},onSubmit:function(){},showClientErrors:!1,disableEditing:!1,isEditingLocked:!1};var bq=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{isD2LFreemium:Ye.u(e),qaConfiguration:_D(e)}}))(mq)));function yq(e){return(yq="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hq(e,t){return!t||"object"!==yq(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gq(e){return(gq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eq(e,t){return(Eq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wq=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hq(this,gq(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eq(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.rubrics,n=e.activityData,r=e.onSubmit,a=e.showClientErrors,i=e.serverErrors,c=e.i18n,s=e.disableEditing,u=e.isEditingLocked;return o.a.createElement(Dt.a,{title:c._("Configure Question & Answer Assignment")},o.a.createElement(_c.a,null),o.a.createElement(Ox,{activityData:n}),o.a.createElement(Lt.a,null,o.a.createElement(bq,{rubrics:t,showClientErrors:a,serverErrors:i,disableEditing:s,isEditingLocked:u,onSubmit:r,activityData:n})))}}])&&vq(n.prototype,r),a&&vq(n,a),t}(a.Component),Oq=Object(U.withI18n)()(wq);function Sq(e){return(Sq="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Aq(e,t,n[t])}))}return e}function _q(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Iq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tq(e){return(Tq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rq(e,t){return(Rq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nq=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Tq(t).call(this,e),n=!a||"object"!==Sq(a)&&"function"!==typeof a?Pq(r):a,Aq(Pq(Pq(n)),"onSubmit",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.match,o=r.history,i=r.dispatch,Kk(),t.isValid){e.next=5;break}return Jk(),e.abrupt("return");case 5:return e.next=7,Vl.editQaProject(n.props.activityId,t.form).then((function(){Xk({linkId:O.a.get(t.form,"lmsSync.ltiGradeIdentifier")||"",name:O.a.get(t.form,"name")}),jx(n.props.activityId),i(TD.h(null)),i(qu.bb(null,Bu.CONFIGURATION)),i(qu.ab(null));var e=EI.a.compile(fe.a.getNavigationPathAfterConfiguration())(Cq({},a.params));o.push(e)})).catch((function(e){Jk(),e.length?n.setState({serverErrors:zv(e)}):n.setState({serverErrors:[]})}));case 7:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_q(o,r,a,i,c,"next",e)}function c(e){_q(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.state={serverErrors:null},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rq(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityData,n=e.rubrics,r=e.disableEditing,a=e.isEditingLocked,i=this.state.serverErrors;return o.a.createElement(Oq,{rubrics:n,disableEditing:r,isEditingLocked:a,showClientErrors:!0,serverErrors:i,onSubmit:this.onSubmit,activityData:t})}}])&&Iq(n.prototype,r),a&&Iq(n,a),t}(a.Component);Nq.propTypes={activityId:c.a.number.isRequired,activityData:c.a.object,rubrics:c.a.arrayOf(c.a.object)};var jq=Object(y.k)(Object(s.b)((function(e){return{navigation:Ax.a(e)}}))(Nq)),kq=n("uvcT");function Dq(){var e=Fq(["\n    mutation editRubric($input: EditRubricInput!){\n        editRubric(input: $input){\n            rubric {\n                dbId\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n"]);return Dq=function(){return e},e}function Lq(){var e=Fq(["\n    mutation createRubric($input: CreateRubricInput!){\n        createRubric(input: $input){\n            rubric {\n                dbId\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n"]);return Lq=function(){return e},e}function Mq(){var e=Fq(["\n    mutation deleteRubric($input: DeleteRubricInput!){\n        deleteRubric(input: $input){\n            removedId\n        }\n    }\n"]);return Mq=function(){return e},e}function xq(){var e=Fq(["\n    query getRubrics ($classId: Int!) {\n        termClass(dbId: $classId) {\n          rubrics {\n            ...Rubric\n            owner {\n                dbId\n                firstName\n                lastName\n            }\n            createdAt\n            isUsed\n            cengageSettings {\n                locked\n            }\n          }\n        }\n    }\n    ","\n"]);return xq=function(){return e},e}function Fq(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Uq(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Vq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gq=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getRubrics",value:function(e){return xe.a.query({query:qq,variables:{classId:e},fetchPolicy:"network-only"}).then((function(e){return Promise.resolve(e.data.termClass.rubrics)}))}},{key:"getRubricById",value:function(e,t){var n=this;return new Promise(function(){var r,a=(r=regeneratorRuntime.mark((function r(a,o){var i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.getRubrics(t);case 3:if(i=r.sent,c=null,i.forEach((function(t){t.dbId===e&&(c=t)})),c){r.next=8;break}return r.abrupt("return",o());case 8:return r.abrupt("return",a(c));case 11:return r.prev=11,r.t0=r.catch(0),r.abrupt("return",o(r.t0));case 14:case"end":return r.stop()}}),r,this,[[0,11]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){Uq(o,n,a,i,c,"next",e)}function c(e){Uq(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e,t){return a.apply(this,arguments)}}())}},{key:"createRubric",value:function(e){return xe.a.mutate({mutation:Wq,variables:{input:{rubric:e}}}).then((function(e){var t=e.data.createRubric.errors;return t&&t.length>0?Promise.reject(t):Promise.resolve(e.data.createRubric.rubric.dbId)}))}},{key:"editRubric",value:function(e,t){return xe.a.mutate({mutation:Qq,variables:{input:{rubric:t,dbId:e}}}).then((function(e){var t=e.data.editRubric.errors;return t&&t.length>0?Promise.reject(t):Promise.resolve(e.data.editRubric.rubric.dbId)}))}},{key:"removeRubric",value:function(e){return xe.a.mutate({mutation:Bq,variables:{input:{dbId:e}}}).then((function(e){var t=e.errors;return t&&t.length>0?Promise.reject(t):Promise.resolve(e.data.deleteRubric.removedId)}))}}])&&Vq(t.prototype,n),r&&Vq(t,r),e}()),qq=Ue()(xq(),Hu.d),Bq=Ue()(Mq()),Wq=Ue()(Lq()),Qq=Ue()(Dq());function Yq(e){return(Yq="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zq(e){return(zq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kq(e,t){return(Kq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zq=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=zq(t).call(this,e),n=!a||"object"!==Yq(a)&&"function"!==typeof a?Xq(r):a,Jq(Xq(Xq(n)),"loadActivityData",(function(){var e=n.props.match.params,t=e.activityId,r=e.classId;t&&Vl.getActivitySettingsData(+t).then((function(){fe.a.isEducatorGlobalNavVisible()&&O.a.isNumber(r)&&kq.a.getActivityNavigationItems(+r,+t)})),Gq.getRubrics(+r).then((function(e){n.setState({rubrics:e})}))})),Jq(Xq(Xq(n)),"isEditingLocked",(function(){var e=n.props,t=e.activityData,r=e.currentUser;return t.cengageSettings&&t.cengageSettings.locked&&!Wr.h(r)})),Jq(Xq(Xq(n)),"canUserEditActivity",(function(){var e=n.props,t=e.activityData,r=e.currentUser,a=e.ltiScope,o=!0;return t.cengageSettings&&t.cengageSettings.inPath&&t.dataForAllStudents&&t.dataForAllStudents.length>0&&t.dataForAllStudents.forEach((function(e){e.result&&e.result.submitter&&!Wr.i(r)&&(o=!1)})),t.cengageSettings&&t.cengageSettings.inPath&&a===bx.a.CENGAGE_EDUCATOR_DOCK&&(o=!1),o})),n.state={rubrics:null},e.dispatch(qu.ab(null)),e.dispatch(qu.bb(null,Bu.CONFIGURATION)),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kq(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.loadActivityData()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.dispatch,n=e.match.params.activityId;this.props.activityData?this.props.activityData.dbId!==+n&&(t(qu.ab(null)),t(qu.bb(null,Bu.CONFIGURATION)),this.loadActivityData()):this.props.isLoading||this.loadActivityData()}},{key:"render",value:function(){var e=this.props,t=e.match.params.activityId,n=e.activityData,r=e.isLoading;if(r)return o.a.createElement(ca.b,{loading:r});if(!n||!n.type)return null;n=O.a.merge({},n);var a=this.state.rubrics,i=!this.canUserEditActivity(),c=this.isEditingLocked();switch(n.type){case Wu.b.GROUP_PRESENTATION:return o.a.createElement("span",null,n&&n.termClass?o.a.createElement(_c.a,{classId:n.termClass.dbId}):null,o.a.createElement(qx,{activityData:n,activityId:+t,rubrics:a,disableEditing:i,isEditingLocked:c}));case Wu.b.INDIVIDUAL_PROJECT:return o.a.createElement(o.a.Fragment,null,n&&n.termClass?o.a.createElement(_c.a,{classId:n.termClass.dbId}):null,o.a.createElement(ZU,{activityData:n,activityId:+t,rubrics:a,isReadOnly:i,isEditingLimited:c}));case Wu.b.QA_ENHANCED:return o.a.createElement("span",null,n&&n.termClass?o.a.createElement(_c.a,{classId:n.termClass.dbId}):null,o.a.createElement(jq,{activityData:n,activityId:+t,rubrics:a,disableEditing:i,isEditingLocked:c}));case Wu.b.INTERACTIVE_VIDEO:return o.a.createElement("span",null,n&&n.termClass?o.a.createElement(_c.a,{classId:n.termClass.dbId}):null,o.a.createElement(LG,{activityData:n,activityId:+t,rubrics:a,disableEditing:i,isEditingLocked:c}));default:return o.a.createElement(U.Trans,{id:"Assignment type not supported"})}}}])&&Hq(n.prototype,r),a&&Hq(n,a),t}(a.Component),$q=Object(y.k)(Object(s.b)((function(e){return{activityData:GC(e)[Bu.CONFIGURATION],isLoading:FS(e),currentUser:Qe.h(e),ltiScope:Ye.l(e)}}))(Zq));function eB(e){return(eB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nB(e,t){return!t||"object"!==eB(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rB(e){return(rB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aB(e,t){return(aB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nB(this,rB(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aB(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.match.params.activityId;Vl.getActivityData(+e)}},{key:"render",value:function(){var e=this.props.i18n;return o.a.createElement(Dt.a,{title:e._("Group Formation")},o.a.createElement(Lt.a,null,o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"Group Formation"}))))}}])&&tB(n.prototype,r),a&&tB(n,a),t}(a.Component),iB=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{isLoading:FS(e)}}))(oB)));var cB=Object(U.withI18n)()((function(e){var t=e.rubrics,n=e.activityData,r=e.onFormChange,a=e.onSubmit,i=e.showClientErrors,c=e.serverErrors,s=e.i18n;return o.a.createElement(Dt.a,{title:s._("Create Group Assignment")},o.a.createElement(_c.a,null),o.a.createElement(mx,{context:JA.a.CONFIGURATION_NEW}),o.a.createElement(Lt.a,null,o.a.createElement(UD,{rubrics:t,activityData:n,serverErrors:c,onSubmit:a,showClientErrors:i,onChange:r})))})),sB=n("nuPF");function uB(e){return(uB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yB(e,t,n[t])}))}return e}function dB(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function fB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pB(e){return(pB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mB(e,t){return(mB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vB=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=pB(t).call(this,e),n=!a||"object"!==uB(a)&&"function"!==typeof a?bB(r):a,yB(bB(bB(n)),"onFormChange",(function(e){n.formData=e})),yB(bB(bB(n)),"onSubmit",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isValid,a=t.form,Kk(),r){e.next=6;break}return Jk(),n.setState({showClientErrors:!0}),e.abrupt("return");case 6:return o=n.props,i=o.match.params.classId,c=o.match,s=o.history,u=o.navigation,l=o.dispatch,e.next=9,Vl.createGroupProject(+i,a).then((function(e){var t=e.dbId,n=Object(sB.a)(u,JA.a.D2L_QUICK_LINK_ACTIVITY_LIST);if(l(TD.e(null)),l(qu.bb(null,Bu.CONFIGURATION)),l(qu.ab(null)),Xk({linkId:O.a.get(a,"lmsSync.ltiGradeIdentifier")||"",name:O.a.get(a,"name")}),Object(II.b)()&&n)return window.location.href=n;var r=EI.a.compile(fe.a.getNavigationPathAfterConfiguration())(lB({},c.params,{activityId:t}));s.push(r)})).catch((function(e){Jk(),e.length?n.setState({serverErrors:zv(e)}):n.setState({serverErrors:[]})}));case 9:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){dB(o,r,a,i,c,"next",e)}function c(e){dB(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.state={rubrics:null,showClientErrors:!1,serverErrors:null},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mB(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.classId;Gq.getRubrics(+t).then((function(t){e.setState({rubrics:t})})),kq.a.getNavigationItems(+t)}},{key:"render",value:function(){return o.a.createElement(cB,{rubrics:this.state.rubrics,showClientErrors:this.state.showClientErrors,serverErrors:this.state.serverErrors,onSubmit:this.onSubmit,onFormChange:this.onFormChange})}}])&&fB(n.prototype,r),a&&fB(n,a),t}(a.Component),hB=Object(y.k)(Object(s.b)((function(e){return{navigation:Ax.a(e)}}))(vB));function gB(e){return(gB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){IB(e,t,n[t])}))}return e}function wB(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function OB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SB(e){return(SB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CB(e,t){return(CB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TB=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=SB(t).call(this,e),n=!a||"object"!==gB(a)&&"function"!==typeof a?_B(r):a,IB(_B(_B(n)),"onSubmit",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kk(),t.isValid){e.next=5;break}return Jk(),n.setState({showClientErrors:!0}),e.abrupt("return");case 5:return r=n.props,a=r.match.params.classId,o=r.match,i=r.history,c=r.navigation,s=r.dispatch,e.next=8,Vl.createIndividualProject(+a,t.form).then((function(e){var n=e.dbId,r=Object(sB.a)(c,JA.a.D2L_QUICK_LINK_ACTIVITY_LIST);if(s(TD.f(null)),s(qu.bb(null,Bu.CONFIGURATION)),s(qu.ab(null)),Xk({linkId:O.a.get(t.form,"lmsSync.ltiGradeIdentifier")||"",name:O.a.get(t.form,"name")}),Object(II.b)()&&r)return window.location.href=r;var a=EI.a.compile(fe.a.getNavigationPathAfterConfiguration())(EB({},o.params,{activityId:n}));i.push(a)})).catch((function(e){Jk(),e.length?n.setState({serverErrors:zv(e)}):n.setState({serverErrors:[]})}));case 8:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){wB(o,r,a,i,c,"next",e)}function c(e){wB(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.state={rubrics:null,showClientErrors:!1,serverErrors:null},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CB(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.classId;Gq.getRubrics(+t).then((function(t){e.setState({rubrics:t})})),kq.a.getNavigationItems(+t)}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.institution,r=this.state,a=r.rubrics,i=r.showClientErrors,c=r.serverErrors;return n?o.a.createElement(Dt.a,{title:t._("Create Individual Assignment")},o.a.createElement(mx,{context:JA.a.CONFIGURATION_NEW}),o.a.createElement(Lt.a,null,o.a.createElement(qU,{rubrics:a,showClientErrors:i,serverErrors:c,onSubmit:this.onSubmit}))):null}}])&&OB(n.prototype,r),a&&OB(n,a),t}(o.a.PureComponent);TB.propTypes={institution:c.a.object,navigation:c.a.array,dispatch:c.a.func.isRequired,match:c.a.object.isRequired,history:c.a.object.isRequired,i18n:c.a.object.isRequired};var RB=Object(y.k)(Object(s.b)((function(e){return{institution:Ye.i(e),navigation:Ax.a(e)}}))(Object(U.withI18n)()(TB)));var PB=Object(U.withI18n)()((function(e){var t=e.i18n,n=e.onSubmit,r=e.rubrics,a=e.showClientErrors,i=e.serverErrors;return o.a.createElement(Dt.a,{title:t._("Create Interactive Video Assignment")},o.a.createElement(mx,{context:JA.a.CONFIGURATION_NEW}),o.a.createElement(Lt.a,null,o.a.createElement(hG,{rubrics:r,showClientErrors:a,serverErrors:i,onSubmit:n})))}));function AB(e){return(AB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xB(e,t,n[t])}))}return e}function jB(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function kB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DB(e){return(DB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LB(e,t){return(LB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FB=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=DB(t).call(this,e),n=!a||"object"!==AB(a)&&"function"!==typeof a?MB(r):a,xB(MB(MB(n)),"onSubmit",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kk(),t.isValid){e.next=5;break}return Jk(),n.setState({showClientErrors:!0}),e.abrupt("return");case 5:return r=n.props,a=r.match.params.classId,o=r.navigation,i=r.dispatch,c=r.match,s=r.history,e.next=8,Vl.createInteractiveVideoProject(+a,t.form).then((function(e){var n=e.dbId,r=Object(sB.a)(o,JA.a.D2L_QUICK_LINK_ACTIVITY_LIST);if(i(TD.g(null)),i(qu.bb(null,Bu.CONFIGURATION)),i(qu.ab(null)),Xk({linkId:O.a.get(t.form,"lmsSync.ltiGradeIdentifier")||"",name:O.a.get(t.form,"name")}),Object(II.b)()&&r)return window.location.href=r;var a=EI.a.compile(fe.a.getNavigationPathAfterConfiguration())(NB({},c.params,{activityId:n}));s.push(a)})).catch((function(e){Jk(),e.length?n.setState({serverErrors:zv(e)}):n.setState({serverErrors:[]})}));case 8:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){jB(o,r,a,i,c,"next",e)}function c(e){jB(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.state={rubrics:null,showClientErrors:!1,serverErrors:null},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LB(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.classId;Gq.getRubrics(+t).then((function(t){e.setState({rubrics:t})})),kq.a.getNavigationItems(+t)}},{key:"render",value:function(){return fe.a.isInteractiveVideoAssignmentEnabled()?o.a.createElement(PB,{rubrics:this.state.rubrics,serverErrors:this.state.serverErrors,showClientErrors:this.state.showClientErrors,onSubmit:this.onSubmit}):o.a.createElement(Ls,null)}}])&&kB(n.prototype,r),a&&kB(n,a),t}(a.Component),UB=Object(y.k)(Object(s.b)((function(e){return{navigation:Ax.a(e)}}))(FB));function VB(e){return(VB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qB(e,t){return!t||"object"!==VB(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BB(e){return(BB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WB(e,t){return(WB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var QB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qB(this,BB(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WB(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.rubrics,n=e.onSubmit,r=e.showClientErrors,a=e.serverErrors,i=e.i18n;return o.a.createElement(Dt.a,{title:i._("Create Question & Answer Assignment")},o.a.createElement(_c.a,null),o.a.createElement(mx,{context:JA.a.CONFIGURATION_NEW}),o.a.createElement(Lt.a,null,o.a.createElement(bq,{rubrics:t,showClientErrors:r,serverErrors:a,onSubmit:n})))}}])&&GB(n.prototype,r),a&&GB(n,a),t}(a.Component),YB=Object(U.withI18n)()(QB);function HB(e){return(HB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){eW(e,t,n[t])}))}return e}function KB(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function XB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JB(e){return(JB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZB(e,t){return(ZB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tW=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=JB(t).call(this,e),n=!a||"object"!==HB(a)&&"function"!==typeof a?$B(r):a,eW($B($B(n)),"onSubmit",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.match.params.classId,o=r.match,i=r.history,c=r.navigation,s=r.dispatch,Kk(),t.isValid){e.next=6;break}return Jk(),n.setState({showClientErrors:!0}),e.abrupt("return");case 6:return e.next=8,Vl.createQaProject(+a,t.form).then((function(e){var n=e.dbId,r=Object(sB.a)(c,JA.a.D2L_QUICK_LINK_ACTIVITY_LIST);if(s(TD.h(null)),s(qu.bb(null,Bu.CONFIGURATION)),s(qu.ab(null)),Xk({linkId:O.a.get(t.form,"lmsSync.ltiGradeIdentifier")||"",name:O.a.get(t.form,"name")}),Object(II.b)()&&r)return window.location.href=r;var a=EI.a.compile(fe.a.getNavigationPathAfterConfiguration())(zB({},o.params,{activityId:n}));i.push(a)})).catch((function(e){Jk(),e.length?n.setState({serverErrors:zv(e)}):n.setState({serverErrors:[]})}));case 8:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){KB(o,r,a,i,c,"next",e)}function c(e){KB(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.state={rubrics:null,showClientErrors:!1,serverErrors:null},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZB(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.classId;Gq.getRubrics(+t).then((function(t){e.setState({rubrics:t})})),kq.a.getNavigationItems(+t)}},{key:"render",value:function(){return o.a.createElement(YB,{rubrics:this.state.rubrics,serverErrors:this.state.serverErrors,showClientErrors:this.state.showClientErrors,onSubmit:this.onSubmit})}}])&&XB(n.prototype,r),a&&XB(n,a),t}(a.Component),nW=Object(y.k)(Object(s.b)((function(e){return{navigation:Ax.a(e)}}))(tW)),rW=n("RWpT");n("8L3I");function aW(e){return(aW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iW(e,t){return!t||"object"!==aW(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cW(e){return(cW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sW(e,t){return(sW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uW=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),iW(this,cW(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sW(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onCancel,r=e.onSave,a=e.onChange,i=e.isProcessing,c=e.title,s=e.errors,u=[o.a.createElement(we.b,{id:"button-library-edit-dialog-cancel",secondary:!0,enabled:!i,onClick:n,ariaLabel:t._("Cancel")},t._("Cancel")),o.a.createElement(we.b,{id:"button-library-edit-dialog-save",primary:!0,isLoading:i,enabled:!i&&c.trim().length>0,onClick:r,ariaLabel:t._("Save")},t._("Save"))];return o.a.createElement(mb.a,{actions:u,dialogClassName:"c-library-edit-modal",mobileFullScreen:!0,id:"library-edit-modal",title:t._("Edit"),modal:!0,visible:!0},o.a.createElement(Sa.i,{id:"library-title-textfield",label:t._("Title"),onChange:a,value:c,ariaLabel:t._("Title"),errorText:s&&s.length?o.a.createElement("div",null,O.a.map(s,(function(e){return o.a.createElement("div",null,e)}))):""}))}}])&&oW(n.prototype,r),a&&oW(n,a),t}(a.Component);uW.propTypes={onCancel:c.a.func,onSave:c.a.func,onChange:c.a.func,title:c.a.string,isProcessing:c.a.bool};var lW=Object(U.withI18n)()(uW);function dW(e){return(dW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pW(e){return(pW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mW(e,t){return(mW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var yW=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=pW(t).call(this,e),n=!a||"object"!==dW(a)&&"function"!==typeof a?bW(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(bW(bW(n)),"onEditTitle",(function(e){ok.editItemTitle(e.dbId,n.state.title).then((function(){dt.a.closeModal()})).catch((function(e){n.setState({errors:O.a.values(Kv(e))})}))})),n.state={title:e.media.title,errors:[]},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mW(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.media!==this.props.media&&this.setState({title:e.media.title})}},{key:"render",value:function(){var e=this,t=this.props,n=t.media,r=t.isItemProcessing;return o.a.createElement(lW,{onCancel:dt.a.closeModal,onSave:function(){e.onEditTitle(n)},onChange:function(t){e.setState({title:t})},title:this.state.title,errors:this.state.errors,isProcessing:r})}}])&&fW(n.prototype,r),a&&fW(n,a),t}(a.Component),vW=Object(s.b)((function(e){return{isItemProcessing:Kj(e)}}))(yW);n("6vFL");function hW(e){return(hW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EW(e,t){return!t||"object"!==hW(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wW(e){return(wW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OW(e,t){return(OW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var SW=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),EW(this,wW(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OW(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onCancel,r=e.onDelete,a=e.isProcessing,i=[o.a.createElement(we.b,{id:"button-library-delete-dialog-cancel",secondary:!0,enabled:!a,onClick:n,ariaLabel:t._("Cancel")},t._("Cancel")),o.a.createElement(we.b,{id:"button-library-delete-dialog-delete",primary:!0,isLoading:a,enabled:!a,onClick:r,ariaLabel:t._("Delete")},t._("Delete"))];return o.a.createElement(mb.a,{actions:i,dialogClassName:"c-library-delete-modal",mobileFullScreen:!0,id:"library-delete-modal",title:t._("Delete"),modal:!0,visible:!0},o.a.createElement("p",null,t._("Are you sure you want to delete the selected media?")))}}])&&gW(n.prototype,r),a&&gW(n,a),t}(a.Component);SW.propTypes={onCancel:c.a.func,onDelete:c.a.func};var CW=Object(U.withI18n)()(SW);function _W(e){return(_W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TW(e,t){return!t||"object"!==_W(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function RW(e){return(RW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PW(e,t){return(PW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var AW=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),TW(this,RW(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PW(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.media,n=e.isItemProcessing;return o.a.createElement(CW,{onCancel:dt.a.closeModal,onDelete:function(){ok.deleteItem(t.dbId).then((function(){dt.a.closeModal()}))},isProcessing:n})}}])&&IW(n.prototype,r),a&&IW(n,a),t}(a.Component),NW=Object(s.b)((function(e){return{isItemProcessing:Kj(e)}}))(AW),jW=n("Md0H");function kW(e){return(kW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LW(e){return(LW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MW(e,t){return(MW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UW=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=LW(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==kW(a)&&"function"!==typeof a?xW(r):a,FW(xW(xW(n)),"previewFile",(function(e){var t=e.media;return e.link?window.open(e.link,"_blank"):e.previewUrl?window.open(e.previewUrl,"_blank"):e.previewFunction?e.previewFunction(e):void dt.a.showModal(o.a.createElement(Oh.a,{onCancel:dt.a.closeModal,usageContext:n.props.usageContext,termClassId:n.props.termClassId,activityId:n.props.activityId,media:t}))})),FW(xW(xW(n)),"onDownload",(function(e){(e.meetingDownloadUrl||(e.media?e.media.meetingDownloadUrl:void 0))&&n.props.onMeetingDownload?n.props.onMeetingDownload(e):mm.a.downloadPartial(e)})),FW(xW(xW(n)),"onAutoAnalysisClick",(function(e){n.props.onShowAutoAnalysis&&n.props.onShowAutoAnalysis(e)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MW(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.i18n,r=t.partial,a=t.id,i=t.canEdit,c=t.onEdit,s=t.canDelete,u=t.onDelete,l=t.onManageCaptions,d=t.menuItems,f=t.deleteTooltip,p=this.props.isAutoAnalysisAllowed,m=!1,b=!1,y=!1,v=!1,h=!1,g=!1,E=!1,w=!1;mm.a.isVideoPartial(r)?(g=!0,r.recordedMedia&&((r=O.a.merge({},r)).media=r.recordedMedia),v=!!r.meetingDownloadUrl,h=!!r.media.meetingDownloadUrl,y=!!r.media.slaveMedia&&!h,b=!!(r.media&&(r.media.downloadUrl||h)||v),E=!0,w=m=!(!r.media||!r.media.srcUrl)):(b=!!r.downloadUrl,m=!!(r.previewUrl||r.link||r.previewFunction));var S=(v||h)&&fe.a.isMeetingDownloadAllowed(),C=!v&&!h&&!y;return o.a.createElement("span",null,d,mm.a.isLink(r)?o.a.createElement(pv.a,{key:a+"_open_link",data:r,enabled:m,onClick:function(){e.previewFile(r)},leftIcon:o.a.createElement(zc.a,{ariaLabel:n._("Open link, icon")},re.a.OPEN_IN_NEW),primaryText:n._("Open Link")}):o.a.createElement(pv.a,{key:a+"_preview",data:r,enabled:m,onClick:function(){e.previewFile(r)},leftIcon:o.a.createElement(zc.a,{ariaLabel:n._("Preview, icon")},re.a.PREVIEW),primaryText:n._("Preview")}),y&&!h&&o.a.createElement(pv.a,{key:a+"_download_camera",enabled:!!r.media.downloadUrl,data:r,onClick:function(){return Object(Tv.a)(r.media.downloadUrl)},leftIcon:o.a.createElement(zc.a,{ariaLabel:n._("Download, icon")},re.a.DOWNLOAD),primaryText:n._("Download camera recording")}),y&&!h&&o.a.createElement(pv.a,{key:a+"_download_desktop",enabled:!!r.media.slaveMedia.downloadUrl,data:r,onClick:function(){return Object(Tv.a)(r.media.slaveMedia.downloadUrl)},leftIcon:o.a.createElement(zc.a,{ariaLabel:n._("Download, icon")},re.a.DOWNLOAD),primaryText:n._("Download screen recording")}),(C||S)&&o.a.createElement(pv.a,{key:a+"_download",data:r,enabled:b,onClick:function(){e.onDownload(r)},leftIcon:o.a.createElement(zc.a,{ariaLabel:n._("Download, icon")},re.a.DOWNLOAD),primaryText:n._("Download")}),E&&o.a.createElement(pv.a,{key:"manage-captions",enabled:w,primaryText:n._("Manage Captions"),leftIcon:o.a.createElement(zc.a,null,re.a.CLOSED_CAPTION),onClick:function(){l(r)}}),p&&g&&!v&&o.a.createElement(fP,{id:"auto-analysis",enabled:b,onClick:function(){e.onAutoAnalysisClick(r.media)}}),o.a.createElement(pm.a,{key:a+"_divider[0]"}),o.a.createElement(pv.a,{key:a+"_edit",enabled:i,data:r,onClick:function(){c(r)},leftIcon:o.a.createElement(zc.a,{ariaLabel:n._("Edit, icon")},re.a.EDIT),primaryText:n._("Edit")}),o.a.createElement(pv.a,{key:a+"_delete",enabled:s,data:r,onClick:function(){u(r)},leftIcon:o.a.createElement(zc.a,{ariaLabel:n._("Delete, icon")},re.a.DELETE),primaryText:n._("Delete"),tooltip:f}))}}])&&DW(n.prototype,r),a&&DW(n,a),t}(a.Component),VW=Object(U.withI18n)()(UW);function GW(e){return(GW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BW(e){return(BW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WW(e,t){return(WW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}UW.defaultProps={canEdit:!0,canDelete:!0,deleteTooltip:null,isAutoAnalysisAllowed:!1},UW.propTypes={partial:c.a.object,id:c.a.any,canEdit:c.a.bool,onEdit:c.a.func,canDelete:c.a.bool,onDelete:c.a.func,onManageCaptions:c.a.func,onMeetingDownload:c.a.func,onShowAutoAnalysis:c.a.func,menuItems:c.a.array,deleteTooltip:c.a.object,usageContext:c.a.oneOf([Kh.a.ACTIVITY_COMMENTARY,Kh.a.ACTIVITY_OVERVIEW,Kh.a.COMMENT,Kh.a.DIRECT_LIBRARY,Kh.a.FEEDBACK,Kh.a.INTERACTIVE_VIDEO,Kh.a.PROFILE,Kh.a.QA_QUESTION,Kh.a.STUDENT_RESULT,Kh.a.STUDENT_RESULT_PARTIAL]),termClassId:c.a.number,activityId:c.a.number,isAutoAnalysisAllowed:c.a.bool};var HW=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=BW(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==GW(a)&&"function"!==typeof a?QW(r):a,YW(QW(QW(n)),"onEditClick",(function(e){dt.a.showModal(o.a.createElement(vW,{media:e}))})),YW(QW(QW(n)),"onDeleteClick",(function(e){dt.a.showModal(o.a.createElement(NW,{media:e}))})),YW(QW(QW(n)),"onMediaChange",(function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){YW(e,t,n[t])}))}return e}({},e,{caption:t.caption});ok.replaceItem(n)})),YW(QW(QW(n)),"onManageCaptions",(function(e){var t=!Boolean(e.meetingDownloadUrl);dt.a.showModal(o.a.createElement(vh.a,{allowAutomaticCaptioningOption:t,media:e,onMediaChange:function(t){return n.onMediaChange(e,t)}}))})),YW(QW(QW(n)),"onMeetingDownload",(function(e){var t=n.props.i18n,r=e.media;Iv.download(t,r.meetingDownloadUrl,r.title)})),YW(QW(QW(n)),"createActionsMenu",(function(e,t){return o.a.createElement(VW,{id:t,usageContext:Kh.a.DIRECT_LIBRARY,termClassId:n.props.termClassId,partial:mm.a.createVideoPartial(e),onMeetingDownload:n.onMeetingDownload,canDelete:e.deletable,onEdit:function(){return n.onEditClick(e)},onDelete:function(){return n.onDeleteClick(e)},onManageCaptions:function(){return n.onManageCaptions(e)}})})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WW(e,t)}(t,e),n=t,(r=[{key:"getColumns",value:function(){var e=this,t=this.props.i18n;return[{accessor:"title",grow:!0,label:t._("Title"),sortable:!0},{accessor:"createdAt",label:t._("Date added"),sortable:!0,renderer:function(e){return o.a.createElement("div",null,o.a.createElement(rW.a,{value:e[this.accessor]}))}},{accessor:"processingStatus",label:t._("Status"),sortable:!0,renderer:function(e){switch(e[this.accessor]){case Rv.a.ERROR:return o.a.createElement(zc.a,{ariaLabel:t._("Error, icon")},re.a.VIDEO_WARNING);case Rv.a.READY:return o.a.createElement(zc.a,{ariaLabel:t._("Ready, icon")},re.a.VIDEO_READY);default:return o.a.createElement(zc.a,{ariaLabel:t._("Processing, icon")},re.a.VIDEO_PROCESSING)}}},{label:t._("Actions"),isCustomColumn:!0,renderer:function(t,n){return o.a.createElement(jW.a,{key:n,menuItems:e.createActionsMenu(t,n)})}}]}},{key:"render",value:function(){var e=this.props.list;return o.a.createElement("div",null,o.a.createElement(ku.c,{id:"educator-library-table",columns:this.getColumns(),hasMobileListView:!1,data:e,listAccessor:"title",defaultSort:{accessor:"createdAt",direction:"desc"},fallbackSort:{accessor:"title",direction:"asc"}}))}}])&&qW(n.prototype,r),a&&qW(n,a),t}(a.Component),zW=Object(U.withI18n)()(HW);function KW(e){return(KW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JW(e,t){return!t||"object"!==KW(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ZW(e){return(ZW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $W(e,t){return($W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var eQ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),JW(this,ZW(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$W(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.list,r=e.isLoading,a=e.onAddVideoClick,i=e.onCombineVideoClick,c=e.hasError,s=e.reloadData,u=e.termClassId,l={label:t._("Add...")};return r?o.a.createElement(te.a,{loading:!0}):o.a.createElement(Dt.a,{title:t._("Library")},c&&o.a.createElement(Gt,{reloadData:s,message:t._("Failed to load library"),buttonTitle:t._("Try again")}),o.a.createElement(mx,{context:JA.a.LIBRARY}),o.a.createElement(Lt.a,null,o.a.createElement(zW,{list:n,termClassId:u})),o.a.createElement(we.i,{id:"speed-dial-library-list",tooltip:l,ariaLabel:l.label},o.a.createElement(we.j,{ariaLabel:t._("Add Video"),icon:re.a.VIDEOCAM,id:"speed-dial-item-library-add-video",onClick:a,tooltip:{label:t._("Add Video")}}),o.a.createElement(we.j,{ariaLabel:t._("Combine Videos"),icon:re.a.MERGE,id:"speed-dial-item-library-combine-video",onClick:i,tooltip:{label:t._("Combine Videos")}})))}}])&&XW(n.prototype,r),a&&XW(n,a),t}(a.Component),tQ=Object(U.withI18n)()(eQ);function nQ(e){return(nQ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aQ(e){return(aQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oQ(e,t){return(oQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sQ=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=aQ(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==nQ(a)&&"function"!==typeof a?iQ(r):a,cQ(iQ(iQ(n)),"state",{hasError:!1}),cQ(iQ(iQ(n)),"getData",(function(){n.setHasError(!1),ok.getLibraryData().catch((function(){n.setHasError(!0)}))})),cQ(iQ(iQ(n)),"onAddVideoClick",(function(){bt.f()?dt.a.showModal(o.a.createElement($b,{mediaType:pr.a.LIBRARY,onCancel:n.onUploadCancel,onComplete:n.onUploadComplete})):dt.a.showModal(o.a.createElement(Vk,{onComplete:n.onAddVideoComplete,selectFromLibrary:!1}))})),cQ(iQ(iQ(n)),"onUploadComplete",(function(e){if(e.dbId)return n.onAddVideoComplete([e]);if("undefined"!==typeof e[0]){var t=[],r=e.map((function(e){return new Promise((function(n){ok.getItem(e).then((function(e){t.push(e),n()}))}))}));Promise.all(r).then((function(){n.onAddVideoComplete(t)}))}})),cQ(iQ(iQ(n)),"onUploadCancel",(function(){dt.a.closeModal()})),cQ(iQ(iQ(n)),"onAddVideoComplete",(function(e){dt.a.closeModal(),e.forEach((function(e){ok.addItemToList(e)}))})),cQ(iQ(iQ(n)),"onCombineVideoClick",(function(){dt.a.showModal(o.a.createElement(pO,{videos:n.getMediasToCombine(),onCancel:n.cancelCombine,onSubmit:n.submitCombine}))})),cQ(iQ(iQ(n)),"cancelCombine",(function(){dt.a.closeModal()})),cQ(iQ(iQ(n)),"submitCombine",(function(e){return ok.combineItems(e)})),cQ(iQ(iQ(n)),"getMediasToCombine",(function(){return n.props.list.filter((function(e){return e.processingStatus===Rv.a.READY})).map((function(e){return{media:e,title:e.title,dbId:e.dbId}}))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oQ(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.match.params.classId;kq.a.getNavigationItems(+e),this.getData()}},{key:"setHasError",value:function(e){this.setState({hasError:e})}},{key:"render",value:function(){var e=this.props.match.params.classId,t=this.props,n=t.list,r=t.isLoading;return o.a.createElement(tQ,{list:n,termClassId:+e,isLoading:r,onAddVideoClick:this.onAddVideoClick,onCombineVideoClick:this.onCombineVideoClick,reloadData:this.getData,hasError:this.state.hasError})}}])&&rQ(n.prototype,r),a&&rQ(n,a),t}(a.Component),uQ=Object(y.k)(Object(s.b)((function(e){return{navigation:Ax.a(e),list:zj(e),isLoading:Hj(e)}}))(sQ)),lQ=n("PrLO"),dQ=n("g3iL");n("tY0J");function fQ(e){return(fQ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mQ(e,t){return!t||"object"!==fQ(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bQ(e){return(bQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yQ(e,t){return(yQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vQ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mQ(this,bQ(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yQ(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onLmsCodeChange,r=e.lmsCode,a=e.loading,i=e.onCopy,c=[o.a.createElement(bb.a,{id:"button-copy-assignment-dialog-close",onClick:dt.a.closeModal},t._("Close")),o.a.createElement(bb.a,{id:"button-copy-assignment-dialog-copy",isLoading:a,primary:!0,onClick:i},t._("Copy"))];return o.a.createElement(mb.a,{id:"c-copy-assignment-dialog",title:"Please provide class NBID",actions:c,visible:!0,dialogClassName:"c-copy-assignment-dialog"},o.a.createElement(mr.b,{id:"lms-code",value:r,onChange:n,label:"NBID"}))}}])&&pQ(n.prototype,r),a&&pQ(n,a),t}(a.Component),hQ=Object(U.withI18n)()(vQ);function gQ(){var e=wQ(["\n    mutation cengageCopyActivitiesFromAnotherClass($input: CengageCopyActivitiesFromAnotherClassInput!){\n        cengageCopyActivitiesFromAnotherClass(input: $input) {\n            success\n        }\n    }\n"]);return gQ=function(){return e},e}function EQ(){var e=wQ(["\n    mutation cengageSelectClassForActivitiesCopy($input: CengageSelectClassForActivitiesCopyInput!){\n        cengageSelectClassForActivitiesCopy(input:$input) {\n            termClassDbId\n        }\n    }\n"]);return EQ=function(){return e},e}function wQ(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function OQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var SQ=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getTermClassId",value:function(e){return xe.a.mutate({mutation:CQ,variables:{input:{termClassLmsCode:e}}}).then((function(e){var t=e.data.cengageSelectClassForActivitiesCopy.termClassDbId;return Promise.resolve(t)}))}},{key:"copyTermClassAssignments",value:function(e,t){return xe.a.mutate({mutation:_Q,variables:{input:{currentClassDbId:e,sourceClassDbId:t}}}).then((function(e){return Promise.resolve(e.data.cengageCopyActivitiesFromAnotherClass.success)}))}}],(n=null)&&OQ(t.prototype,n),r&&OQ(t,r),e}(),CQ=Ue()(EQ()),_Q=Ue()(gQ());function IQ(e){return(IQ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TQ(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function RQ(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){TQ(o,r,a,i,c,"next",e)}function c(e){TQ(o,r,a,i,c,"throw",e)}i(void 0)}))}}function PQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AQ(e){return(AQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NQ(e,t){return(NQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DQ=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=AQ(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==IQ(a)&&"function"!==typeof a?jQ(r):a,kQ(jQ(jQ(n)),"state",{lmsCode:""}),kQ(jQ(jQ(n)),"onLmsCodeChange",(function(e){n.setState({lmsCode:e,loading:!1})})),kQ(jQ(jQ(n)),"onCopy",RQ(regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.termClass,a=t.i18n,e.prev=1,n.setState({loading:!0}),e.next=5,SQ.getTermClassId(n.state.lmsCode);case 5:return o=e.sent,e.next=8,SQ.copyTermClassAssignments(r.dbId,o);case 8:e.sent?ft.a.addSuccess(a._("Assignments was copied successfully")):ft.a.addError(a._("Failed to copy assignments")),n.props.reloadData(),dt.a.closeModal(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),l.b.error(e.t0),n.setState({loading:!1}),ft.a.addError(a._("Failed to copy assignments"));case 19:case"end":return e.stop()}}),e,this,[[1,14]])})))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NQ(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement(hQ,{lmsCode:this.state.lmsCode,loading:this.state.loading,onCopy:this.onCopy,onLmsCodeChange:this.onLmsCodeChange})}}])&&PQ(n.prototype,r),a&&PQ(n,a),t}(a.Component),LQ=Object(s.b)((function(e){return{termClass:Ye.m(e)}}))(Object(U.withI18n)()(DQ));function MQ(e){return(MQ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FQ(e){return(FQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UQ(e,t){return(UQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function VQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qQ=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=FQ(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==MQ(a)&&"function"!==typeof a?VQ(r):a,GQ(VQ(VQ(n)),"getColumns",(function(){var e=n.props,t=e.i18n,r=e.locale,a=e.institution,i=Sc.a(a);return O.a.compact([{accessor:"name",sortable:!0,label:t._("Name"),key:"name",grow:!0,renderer:function(e){return o.a.createElement("span",null,e.name)}},{accessor:"type",sortable:!0,label:t._("Type"),key:"type",renderer:function(e){var n="";switch(e.type){case Wu.b.GROUP_PRESENTATION:n=t._("Group project");break;case Wu.b.INDIVIDUAL_PROJECT:n=t._("Individual project");break;case Wu.b.QA_ENHANCED:n=t._("Question and Answer");break;case Wu.b.INTERACTIVE_VIDEO:n=t._("Interactive Video");break;case Wu.b.CONVERSATION:n=t._("Conversation");break;case Wu.b.IN_CLASSROOM:n=t._("In-Class Video");break;case Wu.b.TEXT_DISCUSSION:n=t._("Text discussion");break;case Wu.b.ROLE_PLAY:n=t._("Role Play");break;default:n=null}return o.a.createElement("span",null,n)}},i&&{accessor:"cengageSettings.inPath",sortable:!0,label:t._("In Learning Path"),key:"in_learning_path",renderer:function(e){var n=e.cengageSettings&&e.cengageSettings.inPath;return o.a.createElement("span",null,n?t._("Yes"):t._("No"))}},i&&{accessor:"cengageSettings.locked",sortable:!0,label:"CL",key:"cl",renderer:function(e){var n=e.cengageSettings&&e.cengageSettings.locked;return o.a.createElement("span",null,n?t._("Yes"):t._("No"))}},i&&{accessor:"cengageSettings.score",sortable:!0,label:t._("Points"),key:"points",renderer:function(e){var t=e.cengageSettings&&e.cengageSettings.score?e.cengageSettings.score:"";return o.a.createElement("span",null,t)}},!i&&{accessor:"submitDueAt",sortable:!0,label:t._("Due (Optional)"),key:"due",renderer:function(e){return e.submitDueAt?o.a.createElement(rW.a,{value:e.submitDueAt}):o.a.createElement("span",null,"\u2014")}},{label:t._("Actions"),key:"actions",isCustomColumn:!0,renderer:function(e){var t=n.props,a=t.i18n,c=t.ltiScope,s=e.allowGroupsForming,u=i&&c===bx.a.CENGAGE_EDUCATOR_DOCK,l=e.type===Wu.b.IN_CLASSROOM,d=[fe.a.isInclassEnabled()&&l&&o.a.createElement(pv.a,{primaryText:a._("Start In Class"),key:"open-activity",leftIcon:o.a.createElement(zc.a,{ariaLabel:a._("Start In Class, icon")},re.a.OPEN_IN_BROWSER),onClick:function(){var t="/educator/activity/".concat(e.dbId,"/inclassroom-start");window.location.href=Object(II.a)(t)}}),u&&o.a.createElement(pv.a,{primaryText:a._("Open as learner"),key:"open-as-student",leftIcon:o.a.createElement(zc.a,{ariaLabel:a._("Open as learner")},re.a.OPEN_IN_BROWSER),onClick:function(){var t="/educator/activity/".concat(e.dbId,"/cengage/student-view");window.location.href=Object(II.a)(t)}}),!i&&o.a.createElement(kL,{key:"gradebook-menu-action",activityData:e,locale:r})];return s&&d.push(o.a.createElement(hM,{key:"manage-groups-menu-action",reff:TM.ACTIVITY_LIST,activityData:e})),d.push(o.a.createElement(_L,{key:"edit-assignment-menu-action",activityData:e}),o.a.createElement(zD,{key:"copy-assignment-menu-action",activityData:e}),o.a.createElement(vL,{key:"delete-assignment-menu-action",activityData:e,onDeleteSuccess:n.onDeleteSuccess})),d=O.a.compact(d),o.a.createElement(jW.a,{key:e.dbId,menuItems:d})}}])})),GQ(VQ(VQ(n)),"onDeleteSuccess",(function(){n.props.reloadData&&n.props.reloadData()})),GQ(VQ(VQ(n)),"onCreateOldActivities",(function(){var e=n.props.navigation,t=Object(sB.a)(e,JA.a.ACTIVITY_CREATE);t&&(t=Object(II.a)(t),window.location.href=t)})),GQ(VQ(VQ(n)),"getSpeedDialItems",(function(){var e=n.props,t=e.i18n,r=e.isD2LFreemium,a=[o.a.createElement(dQ.a,{id:"speed-dial-item-assignment-individual",key:"create_individual_assignment",icon:re.a.PERSON,onClick:n.props.onCreateIndividualProject,ariaLabel:t._("Create individual assignment"),tooltip:{label:t._("Create individual assignment")}}),o.a.createElement(dQ.a,{id:"speed-dial-item-assignment-group",key:"create_group_assignment",enabled:fe.a.isGroupAssignmentEnabled(),icon:re.a.GROUP,onClick:n.props.onCreateGroupProject,ariaLabel:t._("Create group assignment"),tooltip:{label:t._("Create group assignment")+(r?" ("+t._(oE.a.FREEMIUM_CONFIG_OPTION)+")":"")}}),o.a.createElement(dQ.a,{id:"speed-dial-item-assignment-qa",key:"create_qa_assignment",enabled:fe.a.isQuestionAndAnswerAssignmentEnabled(),icon:re.a.QUESTION_ANSWER,onClick:n.props.onCreateQA,ariaLabel:t._("Create question & answer assignment"),tooltip:{label:t._("Create question & answer assignment")+(r?" ("+t._(oE.a.FREEMIUM_CONFIG_OPTION)+")":"")}}),o.a.createElement(dQ.a,{id:"speed-dial-item-assignment-interactive-video",key:"create_interactive_video_assignment",enabled:fe.a.isInteractiveVideoAssignmentEnabled(),iconClassName:Tf.a.INTERACTIVE_VIDEO,onClick:n.props.onCreateInteractiveVideoProject,ariaLabel:t._("Create interactive video assignment"),tooltip:{label:t._("Create interactive video assignment")+(r?" ("+t._(oE.a.FREEMIUM_CONFIG_OPTION)+")":"")}})];return(fe.a.canCreateOldActivities()||fe.a.isInclassEnabled())&&a.push(o.a.createElement(dQ.a,{id:"speed-dial-item-assignment-old-type",key:"create_old_activity_type",icon:re.a.COLLECTIONS_BOOKMARK,onClick:n.onCreateOldActivities,tooltip:{label:t._("Create legacy assignment")},ariaLabel:t._("Create legacy assignment")})),a})),GQ(VQ(VQ(n)),"getMenuActions",(function(){var e=n.props.i18n,t=[];return fe.a.isCopyAssignmentFromTermClasAllowed()&&t.push({primaryText:e._("Copy assignment from class"),onClick:function(){return dt.a.showModal(o.a.createElement(LQ,{reloadData:n.props.reloadData}))},leftIcon:o.a.createElement(zc.a,{ariaLabel:e._("Copy assignment from class, icon")},re.a.CONTENT_COPY)}),t})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UQ(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.classId,r=e.isLoading,a=e.hasError,i=e.activityList,c=e.reloadData;if(r)return o.a.createElement(te.a,{loading:!0});var s={label:t._("Add...")};return o.a.createElement(Dt.a,{title:t._("Assignments")},o.a.createElement(_c.a,{classId:n}),a&&o.a.createElement(Gt,{reloadData:c,message:t._("Failed to load assignment data"),buttonTitle:t._("Try again")}),o.a.createElement(mx,{classId:n,menuActions:this.getMenuActions(),context:JA.a.ASSIGNMENTS}),i&&o.a.createElement(Lt.a,null,i.length>0&&o.a.createElement(ku.c,{className:"",id:"educator-activity-table",columns:this.getColumns(),listAccessor:"name",hasMobileListView:!1,data:i,onListRowSelect:function(){},defaultSort:{accessor:"submitDueAt",direction:"asc"},fallbackSort:{accessor:"name",direction:"asc"}}),0===i.length&&o.a.createElement("p",{className:"no-assignments"},t._("No assignments yet"))),o.a.createElement(lQ.a,{id:"speed-dial-assignment-list",tooltip:s,ariaLabel:s.label},this.getSpeedDialItems()))}}])&&xQ(n.prototype,r),a&&xQ(n,a),t}(a.Component),BQ=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{isD2LFreemium:Ye.u(e),locale:jS.a(e),institution:Ye.i(e),navigation:Ax.a(e),ltiScope:Ye.l(e)}}))(qQ)));function WQ(){var e=YQ(["\n    mutation deleteActivity($input: ActivityInput!) {\n        deleteActivity(input: $input) {\n            removedId\n        }\n    }\n"]);return WQ=function(){return e},e}function QQ(){var e=YQ(["\n    mutation copyActivity($input: ActivityInput!) {\n        copyActivity(input: $input) {\n            activity {\n                dbId\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n"]);return QQ=function(){return e},e}function YQ(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function HQ(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function zQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var KQ=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getActivityListData",value:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xe.a.query({query:Ju,variables:{dbId:t}}).then((function(e){var t=e.errors;if(t&&t.length)return Promise.reject(t);var n=e.data.termClass.activities;return Promise.resolve(n)})));case 1:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){HQ(o,r,a,i,c,"next",e)}function c(e){HQ(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()},{key:"copyActivity",value:function(e){return xe.a.mutate({mutation:XQ,variables:{input:{dbId:e}}}).then((function(e){var t=e.errors;if(t&&t.length)return Promise.reject(t);var n=e.data.copyActivity.activity;return Promise.resolve(n)}))}},{key:"deleteActivity",value:function(e){return xe.a.mutate({mutation:JQ,variables:{input:{dbId:e}}}).then((function(e){var t=e.errors;if(t&&t.length)return Promise.reject(t);var n=e.data.deleteActivity.removedId;return Promise.resolve(n)}))}}])&&zQ(t.prototype,n),r&&zQ(t,r),e}()),XQ=Ue()(QQ()),JQ=Ue()(WQ());function ZQ(e){return(ZQ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $Q(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function eY(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$Q(o,r,a,i,c,"next",e)}function c(e){$Q(o,r,a,i,c,"throw",e)}i(void 0)}))}}function tY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nY(e){return(nY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rY(e,t){return(rY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iY=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=nY(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==ZQ(a)&&"function"!==typeof a?aY(r):a,oY(aY(aY(n)),"state",{isLoading:!0,hasError:!1,activityList:null}),oY(aY(aY(n)),"getData",eY(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.classId,n.setHasError(!1),n.setIsLoading(!0),e.prev=3,e.next=6,KQ.getActivityListData(+t);case 6:r=e.sent,n.setState({activityList:r}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),l.b.error(e.t0),n.setHasError(!0);case 14:return e.prev=14,n.setIsLoading(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,10,14,17]])})))),oY(aY(aY(n)),"gradeActivity",(function(e){var t=n.props.history,r=hI.b.EDUCATOR_GRADEBOOK.replace(Ct.a,e.dbId);t.push(r)})),oY(aY(aY(n)),"onCreateIndividualProject",(function(){var e=n.props,t=e.match.params.classId,r=e.history;(0,e.dispatch)(TD.f(null));var a=hI.b.EDUCATOR_CREATE_INDIVIDUAL_ACTIVITY.replace(Ct.c,+t);r.push(a)})),oY(aY(aY(n)),"onCreateGroupProject",(function(){var e=n.props,t=e.match.params.classId,r=e.history;(0,e.dispatch)(TD.e(null));var a=hI.b.EDUCATOR_CREATE_GROUP_ACTIVITY.replace(Ct.c,+t);r.push(a)})),oY(aY(aY(n)),"onCreateQA",(function(){var e=n.props,t=e.match.params.classId,r=e.history;(0,e.dispatch)(TD.h(null));var a=hI.b.EDUCATOR_CREATE_QA_ACTIVITY.replace(Ct.c,+t);r.push(a)})),oY(aY(aY(n)),"onCreateInteractiveVideoProject",(function(){var e=n.props,t=e.match.params.classId,r=e.history;(0,e.dispatch)(TD.g(null));var a=hI.b.EDUCATOR_CREATE_INTERACTIVE_VIDEO_ACTIVITY.replace(Ct.c,+t);r.push(a)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rY(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getData()}},{key:"setIsLoading",value:function(e){this.setState({isLoading:e})}},{key:"setHasError",value:function(e){this.setState({hasError:e})}},{key:"render",value:function(){var e=this.props.match.params.classId,t=this.state,n=t.isLoading,r=t.hasError,a=t.activityList;return o.a.createElement(BQ,{classId:+e,reloadData:this.getData,onCreateIndividualProject:this.onCreateIndividualProject,onCreateInteractiveVideoProject:this.onCreateInteractiveVideoProject,onCreateGroupProject:this.onCreateGroupProject,onCreateQA:this.onCreateQA,isLoading:n,hasError:r,activityList:a})}}])&&tY(n.prototype,r),a&&tY(n,a),t}(a.Component),cY=Object(y.k)(Object(s.b)()(iY)),sY=n("wpyS");function uY(e){return(uY="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dY(e,t){return!t||"object"!==uY(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fY(e){return(fY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pY(e,t){return(pY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mY=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dY(this,fY(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pY(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onConfirm,r=e.onCancel,a=e.rubricName,i=e.isLoading,c=e.hasError,s=[o.a.createElement(we.b,{id:"button-rubric-delete-confirmation-dialog-cancel",onClick:r,enabled:!i},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-rubric-delete-confirmation-dialog-remove",onClick:n,primary:!0,isLoading:i},o.a.createElement(U.Trans,{id:"Remove"}))];return o.a.createElement(Hf.a,{id:"confirm-remove-rubric",modal:!0,actions:s,visible:!0,title:t._("Delete Rubric?"),onClose:r},c&&o.a.createElement("p",{className:"u-error"},t._("Deletion error. Please try again.")),o.a.createElement("p",null,t._('Are you sure you want to delete rubric "{rubricName}"?',{rubricName:a})))}}])&&lY(n.prototype,r),a&&lY(n,a),t}(a.Component);mY.propTypes={onCancel:c.a.func,onConfirm:c.a.func,rubricName:c.a.string};var bY=Object(U.withI18n)()(mY);function yY(e){return(yY="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vY(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function hY(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){vY(o,r,a,i,c,"next",e)}function c(e){vY(o,r,a,i,c,"throw",e)}i(void 0)}))}}function gY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EY(e){return(EY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wY(e,t){return(wY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function OY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CY=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=EY(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==yY(a)&&"function"!==typeof a?OY(r):a,SY(OY(OY(n)),"state",{hasError:!1,isLoading:!1}),SY(OY(OY(n)),"removeRubric",hY(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.rubric,n.setLoading(!0),n.setHasError(!1),e.prev=3,e.next=6,Gq.removeRubric(t.dbId);case 6:n.props.onSuccess(t.dbId),n.setLoading(!1,dt.a.closeModal),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),n.setHasError(!0),n.setLoading(!1);case 14:case"end":return e.stop()}}),e,this,[[3,10]])})))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wY(e,t)}(t,e),n=t,(r=[{key:"setLoading",value:function(e,t){this.setState({isLoading:e},t)}},{key:"setHasError",value:function(e,t){this.setState({hasError:e},t)}},{key:"render",value:function(){var e=this.props.rubric,t=this.state,n=t.hasError,r=t.isLoading;return o.a.createElement(bY,{rubricName:e.name,onCancel:dt.a.closeModal,hasError:n,isLoading:r,onConfirm:this.removeRubric})}}])&&gY(n.prototype,r),a&&gY(n,a),t}(a.Component);CY.propTypes={rubric:c.a.object,onSuccess:c.a.func};var _Y=CY;n("tE7O");function IY(e){return(IY="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RY(e,t){return!t||"object"!==IY(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PY(e){return(PY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AY(e,t){return(AY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var NY=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),RY(this,PY(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AY(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.quickNavItems,n=e.context,r=e.match.params.classId;return o.a.createElement(Dt.a,{title:this.props.title},o.a.createElement(mx,{classId:+r,existingQuickNavItems:t,context:n}),o.a.createElement("div",{className:"c-rubric-page"},o.a.createElement(Lt.a,{className:"c-rubric-page__container"},this.props.children)))}}])&&TY(n.prototype,r),a&&TY(n,a),t}(a.Component);NY.propTypes={quickNavItems:c.a.array,context:c.a.object},NY.defaultProps={quickNavItems:[]};var jY=Object(y.k)(NY);function kY(e){return(kY="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LY(e){return(LY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MY(e,t){return(MY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UY=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=LY(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==kY(a)&&"function"!==typeof a?xY(r):a,FY(xY(xY(n)),"getTableData",(function(){return n.props.list.map((function(e){return(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){FY(e,t,n[t])}))}return e}({},e)).ownerName=e.owner.firstName+" "+e.owner.lastName,e}))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MY(e,t)}(t,e),n=t,(r=[{key:"getColumns",value:function(){var e=this,t=this.props,n=t.i18n,r=t.institution,a=Object(Sc.a)(r);return O.a.compact([{accessor:"name",grow:!0,className:"",label:n._("Rubric name"),sortable:!0,renderer:function(e){return o.a.createElement("div",null,e.name)}},{accessor:"createdAt",className:"",label:n._("Date added"),sortable:!0,renderer:function(e){return o.a.createElement(rW.a,{value:e.createdAt})}},{className:"",label:n._("Owner"),accessor:"ownerName",sortable:!0,renderer:function(e){return o.a.createElement(Pu.a,{value:e.ownerName})}},a&&{className:"",label:"CL",renderer:function(e){var t=e.cengageSettings&&e.cengageSettings.locked;return o.a.createElement("span",null,t?n._("Yes"):n._("No"))}},{isCustomColumn:!0,className:"",label:"",renderer:function(t,n){return o.a.createElement(jW.a,{key:n,menuItems:e.createActionsMenu(t,n)})}}])}},{key:"createActionsMenu",value:function(e,t){var n=e.isUsed,r=this.props,a=r.i18n,i=r.currentUserId,c=e.owner.dbId!==i;return[o.a.createElement(pv.a,{key:t+"_view",enabled:!0,onClick:this.props.onShow.bind(null,e),leftIcon:o.a.createElement(zc.a,{ariaLabel:a._("View, icon")},re.a.PREVIEW),primaryText:a._("View")}),o.a.createElement(pv.a,{key:t+"_edit",enabled:!c,onClick:this.props.onEdit.bind(null,e),leftIcon:o.a.createElement(zc.a,{ariaLabel:a._("Edit, icon")},re.a.EDIT),primaryText:a._("Edit")}),o.a.createElement(pv.a,{key:t+"_copy",enabled:!0,onClick:this.props.onCopy.bind(null,e),leftIcon:o.a.createElement(zc.a,{ariaLabel:a._("Copy, icon")},re.a.CONTENT_COPY),primaryText:a._("Copy")}),o.a.createElement(pv.a,{key:t+"_delete",enabled:!n&&!c,onClick:this.props.onDelete.bind(null,e),leftIcon:o.a.createElement(zc.a,{ariaLabel:a._("Delete, icon")},re.a.DELETE),primaryText:a._("Delete")})]}},{key:"getSpeedDialItems",value:function(){var e=this.props.i18n;return[o.a.createElement(we.j,{key:"create rubruc",icon:re.a.ADD,id:"speed-dial-item-rubric-create",onClick:this.props.onCreate,ariaLabel:e._("Create rubric"),tooltip:{label:e._("Create rubric")}}),o.a.createElement(we.j,{key:"import rubruc",icon:re.a.FILE_UPLOAD,id:"speed-dial-item-rubric-import",onClick:this.props.onImport,ariaLabel:e._("Import rubric"),tooltip:{label:e._("Import rubric")}})]}},{key:"render",value:function(){var e=this.props,t=e.list,n=e.isLoading,r=e.isError,a=e.reload,i=e.quickNavItems,c=e.i18n,s={label:c._("Add...")};return o.a.createElement(jY,{title:c._("Rubrics"),context:JA.a.RUBRICS,quickNavItems:i},t.length>0&&o.a.createElement(ku.c,{columns:this.getColumns(),className:"rubrics-list",id:"educator-rubrics-table",data:this.getTableData(),listAccessor:"dbId",hasMobileListView:!1,onListRowSelect:function(){},defaultSort:{accessor:"createdAt",direction:"desc"},fallbackSort:{accessor:"name",direction:"asc"}}),0===t.length&&!n&&!r&&o.a.createElement("p",null,c._("No rubrics yet")),r&&o.a.createElement("div",null,o.a.createElement("p",null,c._("Failed to load rubrics")),o.a.createElement(we.h,{id:"button-rubric-list-error-reload",onClick:a},c._("Reload"))),o.a.createElement(te.a,{loading:n}),o.a.createElement(we.i,{id:"speed-dial-rubric-list",tooltip:s,ariaLabel:s.label},this.getSpeedDialItems()))}}])&&DY(n.prototype,r),a&&DY(n,a),t}(a.Component);UY.propTypes={quickNavItems:c.a.array,institution:c.a.object},UY.defaultProps={quickNavItems:[]};var VY=Object(U.withI18n)()(UY);function GY(e){return(GY="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){XY(e,t,n[t])}))}return e}function BY(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function WY(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function QY(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){WY(o,r,a,i,c,"next",e)}function c(e){WY(o,r,a,i,c,"throw",e)}i(void 0)}))}}function YY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HY(e){return(HY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zY(e,t){return(zY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var JY=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=HY(t).call(this,e),n=!a||"object"!==GY(a)&&"function"!==typeof a?KY(r):a,XY(KY(KY(n)),"getLibraryList",QY(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.classId,n.setLoading(!0),n.setError(!1),e.prev=3,e.next=6,Gq.getRubrics(+t);case 6:r=e.sent,n.setState({list:r}),n.setLoading(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),n.setLoading(!1),n.setError(!0),l.b.error(e.t0);case 16:case"end":return e.stop()}}),e,this,[[3,11]])})))),XY(KY(KY(n)),"onShow",(function(e){dt.a.showModal(o.a.createElement(sY.a,{mode:nf.a.VIEW,rubricPoints:0,rubric:e}))})),XY(KY(KY(n)),"onEdit",(function(e){n.navigateToSubRoute(In.d.EDUCATOR_RUBRIC_EDIT,{rubricId:e.dbId})})),XY(KY(KY(n)),"onCopy",(function(e){n.navigateToSubRoute(In.d.EDUCATOR_RUBRIC_COPY,{rubricId:e.dbId})})),XY(KY(KY(n)),"onDelete",(function(e){dt.a.showModal(o.a.createElement(_Y,{rubric:e,onSuccess:n.onDeleteRubricSuccess}))})),XY(KY(KY(n)),"onDeleteRubricSuccess",(function(e){var t=n.state.list.filter((function(t){return t.dbId!==e}));n.setState({list:t})})),XY(KY(KY(n)),"onCreate",(function(){n.navigateToSubRoute(In.d.EDUCATOR_RUBRIC_CREATE)})),XY(KY(KY(n)),"onImport",(function(){n.navigateToSubRoute(In.d.EDUCATOR_RUBRIC_IMPORT)})),XY(KY(KY(n)),"navigateToSubRoute",(function(e,t){var r=n.props,a=r.history,o=r.match,i=r.location,c=EI.a.compile(e),s=[].concat(BY(Object(sB.b)(i,JA.a.RUBRICS)),[{context:JA.a.RUBRICS,location:i}]);a.push({pathname:c(qY({},o.params,t)),state:{quickNavItems:BY(s)}})})),n.state={list:[],isLoading:!1,isError:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zY(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getLibraryList()}},{key:"setLoading",value:function(e){this.setState({isLoading:e})}},{key:"setError",value:function(e){this.setState({isError:e})}},{key:"render",value:function(){var e=this.state,t=e.list,n=e.isLoading,r=e.isError,a=this.props,i=a.location,c=a.institution;return o.a.createElement(VY,{list:t,quickNavItems:Object(sB.b)(i,JA.a.RUBRICS),isLoading:n,isError:r,institution:c,currentUserId:this.props.currentUserId,reload:this.getLibraryList,onImport:this.onImport,onCreate:this.onCreate,onDelete:this.onDelete,onCopy:this.onCopy,onEdit:this.onEdit,onShow:this.onShow})}}])&&YY(n.prototype,r),a&&YY(n,a),t}(a.Component),ZY=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{currentUserId:Qe.i(e),institution:Ye.i(e)}}))(JY))),$Y=n("yBPd");function eH(e){return(eH="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tH(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function nH(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){tH(o,r,a,i,c,"next",e)}function c(e){tH(o,r,a,i,c,"throw",e)}i(void 0)}))}}function rH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aH(e){return(aH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oH(e,t){return(oH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sH=Object(U.i18nMark)("Required"),uH=64,lH=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=aH(t).call(this,e),n=!a||"object"!==eH(a)&&"function"!==typeof a?iH(r):a,cH(iH(iH(n)),"onRubricChange",(function(e){n.setState({maxValue:e.maxValue}),n.rubricData=e,n.onChange()})),cH(iH(iH(n)),"onRubricNameChange",(function(e){e.length>uH&&(e=e.substring(0,uH)),n.setState({rubricName:e},n.onChange)})),cH(iH(iH(n)),"validate",(function(){var e=n.props.i18n,t=!0,r="";return n.state.rubricName||(r=e._(sH),t=!1),n.setState({rubricNameError:r}),t})),cH(iH(iH(n)),"onChange",(function(){n.props.onChange(n.getRubric())})),cH(iH(iH(n)),"onSubmit",nH(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isSaving:!0}),e.next=3,n.props.onSubmit(n.getRubric());case 3:n.setState({isSaving:!1});case 4:case"end":return e.stop()}}),e,this)})))),n.state={isSaving:!1,maxValue:0,rubricName:n.props.rubric?n.props.rubric.name:"",rubric:n.props.rubric?n.props.rubric:null,rubricNameError:""},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oH(e,t)}(t,e),n=t,(r=[{key:"getRubric",value:function(){var e=O.a.clone(this.rubricData);e||(e={}),e.name=this.state.rubricName;var t=this.validate();return t||(e.isValid=t),e}},{key:"render",value:function(){var e=this.props,t=e.rubric,n=e.showClientErrors,r=e.i18n,a=this.state,i=a.isSaving,c=a.maxValue,s=a.rubricNameError,u=a.rubricName,l=nf.a.CREATE;return t&&(l=nf.a.EDIT),o.a.createElement("div",null,o.a.createElement("div",{className:"u-mb-10px"},o.a.createElement(mr.b,{id:"rubric-name",label:r._("Rubric name"),errorText:n?s:"",value:u,onChange:this.onRubricNameChange})),o.a.createElement("div",{className:"c-rubric-page__rubric-holder"},o.a.createElement($Y.a,{onRubricChange:this.onRubricChange,rubric:t,mode:l,showClientErrors:n})),o.a.createElement("p",null,r._("Max value: {maxValue}",{maxValue:c})),o.a.createElement(we.h,{id:"button-rubric-settings-save",primary:!0,onClick:this.onSubmit,enabled:!i&&c>0},i?r._("Saving..."):r._("Save")))}}])&&rH(n.prototype,r),a&&rH(n,a),t}(a.Component);lH.propTypes={rubric:c.a.any,onSubmit:c.a.func,onRubricChange:c.a.func,showClientErrors:c.a.bool};var dH=Object(U.withI18n)()(lH);function fH(e){return(fH="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pH(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){EH(e,t,n[t])}))}return e}function bH(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function yH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vH(e){return(vH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hH(e,t){return(hH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wH=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=vH(t).call(this,e),n=!a||"object"!==fH(a)&&"function"!==typeof a?gH(r):a,EH(gH(gH(n)),"onRubricChange",(function(){})),EH(gH(gH(n)),"onSubmit",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.location,o=r.history,i=r.match,t.isValid){e.next=4;break}return n.setState({showClientErrors:!0}),e.abrupt("return");case 4:return e.prev=4,n.setHasSubmissionError(!1),n.setLoading(!0),delete t.maxValue,delete t.dbId,delete t.isValid,e.next=12,Gq.createRubric(t);case 12:n.setLoading(!1),c=EI.a.compile(hI.b.EDUCATOR_RUBRICS_LIST),a&&a.state&&a.state.quickNavItems?o.push({pathname:c(mH({},i.params)),state:{quickNavItems:pH(a.state.quickNavItems)}}):o.push(c(mH({},i.params))),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),n.setHasSubmissionError(!0),n.setLoading(!1);case 21:case"end":return e.stop()}}),e,this,[[4,17]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){bH(o,r,a,i,c,"next",e)}function c(e){bH(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.state={showClientErrors:!1,isLoading:!1,hasSubmissionError:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hH(e,t)}(t,e),n=t,(r=[{key:"setLoading",value:function(e){this.setState({isLoading:e})}},{key:"setHasSubmissionError",value:function(e){this.setState({hasSubmissionError:e})}},{key:"render",value:function(){var e=this.state,t=e.showClientErrors,n=e.isLoading,r=e.hasSubmissionError,a=this.props,i=a.i18n,c=a.location,s=null;return c&&c.state&&(s=c.state.quickNavItems),o.a.createElement(jY,{title:i._("Create Rubric"),context:JA.a.RUBRICS_CREATE,quickNavItems:s},r&&o.a.createElement("p",{className:"u-error"},i._("Failed to save rubric. Please try again.")),o.a.createElement(dH,{onChange:this.onRubricChange,showClientErrors:t,onSubmit:this.onSubmit}),o.a.createElement(te.a,{loading:n}))}}])&&yH(n.prototype,r),a&&yH(n,a),t}(a.Component);wH.propTypes={quickNavItems:c.a.array},wH.defaultProps={quickNavItems:[]};var OH=Object(U.withI18n)()(wH);function SH(e){return(SH="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CH(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jH(e,t,n[t])}))}return e}function IH(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function TH(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){IH(o,r,a,i,c,"next",e)}function c(e){IH(o,r,a,i,c,"throw",e)}i(void 0)}))}}function RH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PH(e){return(PH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AH(e,t){return(AH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kH=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=PH(t).call(this,e),n=!a||"object"!==SH(a)&&"function"!==typeof a?NH(r):a,jH(NH(NH(n)),"onRubricChange",(function(){})),jH(NH(NH(n)),"onSubmit",function(){var e=TH(regeneratorRuntime.mark((function e(t){var r,a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.location,o=r.history,i=r.match,t.isValid){e.next=4;break}return n.setState({showClientErrors:!0}),e.abrupt("return");case 4:return e.prev=4,n.setHasSubmissionError(!1),n.setLoading(!0),c=t.dbId,delete t.maxValue,delete t.dbId,delete t.isValid,e.next=13,Gq.editRubric(c,t);case 13:n.setLoading(!1),s=EI.a.compile(hI.b.EDUCATOR_RUBRICS_LIST),a&&a.state&&a.state.quickNavItems?o.push({pathname:s(_H({},i.params)),state:{quickNavItems:CH(a.state.quickNavItems)}}):o.push(s(_H({},i.params))),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),n.setHasSubmissionError(!0),n.setLoading(!1);case 22:case"end":return e.stop()}}),e,this,[[4,18]])})));return function(t){return e.apply(this,arguments)}}()),n.state={showClientErrors:!1,rubric:null,isLoading:!1,hasLoadingError:!1,hasSubmissionError:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AH(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getRubric()}},{key:"setLoading",value:function(e){this.setState({isLoading:e})}},{key:"setHasLoadingError",value:function(e){this.setState({hasLoadingError:e})}},{key:"setHasSubmissionError",value:function(e){this.setState({hasSubmissionError:e})}},{key:"getRubric",value:function(){var e=TH(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,n=t.classId,r=t.rubricId,e.prev=1,this.setHasLoadingError(!1),this.setLoading(!0),e.next=6,Gq.getRubricById(+r,+n);case 6:a=e.sent,this.setLoading(!1),this.setState({rubric:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),this.setLoading(!1),this.setHasLoadingError(!0);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.showClientErrors,n=e.rubric,r=e.hasLoadingError,a=e.isLoading,i=e.hasSubmissionError,c=this.props,s=c.i18n,u=c.location,l=null;return u&&u.state&&(l=u.state.quickNavItems),o.a.createElement(jY,{title:s._("Edit Rubric"),context:JA.a.RUBRICS_EDIT,quickNavItems:l},i&&o.a.createElement("p",{className:"u-error"},s._("Failed to edit rubric. Please try again")),r&&o.a.createElement("div",null,o.a.createElement("p",null,s._("Can't get rubric")),o.a.createElement(we.h,{id:"button-rubric-edit-error-reload",onClick:this.getRubric.bind(this)},s._("Try again"))),n&&o.a.createElement(dH,{onChange:this.onRubricChange,rubric:n,showClientErrors:t,onSubmit:this.onSubmit}),a&&o.a.createElement(te.a,{loading:a}))}}])&&RH(n.prototype,r),a&&RH(n,a),t}(a.Component),DH=Object(y.k)(Object(U.withI18n)()(kH));function LH(e){return(LH="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MH(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function xH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){WH(e,t,n[t])}))}return e}function FH(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function UH(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){FH(o,r,a,i,c,"next",e)}function c(e){FH(o,r,a,i,c,"throw",e)}i(void 0)}))}}function VH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GH(e){return(GH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qH(e,t){return(qH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function BH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QH=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=GH(t).call(this,e),n=!a||"object"!==LH(a)&&"function"!==typeof a?BH(r):a,WH(BH(BH(n)),"onRubricChange",(function(){})),WH(BH(BH(n)),"onSubmit",function(){var e=UH(regeneratorRuntime.mark((function e(t){var r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.location,o=r.history,i=r.match,t.isValid){e.next=4;break}return n.setState({showClientErrors:!0}),e.abrupt("return");case 4:return e.prev=4,n.setHasSubmissionError(!1),n.setLoading(!0),delete t.maxValue,delete t.dbId,delete t.isValid,e.next=12,Gq.createRubric(t);case 12:n.setLoading(!1),c=EI.a.compile(hI.b.EDUCATOR_RUBRICS_LIST),a&&a.state&&a.state.quickNavItems?o.push({pathname:c(xH({},i.params)),state:{quickNavItems:MH(a.state.quickNavItems)}}):o.push(c(xH({},i.params))),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),n.setHasSubmissionError(!0),n.setLoading(!1);case 21:case"end":return e.stop()}}),e,this,[[4,17]])})));return function(t){return e.apply(this,arguments)}}()),n.state={showClientErrors:!1,rubric:null,isLoading:!1,hasLoadingError:!1,hasSubmissionError:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qH(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getRubric()}},{key:"setHasSubmissionError",value:function(e){this.setState({hasSubmissionError:e})}},{key:"setLoading",value:function(e){this.setState({isLoading:e})}},{key:"setHasLoadingError",value:function(e){this.setState({hasLoadingError:e})}},{key:"getRubric",value:function(){var e=UH(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.i18n,r=t.match.params,a=r.classId,o=r.rubricId,e.prev=1,this.setHasLoadingError(!1),this.setLoading(!0),e.next=6,Gq.getRubricById(+o,+a);case 6:i=e.sent,this.setLoading(!1),c=O.a.merge({},i,{name:n._("{0} (copy)",{0:i.name}),isUsed:!1}),this.setState({rubric:c}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),this.setLoading(!1),this.setHasLoadingError(!0);case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.showClientErrors,n=e.rubric,r=e.hasLoadingError,a=e.isLoading,i=e.hasSubmissionError,c=this.props,s=c.location,u=c.i18n,l=null;return s&&s.state&&(l=s.state.quickNavItems),o.a.createElement(jY,{title:u._("Copy Rubric"),context:JA.a.RUBRICS_COPY,quickNavItems:l},i&&o.a.createElement("p",{className:"u-error"},u._("Failed to copy rubric. Please try again")),r&&o.a.createElement("div",null,o.a.createElement("p",null,u._("Can't get rubric")),o.a.createElement(we.h,{id:"button-rubric-copy-error-reload",onClick:this.getRubric.bind(this)},u._("Try again"))),n&&o.a.createElement(dH,{onChange:this.onRubricChange,rubric:n,showClientErrors:t,onSubmit:this.onSubmit}),a&&o.a.createElement(te.a,{loading:a}))}}])&&VH(n.prototype,r),a&&VH(n,a),t}(a.Component),YH=Object(y.k)(Object(U.withI18n)()(QH)),HH=n("P/HN"),zH=n("NpuA"),KH=n.n(zH),XH=n("Jxis"),JH=n.n(XH),ZH=n("8Qij"),$H=n.n(ZH),ez=n("8uzE"),tz=n.n(ez);n("LsJI");function nz(e){return(nz="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function az(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function oz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dz(e,t,n[t])}))}return e}function iz(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function cz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sz(e){return(sz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uz(e,t){return(uz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fz=255,pz="validators.rubric_cell.description.max",mz=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=sz(t).call(this,e),n=!a||"object"!==nz(a)&&"function"!==typeof a?lz(r):a,dz(lz(lz(n)),"onRubricChange",(function(){})),dz(lz(lz(n)),"onSubmit",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.location,o=r.history,i=r.match,c=r.i18n,(t=O.a.clone(t)).isValid){e.next=5;break}return n.setState({showClientErrors:!0}),e.abrupt("return");case 5:return e.prev=5,n.setSubmissionErrors(null),n.setLoading(!0),delete t.maxValue,delete t.dbId,delete t.isValid,e.next=13,Gq.createRubric(t);case 13:n.setLoading(!1),s=EI.a.compile(hI.b.EDUCATOR_RUBRICS_LIST),a&&a.state&&a.state.quickNavItems?o.push({pathname:s(oz({},i.params)),state:{quickNavItems:az(a.state.quickNavItems)}}):o.push(s(oz({},i.params))),e.next=25;break;case 18:e.prev=18,e.t0=e.catch(5),u=O.a.map(e.t0,(function(e){return e&&e.message&&O.a.startsWith(e.message,pz)?c._("Maximum description length is {MAX_DESCRIPTION_LENGTH}.",{MAX_DESCRIPTION_LENGTH:fz}):null})),(u=O.a.compact(u)).length<1&&u.push(c._("Failed to save import rubric. Please try again.")),n.setSubmissionErrors(u),n.setLoading(!1);case 25:case"end":return e.stop()}}),e,this,[[5,18]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){iz(o,r,a,i,c,"next",e)}function c(e){iz(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),dz(lz(lz(n)),"onFile",(function(e){var t=rz(e,1)[0],r=new FileReader;r.onloadend=function(){var e=r.result;e=e.trim(),n.convertCsvToRubric(e,t.name)},r.readAsText(t)})),n.state={rubric:null,showClientErrors:!1,hasError:!1,isLoading:!1,submissionErrors:[],truncatedDescriptions:[]},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uz(e,t)}(t,e),n=t,(r=[{key:"setLoading",value:function(e){this.setState({isLoading:e})}},{key:"setSubmissionErrors",value:function(e){e&&e.length>0?this.setState({submissionErrors:e}):this.setState({submissionErrors:[]})}},{key:"generateNumericId",value:function(){return+(1e6*Math.random()).toFixed(0)}},{key:"parsePoints",value:function(e){var t=e.match(/^(\d*\.?\d{0,2})(\d*)$/);return t?parseFloat(t[1]):null}},{key:"convertCsvToRubric",value:function(e,t){var n=this;this.setState({hasError:!1});try{var r=[],a=KH.a.parse(e).data;a.shift(),a.forEach((function(e){e.shift()}));var o=!0,i=a[0].length;if(a.forEach((function(e){e.length!==i&&(o=!1)})),!o)throw new Error("Invalid file");var c={dbId:this.generateNumericId(),rows:[]};a[0].forEach((function(e,t){if(0!==t&&(1===t||t%3===1)){c.rows[0]||(c.rows[0]=n.createRow(),c.rows[0].cells.push(n.createCell("")));var o=n.parsePoints(a[0][t+1]),i=e||"";i.length>fz&&(r.push(i),i=i.substring(0,fz)),c.rows[0].cells.push(n.createCell(i,o))}})),a.forEach((function(e,t){c.rows[t+1]||(c.rows[t+1]=n.createRow()),e.forEach((function(e,o){if(0===o)return c.rows[t+1].cells.push(n.createCell(e||""));if(o%3===0){var i=n.parsePoints(a[t][o-1]),s=e||"";s.length>fz&&(r.push(s),s=s.substring(0,fz)),c.rows[t+1].cells.push(n.createCell(s,i))}}))})),c.name=t,this.setState({rubric:c,truncatedDescriptions:r})}catch(s){this.setState({hasError:!0})}}},{key:"createCell",value:function(e,t){return{dbId:this.generateNumericId(),description:e,points:t}}},{key:"createRow",value:function(){return{dbId:this.generateNumericId(),cells:[]}}},{key:"render",value:function(){var e=this.state,t=e.showClientErrors,n=e.rubric,r=e.hasError,a=e.isLoading,i=e.submissionErrors,c=e.truncatedDescriptions,s=this.props,u=s.location,l=s.i18n,d=c&&c.length>0,f=l._("The following descriptions were truncated during import:")+"\n\n"+O.a.join(c,"\n\n"),p=null;return u&&u.state&&(p=u.state.quickNavItems),o.a.createElement(jY,{title:l._("Import Rubric"),context:JA.a.RUBRICS_IMPORT,quickNavItems:p},!n&&o.a.createElement("div",null,o.a.createElement("p",null,l._("Upload your correctly formatted csv spreadsheet to create your rubric.")),o.a.createElement("p",null,l._("Download the rubric template, modify the template, and save the file. Then upload the file to create your rubric.")),o.a.createElement("p",null,l._("Click the links below to download the files to your computer")),o.a.createElement("p",null,o.a.createElement("a",{href:JH.a,download:"examplerubric.csv"},"examplerubric.csv")),o.a.createElement("p",null,o.a.createElement("a",{href:$H.a,download:"rubrictemplate.csv"},"rubrictemplate.csv")),o.a.createElement("p",null,o.a.createElement("a",{href:tz.a,download:"rubricinstructions.pdf"},"rubricinstructions.pdf"))),i&&i.length>0&&O.a.map(i,(function(e){return o.a.createElement("p",{className:"u-error"},e)})),r&&o.a.createElement("p",{className:"u-error"},l._("Failed to parse rubric. File is invalid")),!n&&o.a.createElement("div",{className:"u-pt-10px"},o.a.createElement(HH.a,{onFile:this.onFile})),n&&o.a.createElement(dH,{rubric:n,onChange:this.onRubricChange,showClientErrors:t,onSubmit:this.onSubmit}),o.a.createElement(te.a,{loading:a}),d&&o.a.createElement(Ev.a,{id:"rubric-import-warning-message-dialog",dialogClassName:"rubric-import-warning-message-dialog",message:f}))}}])&&cz(n.prototype,r),a&&cz(n,a),t}(a.Component),bz=Object(y.k)(Object(U.withI18n)()(mz));n("SXUj");function yz(e){return(yz="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vz(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function hz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gz(e){return(gz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ez(e,t){return(Ez=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sz=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=gz(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==yz(a)&&"function"!==typeof a?wz(r):a,Oz(wz(wz(n)),"state",{isFetchingZipFile:!1}),Oz(wz(wz(n)),"getLockedIcon",(function(e){var t=n.props,r=t.classId,a=t.i18n;if(+e.ownedBy.dbId!==+r)return o.a.createElement(zc.a,{className:"meeting-title-icon--locked",tooltip:{label:a._("This meeting recording cannot be managed because it belongs to a different course")}},re.a.STATUS_RESTRICTED)})),Oz(wz(wz(n)),"titleRenderer",(function(e){return o.a.createElement("div",{className:"meeting-title-container"},e.title,n.getLockedIcon(e))})),Oz(wz(wz(n)),"isProcessed",(function(e){return e&&e.processingStatus===Rv.a.READY})),Oz(wz(wz(n)),"performFreemiumCheck",(function(e){var t=n.props.i18n,r=e&&e.recordingAvailability===en.D2L_FREEMIUM_EXPIRED;return{expired:r,tooltipLabel:r?t._("This meeting is no longer available. Upgrade to premium to get access to this meeting."):""}})),Oz(wz(wz(n)),"getPreviewItem",(function(e){var t=n.props,r=t.i18n,a=t.previewMedia,i=n.performFreemiumCheck(e),c=i.expired,s=i.tooltipLabel,u=n.isProcessed(e)&&!c;return o.a.createElement(pv.a,{key:"preview",onClick:function(){a(e)},enabled:u,tooltip:{label:s},leftIcon:o.a.createElement(zc.a,null,re.a.PREVIEW),primaryText:r._("Preview")})})),Oz(wz(wz(n)),"getCopyURLItem",(function(e){var t=n.props.i18n,r=n.performFreemiumCheck(e),a=r.expired,i=r.tooltipLabel,c=Boolean(e&&e.externalPlayUrl),s=n.isProcessed(e)&&c&&!a;return o.a.createElement(pv.a,{key:"copy-url",enabled:s,tooltip:{label:i},onClick:function(){Object(Se.a)(e.externalPlayUrl)},leftIcon:o.a.createElement(zc.a,null,re.a.LINK),primaryText:t._("Copy Public Url")})})),Oz(wz(wz(n)),"getManageCaptionsItem",(function(e){var t=n.props,r=t.i18n,a=t.onManageCaptions;if(!O.a.get(e,"media.canEditCaptions"))return null;var i=n.isProcessed(e.media);return o.a.createElement(pv.a,{key:"manage-captions",enabled:i,primaryText:r._("Manage Captions"),leftIcon:o.a.createElement(zc.a,null,re.a.CLOSED_CAPTION),onClick:function(){a(e)}})})),Oz(wz(wz(n)),"getDownloadItem",(function(e){var t=n.props.i18n,r=e.downloadUrl,a=e.media,i=n.performFreemiumCheck(a),c=i.expired,s=i.tooltipLabel;if(!fe.a.isMeetingDownloadAllowed()||!r)return null;var u=!c;return o.a.createElement(pv.a,{key:"download",enabled:u,tooltip:{label:s},onClick:function(){n.onDownload(e)},leftIcon:o.a.createElement(zc.a,null,re.a.DOWNLOAD),primaryText:t._("Download")})})),Oz(wz(wz(n)),"getAttendanceItem",(function(e){var t=n.props.i18n,r=fe.a.isMeetingAttendanceAllowed(),a=r?"":t._("Upgrade to premium to get access to this feature.");return o.a.createElement(pv.a,{key:"attendance",tooltip:{label:a},onClick:function(){n.onViewAttendance(e)},enabled:r,leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Attendance, icon")},re.a.PEOPLE),primaryText:t._("Attendance")})})),Oz(wz(wz(n)),"getDeleteItem",(function(e,t){var r=n.props,a=r.i18n,i=r.classId,c=r.onProcessedMeetingDelete,s=+e.ownedBy.dbId===+i&&n.isProcessed(t);return o.a.createElement(pv.a,{key:"delete",enabled:s,onClick:function(){c(e)},leftIcon:o.a.createElement(zc.a,{ariaLabel:a._("Delete, icon")},re.a.DELETE),primaryText:a._("Delete")})})),Oz(wz(wz(n)),"actionsRenderer",(function(e,t){var r=e.media,a=[];return a.push(n.getPreviewItem(r)),a.push(n.getCopyURLItem(r)),a.push(n.getManageCaptionsItem(e)),a.push(n.getDownloadItem(e)),a.push(o.a.createElement(pm.a,{key:"divider-1"})),a.push(n.getAttendanceItem(e)),a.push(n.getDeleteItem(e,r)),o.a.createElement(jW.a,{key:t,menuItems:O.a.compact(a)})})),Oz(wz(wz(n)),"onDownload",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i,c,s,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,a=r.i18n,o=r.classId,i=t.dbId,c=t.title,n.setState({isFetchingZipFile:!0}),e.next=5,Iv.fetchZipUrl(o,i);case 5:if(s=e.sent,u=s.meetingZipFile,d=s.errors,n.setState({isFetchingZipFile:!1}),u){e.next=13;break}return ft.a.addError(a._('Unable to prepare meeting "{title}" for download - please try again later.',{title:c})),l.b.error("Unable to fetch meetingZipFile",d),e.abrupt("return");case 13:window.open(u);case 14:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){vz(o,r,a,i,c,"next",e)}function c(e){vz(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),Oz(wz(wz(n)),"onViewAttendance",(function(e){(0,n.props.viewAttendance)(e)})),Oz(wz(wz(n)),"renderLoadingOverlay",(function(){if(n.state.isFetchingZipFile)return o.a.createElement(ca.b,{loading:!0})})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ez(e,t)}(t,e),n=t,(r=[{key:"getColumns",value:function(){var e=this.props.i18n;return[{label:e._("Title"),key:"title",accessor:"title",grow:!0,sortable:!0,renderer:this.titleRenderer},{label:e._("Actual Start Time"),key:"startTime",accessor:"startedAt",sortable:!0,renderer:function(e){return o.a.createElement(rW.a,{value:e.startedAt})}},{label:e._("End Time"),key:"endTime",accessor:"finishedAt",sortable:!0,renderer:function(e){return o.a.createElement(rW.a,{value:e.finishedAt})}},{label:e._("Status"),key:"status",accessor:"status",sortable:!0,renderer:function(t){return t.status===Bt.FINISHED?t.media&&t.media.processingStatus===Rv.a.ERROR?o.a.createElement(zc.a,{ariaLabel:e._("Error, icon")},re.a.ERROR):o.a.createElement(zc.a,{ariaLabel:e._("Media Processing, icon")},re.a.VIDEO_PROCESSING):t.status===Bt.PROCESSED?t.media&&t.media.processingStatus!==Rv.a.ERROR?o.a.createElement(zc.a,{ariaLabel:e._("Media Ready, icon")},re.a.DONE):o.a.createElement(zc.a,{ariaLabel:e._("Error, icon")},re.a.ERROR):void 0}},{label:e._("Actions"),key:"actions",isCustomColumn:!0,renderer:this.actionsRenderer}]}},{key:"render",value:function(){var e=this.props.meetings;return o.a.createElement("div",null,o.a.createElement(ku.c,{className:"",id:"educator-recorded-meetings-table",columns:this.getColumns(),listAccessor:"dbId",hasMobileListView:!1,data:e,onListRowSelect:function(){},defaultSort:{accessor:"scheduledAt",direction:"desc"},fallbackSort:{accessor:"title",direction:"asc"}}),this.renderLoadingOverlay())}}])&&hz(n.prototype,r),a&&hz(n,a),t}(a.Component);Sz.propTypes={classId:c.a.number,i18n:c.a.object,previewMedia:c.a.func,viewAttendance:c.a.func,onManageCaptions:c.a.func,onProcessedMeetingDelete:c.a.func,meetings:c.a.array};var Cz=Object(U.withI18n)()(Sz);n("cNTu");function _z(e){return(_z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tz(e){return(Tz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rz(e,t){return(Rz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Az(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nz=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Tz(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==_z(a)&&"function"!==typeof a?Pz(r):a,Az(Pz(Pz(n)),"getLockedIcon",(function(e){var t=n.props,r=t.classId,a=t.i18n;if(+e.ownedBy.dbId!==+r)return o.a.createElement(zc.a,{className:"meeting-title-icon--locked",tooltip:{label:a._("This meeting cannot be managed because it belongs to a different course")}},re.a.STATUS_RESTRICTED)})),Az(Pz(Pz(n)),"titleRenderer",(function(e){return o.a.createElement("div",{className:"meeting-title-container"},e.title,n.getLockedIcon(e))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rz(e,t)}(t,e),n=t,(r=[{key:"getColumns",value:function(){var e=this.props,t=e.i18n,n=e.classId,r=e.isMeetingCohortingAllowed,a=e.openInviteSettings,i=e.openCohortSettings,c=e.onEditMeeting,s=e.onLaunchMeeting,u=e.onCancelMeeting;return[{label:t._("Title"),key:"title",accessor:"title",grow:!0,sortable:!0,renderer:this.titleRenderer},{label:t._("Scheduled At"),key:"date",accessor:"scheduledAt",sortable:!0,renderer:function(e){return o.a.createElement(rW.a,{value:e.scheduledAt})}},{label:t._("Actions"),key:"actions",isCustomColumn:!0,renderer:function(e,l){var d=+e.ownedBy.dbId===+n,f=[Bt.SCHEDULED,Bt.STARTED,Bt.READY].includes(e.status),p=Boolean(e.anonymousInvitationUrl),m=Boolean(e.wholeClassAssigned),b=!1,y=!1,v=!1,h=!1,g="",E="";d&&(h=v=[Bt.SCHEDULED,Bt.NOT_HELD].includes(e.status),f&&(m?(g=t._("This action is not available because this is a whole class meeting"),y=!0):(E=t._("This action is only available for whole class meetings"),b=!0)));var w=[o.a.createElement(pv.a,{key:"launch",itemProps:{id:"meeting-menu-action-launch"},enabled:f,data:e,onClick:function(){s(e)},leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Launch, icon")},re.a.EXIT),primaryText:t._("Launch")}),e.anonymousParticipantsAllowed&&o.a.createElement(pv.a,{key:"externalLink",itemProps:{id:"meeting-menu-action-external-link"},enabled:p,data:e,onClick:function(){Object(Se.a)(e.anonymousInvitationUrl)},leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Copy External Link, icon")},re.a.LINK),primaryText:t._("Copy External Link")}),o.a.createElement(pm.a,{key:"menu_item_divider[invite-meeting-0]"}),o.a.createElement(pv.a,{key:"invite",itemProps:{id:"meeting-menu-action-manage-invites"},enabled:b,primaryText:t._("Manage Invites"),onClick:function(){a(e)},leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Manage Invites, icon")},re.a.ADD_PERSON),tooltip:{label:g}}),r&&o.a.createElement(pv.a,{key:"cohort",itemProps:{id:"meeting-menu-action-manage-cohorts"},enabled:y,primaryText:t._("Manage Cohorts"),onClick:function(){i(e)},leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Manage Cohorts, icon")},re.a.ADD_GROUP),tooltip:{label:E}}),o.a.createElement(pm.a,{key:"menu_item_divider[invite-meeting-1]"}),o.a.createElement(pv.a,{key:"edit",itemProps:{id:"meeting-menu-action-edit"},enabled:v,data:e,onClick:function(){c(e)},leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Edit, icon")},re.a.EDIT),primaryText:t._("Edit")}),o.a.createElement(pv.a,{key:"cancel",itemProps:{id:"meeting-menu-action-cancel"},enabled:h,data:e,onClick:function(){u(e)},leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Cancel, icon")},re.a.CANCEL),primaryText:t._("Cancel")})];return w=O.a.compact(w),o.a.createElement(jW.a,{key:l,menuItems:w})}}]}},{key:"render",value:function(){var e=this.props.meetings;return o.a.createElement(ku.c,{columns:this.getColumns(),listAccessor:"dbId",id:"educator-scheduled-meetings-table",hasMobileListView:!1,data:e,onListRowSelect:function(){},defaultSort:{accessor:"scheduledAt",direction:"asc"},fallbackSort:{accessor:"title",direction:"asc"}})}}])&&Iz(n.prototype,r),a&&Iz(n,a),t}(a.Component),jz=Object(U.withI18n)()(Nz);function kz(e){return(kz="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lz(e,t){return!t||"object"!==kz(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mz(e){return(Mz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xz(e,t){return(xz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fz=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lz(this,Mz(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xz(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.classId,r=e.onCreateMeeting,a=e.isLoading,i=e.hasError,c=e.scheduledMeetings,s=e.recordedMeetings,u=e.previewMedia,l=e.viewAttendance,d=e.openInviteSettings,f=e.openCohortSettings,p=e.onEditMeeting,m=e.onManageCaptions,b=e.onLaunchMeeting,y=e.onCancelMeeting,v=e.reloadData,h=e.onProcessedMeetingDelete,g=e.isMeetingCohortingAllowed;return a?o.a.createElement(te.a,{loading:!0}):o.a.createElement(Dt.a,{title:t._("Meetings")},o.a.createElement(mx,{classId:n,context:JA.a.MEETINGS}),i&&o.a.createElement(Gt,{reloadData:v,buttonTitle:t._("Try again"),message:t._("Failed to load meetings data")}),!i&&o.a.createElement(Lt.a,null,o.a.createElement("h3",null,t._("Active Meetings")),!!c.length&&o.a.createElement(jz,{classId:n,isMeetingCohortingAllowed:g,meetings:c,openInviteSettings:d,openCohortSettings:f,onEditMeeting:p,onCancelMeeting:y,onLaunchMeeting:b}),!c.length&&o.a.createElement("p",null,t._("No active meetings yet"))),!i&&o.a.createElement(Lt.a,null,o.a.createElement("h3",null,t._("Recorded Meetings")),!!s.length&&o.a.createElement(Cz,{classId:n,meetings:s,previewMedia:u,onManageCaptions:m,viewAttendance:l,onProcessedMeetingDelete:h}),!s.length&&o.a.createElement("p",null,t._("No recorded meetings yet"))),!i&&o.a.createElement(lQ.a,{id:"speed-dial-meeting-list"},o.a.createElement(dQ.a,{iconClassName:Tf.a.CALENDAR,id:"speed-dial-item-meeting-create",onClick:r,ariaLabel:t._("Schedule meeting"),tooltip:{label:t._("Schedule meeting")}})),this.props.children)}}])&&Dz(n.prototype,r),a&&Dz(n,a),t}(a.Component);Fz.propTypes={i18n:c.a.object,classId:c.a.number,onCreateMeeting:c.a.func,isLoading:c.a.bool,hasError:c.a.bool,scheduledMeetings:c.a.array,recordedMeetings:c.a.array,previewMedia:c.a.func,viewAttendance:c.a.func,openInviteSettings:c.a.func,onEditMeeting:c.a.func,onManageCaptions:c.a.func,onLaunchMeeting:c.a.func,onCancelMeeting:c.a.func,reloadData:c.a.func,onProcessedMeetingDelete:c.a.func,children:c.a.node};var Uz=Object(U.withI18n)()(Fz),Vz=n("x1nL");function Gz(){var e=Kz(["\n    mutation editCohortingForTermClassMeeting($input: EditCohortingForTermClassMeetingInput!){\n        editCohortingForTermClassMeeting(input: $input) {\n            meeting {\n                ...Meeting\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n    ","\n"]);return Gz=function(){return e},e}function qz(){var e=Kz(["\n    mutation manageParticipantsForTermClassMeeting($input: ManageParticipantsForTermClassMeetingInput!) {\n        manageParticipantsForTermClassMeeting(input:$input) {\n            meeting {\n                ...Meeting\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n    ","\n"]);return qz=function(){return e},e}function Bz(){var e=Kz(["\n    mutation syncRosterForTermClass($input: SyncRosterForTermClassInput!) {\n        syncRosterForTermClass(input:$input) {\n            unmappedRoleUsersCount\n            termClass {\n                students {\n                    dbId\n                    firstName\n                    lastName\n                    roles\n                }\n                educators {\n                    dbId\n                    firstName\n                    lastName\n                    roles\n                }\n            }\n            errors {\n              path\n              message\n            }\n        }\n    }\n"]);return Bz=function(){return e},e}function Wz(){var e=Kz(["\n    mutation cancelTermClassMeeting($input: CancelTermClassMeetingInput!){\n        cancelTermClassMeeting(input: $input) {\n            meeting {\n                dbId\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n"]);return Wz=function(){return e},e}function Qz(){var e=Kz(["\n    query getUsers($dbId: Int!){\n        termClass(dbId: $dbId) {\n            dbId\n            isRosterSyncAvailable\n            institution {\n                externalTrackingUuid\n                integrationType\n                trialExpireAt\n                featureToggles {\n                    isLegacyFreemium\n                }\n            }\n            students {\n                dbId\n                firstName\n                lastName\n                roles\n            }\n            educators {\n                dbId\n                firstName\n                lastName\n                roles\n            }\n            isCohortManagementAllowed\n            cohortableD2lCourses {\n                ...D2lCourse\n            }\n            meetings {\n                ...Meeting\n            }\n        }\n    }\n    ","\n    ","\n"]);return Qz=function(){return e},e}function Yz(){var e=Kz(["\nquery getMeetingParticipants($termClassId: Int!, $meetingId: Int!) {\n  termClass(dbId: $termClassId) {\n    meeting(dbId: $meetingId) {\n      participants {\n        dbId\n        firstName\n        lastName\n        roles\n      }\n    }\n  }\n}\n"]);return Yz=function(){return e},e}function Hz(){var e=Kz(["\n    fragment Meeting on TermClassMeeting {\n        dbId\n        title\n        media {\n            ...MediaFull\n        }\n        owner {\n            dbId\n            firstName\n            lastName\n            roles\n        }\n        scheduledAt\n        lobbyPageUrl\n        status\n        anonymousInvitationUrl\n        wholeClassAssigned\n        maxDuration\n        startRecordingAutomatically\n        recordingLinkEnabled\n        anonymousParticipantsAllowed\n        startedAt\n        finishedAt\n        downloadUrl\n        #externalLinkIdentifier #TODO: Uncomment when GQL supports this\n        ownedBy {\n            # TermClass\n            dbId\n        }\n        cohorts { \n            # [TermClass]\n            dbId\n            name\n        }\n    }\n    ","\n"]);return Hz=function(){return e},e}function zz(){var e=Kz(["\nmutation deleteMeeting($input: DeleteRecordedTermClassMeetingInput!) {\n deleteRecordedTermClassMeeting(input: $input){\n   removedId\n }\n}\n"]);return zz=function(){return e},e}function Kz(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Xz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jz=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getMeetingsAndUsers",value:function(e){return xe.a.query({query:tK,variables:{dbId:e}}).then((function(e){return Promise.resolve(e.data.termClass)}))}},{key:"getMeetingParticipants",value:function(e,t){return xe.a.query({query:eK,variables:{termClassId:e,meetingId:t}}).then((function(e){return Promise.resolve(e.data.termClass.meeting.participants)}))}},{key:"syncRoster",value:function(e){return xe.a.mutate({mutation:rK,variables:{input:{dbId:e}}}).then((function(e){var t=[];e.errors&&e.errors.length&&(t=O.a.concat(t,e.errors)),e.data.syncRosterForTermClass.errors&&e.data.syncRosterForTermClass.errors.length&&(t=O.a.concat(t,e.data.syncRosterForTermClass.errors));var n=O.a.get(e,"data.syncRosterForTermClass.termClass");if(n){var r=O.a.get(e,"data.syncRosterForTermClass.unmappedRoleUsersCount");return Promise.resolve({termClass:n,unmappedRoleUsersCount:r,errors:t})}return Promise.reject(t)}))}},{key:"cancelMeeting",value:function(e){return xe.a.mutate({mutation:nK,variables:{input:{dbId:e}}}).then((function(e){if(e.errors&&e.errors.length)return Promise.reject(e.errors);var t=e.data.cancelTermClassMeeting.errors;return t&&t.length?Promise.reject(t):Promise.resolve(e.data.cancelTermClassMeeting.meeting)}))}},{key:"changeMeetingParticipants",value:function(e,t){return xe.a.mutate({mutation:aK,variables:{input:{dbId:e,meeting:{participants:t}}}}).then((function(e){if(e.errors&&e.errors.length)return Promise.reject(e.errors);var t=e.data.manageParticipantsForTermClassMeeting.errors;return t&&t.length?Promise.reject(t):Promise.resolve(e.data.manageParticipantsForTermClassMeeting.meeting)}))}},{key:"setMeetingCohorts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return xe.a.mutate({mutation:oK,variables:{input:{dbId:e,d2lCoursesToCohort:t}}}).then((function(e){try{return Promise.resolve(e.data.editCohortingForTermClassMeeting.meeting)}catch(n){if(e.errors&&e.errors.length)return Promise.reject(e.errors);var t=e.data.editCohortingForTermClassMeeting.errors;if(t&&t.length)return Promise.reject(t)}}))}}],(n=null)&&Xz(t.prototype,n),r&&Xz(t,r),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Jz,"deleteMeeting",(function(e,t){return new Promise((function(n,r){xe.a.mutate({mutation:Zz,variables:{input:{dbId:e,termClassDbId:t}}}).then((function(e){if(e&&e.data){var t=e.data.deleteRecordedTermClassMeeting.removedId;n(t)}else r(e)})).catch((function(e){r(e)}))}))}));var Zz=Ue()(zz()),$z=Ue()(Hz(),fn.d),eK=Ue()(Yz()),tK=Ue()(Qz(),Vz.a,$z),nK=Ue()(Wz()),rK=Ue()(Bz()),aK=Ue()(qz(),$z),oK=Ue()(Gz(),$z),iK=n("BJep"),cK=n("Goub");n("rchA");function sK(e){return(sK="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lK(e,t){return!t||"object"!==sK(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dK(e){return(dK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fK(e,t){return(fK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pK=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lK(this,dK(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fK(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.user,n=e.onClick,r=e.showAvatar,a=t.firstName+" "+t.lastName;return o.a.createElement(pv.a,{onClick:function(){n(t)},primaryText:a,className:"list-item-user",leftAvatar:r?o.a.createElement(wa.a,{value:a}):null})}}])&&uK(n.prototype,r),a&&uK(n,a),t}(a.Component),mK=n("T0hT");n("djeZ");function bK(e){return(bK="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vK(e){return(vK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hK(e,t){return(hK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wK="c-meeting-invite-dialog__invite-section",OK="c-meeting-invite-dialog__invite-sections-holder",SK=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=vK(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==bK(a)&&"function"!==typeof a?gK(r):a,EK(gK(gK(n)),"getParticipantsListComponent",(function(e){var t=n.props,r=t.i18n,a=t.students,i=t.educators,c=t.addParticipant,s=t.removeParticipant,u=t.allowEducators,l=t.participants;a=a.filter((function(e){return-1===O.a.findIndex(l,{dbId:e.dbId})})),i=i.filter((function(e){return-1===O.a.findIndex(l,{dbId:e.dbId})}));var d=l.filter((function(e){return Wr.g(e)})),f=l.filter((function(e){return Wr.c(e)}));return o.a.createElement("div",{className:OK},o.a.createElement("div",{className:wK},o.a.createElement("h5",null,o.a.createElement(U.Trans,{id:"Available"})),o.a.createElement(iK.a,null,o.a.createElement(cK.a,{primaryText:u?r._("Learners"):r._("All")}),a.map((function(t){return o.a.createElement(pK,{user:t,showAvatar:!e,key:t.dbId,onClick:c})})),u&&o.a.createElement(cK.a,{primaryText:r._("Educators")}),u&&i.map((function(t){return o.a.createElement(pK,{user:t,showAvatar:!e,key:t.dbId,onClick:c})})))),o.a.createElement("div",{className:wK},o.a.createElement("h5",null,o.a.createElement(U.Trans,{id:"Invited"})),o.a.createElement(iK.a,null,o.a.createElement(cK.a,{primaryText:u?r._("Learners"):r._("All")}),d.map((function(t){return o.a.createElement(pK,{key:t.dbId,showAvatar:!e,user:t,onClick:s})})),u&&o.a.createElement(cK.a,{primaryText:r._("Educators")}),u&&f.map((function(t){return o.a.createElement(pK,{key:t.dbId,showAvatar:!e,user:t,onClick:s})})))))})),EK(gK(gK(n)),"renderUnsyncedUsersMessage",(function(){var e=n.props,t=e.i18n,r=e.unsyncedUsersCount;if(!r)return null;var a=t._({id:"{unsyncedUsersCount, plural, one {{unsyncedUsersCount} user was not synchronized because they are assigned an unsupported role.} other {{unsyncedUsersCount} users were not synchronized because they are assigned an unsupported role.}}",values:{unsyncedUsersCount:r}});return o.a.createElement(Dc.b,{className:"meeting-invite-sync-warning-message",type:Dc.a.WARNING,message:a,contentInheritsStatusColor:!0})})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hK(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isLoading,r=e.onSave,a=e.showSyncRoster,i=e.onSyncRoster,c=e.onCancel,s=e.rosterIsLoading,u=e.hasSyncRosterError,l=e.errors,d=e.participantsIsLoading,f=e.syncRosterErrors,p=O.a.compact([a&&o.a.createElement(we.b,{id:"button-meeting-invite-dialog-sync",key:"sync-roster",isLoading:s,enabled:!s&&!n,primary:!0,ariaLabel:t._("Sync Roster"),onClick:i},o.a.createElement(U.Trans,{id:"Sync Roster"})),o.a.createElement(we.b,{id:"button-meeting-invite-dialog-save",key:"save",isLoading:n,enabled:!s&&!n,primary:!0,ariaLabel:t._("Confirm"),onClick:r},o.a.createElement(U.Trans,{id:"Save"}))]),m=t._("Manage Meeting Invites"),b=d?[]:p;return o.a.createElement(V.a,{id:"meeting-invite-settings",title:m,dialogClassName:E()("c-meeting-invite-dialog"),onHide:c,footerActions:b},!d&&o.a.createElement(o.a.Fragment,null,u&&0===f.length&&o.a.createElement("p",{className:"u-error"},t._("Error of roster sync. Please try again.")),u&&0!==f.length&&o.a.createElement("ul",null,f.map((function(e){return o.a.createElement("li",{key:e,className:"u-error"},e)}))),o.a.createElement("ul",null,l.map((function(e){return o.a.createElement("li",{key:e,className:"u-error"},e)}))),o.a.createElement(F.a,{query:"(max-width: 550px)"},this.getParticipantsListComponent(!0)),o.a.createElement(F.a,{query:"(min-width: 551px)"},this.getParticipantsListComponent(!1)),this.renderUnsyncedUsersMessage()),d&&o.a.createElement(mK.a,{id:"meeting-participants-loader"}))}}])&&yK(n.prototype,r),a&&yK(n,a),t}(a.Component),CK=Object(U.withI18n)()(SK);function _K(e){return(_K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IK(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function TK(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function RK(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){TK(o,r,a,i,c,"next",e)}function c(e){TK(o,r,a,i,c,"throw",e)}i(void 0)}))}}function PK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AK(e){return(AK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NK(e,t){return(NK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DK=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=AK(t).call(this,e),n=!a||"object"!==_K(a)&&"function"!==typeof a?jK(r):a,kK(jK(jK(n)),"loadParticipants",RK(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({participantsIsLoading:!0}),e.next=4,Jz.getMeetingParticipants(n.props.classId,n.props.meetingId);case 4:t=e.sent,n.setState({participants:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l.b.error(e.t0);case 11:return e.prev=11,n.setState({participantsIsLoading:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,8,11,14]])})))),kK(jK(jK(n)),"addParticipant",(function(e){var t=[].concat(IK(n.state.participants),[e]);n.setState({participants:t})})),kK(jK(jK(n)),"removeParticipant",(function(e){var t=n.state.participants.filter((function(t){return t.dbId!==e.dbId}));n.setState({participants:t})})),kK(jK(jK(n)),"onSave",(function(){n.props.onSave(n.state.participants.map((function(e){return e.dbId})))})),n.state={participants:[],participantsIsLoading:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NK(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.loadParticipants().catch()}},{key:"render",value:function(){var e=this.props,t=e.students,n=e.educators,r=e.allowEducators,a=e.showSyncRoster,i=e.onSyncRoster,c=e.isLoading,s=e.onCancel,u=e.rosterIsLoading,l=e.hasSyncRosterError,d=e.errors,f=e.syncRosterErrors,p=e.unsyncedUsersCount,m=this.state,b=m.participants,y=m.participantsIsLoading;return o.a.createElement(CK,{onSave:this.onSave,participantsIsLoading:y,addParticipant:this.addParticipant,removeParticipant:this.removeParticipant,onCancel:s,onSyncRoster:i,isLoading:c,rosterIsLoading:u,showSyncRoster:a,hasSyncRosterError:l,errors:d,students:t,educators:n,syncRosterErrors:f,unsyncedUsersCount:p,allowEducators:r,participants:b})}}])&&PK(n.prototype,r),a&&PK(n,a),t}(a.Component);DK.defaultProps={participants:[]},DK.propTypes={participants:c.a.array};var LK=DK;n("aFXm");function MK(e){return(MK="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){qK(e,t,n[t])}))}return e}function FK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UK(e){return(UK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VK(e,t){return(VK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BK=["name","code"],WK="COHORT_COMPLETE",QK="COHORT_PENDING_ADD",YK="COHORT_PENDING_REMOVE",HK="COHORT_NONE",zK={courses:[],isDirty:!1},KK=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=UK(t).call(this,e),n=!a||"object"!==MK(a)&&"function"!==typeof a?GK(r):a,qK(GK(GK(n)),"processProps",(function(e){var t=O.a.orderBy(e.cohortableD2lCourses,BK);return{courses:t=O.a.map(t,(function(t){return n.isCourseCohorted(e.meeting.cohorts,t)?xK({},t,{status:WK}):xK({},t,{status:HK})}))}})),qK(GK(GK(n)),"isCourseCohorted",(function(e,t){return O.a.findIndex(e,(function(e){return e.dbId===t.termClassDbId}))>=0})),qK(GK(GK(n)),"addCourse",(function(e){var t=n.props.meeting,r=n.state.courses,a=QK;n.isCourseCohorted(t.cohorts,e)&&(a=WK);var o=xK({},e,{status:a}),i=n.replaceCourse(r,e,o);n.setState({courses:i,isDirty:!0})})),qK(GK(GK(n)),"removeCourse",(function(e){var t=n.props.meeting,r=n.state.courses,a=YK;n.isCourseCohorted(t.cohorts,e)||(a=HK);var o=xK({},e,{status:a}),i=n.replaceCourse(r,e,o);n.setState({courses:i,isDirty:!0})})),qK(GK(GK(n)),"replaceCourse",(function(e,t,n){return O.a.map(e,(function(e){return e===t?n:e}))})),qK(GK(GK(n)),"getStatusLabel",(function(e){var t=n.props.i18n;switch(e){case WK:return t._("Invited");case QK:return t._("Pending Invite");case YK:return t._("Pending Uninvite");case HK:default:return t._("Not Invited")}})),qK(GK(GK(n)),"getStatusAction",(function(e){var t=n.props,r=t.i18n,a=t.isLoading;switch(e.status){case WK:case QK:return o.a.createElement(we.d,{id:"button-cohort-uninvite-course",ariaLabel:r._("Uninvite entire course, icon"),className:E()("meeting-cohort-action-icon","meeting-cohort-action-icon--remove"),enabled:!a,onClick:function(){n.removeCourse(e)},tooltip:{label:r._("Uninvite entire course")}},re.a.REMOVE);case YK:case HK:default:return o.a.createElement(we.d,{id:"button-cohort-invite-course",ariaLabel:r._("Invite entire course, icon"),className:E()("meeting-cohort-action-icon","meeting-cohort-action-icon--add"),enabled:!a,onClick:function(){n.addCourse(e)},tooltip:{label:r._("Invite entire course")}},re.a.ADD)}})),qK(GK(GK(n)),"actionsRenderer",(function(e){return o.a.createElement("div",{className:"meeting-cohort-actions-container"},n.getStatusAction(e))})),qK(GK(GK(n)),"statusRenderer",(function(e){var t=e.status;return o.a.createElement("div",{className:"meeting-cohort-status-container"},n.getStatusLabel(t))})),qK(GK(GK(n)),"onSave",(function(){var e=n.props,t=e.meeting,r=e.onSave,a=n.state.courses,o=O.a.map(a,(function(e){switch(e.status){case WK:case QK:return e;case YK:case HK:default:return null}}));r(t,o=O.a.compact(o))})),qK(GK(GK(n)),"onCancel",(function(){(0,n.props.onCancel)()})),qK(GK(GK(n)),"getMeetingInfo",(function(){var e=n.props.meeting,t=e.title,r=e.scheduledAt;return o.a.createElement("div",{className:"meeting-cohort-info-container"},o.a.createElement("h3",{className:"meeting-cohort-title"},t),o.a.createElement("p",null,o.a.createElement(oa.b,{unixTime:r})))})),qK(GK(GK(n)),"getMessage",(function(){var e=n.props.i18n,t=n.state.courses,r=null,a=!1;return t&&t.length>0?r=e._("Courses available for inviting are listed below. It is not recommended to exceed 150 participants for a single meeting."):(r=e._("There are no courses available to invite."),a=!0),o.a.createElement("div",{className:E()("meeting-cohort-message-container",{"meeting-cohort-message-container--centered":a})},o.a.createElement(Dc.b,{className:"meeting-cohort-message",type:Dc.a.INFO,message:r,contentInheritsStatusColor:!1}))})),qK(GK(GK(n)),"getErrors",(function(){var e=n.props.errors;if(e&&e.length>0)return o.a.createElement("div",{className:"meeting-cohort-errors-container"},O.a.map(e,(function(e,t){return o.a.createElement(Dc.b,{key:"meeting-cohort-error["+t+"]",className:"meeting-cohort-error-message",type:Dc.a.ERROR,message:e,contentInheritsStatusColor:!0})})))})),qK(GK(GK(n)),"getCourses",(function(){var e=n.props.i18n,t=n.state.courses;if(t&&t.length>0)return o.a.createElement("div",{className:"meeting-cohort-table-container"},o.a.createElement(ku.b,{className:"meeting-cohort-table",columns:n.getColumns(),listAccessor:"name",hasMobileListView:!1,data:t,tableSummary:e._("Inside a table, a list of courses, ready to be invited"),defaultSort:{accessor:BK,direction:"asc"},fallbackSort:{accessor:"lmsCode",direction:"asc"}}))})),n.state=xK({},zK,n.processProps(e)),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VK(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.isDirty||this.setState(this.processProps(e))}},{key:"getColumns",value:function(){var e=this.props.i18n;return[{key:"actions",sortable:!1,headerClassName:E()("meeting-cohort-column-header","meeting-cohort-column-header--centered"),className:E()("meeting-cohort-column","meeting-cohort-column--centered"),renderer:this.actionsRenderer},{label:e._("Name"),sortable:!0,accessor:BK,grow:!0,headerClassName:E()("meeting-cohort-column-header"),className:E()("meeting-cohort-column"),renderer:function(e){return o.a.createElement("span",null,e.name)}},{label:e._("Course Code"),sortable:!0,accessor:"code",headerClassName:E()("meeting-cohort-column-header"),className:E()("meeting-cohort-column"),renderer:function(e){return o.a.createElement("span",null,e.code)}},{label:e._("Status"),sortable:!1,accessor:"status",headerClassName:E()("meeting-cohort-column-header","meeting-cohort-column-header--centered"),className:E()("meeting-cohort-column","meeting-cohort-column--centered"),renderer:this.statusRenderer}]}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isLoading,r=this.state,a=r.courses,i=r.isDirty,c=a&&a.length>0,s=O.a.compact([o.a.createElement(we.b,{id:"button-meeting-cohort-dialog-cancel",key:"cancel",enabled:!n,secondary:!0,ariaLabel:t._("Cancel"),onClick:this.onCancel},t._("Cancel")),o.a.createElement(we.b,{id:"button-meeting-cohort-dialog-apply",key:"apply",isLoading:n,enabled:!n&&i,primary:!0,ariaLabel:t._("Apply"),onClick:this.onSave},t._("Apply"))]);return o.a.createElement(mb.a,{actions:s,id:"meeting-cohort-settings",title:t._("Manage Meeting Cohorts"),dialogClassName:E()("meeting-cohort-dialog",{"meeting-cohort-dialog--empty":!c}),modal:!0,visible:!0},this.getMeetingInfo(),this.getMessage(),this.getCourses(),this.getErrors())}}])&&FK(n.prototype,r),a&&FK(n,a),t}(a.Component);KK.propTypes={i18n:c.a.any.isRequired,cohortableD2lCourses:c.a.array.isRequired,errors:c.a.array,isLoading:c.a.bool,meeting:c.a.any.isRequired,onSave:c.a.func.isRequired,onCancel:c.a.func.isRequired},KK.defaultProps={isLoading:!1,errors:[]};var XK=Object(U.withI18n)()(KK),JK={TITLE:"title",DATE:"date",TIME:"time",NOW:"now",MAX_DURATION:"maxDuration",START_RECORDING_AUTO:"startRecordingAutomatically",AUTO_LINK_RECORDING:"automaticLinkToRecording",ALLOW_EXTERNAL:"allowExternalParticipants",WHOLE_CLASS:"wholeClass",RECURRING:"recurring"},ZK={CREATE:"create",EDIT:"edit"};n("UPJx");function $K(e){return($K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tX(e){return(tX=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nX(e,t){return(nX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rX(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var aX=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=tX(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==$K(a)&&"function"!==typeof a?rX(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(rX(rX(n)),"getRecurringChoices",(function(){for(var e=n.props.i18n,t=[{value:0,label:e._("Does not repeat")}],r=2;r<=15;r++)t.push({value:r,label:e._("{i} weeks",{i:r})});return t})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nX(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onChange,r=e.serverErrors,a=e.isLoading,i=e.configuration,c=e.meeting,s=c.title,u=c.date,l=c.time,d=c.maxDuration,f=c.startRecordingAutomatically,p=c.automaticLinkToRecording,m=c.allowExternalParticipants,b=c.wholeClass,y=c.recurring,v=c.now,h=O.a.get(i,"infoMessage"),g=O.a.get(i,"advanced.visible"),E=O.a.get(i,"advanced.duration.options"),w=O.a.get(i,"advanced.duration.tooltipLabel"),S=O.a.get(i,"advanced.recurring.visible"),C=O.a.get(i,"showWholeClassOption"),_=O.a.get(i,"wholeClassOptionTooltip"),I=t._("Meeting Date"),T=t._("Meeting Time");return v.value||(I=o.a.createElement(o.a.Fragment,null,I," ",o.a.createElement(aN,null)),T=o.a.createElement(o.a.Fragment,null,T," ",o.a.createElement(aN,null))),o.a.createElement("div",{className:"meeting-config-form-content-container"},o.a.createElement("ul",null,r.map((function(e){return o.a.createElement("li",{key:e,className:"u-error"},e)}))),o.a.createElement(Sa.i,{id:"meeting-title",ariaLabel:t._("Title"),label:o.a.createElement(o.a.Fragment,null,t._("Title"),o.a.createElement(aN,null)),className:"meeting-config-input-item",onChange:function(e){n(e,JK.TITLE)},value:s.value,enabled:!a&&!s.disabled,errorText:s.errorMessage}),o.a.createElement(Sa.b,{id:"meeting-date-input",className:"meeting-config-input-item",label:I,onChange:function(e,t){n(t,JK.DATE)},value:u.value,enabled:!a&&!u.disabled,errorText:u.errorMessage,textFieldStyle:{width:"100%"},showIcon:!1,inDialog:!0}),o.a.createElement(Sa.k,{id:"meeting-time-input",className:"meeting-config-input-item",label:T,onChange:function(e,t){n(t,JK.TIME)},value:l.value,enabled:!a&&!l.disabled,errorText:l.errorMessage,textFieldStyle:{width:"100%"},showIcon:!1,inDialog:!0}),o.a.createElement("div",{id:"checkbox-meeting-form-now"},o.a.createElement(Sa.a,{id:"time-now",name:"time-now",label:t._("Now"),ariaLabel:t._("Now"),onChange:function(e){n(e,JK.NOW)},checked:v.value,enabled:!a&&!v.disabled})),g&&o.a.createElement("div",null,o.a.createElement(Sa.e,{id:"max-duration",label:t._("Max duration"),ariaLabel:t._("Max duration"),onChange:function(e){n(e,JK.MAX_DURATION)},value:d.value,enabled:!a&&!d.disabled,menuItems:E,tooltip:{label:w,position:Ng.a.BOTTOM,className:"meeting-duration-select-field"}}),o.a.createElement("div",null,S&&b.value&&o.a.createElement(Sa.e,{id:"recurring",className:"meeting-config-form-recurring",label:t._("Repeat weekly for:"),ariaLabel:t._("Repeat weekly for:"),onChange:function(e){n(e,JK.RECURRING)},value:y.value,enabled:!a&&!y.disabled,menuItems:this.getRecurringChoices()})),o.a.createElement("div",{className:"meeting-config-form-selection-options-container"},o.a.createElement("div",{id:"checkbox-meeting-form-auto-record"},o.a.createElement(Sa.a,{id:"record-automatically",name:"record-automatically",ariaLabel:t._("Automatically record meeting"),label:t._("Automatically record meeting"),checked:f.value,enabled:!a&&!f.disabled,tooltip:{label:t._("Recording will automatically begin when the meeting starts. The moderator can still start/stop recording during the meeting.")},onChange:function(e){n(e,JK.START_RECORDING_AUTO)}})),o.a.createElement("div",{id:"checkbox-meeting-form-auto-link-recording"},o.a.createElement(Sa.a,{id:"automatic-link-to-recording",name:"automatic-link-to-recording",ariaLabel:t._("Publish recorded meeting"),label:t._("Publish recorded meeting"),enabled:!a&&!p.disabled,checked:p.value,tooltip:{label:t._("If the meeting is recorded, all participants will have access to the published recording (You will have access to the recording regardless of this setting).")},onChange:function(e){n(e,JK.AUTO_LINK_RECORDING)}})),o.a.createElement("div",{id:"checkbox-meeting-form-allow-external"},o.a.createElement(Sa.a,{id:"allow-external-participants",name:"allow-external-participants",label:t._("Allow external participants"),ariaLabel:t._("Allow external participants"),tooltip:{label:t._("This will generate an invite link that you can provide to external participants.")},onChange:function(e){n(e,JK.ALLOW_EXTERNAL)},checked:m.value,enabled:!a&&!m.disabled})))),C&&o.a.createElement("div",{id:"checkbox-meeting-form-whole-class"},o.a.createElement(Sa.a,{id:"whole-class",name:"whole-class",label:t._("Invite entire class"),ariaLabel:t._("Invite entire class"),tooltip:_||{label:t._("This will invite all class members to this meeting.")},onChange:function(e){n(e,JK.WHOLE_CLASS)},checked:b.value,enabled:!a&&!b.disabled})),o.a.createElement(Dc.b,{className:"meeting-config-form-message",type:Dc.a.INFO,message:h,contentInheritsStatusColor:!0}))}}])&&eX(n.prototype,r),a&&eX(n,a),t}(o.a.PureComponent);aX.defaultProps={isLoading:!0,meeting:{},onChange:function(){},serverErrors:[]},aX.propTypes={isLoading:c.a.bool,meeting:c.a.object,onChange:c.a.func,configuration:c.a.shape({advanced:c.a.shape({visible:c.a.bool,duration:c.a.shape({options:c.a.array,tooltipLabel:c.a.string})}),infoMessage:c.a.string,showWholeClassOption:c.a.bool}).isRequired,serverErrors:c.a.array};var oX=Object(U.withI18n)()(aX);function iX(e){return(iX="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fX(e,t,n[t])}))}return e}function sX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uX(e){return(uX=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lX(e,t){return(lX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dX(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pX={meeting:{title:{value:"",disabled:!1,errorMessage:null},date:{value:null,disabled:!1,errorMessage:null},time:{value:null,disabled:!1,errorMessage:null},now:{value:!1,disabled:!1},maxDuration:{value:60,disabled:!1},startRecordingAutomatically:{value:!1,disabled:!1},automaticLinkToRecording:{value:!1,disabled:!1},allowExternalParticipants:{value:!1,disabled:!1},wholeClass:{value:!0,disabled:!1},recurring:{value:0,disabled:!1},directLinkId:{value:null}}},mX=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=uX(t).call(this,e),n=!a||"object"!==iX(a)&&"function"!==typeof a?dX(r):a,fX(dX(dX(n)),"onInputChange",(function(e,t){t===JK.NOW?n.onNowChange(e):n.updatePropertyValue(t,e)})),fX(dX(dX(n)),"onNowChange",(function(e){var t=n.state.meeting,r=t.now,a=t.date,o=t.time;a.disabled=e,o.disabled=e,r.value=e,n.setState({meeting:cX({},t,{now:r,date:a,time:o})},n.onChange)})),fX(dX(dX(n)),"updatePropertyValue",(function(e,t){var r=n.state.meeting,a=r[e],o={meeting:cX({},r)};o.meeting[e]=cX({},a,{value:t}),n.setState(o,n.onChange)})),fX(dX(dX(n)),"onChange",(function(){var e=null,t=n.state.meeting;t.date.value&&t.time.value&&(e=+((e=Object(Pf.b)(t.date.value,t.time.value).getTime())/1e3).toFixed(0));var r=n.validate(),a={isValid:r.valid,invalidMessage:r.invalidMessage,data:{title:t.title.value,date:t.date.value,time:t.time.value,scheduledAt:e,now:t.now.value,customMaxDuration:t.maxDuration.value,startRecordingAutomatically:t.startRecordingAutomatically.value,recordingLinkEnabled:t.automaticLinkToRecording.value,anonymousParticipantsAllowed:t.allowExternalParticipants.value,wholeClassAssigned:t.wholeClass.value,recurring:t.recurring.value,externalLinkIdentifier:t.directLinkId.value}};n.props.onChange(a)})),n.state=n.mapPropsToState(e),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lX(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.onChange()}},{key:"mapPropsToState",value:function(e){var t=e.configuration,n=O.a.merge({},pX),r=O.a.get(t,"advanced.visible");if(!e.meeting)return r&&(n.meeting.automaticLinkToRecording.value=!0),n;var a=e.meeting,o=a.title,i=a.scheduledAt,c=a.wholeClassAssigned,s=a.maxDuration,u=a.startRecordingAutomatically,l=a.recordingLinkEnabled,d=a.anonymousParticipantsAllowed,f=a.externalLinkIdentifier;if(o&&(n.meeting.title.value=o),i){var p=new Date(1e3*i);n.meeting.date.value=p,n.meeting.time.value=p}return O.a.isBoolean(c)&&(n.meeting.wholeClass.value=c,n.meeting.wholeClass.disabled=!0),O.a.isNumber(s)&&(n.meeting.maxDuration.value=s),O.a.isBoolean(u)&&(n.meeting.startRecordingAutomatically.value=u),O.a.isBoolean(l)&&(n.meeting.automaticLinkToRecording.value=l),O.a.isBoolean(d)&&(n.meeting.allowExternalParticipants.value=d),n.meeting.directLinkId.value=f,n}},{key:"getStateWithoutErrors",value:function(){var e=O.a.merge({},this.state);return e.meeting.title.errorMessage=null,e.meeting.date.errorMessage=null,e.meeting.time.errorMessage=null,e}},{key:"validate",value:function(){var e=this.props.i18n._("All required fields must be completed and valid before saving"),t=this.getStateWithoutErrors(),n="",r=!0;return t.meeting.title.value||(r=!1,n=e),this.state.meeting.now.value||t.meeting.date.value||(r=!1,n=e),this.state.meeting.now.value||t.meeting.time.value||(r=!1,n=e),{valid:r,invalidMessage:n}}},{key:"render",value:function(){var e=this.state.meeting,t=this.props,n=t.serverErrors,r=t.isLoading,a=t.configuration;return o.a.createElement(oX,{configuration:a,meeting:e,isLoading:r,serverErrors:n,onChange:this.onInputChange})}}])&&sX(n.prototype,r),a&&sX(n,a),t}(o.a.PureComponent);mX.defaultProps={isEditView:!1,isLoading:!0,meeting:null,onChange:function(){},serverErrors:[]},mX.propTypes={isLoading:c.a.bool,meeting:c.a.object,configuration:c.a.shape({advanced:c.a.shape({visible:c.a.bool,duration:c.a.shape({options:c.a.array,tooltipLabel:c.a.string})}),infoMessage:c.a.string,showWholeClassOption:c.a.bool,wholeClassOptionTooltip:c.a.any}).isRequired,serverErrors:c.a.array};var bX=Object(U.withI18n)()(mX);function yX(e){return(yX="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hX(e){return(hX=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gX(e,t){return(gX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function EX(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OX=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=hX(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==yX(a)&&"function"!==typeof a?EX(r):a,wX(EX(EX(n)),"state",{valid:!1,invalidMessage:""}),wX(EX(EX(n)),"onChange",(function(e){var t=n.props.onChange;n.setState({valid:e.isValid,invalidMessage:e.invalidMessage}),t(e)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gX(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.configuration,r=e.isLoading,a=e.meeting,i=e.onSave,c=e.onHide,s=e.serverErrors,u=e.title,l=this.state,d=l.valid,f=l.invalidMessage,p=[o.a.createElement(we.h,{id:"button-meeting-dialog-save",key:"button-meeting-dialog-save",tooltip:{label:f},enabled:!r&&d,isLoading:r,primary:!0,onClick:i},t._("Save"))];return o.a.createElement(V.a,{id:"meeting-schedule",title:u,dialogClassName:"meeting-dialog",onHide:c,footerActions:p},o.a.createElement(bX,{configuration:n,isLoading:r,meeting:a,onChange:this.onChange,serverErrors:s}))}}])&&vX(n.prototype,r),a&&vX(n,a),t}(o.a.PureComponent);OX.defaultProps={isLoading:!1,meeting:null,serverErrors:[]},OX.propTypes={configuration:c.a.object.isRequired,isLoading:c.a.bool,meeting:c.a.object,onHide:c.a.func.isRequired,onChange:c.a.func.isRequired,onSave:c.a.func.isRequired,serverErrors:c.a.array,title:c.a.string.isRequired};var SX=Object(U.withI18n)()(OX);function CX(){var e=PX(["\n  mutation editTermClassMeetingD2L($input: EditTermClassMeetingD2LInput!) {\n    editTermClassMeetingD2L(input: $input) {\n      meeting {\n        ...Meeting\n      }\n      errors {\n        path\n        message\n      }\n    }\n  }\n  ","\n"]);return CX=function(){return e},e}function _X(){var e=PX(["\n  mutation editTermClassMeeting($input: EditTermClassMeetingInput!) {\n    editTermClassMeeting(input: $input) {\n      meeting {\n        ...Meeting\n      }\n      errors {\n        path\n        message\n      }\n    }\n  }\n  ","\n"]);return _X=function(){return e},e}function IX(){var e=PX(["\n  mutation createTermClassMeetingD2L($input: CreateTermClassMeetingD2LInput!) {\n    createTermClassMeetingD2L(input: $input) {\n      meeting {\n        ...Meeting\n      }\n      recurringMeetings {\n        ...Meeting\n      }\n      errors {\n        path\n        message\n      }\n    }\n  }\n  ","\n"]);return IX=function(){return e},e}function TX(){var e=PX(["\n  mutation createTermClassMeeting($input: CreateTermClassMeetingInput!) {\n    createTermClassMeeting(input: $input) {\n      meeting {\n        ...Meeting\n      }\n      errors {\n        path\n        message\n      }\n    }\n  }\n  ","\n"]);return TX=function(){return e},e}function RX(){var e=PX(["\n  fragment Meeting on TermClassMeeting {\n    dbId\n    title\n    media {\n      ...MediaFull\n    }\n    owner {\n      dbId\n      firstName\n      lastName\n      roles\n    }\n    scheduledAt\n    lobbyPageUrl\n    status\n    anonymousInvitationUrl\n    wholeClassAssigned\n    maxDuration\n    startRecordingAutomatically\n    recordingLinkEnabled\n    anonymousParticipantsAllowed\n    startedAt\n    finishedAt\n    downloadUrl\n    #externalLinkIdentifier #TODO: Uncomment when GQL supports this\n    ownedBy {\n      # TermClass\n      dbId\n    }\n    cohorts {\n      # [TermClass]\n      dbId\n      name\n    }\n  }\n  ","\n"]);return RX=function(){return e},e}function PX(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function AX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var NX=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"createMeeting",value:function(e,t){return xe.a.mutate({mutation:kX,variables:{input:{termClassDbId:e,meeting:t}}}).then((function(e){if(e.errors&&e.errors.length)return Promise.reject(e.errors);var t=e.data.createTermClassMeeting.errors;return t&&t.length?Promise.reject(t):Promise.resolve(e.data.createTermClassMeeting.meeting)}))}},{key:"createAdvancedMeeting",value:function(e,t){return xe.a.mutate({mutation:DX,variables:{input:{termClassDbId:e,meeting:t}}}).then((function(e){if(e.errors&&e.errors.length)return Promise.reject(e.errors);var t=e.data.createTermClassMeetingD2L.errors;return t&&t.length?Promise.reject(t):Promise.resolve({meeting:e.data.createTermClassMeetingD2L.meeting,recurringMeetings:e.data.createTermClassMeetingD2L.recurringMeetings})}))}},{key:"editMeeting",value:function(e,t){var n=t.scheduledAt,r=t.title,a=t.now;return xe.a.mutate({mutation:LX,variables:{input:{dbId:e,meeting:{scheduledAt:n,title:r,now:a}}}}).then((function(e){if(e.errors&&e.errors.length)return Promise.reject(e.errors);var t=e.data.editTermClassMeeting.errors;return t&&t.length?Promise.reject(t):Promise.resolve(e.data.editTermClassMeeting.meeting)}))}},{key:"editAdvancedMeeting",value:function(e,t){var n=t.scheduledAt,r=t.title,a=t.now,o=t.customMaxDuration,i=t.startRecordingAutomatically,c=t.recordingLinkEnabled,s=t.anonymousParticipantsAllowed;return xe.a.mutate({mutation:MX,variables:{input:{dbId:e,meeting:{scheduledAt:n,title:r,now:a,customMaxDuration:o,startRecordingAutomatically:i,recordingLinkEnabled:c,anonymousParticipantsAllowed:s}}}}).then((function(e){if(e.errors&&e.errors.length)return Promise.reject(e.errors);var t=e.data.editTermClassMeetingD2L.errors;return t&&t.length?Promise.reject(t):Promise.resolve(e.data.editTermClassMeetingD2L.meeting)}))}}],(n=null)&&AX(t.prototype,n),r&&AX(t,r),e}(),jX=Ue()(RX(),fn.d),kX=Ue()(TX(),jX),DX=Ue()(IX(),jX),LX=Ue()(_X(),jX),MX=Ue()(CX(),jX),xX={ACCESS_DENIED:"CaseStudyFoundationBundle.access_denied"};function FX(e){return(FX="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UX(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function VX(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){UX(o,r,a,i,c,"next",e)}function c(e){UX(o,r,a,i,c,"throw",e)}i(void 0)}))}}function GX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){YX(e,t,n[t])}))}return e}function qX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BX(e){return(BX=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WX(e,t){return(WX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QX(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HX=150,zX=50,KX=100,XX=[15,30,60,75,90,120,180,240],JX=60,ZX=90,$X=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=BX(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==FX(a)&&"function"!==typeof a?QX(r):a,YX(QX(QX(n)),"state",{isLoading:!1,serverErrors:[],mode:ZK.CREATE}),YX(QX(QX(n)),"onHide",(function(){dt.a.closeModal()})),YX(QX(QX(n)),"onChange",(function(e){n.formData=e})),YX(QX(QX(n)),"getBasicMeetingPayload",(function(){var e=n.state.wholeClassOptionAvailable,t=n.formData.data,r=t.scheduledAt,a=t.title,o=t.now,i=t.externalLinkIdentifier,c={scheduledAt:r,title:a,now:o};return e&&(c.wholeClassAssigned=n.formData.data.wholeClassAssigned),i&&(c.externalLinkIdentifier=i),c})),YX(QX(QX(n)),"getAdvancedMeetingPayload",(function(){var e=n.formData.data,t=e.customMaxDuration,r=e.startRecordingAutomatically,a=e.recordingLinkEnabled,o=e.anonymousParticipantsAllowed,i=e.wholeClassAssigned,c=e.recurring;return GX({},n.getBasicMeetingPayload(),{customMaxDuration:t,startRecordingAutomatically:r,recordingLinkEnabled:a,anonymousParticipantsAllowed:o,wholeClassAssigned:i,recurring:c})})),YX(QX(QX(n)),"onSave",(function(){var e=n.state.mode;switch(n.setState({serverErrors:[],isLoading:!0}),e){case ZK.CREATE:n.createMeeting();break;case ZK.EDIT:n.editMeeting();break;default:throw new Error("Unknown meeting mode")}})),YX(QX(QX(n)),"getServerErrors",(function(e){var t=n.props.i18n,r=[t._("Error during save of meeting")];try{r=Xv(e,xX.ACCESS_DENIED)?[t._("Something went wrong editing this meeting. This can occur if the meeting has already started.")]:O.a.values(zv(e))}catch(a){l.b.error(a)}return r})),YX(QX(QX(n)),"createMeeting",VX(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.onSuccess,a=t.termClass,o=n.state.isAdvanced,e.prev=2,!o){e.next=12;break}return e.next=6,NX.createAdvancedMeeting(a.dbId,n.getAdvancedMeetingPayload());case 6:i=e.sent,c=i.meeting,s=i.recurringMeetings,r(c,s),e.next=16;break;case 12:return e.next=14,NX.createMeeting(a.dbId,n.getBasicMeetingPayload());case 14:u=e.sent,r(u);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),n.setState({serverErrors:n.getServerErrors(e.t0),isLoading:!1});case 21:case"end":return e.stop()}}),e,this,[[2,18]])})))),YX(QX(QX(n)),"editMeeting",VX(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.isAdvanced,r=n.props,a=r.onSuccess,o=r.meeting.dbId,e.prev=2,!t){e.next=10;break}return e.next=6,NX.editAdvancedMeeting(o,n.getAdvancedMeetingPayload());case 6:i=e.sent,a(i),e.next=14;break;case 10:return e.next=12,NX.editMeeting(o,n.getBasicMeetingPayload());case 12:c=e.sent,a(c);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),n.setState({serverErrors:n.getServerErrors(e.t0),isLoading:!1});case 19:case"end":return e.stop()}}),e,this,[[2,16]])})))),YX(QX(QX(n)),"getDurationConfiguration",(function(){var e=n.props,t=e.i18n,r=e.isD2LFreemium,a=e.isD2LLegacyFreemium,o=Number.POSITIVE_INFINITY;r&&(o=JX),a&&(o=ZX);var i=XX.map((function(e){return{key:"meeting-duration-option[".concat(e,"]"),label:e,value:e,disabled:e>o}})),c="";return r&&(c=t._("Some meeting durations are only available in the Premium version")),{options:i,tooltipLabel:c}})),YX(QX(QX(n)),"getInfoMessage",(function(){var e=n.props,t=e.i18n,r=e.isD2L,a=e.isD2LPremium,o=e.isD2LLegacyFreemium;if(r){var i=a?HX:zX;return o&&(i=KX),t._("Please note that maximum possible amount of users in this meeting is {maximumUsersCount}",{maximumUsersCount:i})}return""})),YX(QX(QX(n)),"getMeetingConfiguration",(function(){var e=n.props.configuration,t=n.state,r=t.isAdvanced,a=t.mode,o=t.wholeClassOptionAvailable;return{advanced:{visible:r,duration:GX({},n.getDurationConfiguration()),recurring:{visible:a===ZK.CREATE}},infoMessage:n.getInfoMessage(),showWholeClassOption:o,wholeClassOptionTooltip:O.a.get(e,"wholeClassOptionTooltip")}})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WX(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.isD2L,r=e.isPlainLti;return{isAdvanced:n,wholeClassOptionAvailable:n||r,mode:O.a.get(e.meeting,"dbId",null)?ZK.EDIT:ZK.CREATE}}}],(r=[{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.mode,r=e.serverErrors,a=this.props,i=a.i18n,c=a.meeting;return o.a.createElement(SX,{configuration:this.getMeetingConfiguration(),isLoading:t,meeting:c,onHide:this.onHide,onChange:this.onChange,onSave:this.onSave,serverErrors:r,title:n===ZK.CREATE?i._("Schedule Meeting"):i._("Edit Meeting")})}}])&&qX(n.prototype,r),a&&qX(n,a),t}(o.a.PureComponent);$X.defaultProps={configuration:{},meeting:null,onSuccess:function(){}},$X.propTypes={configuration:c.a.shape({wholeClassOptionTooltip:c.a.any}),meeting:c.a.object,onSuccess:c.a.func};var eJ=Object(U.withI18n)()(Object(s.b)((function(e){return{isD2L:Ye.t(e),isD2LFreemium:Ye.u(e),isD2LPremium:Ye.w(e),isD2LLegacyFreemium:Ye.v(e),isPlainLti:Ye.y(e),termClass:Ye.m(e)}}))($X));function tJ(e){return(tJ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rJ(e,t){return!t||"object"!==tJ(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function aJ(e){return(aJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oJ(e,t){return(oJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var iJ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rJ(this,aJ(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oJ(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isLoading,r=e.onConfirm,a=e.errors,i=[o.a.createElement(we.b,{id:"button-meeting-cancel-dialog-no",key:"cancel-meeting-dialog-no",enabled:!n,secondary:!0,ariaLabel:t._("No"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"No"})),o.a.createElement(we.b,{id:"button-meeting-cancel-dialog-yes",key:"cancel-meeting-dialog-yes",isLoading:n,primary:!0,ariaLabel:t._("Yes, Cancel Meeting"),onClick:r},o.a.createElement(U.Trans,{id:"Yes, Cancel Meeting"}))];return o.a.createElement(mb.a,{actions:i,id:"meeting-cancel",title:t._("Confirm Meeting Cancel"),modal:!0,visible:!0},o.a.createElement("div",null,o.a.createElement("ul",null,a.map((function(e){return o.a.createElement("li",{key:e,className:"u-error"},e)}))),o.a.createElement("p",null,t._("Are you sure you want to cancel this meeting?"))))}}])&&nJ(n.prototype,r),a&&nJ(n,a),t}(a.Component),cJ=Object(U.withI18n)()(iJ);function sJ(e){return(sJ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uJ(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function lJ(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){uJ(o,r,a,i,c,"next",e)}function c(e){uJ(o,r,a,i,c,"throw",e)}i(void 0)}))}}function dJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fJ(e){return(fJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pJ(e,t){return(pJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mJ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yJ=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=fJ(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==sJ(a)&&"function"!==typeof a?mJ(r):a,bJ(mJ(mJ(n)),"state",{errors:[],isLoading:!1}),bJ(mJ(mJ(n)),"cancelMeeting",lJ(regeneratorRuntime.mark((function e(){var t,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.i18n,a=t.meeting,o=t.onSuccess,n.setState({errors:[],isLoading:!0}),e.prev=2,e.next=5,Jz.cancelMeeting(a.dbId);case 5:o(a),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),i=[];try{i=Xv(e.t0,xX.ACCESS_DENIED)?[r._("Something went wrong editing this meeting. This can occur if the meeting has already started.")]:O.a.values(zv(e.t0))}catch(c){i=[r._("Error during edit of meeting")]}n.setState({errors:i,isLoading:!1});case 13:case"end":return e.stop()}}),e,this,[[2,8]])})))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pJ(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.errors;return o.a.createElement(cJ,{isLoading:t,errors:n,onConfirm:this.cancelMeeting})}}])&&dJ(n.prototype,r),a&&dJ(n,a),t}(a.Component),vJ=Object(U.withI18n)()(yJ);function hJ(e){return(hJ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EJ(e,t){return!t||"object"!==hJ(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wJ(e){return(wJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OJ(e,t){return(OJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var SJ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),EJ(this,wJ(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OJ(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isLoading,r=e.onConfirm,a=e.errors,i=[o.a.createElement(we.b,{id:"button-meeting-delete-dialog-no",key:"delete-meeting-dialog-no",enabled:!n,secondary:!0,ariaLabel:t._("No"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"No"})),o.a.createElement(we.b,{id:"button-meeting-delete-dialog-yes",key:"delete-meeting-dialog-yes",isLoading:n,primary:!0,ariaLabel:t._("Delete"),onClick:r},o.a.createElement(U.Trans,{id:"Yes, Delete Meeting"}))];return o.a.createElement(mb.a,{actions:i,id:"meeting-delete",title:t._("Confirm Recorded Meeting Delete"),modal:!0,visible:!0},o.a.createElement("div",null,o.a.createElement("ul",null,a.map((function(e){return o.a.createElement("li",{key:e,className:"u-error"},e)}))),o.a.createElement("p",null,t._("Are you sure you want to delete this recorded meeting?"))))}}])&&gJ(n.prototype,r),a&&gJ(n,a),t}(a.Component),CJ=Object(U.withI18n)()(SJ);function _J(e){return(_J="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IJ(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function TJ(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){IJ(o,r,a,i,c,"next",e)}function c(e){IJ(o,r,a,i,c,"throw",e)}i(void 0)}))}}function RJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PJ(e){return(PJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AJ(e,t){return(AJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NJ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kJ=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=PJ(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==_J(a)&&"function"!==typeof a?NJ(r):a,jJ(NJ(NJ(n)),"state",{errors:[],isLoading:!1}),jJ(NJ(NJ(n)),"deleteMeeting",TJ(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.i18n,a=t.meeting,o=t.onSuccess,i=t.classId,n.setState({errors:[],isLoading:!0}),e.prev=2,e.next=5,Jz.deleteMeeting(a.dbId,i);case 5:o(a),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),c=[];try{c=O.a.values(zv(e.t0))}catch(u){s=r._("Failed to delete recorded meeting"),c=[s],ft.a.addError(s)}n.setState({errors:c,isLoading:!1});case 13:case"end":return e.stop()}}),e,this,[[2,8]])})))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AJ(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.errors;return o.a.createElement(CJ,{isLoading:t,errors:n,onConfirm:this.deleteMeeting})}}])&&RJ(n.prototype,r),a&&RJ(n,a),t}(a.Component),DJ=Object(U.withI18n)()(kJ),LJ=function(e){return o.a.createElement("span",null,e.label)};LJ.propTypes={label:c.a.string.isRequired,tooltip:c.a.shape({label:c.a.string.isRequired,distance:c.a.number})};var MJ=Object(Sg.c)(LJ);n("k709");function xJ(e){return(xJ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UJ(e){return(UJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VJ(e,t){return(VJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GJ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BJ=["name","id"],WJ=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=UJ(t).call(this,e),n=!a||"object"!==xJ(a)&&"function"!==typeof a?GJ(r):a,qJ(GJ(GJ(n)),"onSearchClear",(function(){n.setState({searchValue:null,filteredAttendanceData:n.state.attendanceData})})),qJ(GJ(GJ(n)),"onSearchChange",(function(e){var t=n.state.attendanceData.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));n.setState({searchValue:e,filteredAttendanceData:t})})),qJ(GJ(GJ(n)),"getSearchInput",(function(){var e=n.props.i18n,t=n.state.searchValue,r=o.a.createElement(zc.a,{ariaLabel:e._("Search icon")},re.a.SEARCH);return o.a.createElement(Nu.a,{zDepth:1,className:"search-container"},o.a.createElement(Sa.i,{id:"search-input",className:"search-input",inlineIndicator:n.getSearchInputClearButton(),leftIcon:r,onChange:n.onSearchChange,placeholder:e._("Search..."),value:t}))})),qJ(GJ(GJ(n)),"getSearchInputClearButton",(function(){var e=n.props.i18n,t=n.state.searchValue;return O.a.trim(t)?o.a.createElement(we.d,{id:"button-meeting-attendance-search-clear",ariaLabel:e._("Clear input, icon"),className:"search-input-clear-button",onClick:n.onSearchClear},re.a.CLOSE):null})),qJ(GJ(GJ(n)),"renderLoading",(function(){return o.a.createElement(mK.a,{id:"attendance-loading-progress"})})),qJ(GJ(GJ(n)),"renderReport",(function(){var e=n.props.i18n,t=n.state.filteredAttendanceData;return o.a.createElement("div",null,o.a.createElement("div",{className:"card-top-container"},n.getSearchInput()),o.a.createElement(ku.b,{className:"data-table",columns:n.getColumns(),listAccessor:"name",hasMobileListView:!1,data:t,tableSummary:e._("Inside a table, a list of meeting attendance records"),defaultSort:{accessor:BJ,direction:"asc"},fallbackSort:{accessor:"name",direction:"asc"}}))})),qJ(GJ(GJ(n)),"renderCommunicationError",(function(){var e=n.props.i18n._("Communication error. Unable to contact Attendance Service.");return o.a.createElement("div",null,o.a.createElement(Dc.b,{type:Dc.a.ERROR,message:e}))})),qJ(GJ(GJ(n)),"renderNoDataMessage",(function(){var e=n.props.i18n._("Attendance data was not collected for this meeting.");return o.a.createElement("div",null,o.a.createElement(Dc.b,{type:Dc.a.INFO,message:e}))})),qJ(GJ(GJ(n)),"renderContent",(function(){var e=n.props,t=e.isLoading,r=e.isCommunicationError,a=e.participantAttendanceData;return t?n.renderLoading():r?n.renderCommunicationError():0===a.length?n.renderNoDataMessage():n.renderReport()})),n.state={searchValue:null,attendanceData:e.participantAttendanceData,filteredAttendanceData:e.participantAttendanceData},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VJ(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({searchValue:null,attendanceData:e.participantAttendanceData,filteredAttendanceData:e.participantAttendanceData})}},{key:"getColumns",value:function(){var e=this.props.i18n;return[{label:e._("Name"),sortable:!0,accessor:BJ,renderer:function(t){if(t.d2lOrgDefinedId){var n={label:e._("User id")+" "+t.d2lOrgDefinedId,distance:10};return o.a.createElement(MJ,{label:t.name,tooltip:n})}return o.a.createElement("span",null,t.name)}},{label:e._("Role"),sortable:!1,accessor:"",renderer:function(t){var n=e._("Anonymous");return t.role&&"student"===t.role?n=e._("Learner"):t.role&&"educator"===t.role&&(n=e._("Educator")),o.a.createElement("span",null,n)}},{label:e._("Minutes Attended"),sortable:!0,accessor:"minutesAttended",renderer:function(e){return o.a.createElement("span",null,e.minutesAttended)}},{label:e._("Chat Count"),sortable:!0,accessor:"chatEvents.length",renderer:function(e){return o.a.createElement("span",null,e.chatEvents.length)}}]}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onCancel,r=e.meetingName,a=this.renderContent(),i=O.a.compact([o.a.createElement(we.b,{key:"close",enabled:!0,secondary:!0,ariaLabel:t._("Close"),onClick:n},o.a.createElement(U.Trans,{id:"Close"}))]);return o.a.createElement(mb.a,{actions:i,id:"attendance-dialog",title:t._("Attendance for meeting: {meetingName}",{meetingName:r}),dialogClassName:"attendance-dialog",modal:!0,visible:!0},a)}}])&&FJ(n.prototype,r),a&&FJ(n,a),t}(a.Component);WJ.propTypes={i18n:c.a.object.isRequired,meetingName:c.a.string.isRequired,isLoading:c.a.bool,isCommunicationError:c.a.bool,participantAttendanceData:c.a.arrayOf(c.a.shape({name:c.a.string.isRequired,role:c.a.string,minutesAttended:c.a.number.isRequired,d2lOrgDefinedId:c.a.string,chatEvents:c.a.array.isRequired})),onCancel:c.a.func.isRequired};var QJ=Object(U.withI18n)()(WJ);function YJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HJ(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\nquery getAttendance($meetingId: Int!){\n  meetingAttendance(meetingId: $meetingId){\n    meetingId\n    attendance{\n      name\n      role\n      minutesAttended\n      d2lOrgDefinedId\n      chatEvents{\n          message\n      }\n    }\n  }\n}\n"]);return HJ=function(){return e},e}var zJ=Ue()(HJ()),KJ=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getAttendance",value:function(e){return Zr.query({query:zJ,variables:{meetingId:e},fetchPolicy:"network-only"}).then((function(e){return e.data?Promise.resolve(e.data.meetingAttendance):Promise.resolve([])}))}}],(n=null)&&YJ(t.prototype,n),r&&YJ(t,r),e}();function XJ(e){return(XJ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZJ(e,t){return!t||"object"!==XJ(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $J(e){return($J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eZ(e,t){return(eZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tZ=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ZJ(this,$J(t).call(this,e))).state={participantAttendanceData:[],isLoading:!1,isCommunicationError:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eZ(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.meetingId;this.setState({isLoading:!0,isCommunicationError:!1}),KJ.getAttendance(t).then((function(t){var n=[];t&&t.attendance&&(n=t.attendance),e.setState({participantAttendanceData:n,isLoading:!1})})).catch((function(n){l.b.error("Error fetching attendance for meeting ",t,n),e.setState({isCommunicationError:!0,isLoading:!1})}))}},{key:"render",value:function(){var e=this.props,t=e.onCancel,n=e.meetingName,r=this.state,a=r.participantAttendanceData,i=r.isLoading,c=r.isCommunicationError;return o.a.createElement(QJ,{meetingName:n,isLoading:i,isCommunicationError:c,participantAttendanceData:a,onCancel:t})}}])&&JJ(n.prototype,r),a&&JJ(n,a),t}(a.Component);tZ.propTypes={meetingId:c.a.number,meetingName:c.a.string,onCancel:c.a.func};var nZ=tZ;n("BPUB");function rZ(e){return(rZ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aZ(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function oZ(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function iZ(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){oZ(o,r,a,i,c,"next",e)}function c(e){oZ(o,r,a,i,c,"throw",e)}i(void 0)}))}}function cZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sZ(e){return(sZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uZ(e,t){return(uZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lZ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fZ=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=sZ(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==rZ(a)&&"function"!==typeof a?lZ(r):a,dZ(lZ(lZ(n)),"state",{isLoading:!1,hasError:!1,meetingsList:[],students:[],educators:[],selectedMeeting:null,showManageCohortsDialog:!1,manageCohortsIsLoading:!1,manageCohortsErrors:[],showMeetingInviteSettings:!1,inviteSettingsIsLoading:!1,inviteSettingsRosterIsLoading:!1,inviteSettingsErrors:[],hasSyncRosterError:!1,isRosterSyncAvailable:!1,isCohortManagementAllowed:!1,cohortableD2lCourses:[],syncRosterErrors:[],unsyncedUsersCount:null}),dZ(lZ(lZ(n)),"getMeetingList",iZ(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.classId,n.setIsLoading(!0),n.setHasError(!1),e.prev=3,e.next=6,Jz.getMeetingsAndUsers(+t);case 6:r=e.sent,a=r.students,o=r.educators,i=r.meetings,c=r.isRosterSyncAvailable,s=r.cohortableD2lCourses,u=r.isCohortManagementAllowed,n.setState({meetingsList:i}),n.setUsers(a,o),n.setState({isRosterSyncAvailable:c,cohortableD2lCourses:s,isCohortManagementAllowed:Boolean(u)}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),n.setHasError(!0);case 21:return e.prev=21,n.setIsLoading(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[3,18,21,24]])})))),dZ(lZ(lZ(n)),"showMeetingNotification",(function(e,t){var n=o.a.createElement("div",null,o.a.createElement("div",null,e),o.a.createElement("div",{className:"meetings-page-notification-meeting-title"},t));ft.a.addSuccess(n)})),dZ(lZ(lZ(n)),"onCreateMeeting",(function(){dt.a.showModal(o.a.createElement(eJ,{onSuccess:n.addMeeting}))})),dZ(lZ(lZ(n)),"addMeeting",(function(e,t){var r=[].concat(aZ(n.state.meetingsList),[e],aZ(t||[]));n.setState({meetingsList:r}),dt.a.closeModal(),n.showCreatedMeetingNotification(e)})),dZ(lZ(lZ(n)),"showCreatedMeetingNotification",(function(e){var t=n.props.i18n,r=e.title;n.showMeetingNotification(t._("Meeting created:"),r)})),dZ(lZ(lZ(n)),"onMediaChange",(function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dZ(e,t,n[t])}))}return e}({},e,{media:t});n.editCaptions(r)})),dZ(lZ(lZ(n)),"onManageCaptions",(function(e){dt.a.showModal(o.a.createElement(vh.a,{allowAutomaticCaptioningOption:!1,media:e.media,onMediaChange:function(t){return n.onMediaChange(e,t)}}))})),dZ(lZ(lZ(n)),"onEditMeeting",(function(e){dt.a.showModal(o.a.createElement(eJ,{meeting:e,onSuccess:n.editMeeting}))})),dZ(lZ(lZ(n)),"onCancelMeeting",(function(e){dt.a.showModal(o.a.createElement(vJ,{meeting:e,onSuccess:n.removeMeeting}))})),dZ(lZ(lZ(n)),"onProcessedMeetingDelete",(function(e){var t=n.props.match.params.classId;dt.a.showModal(o.a.createElement(DJ,{meeting:e,classId:+t,onSuccess:n.removeMeeting}))})),dZ(lZ(lZ(n)),"removeMeeting",(function(e){l.b.debug(e);var t=aZ(n.state.meetingsList);t=t.filter((function(t){return e.dbId!==t.dbId})),n.setState({meetingsList:t}),dt.a.closeModal(),n.showCancelledMeetingNotification(e)})),dZ(lZ(lZ(n)),"showCancelledMeetingNotification",(function(e){var t=n.props.i18n,r=e.title;n.showMeetingNotification(t._("Meeting cancelled:"),r)})),dZ(lZ(lZ(n)),"replaceMeeting",(function(e){var t=aZ(n.state.meetingsList);t=t.map((function(t){return e.dbId===t.dbId?e:t})),n.setState({meetingsList:t})})),dZ(lZ(lZ(n)),"editCaptions",(function(e){n.replaceMeeting(e),n.showMeetingCaptionsNotification(e)})),dZ(lZ(lZ(n)),"showMeetingCaptionsNotification",(function(e){var t=n.props.i18n,r=e.title;n.showMeetingNotification(t._("Meeting captions saved:"),r)})),dZ(lZ(lZ(n)),"editMeeting",(function(e){n.replaceMeeting(e),dt.a.closeModal(),n.showSavedMeetingNotification(e)})),dZ(lZ(lZ(n)),"showSavedMeetingNotification",(function(e){var t=n.props.i18n,r=e.title;n.showMeetingNotification(t._("Meeting saved:"),r)})),dZ(lZ(lZ(n)),"openInviteSettings",(function(e){n.setState({showMeetingInviteSettings:!0,selectedMeeting:e})})),dZ(lZ(lZ(n)),"closeInviteSettings",(function(){n.setState({showMeetingInviteSettings:!1,selectedMeeting:null,inviteSettingsIsLoading:!1,inviteSettingsRosterIsLoading:!1,inviteSettingsErrors:[],hasSyncRosterError:!1,unsyncedUsersCount:null})})),dZ(lZ(lZ(n)),"onSyncRoster",iZ(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.classId,n.setState({inviteSettingsRosterIsLoading:!0,hasSyncRosterError:!1,syncRosterErrors:[]}),e.prev=2,e.next=5,Jz.syncRoster(+t);case 5:r=e.sent,a=r.termClass,o=r.unmappedRoleUsersCount,i=a.students,c=a.educators,n.setUsers(i,c),n.setState({unsyncedUsersCount:o}),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(2),s=[];try{s=O.a.values(zv(e.t0))}catch(u){l.b.error(u)}l.b.info(s),n.setState({hasSyncRosterError:!0,syncRosterErrors:s});case 19:return e.prev=19,n.setState({inviteSettingsRosterIsLoading:!1}),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[2,13,19,22]])})))),dZ(lZ(lZ(n)),"onSaveInviteSettings",function(){var e=iZ(regeneratorRuntime.mark((function e(t){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.state.selectedMeeting.dbId,a=n.props.i18n,n.setState({inviteSettingsIsLoading:!0,inviteSettingsErrors:[]}),e.prev=3,e.next=6,Jz.changeMeetingParticipants(r,t);case 6:o=e.sent,n.editMeeting(o),n.closeInviteSettings(),e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(3),i=[a._("Error during manage of participants")],e.t0.length)try{i=O.a.values(zv(e.t0))}catch(c){l.b.warn(c)}n.setState({inviteSettingsErrors:i});case 16:return e.prev=16,n.setState({inviteSettingsIsLoading:!1,unsyncedUsersCount:null}),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,11,16,19]])})));return function(t){return e.apply(this,arguments)}}()),dZ(lZ(lZ(n)),"openCohortSettings",(function(e){n.setState({showManageCohortsDialog:!0,selectedMeeting:e})})),dZ(lZ(lZ(n)),"closeCohortSettings",(function(){n.setState({showManageCohortsDialog:!1,manageCohortsIsLoading:!1,manageCohortsErrors:[],selectedMeeting:null})})),dZ(lZ(lZ(n)),"onCohortSettingsSave",function(){var e=iZ(regeneratorRuntime.mark((function e(t,r){var a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.i18n,e.prev=1,n.setState({manageCohortsIsLoading:!0,manageCohortsErrors:[]}),i=O.a.map(r,(function(e){return e.lmsCode})),e.next=6,Jz.setMeetingCohorts(t.dbId,O.a.compact(i));case 6:c=e.sent,n.editMeeting(c),n.closeCohortSettings(),s=t.title,u=o.a.createElement("div",null,a._('Cohort settings saved for meeting "{meetingTitle}"',{meetingTitle:s})),ft.a.addSuccess(u),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),l.b.error("Unable to save cohort settings",e.t0),n.setState({manageCohortsErrors:[a._("Unable to save cohort settings.")],manageCohortsIsLoading:!1});case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t,n){return e.apply(this,arguments)}}()),dZ(lZ(lZ(n)),"onCohortSettingsCancel",(function(){n.closeCohortSettings()})),dZ(lZ(lZ(n)),"onLaunchMeeting",(function(e){var t=n.props,r=t.history,a=t.match.params.classId,o=Object(y.f)(In.f.EDUCATOR_COURSE_MEETING,{classId:a,meetingId:e.dbId}),i=r.createHref({pathname:o});window.open(i,"bongo-meeting[".concat(e.dbId,"]"))})),dZ(lZ(lZ(n)),"previewMedia",(function(e){var t=n.props.match.params.classId;dt.a.showModal(o.a.createElement(Oh.a,{media:e,termClassId:+t,usageContext:Kh.a.DIRECT_LIBRARY,onCancel:dt.a.closeModal}))})),dZ(lZ(lZ(n)),"viewAttendance",(function(e){dt.a.showModal(o.a.createElement(nZ,{meetingId:e.dbId,meetingName:e.title,onCancel:dt.a.closeModal}))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uZ(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getMeetingList()}},{key:"setIsLoading",value:function(e){this.setState({isLoading:e})}},{key:"setHasError",value:function(e){this.setState({hasError:e})}},{key:"setUsers",value:function(e,t){var n=this;t=t.filter((function(e){return e.dbId!==n.props.currentUserId})),this.setState({students:e,educators:t})}},{key:"getScheduledMeetings",value:function(){return this.state.meetingsList.filter((function(e){return e.status===Bt.SCHEDULED||e.status===Bt.NOT_HELD||e.status===Bt.READY||e.status===Bt.STARTED||e.status===Bt.FINISHED&&!e.media}))}},{key:"getRecordedMeetings",value:function(){return this.state.meetingsList.filter((function(e){return e.media&&(e.status===Bt.PROCESSED||e.status===Bt.FINISHED)}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.hasError,r=e.selectedMeeting,a=e.showMeetingInviteSettings,i=e.showManageCohortsDialog,c=e.inviteSettingsIsLoading,s=e.inviteSettingsRosterIsLoading,u=e.hasSyncRosterError,l=e.inviteSettingsErrors,d=e.cohortableD2lCourses,f=e.manageCohortsIsLoading,p=e.manageCohortsErrors,m=e.isCohortManagementAllowed,b=e.syncRosterErrors,y=this.props.match.params.classId;return o.a.createElement(Uz,{classId:+y,isLoading:t,hasError:n,scheduledMeetings:this.getScheduledMeetings(),recordedMeetings:this.getRecordedMeetings(),onCancelMeeting:this.onCancelMeeting,sheduleMeeting:this.sheduleMeeting,onLaunchMeeting:this.onLaunchMeeting,reloadData:this.getMeetingList,previewMedia:this.previewMedia,viewAttendance:this.viewAttendance,onEditMeeting:this.onEditMeeting,onManageCaptions:this.onManageCaptions,onProcessedMeetingDelete:this.onProcessedMeetingDelete,openInviteSettings:this.openInviteSettings,openCohortSettings:this.openCohortSettings,isMeetingCohortingAllowed:fe.a.isMeetingCohortingAllowed()&&m,onCreateMeeting:this.onCreateMeeting},a&&o.a.createElement(LK,{onSave:this.onSaveInviteSettings,classId:+y,students:this.state.students,onCancel:this.closeInviteSettings,allowEducators:!1,showSyncRoster:this.state.isRosterSyncAvailable,onSyncRoster:this.onSyncRoster,errors:l,hasSyncRosterError:u,syncRosterErrors:b,rosterIsLoading:s,isLoading:c,educators:this.state.educators,unsyncedUsersCount:this.state.unsyncedUsersCount,meetingId:r.dbId}),i&&o.a.createElement(XK,{cohortableD2lCourses:d,errors:p,isLoading:f,meeting:r,onSave:this.onCohortSettingsSave,onCancel:this.onCohortSettingsCancel}))}}])&&cZ(n.prototype,r),a&&cZ(n,a),t}(a.Component);fZ.propTypes={match:c.a.object.isRequired,history:c.a.object.isRequired};var pZ=Object(s.b)((function(e){return{currentUserId:Qe.i(e)}}))(Object(U.withI18n)()(Object(y.k)(fZ)));function mZ(e){return(mZ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yZ(e,t){return!t||"object"!==mZ(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vZ(e){return(vZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hZ(e,t){return(hZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gZ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yZ(this,vZ(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hZ(e,t)}(t,e),n=t,(r=[{key:"getColumns",value:function(){var e=this.props,t=e.i18n,n=e.openActivity;return[{accessor:"name",label:t._("Name"),key:"name",grow:!0,sortable:!0,renderer:function(e){return o.a.createElement("a",{onClick:function(){n(e)},"aria-label":t._("Open assignment")},e.name)}},{accessor:"submitDueAt",label:t._("Due"),key:"due",sortable:!0,renderer:function(e){return e.submitDueAt?o.a.createElement(rW.a,{value:e.submitDueAt}):o.a.createElement("span",null,"\u2014")}}]}},{key:"render",value:function(){var e=this.props.activityList;return o.a.createElement(ku.c,{id:"student-activity-table",className:"",columns:this.getColumns(),listAccessor:"name",hasMobileListView:!1,data:e,onListRowSelect:function(){},defaultSort:{accessor:"submitDueAt",direction:"asc"},fallbackSort:{accessor:"name",direction:"asc"}})}}])&&bZ(n.prototype,r),a&&bZ(n,a),t}(a.Component),EZ=Object(U.withI18n)()(gZ);function wZ(e){return(wZ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OZ(e){return(OZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SZ(e,t){return(SZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CZ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _Z=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=OZ(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==wZ(a)&&"function"!==typeof a?CZ(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(CZ(CZ(n)),"render",(function(){var e=n.props,t=e.i18n,r=e.classId,a=e.activityList,i=e.openActivity,c=e.isLoading,s=e.hasError,u=e.reloadData,l=e.institution;return c?o.a.createElement(te.a,{loading:!0}):o.a.createElement(ju.a,{title:t._("Assignments")},o.a.createElement(_c.a,{classId:r}),!s&&o.a.createElement(Ms.b,{hideNavigation:Sc.b(l),classId:r,navigationDrawerType:VD.b.STUDENT}),s&&o.a.createElement(Gt,{message:t._("Failed to load assignment list"),buttonTitle:t._("Try again"),reloadData:u}),!s&&o.a.createElement(Lt.a,null,a.length>0&&o.a.createElement(EZ,{activityList:a,openActivity:i}),0===a.length&&o.a.createElement("h3",null,t._("No assignments yet"))))})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SZ(e,t)}(t,e),t}(a.Component),IZ=Object(U.withI18n)()(Object(s.b)((function(e){return{institution:Ye.i(e)}}))(_Z));function TZ(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    query getActivityList($classId: Int!) {\n        termClass(dbId: $classId) {\n            activities {\n                dbId\n                name\n                submitDueAt\n                type\n            }\n        }\n    }\n"]);return TZ=function(){return e},e}function RZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var PZ=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getActivityList",value:function(e){return xe.a.query({query:AZ,variables:{classId:e}}).then((function(e){var t=e.errors;if(t&&t.length)return Promise.reject(t);var n=e.data.termClass.activities;return Promise.resolve(n)}))}}],(n=null)&&RZ(t.prototype,n),r&&RZ(t,r),e}(),AZ=Ue()(TZ());function NZ(e){return(NZ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jZ(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function kZ(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){jZ(o,r,a,i,c,"next",e)}function c(e){jZ(o,r,a,i,c,"throw",e)}i(void 0)}))}}function DZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LZ(e){return(LZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MZ(e,t){return(MZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xZ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UZ=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=LZ(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==NZ(a)&&"function"!==typeof a?xZ(r):a,FZ(xZ(xZ(n)),"state",{activityList:[],isLoading:!1,hasError:!1}),FZ(xZ(xZ(n)),"getData",kZ(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.classId,n.setIsLoading(!0),n.setHasError(!1),e.prev=3,e.next=6,PZ.getActivityList(+t);case 6:r=e.sent,n._ismounted&&n.setActivityList(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n._ismounted&&n.setHasError(!0);case 13:return e.prev=13,n._ismounted&&n.setIsLoading(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[3,10,13,16]])})))),FZ(xZ(xZ(n)),"openActivity",(function(e){var t=e.dbId,r=e.type,a=n.props,o=a.history,i=a.match;if(r!==Wu.b.IN_CLASSROOM){var c=EI.a.compile(In.i.STUDENT_ACTIVITY)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){FZ(e,t,n[t])}))}return e}({},i.params,{activityId:t}));o.push(c)}else{var s=EI.a.compile(In.e.STUDENT_INCLASS_ACTIVITY)({activityId:t});window.location.href=Object(II.a)(s)}})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MZ(e,t)}(t,e),n=t,(r=[{key:"setIsLoading",value:function(e){this.setState({isLoading:e})}},{key:"setHasError",value:function(e){this.setState({hasError:e})}},{key:"setActivityList",value:function(e){this.setState({activityList:e})}},{key:"componentDidMount",value:function(){this._ismounted=!0,this.getData()}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"render",value:function(){var e=this.props.match.params.classId,t=this.state,n=t.activityList,r=t.isLoading,a=t.hasError;return o.a.createElement(IZ,{classId:+e,activityList:n,isLoading:r,reloadData:this.getData,openActivity:this.openActivity,hasError:a})}}])&&DZ(n.prototype,r),a&&DZ(n,a),t}(a.Component),VZ=Object(y.k)(UZ);function GZ(e){return(GZ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BZ(e){return(BZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WZ(e,t){return(WZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QZ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var YZ=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=BZ(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==GZ(a)&&"function"!==typeof a?QZ(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(QZ(QZ(n)),"actionsRenderer",(function(e,t){var r=n.props,a=r.i18n,i=r.onOpenLobby,c=r.onPreview,s=r.onDownload,u=e.media&&e.media.processingStatus===Rv.a.READY,l=!!e.lobbyPageUrl,d=!!e.downloadUrl,f=fe.a.isMeetingDownloadAllowed();return o.a.createElement("span",null,u&&o.a.createElement(we.d,{id:"button-meeting-preview["+t+"]",onClick:function(){c(e)},title:a._("Preview Recording")},re.a.PREVIEW),l&&o.a.createElement(we.d,{id:"button-meeting-enter["+t+"]",onClick:function(){i(e)},title:a._("Enter Meeting")},re.a.EXIT),f&&d&&o.a.createElement(we.d,{id:"button-meeting-download["+t+"]",onClick:function(){s(e)},title:a._("Download Meeting")},re.a.DOWNLOAD))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WZ(e,t)}(t,e),n=t,(r=[{key:"getColumns",value:function(){var e=this.props.i18n;return[{accessor:"title",label:e._("Title"),key:"title",grow:!0,sortable:!0,renderer:function(e){return o.a.createElement("span",null,e.title)}},{accessor:"scheduledAt",label:e._("Scheduled At"),key:"due",sortable:!0,renderer:function(e){return e.scheduledAt?o.a.createElement(rW.a,{value:e.scheduledAt}):o.a.createElement("span",null,"\u2014")}},{accessor:"status",label:e._("Status"),key:"status",sortable:!0,renderer:function(t){var n,r;switch(t.status){case Bt.STARTED:n=re.a.PLAY_ARROW,r=e._("Started");break;case Bt.SCHEDULED:n=re.a.EVENT,r=e._("Scheduled");break;case Bt.READY:n=re.a.DONE,r=e._("Ready to start");break;case Bt.NOT_HELD:n=re.a.ALARM_OFF,r=e._("Was not held");break;case Bt.FINISHED:n=re.a.HOURGLASS_EMPTY,r=e._("Processing"),t.media&&t.media.processingStatus===Rv.a.ERROR&&(n=re.a.ERROR,r=e._("Processing error"));break;case Bt.PROCESSED:n=re.a.DONE,r=e._("Processed"),t.media&&t.media.processingStatus===Rv.a.ERROR&&(n=re.a.ERROR,r=e._("Processing error"))}return o.a.createElement(zc.a,{title:r},n)}},{label:e._("Action"),key:"actions",grow:!0,renderer:this.actionsRenderer}]}},{key:"render",value:function(){var e=this.props.meetingsList;return o.a.createElement(ku.c,{id:"student-meetings-table",className:"",columns:this.getColumns(),listAccessor:"title",hasMobileListView:!1,data:e,onListRowSelect:function(){},defaultSort:{accessor:"scheduledAt",direction:"desc"},fallbackSort:{accessor:"title",direction:"asc"}})}}])&&qZ(n.prototype,r),a&&qZ(n,a),t}(a.Component),HZ=Object(U.withI18n)()(YZ);function zZ(e){return(zZ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XZ(e,t){return!t||"object"!==zZ(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function JZ(e){return(JZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZZ(e,t){return(ZZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $Z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),XZ(this,JZ(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZZ(e,t)}(t,e),n=t,(r=[{key:"getColumns",value:function(){var e=this.props,t=e.i18n,n=e.onOpenLobby;return[{accessor:"title",label:t._("Title"),key:"title",sortable:!0},{accessor:"activity.name",label:t._("Assignment Name"),key:"activityName",grow:!0,sortable:!0,renderer:function(e){return o.a.createElement("span",null,e.activity.name)}},{accessor:"scheduledAt",label:t._("Scheduled At"),key:"due",sortable:!0,renderer:function(e){return e.scheduledAt?o.a.createElement(rW.a,{value:e.scheduledAt}):o.a.createElement("span",null,"\u2014")}},{accessor:"moderator",label:t._("Moderator"),key:"owner",sortable:!0,renderer:function(e){var t=e.owner;return o.a.createElement(Pu.a,{value:t.firstName+" "+t.lastName})}},{label:t._("Action"),key:"actions",grow:!0,renderer:function(e,r){return o.a.createElement("span",null,o.a.createElement(mj.a,{id:"button-meeting-enter["+r+"]",onClick:function(){n(e)},title:t._("Enter meeting")},re.a.EXIT))}}]}},{key:"render",value:function(){var e=this.props.meetingsList;return o.a.createElement(ku.c,{id:"student-activity-meetings-table",className:"",columns:this.getColumns(),listAccessor:"title",hasMobileListView:!1,data:e,onListRowSelect:function(){},defaultSort:{accessor:"scheduledAt",direction:"desc"},fallbackSort:{accessor:"title",direction:"asc"}})}}])&&KZ(n.prototype,r),a&&KZ(n,a),t}(a.Component),e$=Object(U.withI18n)()($Z);function t$(e){return(t$="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r$(e,t){return!t||"object"!==t$(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a$(e){return(a$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o$(e,t){return(o$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i$=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r$(this,a$(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o$(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.classId,r=e.meetingsList,a=e.isLoading,i=e.hasError,c=e.reloadData,s=e.onOpenLobby,u=e.onPreview,l=e.onDownload,d=e.institution,f=e.activityMeetingsList;return a?o.a.createElement(te.a,{loading:!0}):o.a.createElement(ju.a,{title:t._("Meetings")},!i&&o.a.createElement(Ms.b,{hideNavigation:Sc.b(d),classId:n,navigationDrawerType:VD.b.STUDENT}),i&&o.a.createElement(Gt,{message:t._("Failed to load meetings list"),buttonTitle:t._("Try again"),reloadData:c}),!i&&o.a.createElement(Lt.a,null,o.a.createElement("h2",null,t._("Class Meetings")),r.length>0&&o.a.createElement(HZ,{meetingsList:r,onOpenLobby:s,onPreview:u,onDownload:l}),0===r.length&&o.a.createElement("h5",null,t._("No class meetings scheduled yet"))),!i&&o.a.createElement(Lt.a,null,o.a.createElement("h2",null,t._("Assignment Meetings")),f.length>0&&o.a.createElement(e$,{meetingsList:f,onOpenLobby:s}),0===f.length&&o.a.createElement("h5",null,t._("No assignment meetings yet"))))}}])&&n$(n.prototype,r),a&&n$(n,a),t}(a.Component),c$=Object(U.withI18n)()(Object(s.b)((function(e){return{institution:Ye.i(e)}}))(i$));function s$(){var e=l$(["\nquery getActivityMeetings($dbId: Int!){\n  termClass(dbId: $dbId) {\n    activityMeetings {\n      dbId\n      title\n      owner {\n        dbId\n        firstName\n        lastName\n      }\n      lobbyPageUrl\n      scheduledAt\n      status\n      activity {\n        name\n      }\n    }\n  }\n}\n"]);return s$=function(){return e},e}function u$(){var e=l$(["\n    query getActivityList($classId: Int!) {\n        termClass(dbId: $classId) {\n            meetings {\n                dbId\n                title\n                lobbyPageUrl\n                scheduledAt\n                status\n                media {\n                    ...MediaFull\n                }\n                downloadUrl\n            }\n        }\n    }\n    ","\n"]);return u$=function(){return e},e}function l$(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function d$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f$=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getMeetingsList",value:function(e){return xe.a.query({query:p$,variables:{classId:e}}).then((function(e){var t=e.errors;if(t&&t.length)return Promise.reject(t);var n=e.data.termClass.meetings;return Promise.resolve(n)}))}},{key:"getActivityMeetingsList",value:function(e){return xe.a.query({query:m$,variables:{dbId:e}}).then((function(e){return Promise.resolve(e.data.termClass.activityMeetings)}))}}],(n=null)&&d$(t.prototype,n),r&&d$(t,r),e}(),p$=Ue()(u$(),fn.d),m$=Ue()(s$());function b$(e){return(b$="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y$(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function v$(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y$(o,r,a,i,c,"next",e)}function c(e){y$(o,r,a,i,c,"throw",e)}i(void 0)}))}}function h$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g$(e){return(g$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E$(e,t){return(E$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w$(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S$=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=g$(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==b$(a)&&"function"!==typeof a?w$(r):a,O$(w$(w$(n)),"state",{meetingsList:[],meetingsListIsLoading:!1,meetingsListHasError:!1,activityMeetingsList:[],activityMeetingsListIsLoading:!1,activityMeetingsListHasError:!1,isFetchingZipFile:!1}),O$(w$(w$(n)),"loadData",(function(){n.getMeetingsList(),n.getActivityMeetingsList()})),O$(w$(w$(n)),"getActivityMeetingsList",v$(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.classId,n.setState({activityMeetingsListIsLoading:!0,activityMeetingsListHasError:!1}),e.prev=2,e.next=5,f$.getActivityMeetingsList(+t);case 5:r=e.sent,n.setState({activityMeetingsListIsLoading:!1,activityMeetingsList:r}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),l.b.error("Failed to load activity meetings list.",e.t0),n.setState({activityMeetingsListIsLoading:!1,activityMeetingsListHasError:!0});case 13:case"end":return e.stop()}}),e,this,[[2,9]])})))),O$(w$(w$(n)),"getMeetingsList",v$(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.classId,n.setState({meetingsListIsLoading:!0,meetingsListHasError:!1}),e.prev=2,e.next=5,f$.getMeetingsList(+t);case 5:r=e.sent,n.setState({meetingsListIsLoading:!1,meetingsList:r}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),l.b.error("Failed to load meetings list.",e.t0),n.setState({meetingsListIsLoading:!1,meetingsListHasError:!0});case 13:case"end":return e.stop()}}),e,this,[[2,9]])})))),O$(w$(w$(n)),"getActiveActivityMeetings",(function(){return n.state.activityMeetingsList.filter((function(e){return e.status===Bt.SCHEDULED||e.status===Bt.READY||e.status===Bt.STARTED}))})),O$(w$(w$(n)),"onOpenLobby",(function(e){var t=n.props,r=t.history,a=t.match.params.classId,o=Object(y.f)(In.f.STUDENT_COURSE_MEETING,{classId:a,meetingId:e.dbId}),i=r.createHref({pathname:o});window.open(i,"bongo-meeting[".concat(e.dbId,"]"))})),O$(w$(w$(n)),"onPreview",(function(e){var t=n.props.match.params.classId;dt.a.showModal(o.a.createElement(Oh.a,{media:e.media,termClassId:+t,usageContext:Kh.a.DIRECT_LIBRARY,onCancel:dt.a.closeModal}))})),O$(w$(w$(n)),"onDownload",function(){var e=v$(regeneratorRuntime.mark((function e(t){var r,a,o,i,c,s,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,a=r.i18n,o=r.match.params.classId,i=t.dbId,c=t.title,n.setState({isFetchingZipFile:!0}),e.next=5,Iv.fetchZipUrl(o,i);case 5:if(s=e.sent,u=s.meetingZipFile,d=s.errors,n.setState({isFetchingZipFile:!1}),u){e.next=13;break}return ft.a.addError(a._('Unable to prepare meeting "{title}" for download - please try again later.',{title:c})),l.b.error("Unable to fetch meetingZipFile",d),e.abrupt("return");case 13:window.open(u);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),O$(w$(w$(n)),"renderLoadingOverlay",(function(){if(n.state.isFetchingZipFile)return o.a.createElement(ca.b,{loading:!0})})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E$(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.props.match.params.classId,t=this.state,n=t.meetingsListIsLoading,r=t.meetingsListHasError,a=t.meetingsList,i=t.activityMeetingsListIsLoading,c=t.activityMeetingsListHasError;return o.a.createElement(o.a.Fragment,null,o.a.createElement(c$,{classId:+e,meetingsList:a,activityMeetingsList:this.getActiveActivityMeetings(),isLoading:n||i,onOpenLobby:this.onOpenLobby,onPreview:this.onPreview,onDownload:this.onDownload,reloadData:this.loadData,hasError:r||c}),this.renderLoadingOverlay())}}])&&h$(n.prototype,r),a&&h$(n,a),t}(a.Component);S$.propTypes={match:c.a.object.isRequired,history:c.a.object.isRequired};var C$=Object(s.b)((function(e){return{currentUserId:Qe.i(e)}}))(Object(y.k)(Object(U.withI18n)()(S$))),_$=n("wR0W");function I$(e){return(I$="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T$(){return(T$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P$(e){return(P$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A$(e,t){return(A$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N$(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k$=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=P$(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==I$(a)&&"function"!==typeof a?N$(r):a,j$(N$(N$(n)),"state",{showRecorder:!1,recorderParams:{},s3Settings:{}}),j$(N$(N$(n)),"setShowRecordButton",(function(e){(0,n.props.dispatch)(MR.N(n.state.recorderParams.recorderId,e))})),j$(N$(N$(n)),"setAutoSubmit",(function(e){(0,n.props.dispatch)(MR.q(n.state.recorderParams.recorderId,e))})),j$(N$(N$(n)),"setParams",(function(e){var t=e.options;t.showSubmitButton=!0,n.setState({showRecorder:!0,recorderParams:t})})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A$(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){Object(Qr.a)(window,_$.a.SET_PARAMS,this.setParams),Object(Qr.a)(window,_$.a.SET_SHOW_RECORD_BUTTON,this.setShowRecordButton),Object(Qr.a)(window,_$.a.SET_AUTO_SUBMIT,this.setAutoSubmit),Object(Qr.b)(window,_$.a.WINDOWED_RECORDER_LOADED)}},{key:"render",value:function(){var e=this.state,t=e.showRecorder,n=e.recorderParams;return o.a.createElement("div",null,t&&o.a.createElement(fr.b,T$({isStandaloneMode:!0},n)),!t&&o.a.createElement(te.a,{loading:!0}))}}])&&R$(n.prototype,r),a&&R$(n,a),t}(a.Component),D$=Object(s.b)()(k$);n("M+Ya"),n("+nBP");function L$(e){return(L$="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F$(e,t){return!t||"object"!==L$(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U$(e){return(U$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V$(e,t){return(V$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G$=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F$(this,U$(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V$(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.attachments,r=e.addAttachmentFile,a=e.removeAttachment;return o.a.createElement("div",{className:"c-help-form__attachments"},n.map((function(e,n){return o.a.createElement("div",{key:e.id,className:"c-help-form__attachment"},o.a.createElement(we.d,{id:"button-attachment-remove",ariaLabel:t._("Remove attachment number {index}",{index:n}),onClick:function(){a(n)}},re.a.DELETE),o.a.createElement("span",{className:"c-help-form__delete-button-wrapper"},o.a.createElement(HH.a,{onFile:function(e){var t=M$(e,1)[0];r(n,t)}})))})))}}])&&x$(n.prototype,r),a&&x$(n,a),t}(a.Component);G$.propTypes={attachments:c.a.array,addAttachmentFile:c.a.func};var q$=Object(U.withI18n)()(G$);function B$(e){return(B$="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q$(e,t){return!t||"object"!==B$(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y$(e){return(Y$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H$(e,t){return(H$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z$=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Q$(this,Y$(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H$(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onDescriptionChange,r=e.description,a=e.attachments,i=e.showAttachmentButton,c=e.handleAddAttachment,s=e.addAttachmentFile,u=e.removeAttachment,l=e.isLoading,d=e.showClientErrors,f=e.sumbit,p=e.reset,m=e.requestSent,b=e.serverErrors;return o.a.createElement("div",{className:"c-help-form"},!m&&o.a.createElement(Lt.a,null,b.length>0&&o.a.createElement("ul",{className:"u-pl-15px"},b.map((function(e){return o.a.createElement("li",{className:"u-error",key:e},e)}))),o.a.createElement(mr.b,{type:"text",id:"description",name:"description",errorText:d&&r.error?r.error:"",value:r.value,onChange:n,label:t._("Please provide a detailed description of the issue"),rows:1,placeholder:t._("At least 50 characters required")}),o.a.createElement(q$,{attachments:a,removeAttachment:u,addAttachmentFile:s}),i&&o.a.createElement("div",{className:"u-pt-10px"},o.a.createElement(we.b,{id:"button-help-form-screenshot",onClick:c,ariaLabel:t._("Add a screenshot attachment")},o.a.createElement(zc.a,{className:"c-help-form__add-screenshot-icon"},re.a.ADD),o.a.createElement("span",{className:"c-help-form__add-screenshot-text"},o.a.createElement(U.Trans,{id:"Add a screenshot attachment"})))),o.a.createElement("div",{className:"c-help-form__help-form-actions"},o.a.createElement(we.h,{id:"button-help-form-send",enabled:!l,primary:!0,onClick:f,ariaLabel:t._("Send")},t._("Send")),o.a.createElement("span",{className:"u-mr-5px"}),o.a.createElement(we.b,{id:"button-help-form-reset",enabled:!l,onClick:p,secondary:!0,ariaLabel:t._("Reset")},t._("Reset")))),m&&o.a.createElement(Lt.a,null,o.a.createElement("p",null,o.a.createElement(U.Trans,{id:"Your help request was created and delivered to Bongo support. <0/>We will respond by email as soon as possible. <1/>Please visit our <2>Knowledge Base</2> for help in the meantime.",components:[o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("a",{href:"https://bongolearn.zendesk.com",target:"__blank"})]})),o.a.createElement(we.h,{id:"button-help-form-ok",primary:!0,onClick:p,ariaLabel:t._("OK")},t._("OK"))))}}])&&W$(n.prototype,r),a&&W$(n,a),t}(a.Component);z$.propTypes={onDescriptionChange:c.a.func,showAttachmentButton:c.a.bool,handleAddAttachment:c.a.func,addAttachmentFile:c.a.func,removeAttachment:c.a.func,description:c.a.object,attachments:c.a.array,isLoading:c.a.bool,hasError:c.a.bool,showClientErrors:c.a.bool,sumbit:c.a.func,reset:c.a.func,requestSent:c.a.bool,serverErrors:c.a.any};var K$=Object(U.withI18n)()(z$),X$=n("puQj"),J$=n.n(X$);function Z$(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    mutation createHelpdeskTicket($input: CreateHelpdeskTicketInput!) {\n        createHelpdeskTicket (input: $input) {\n            ticketId\n            errors {\n                path\n                message\n            }\n        }\n    }\n"]);return Z$=function(){return e},e}function $$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}window.bowser=J$.a;var e0=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"sendRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=J$.a.name+" "+J$.a.version,a=J$.a.osname+" "+J$.a.osversion,o=""+n,i={input:{description:e,additionalInfo:{browser:r,operationSystem:a,currentClass:o}}};return t.forEach((function(e,t){i.input["ticket[attachments]["+t+"][fileInfo][file]"]=e})),xe.a.mutate({mutation:t0,variables:i}).then((function(e){var t=e.data.createHelpdeskTicket.errors;return t&&t.length?Promise.reject(t):Promise.resolve(e.data.createHelpdeskTicket.ticketId)}))}}],(n=null)&&$$(t.prototype,n),r&&$$(t,r),e}(),t0=Ue()(Z$());function n0(e){return(n0="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r0(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function a0(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){r0(o,r,a,i,c,"next",e)}function c(e){r0(o,r,a,i,c,"throw",e)}i(void 0)}))}}function o0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i0(e){return(i0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c0(e,t){return(c0=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s0(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l0=5,d0=50,f0=o.a.createElement(U.Trans,{id:"At least 50 characters required"}),p0={description:{value:"",error:f0},attachments:[],isLoading:!1,hasError:!1,showClientErrors:!1,requestSent:!1,serverErrors:[]},m0=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=i0(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==n0(a)&&"function"!==typeof a?s0(r):a,u0(s0(s0(n)),"state",O.a.merge({},p0)),u0(s0(s0(n)),"onDescriptionChange",(function(e){var t=O.a.merge({},n.state.description);t.value=e,e.length<d0?t.error=f0:t.error=!1,n.setState({description:t})})),u0(s0(s0(n)),"handleAddAttachment",(function(){if(n.state.attachments.length!==l0){var e=O.a.merge([],n.state.attachments);e.push({file:null,id:xG()(5)}),n.setState({attachments:e})}})),u0(s0(s0(n)),"addAttachmentFile",(function(e,t){if(n.state.attachments[e]){var r=O.a.merge([],n.state.attachments);r[e].file=t,n.setState({attachments:r})}})),u0(s0(s0(n)),"removeAttachment",(function(e){if(n.state.attachments[e]){var t=O.a.merge([],n.state.attachments);t=Nw.d(t,e),n.setState({attachments:t})}})),u0(s0(s0(n)),"sumbit",a0(regeneratorRuntime.mark((function e(){var t,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.termClassId,a=t.i18n,n.isValid()){e.next=4;break}return n.setState({showClientErrors:!0}),e.abrupt("return");case 4:return o=n.state.attachments.map((function(e){return e.file})),o=O.a.compact(o),e.prev=6,n.setState({isLoading:!0,hasError:!1}),e.next=10,e0.sendRequest(n.state.description.value,o,r);case 10:n.setState({requestSent:!0}),e.next=19;break;case 13:if(e.prev=13,e.t0=e.catch(6),n.setState({hasError:!0}),i=[a._("Failed to send help request. Please try again.")],e.t0&&e.t0.length)try{i=O.a.values(zv(e.t0))}catch(c){l.b.warn(c)}n.setState({serverErrors:i});case 19:return e.prev=19,n.setState({isLoading:!1}),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[6,13,19,22]])})))),u0(s0(s0(n)),"reset",(function(){n.setState(O.a.merge({},p0))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c0(e,t)}(t,e),n=t,(r=[{key:"isValid",value:function(){return!this.state.description.error&&this.state.description.value.length>=d0}},{key:"render",value:function(){var e=this.state,t=e.description,n=e.attachments,r=e.isLoading,a=e.hasError,i=e.showClientErrors,c=e.requestSent,s=e.serverErrors;return o.a.createElement(K$,{onDescriptionChange:this.onDescriptionChange,handleAddAttachment:this.handleAddAttachment,addAttachmentFile:this.addAttachmentFile,removeAttachment:this.removeAttachment,sumbit:this.sumbit,reset:this.reset,serverErrors:s,showAttachmentButton:n.length<l0,attachments:n,isLoading:r,hasError:a,showClientErrors:i,requestSent:c,description:t})}}])&&o0(n.prototype,r),a&&o0(n,a),t}(a.Component);m0.propTypes={termClassId:c.a.number};var b0=Object(U.withI18n)()(m0);n("H+UZ");function y0(e){return(y0="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h0(e,t){return!t||"object"!==y0(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g0(e){return(g0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E0(e,t){return(E0=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w0=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h0(this,g0(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E0(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.createExportRequest,n=e.i18n,r=e.loading;l.b.warn(r);var a=[o.a.createElement(bb.a,{id:"button-export-user-data-dialog-cancel",secondary:!0,enabled:!r,ariaLabel:n._("Cancel"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(bb.a,{id:"button-export-user-data-dialog-export",primary:!0,ariaLabel:n._("Export"),isLoading:r,onClick:t},o.a.createElement(U.Trans,{id:"Export"}))];return o.a.createElement(mb.a,{actions:a,ariaLabel:n._("Export private data"),id:"export-user-data-dialog",title:n._("Export private data"),dialogClassName:"c-export-user-data-dialog ",modal:!0,visible:!0},o.a.createElement(U.Trans,{id:"<0>Select EXPORT to create request for exporting private data. Requests can take up to 30 days to process</0>",components:[o.a.createElement("p",null)]}))}}])&&v0(n.prototype,r),a&&v0(n,a),t}(a.Component),O0=Object(U.withI18n)()(w0),S0=n("2HZR");function C0(){var e=T0(["\n    mutation cancelExportDataRequest($input:  CancelExportDataRequestInput!){\n        cancelExportDataRequest(input: $input) {\n            exportDataRequest {\n                dbId\n                status\n                downloadUrl\n                createdAt\n            }\n        }\n    }\n"]);return C0=function(){return e},e}function _0(){var e=T0(["\n    mutation createExportDataRequest {\n        createExportDataRequest {\n            exportDataRequest {\n                dbId\n                status\n                downloadUrl\n                createdAt\n            }\n        }\n    }\n"]);return _0=function(){return e},e}function I0(){var e=T0(["\n    {\n        viewer {\n            exportDataRequests {\n                dbId\n                status\n                downloadUrl\n                createdAt\n            }\n        }\n    }\n"]);return I0=function(){return e},e}function T0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function R0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P0=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getList",value:function(){return m.a.dispatch(S0.n(!0)),m.a.dispatch(S0.l(!1)),xe.a.query({query:A0}).then((function(e){var t=e.data.viewer.exportDataRequests;return m.a.dispatch(S0.n(!1)),m.a.dispatch(S0.m(t)),Promise.resolve(t)})).catch((function(e){return l.b.error(e),m.a.dispatch(S0.n(!1)),m.a.dispatch(S0.l(!0)),Promise.reject(e)}))}},{key:"createExportRequest",value:function(){return m.a.dispatch(S0.k(!0)),m.a.dispatch(S0.j(!1)),xe.a.mutate({mutation:N0}).then((function(e){var t=e.data.createExportDataRequest.exportDataRequest;return m.a.dispatch(S0.k(!1)),m.a.dispatch(S0.h(t)),Promise.resolve(t)})).catch((function(e){return l.b.error(e),m.a.dispatch(S0.k(!1)),m.a.dispatch(S0.j(!0)),Promise.reject(e)}))}},{key:"cancelRequest",value:function(e){return xe.a.mutate({mutation:j0,variables:{input:{dbId:e}}}).then((function(e){var t=e.data.cancelExportDataRequest.exportDataRequest;return m.a.dispatch(S0.i(t)),Promise.resolve(t)}))}}],(n=null)&&R0(t.prototype,n),r&&R0(t,r),e}(),A0=Ue()(I0()),N0=Ue()(_0()),j0=Ue()(C0()),k0={CREATED:"TYPE__CREATED",CANCELLED:"TYPE__CANCELLED",PROCESSING:"TYPE__PROCESSING",ERROR:"TYPE__ERROR",PROCESSED:"TYPE__PROCESSED"},D0=Object(ot.a)(it.a,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.exportUserDataRequests})),L0=Object(ot.a)(D0,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.loading})),M0=Object(ot.a)(D0,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createLoading})),x0=(Object(ot.a)(D0,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.hasError})),Object(ot.a)(D0,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.list}))),F0=Object(ot.a)(x0,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0;return e.forEach((function(e){[k0.PROCESSING,k0.CREATED].includes(e.status)&&(t=!1)})),t}));function U0(e){return(U0="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V0(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function G0(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){V0(o,r,a,i,c,"next",e)}function c(e){V0(o,r,a,i,c,"throw",e)}i(void 0)}))}}function q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B0(e){return(B0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W0(e,t){return(W0=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q0(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Y0=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=B0(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==U0(a)&&"function"!==typeof a?Q0(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Q0(Q0(n)),"createExportRequest",G0(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.i18n,e.prev=1,e.next=4,P0.createExportRequest();case 4:ft.a.addSuccess(t._("Export request created successfully")),dt.a.closeModal(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),l.b.error(e.t0),ft.a.addError(t._("Failed to create export request"));case 12:case"end":return e.stop()}}),e,this,[[1,8]])})))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W0(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement(O0,{createExportRequest:this.createExportRequest,loading:this.props.loading})}}])&&q0(n.prototype,r),a&&q0(n,a),t}(a.Component),H0=Object(s.b)((function(e){return{loading:M0(e)}}))(Object(U.withI18n)()(Y0));n("Y3Gn"),n("hMkO");function z0(e){return(z0="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X0(e,t){return!t||"object"!==z0(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J0(e){return(J0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z0(e,t){return(Z0=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $0=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),X0(this,J0(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z0(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.loading,r=e.createDeleteRequest,a=[o.a.createElement(bb.a,{id:"button-delete-user-data-confirm-back",secondary:!0,ariaLabel:t._("Back"),enabled:!n,onClick:dt.a.showPreviousModal},o.a.createElement(U.Trans,{id:"Back"})),o.a.createElement(bb.a,{id:"button-delete-user-data-confirm-cancel",secondary:!0,ariaLabel:t._("Cancel"),enabled:!n,onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(bb.a,{id:"button-delete-user-data-confirm-delete",primary:!0,ariaLabel:t._("Delete"),enabled:!n,isLoading:n,onClick:r},o.a.createElement(U.Trans,{id:"Confirm"}))];return o.a.createElement(mb.a,{actions:a,ariaLabel:t._("Delete my account"),id:"delete-user-data-dialog",title:t._("Delete user confirmation"),dialogClassName:"c-confirm-user-delete-dialog",modal:!0,visible:!0},o.a.createElement(U.Trans,{id:"<0>Are you sure you want to delete your account? When this request is processed you will not have access to your account or data. Select CONFIRM to proceed.</0>",components:[o.a.createElement("p",null)]}))}}])&&K0(n.prototype,r),a&&K0(n,a),t}(a.Component),e1=Object(U.withI18n)()($0),t1=n("Q0J0");function n1(){var e=a1(["\n    mutation createExportDataRequest {\n        createUserDeletionRequest {\n            userDeletionRequest {\n                dbId\n                status\n                createdAt\n            }\n        }\n    }\n"]);return n1=function(){return e},e}function r1(){var e=a1(["\n    {\n        viewer {\n            userDeletionRequests {\n                dbId\n                status\n                createdAt\n            }\n        }\n    }\n"]);return r1=function(){return e},e}function a1(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i1=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getList",value:function(){return m.a.dispatch(t1.m(!0)),m.a.dispatch(t1.k(!1)),xe.a.query({query:c1}).then((function(e){var t=e.data.viewer.userDeletionRequests;return m.a.dispatch(t1.m(!1)),m.a.dispatch(t1.l(t)),Promise.resolve(t)})).catch((function(e){return l.b.error(e),m.a.dispatch(t1.m(!1)),m.a.dispatch(t1.k(!0)),Promise.reject(e)}))}},{key:"createDeleteRequest",value:function(){return m.a.dispatch(t1.j(!0)),m.a.dispatch(t1.i(!1)),xe.a.mutate({mutation:s1}).then((function(e){var t=e.data.createUserDeletionRequest.userDeletionRequest;return m.a.dispatch(t1.j(!1)),m.a.dispatch(t1.h(t)),Promise.resolve(t)})).catch((function(e){return l.b.error(e),m.a.dispatch(t1.j(!1)),m.a.dispatch(t1.i(!0)),Promise.reject(e)}))}}],(n=null)&&o1(t.prototype,n),r&&o1(t,r),e}(),c1=Ue()(r1()),s1=Ue()(n1()),u1=Object(ot.a)(it.a,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.deleteUserRequests})),l1=Object(ot.a)(u1,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.loading})),d1=Object(ot.a)(u1,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createLoading})),f1=(Object(ot.a)(u1,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.hasError})),Object(ot.a)(u1,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.list}))),p1=Object(ot.a)(f1,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0;return e.forEach((function(e){[k0.PROCESSING,k0.CREATED].includes(e.status)&&(t=!1)})),t}));function m1(e){return(m1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b1(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function y1(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b1(o,r,a,i,c,"next",e)}function c(e){b1(o,r,a,i,c,"throw",e)}i(void 0)}))}}function v1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h1(e){return(h1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g1(e,t){return(g1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O1=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=h1(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==m1(a)&&"function"!==typeof a?E1(r):a,w1(E1(E1(n)),"state",{createDeleteRequestIsLoading:!1}),w1(E1(E1(n)),"createDeleteRequest",y1(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.i18n,e.prev=1,e.next=4,i1.createDeleteRequest();case 4:ft.a.addSuccess(t._("Delete request created successfully")),dt.a.closeModal(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),l.b.error(e.t0),ft.a.addError(t._("Failed to create delete request"));case 12:case"end":return e.stop()}}),e,this,[[1,8]])})))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g1(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement(e1,{loading:this.props.loading,createDeleteRequest:this.createDeleteRequest})}}])&&v1(n.prototype,r),a&&v1(n,a),t}(a.Component),S1=Object(s.b)((function(e){return{loading:d1(e)}}))(Object(U.withI18n)()(O1));function C1(e){return(C1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I1(e,t){return!t||"object"!==C1(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T1(e){return(T1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R1(e,t){return(R1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P1=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I1(this,T1(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R1(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n,t=[o.a.createElement(bb.a,{id:"button-delete-user-data-cancel",secondary:!0,ariaLabel:e._("Cancel"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(bb.a,{id:"button-delete-user-data-delete",primary:!0,ariaLabel:e._("Delete"),onClick:function(){return dt.a.showNextModal(o.a.createElement(S1,null))}},o.a.createElement(U.Trans,{id:"Send delete request"}))];return o.a.createElement(mb.a,{actions:t,ariaLabel:e._("Delete my account"),id:"delete-user-data-dialog",title:e._("Delete user requests"),dialogClassName:"c-delete-user-data-dialog ",modal:!0,visible:!0},o.a.createElement(U.Trans,{id:"<0>Select SEND DELETE REQUEST to create a request to delete your account. When this request is processed you will not have access to your account or data. Request can take up to 30 days to process.</0>",components:[o.a.createElement("p",null)]}))}}])&&_1(n.prototype,r),a&&_1(n,a),t}(a.Component),A1=Object(U.withI18n)()(P1);function N1(e){return(N1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k1(e,t){return!t||"object"!==N1(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D1(e){return(D1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L1(e,t){return(L1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M1=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k1(this,D1(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L1(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement(A1,null)}}])&&j1(n.prototype,r),a&&j1(n,a),t}(a.Component);n("UESQ");function x1(e){return(x1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U1(e,t){return!t||"object"!==x1(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V1(e){return(V1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G1(e,t){return(G1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q1=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U1(this,V1(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G1(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isLoading,r=e.submit,a=e.isMarketingCommunicationAccepted,i=e.onAcceptChange,c=[o.a.createElement(bb.a,{id:"button-marketing-dialog-cancel",secondary:!0,ariaLabel:t._("Cancel"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(bb.a,{id:"button-marketing-dialog-submit",primary:!0,ariaLabel:t._("Submit"),enabled:!n,isLoading:n,onClick:r},o.a.createElement(U.Trans,{id:"Submit"}))];return o.a.createElement(mb.a,{actions:c,ariaLabel:t._("Marketing Communications"),id:"marketing-communications-dialog",title:t._("Marketing Communications"),dialogClassName:"c-marketing-communications-dialog",modal:!0,visible:!0},o.a.createElement(ZA.a,{id:"marketing-communications",name:"marketing-communications",label:t._("I agree to receive marketing communications regarding your products and services."),ariaLabel:t._("I agree to receive marketing communications regarding your products and services."),checked:a,onChange:i}))}}])&&F1(n.prototype,r),a&&F1(n,a),t}(a.Component),B1=Object(U.withI18n)()(q1);function W1(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\nmutation editUserMarketingCommunicationSettings ($input: EditUserMarketingCommunicationSettingsInput!) {\n  editUserMarketingCommunicationSettings(input: $input) {\n    user {\n      dbId\n    }\n    errors {\n      path\n      message\n    }\n  }\n}\n"]);return W1=function(){return e},e}function Q1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y1=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"acceptMarketingCommunications",value:function(e){return xe.a.mutate({mutation:H1,variables:{input:{marketingCommunicationAccepted:e}}}).then((function(t){var n=t.data.editUserMarketingCommunicationSettings.user.dbId;return m.a.dispatch(Ki.s(e)),Promise.resolve(n)}))}}],(n=null)&&Q1(t.prototype,n),r&&Q1(t,r),e}(),H1=Ue()(W1());function z1(e){return(z1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K1(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function X1(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){K1(o,r,a,i,c,"next",e)}function c(e){K1(o,r,a,i,c,"throw",e)}i(void 0)}))}}function J1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z1(e){return(Z1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $1(e,t){return($1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function e8(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n8=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Z1(t).call(this,e),n=!a||"object"!==z1(a)&&"function"!==typeof a?e8(r):a,t8(e8(e8(n)),"onAcceptChange",(function(e){n.setState({isMarketingCommunicationAccepted:e})})),t8(e8(e8(n)),"submit",X1(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.i18n,e.prev=1,n.setState({isLoading:!0}),e.next=5,Y1.acceptMarketingCommunications(n.state.isMarketingCommunicationAccepted);case 5:ft.a.addSuccess(t._("Marketing communication settings saved successfully")),n.setState({isLoading:!1}),dt.a.closeModal(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),l.b.error(e.t0),ft.a.addError(t._("Failed to save marketing communication settings")),n.setState({isLoading:!1});case 15:case"end":return e.stop()}}),e,this,[[1,10]])})))),n.state={isMarketingCommunicationAccepted:!!n.props.isMarketingCommunicationAccepted,isLoading:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$1(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement(B1,{isMarketingCommunicationAccepted:this.state.isMarketingCommunicationAccepted,isLoading:this.state.isLoading,submit:this.submit,onAcceptChange:this.onAcceptChange})}}])&&J1(n.prototype,r),a&&J1(n,a),t}(a.Component),r8=Object(s.b)((function(e){return{isMarketingCommunicationAccepted:Qe.e(e)}}))(Object(U.withI18n)()(n8));function a8(e){return(a8="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o8(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d8(e,t,n[t])}))}return e}function c8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s8(e){return(s8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u8(e,t){return(u8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l8(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f8=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=s8(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==a8(a)&&"function"!==typeof a?l8(r):a,d8(l8(l8(n)),"getColumns",(function(){var e=n.props.i18n;return[{label:e._("Request Type"),key:"request-type",renderer:function(e){return o.a.createElement("span",null,e.type)}},{label:e._("Date"),key:"date",renderer:function(e){return o.a.createElement(rW.a,{value:e.createdAt})}},{label:e._("Status"),key:"status",renderer:function(t){var n=e._("Pending");return t.status===k0.PROCESSED&&(n=e._("Complete")),t.status===k0.CANCELLED&&(n=e._("Cancelled")),o.a.createElement("span",null,n)}},{key:"actions",className:"u-width-50px",renderer:function(t,n){var r=t.downloadUrl,a=O.a.isFunction(t.cancel)&&t.status===k0.CREATED,i=[r&&o.a.createElement(pv.a,{key:"download",onClick:function(){window.open(r)},leftIcon:o.a.createElement(zc.a,{ariaLabel:e._("Download, icon")},re.a.DOWNLOAD),primaryText:e._("Download")}),a&&o.a.createElement(pv.a,{key:"delete",onClick:function(){t.cancel()},leftIcon:o.a.createElement(zc.a,{ariaLabel:e._("Delete, icon")},re.a.DELETE),primaryText:e._("Delete")})];return i=O.a.compact(i),(a||r)&&o.a.createElement(jW.a,{key:n,menuItems:i})}}]})),d8(l8(l8(n)),"getTableData",(function(){var e=n.props,t=e.exportRequests,r=e.deleteRequests,a=e.i18n,o=e.cancelExportRequest;t=t.map((function(e){return(e=i8({},e)).type=a._("Export Private Data"),e.cancel=o.bind(null,e.dbId),e})),r=r.map((function(e){return(e=i8({},e)).type=a._("Delete User"),e}));var i=[].concat(o8(t),o8(r));return O.a.orderBy(i,["createdAt"])})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u8(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement(Lt.a,null,o.a.createElement(dk.a,{columns:this.getColumns(),listAccessor:"dbId",hasMobileListView:!1,data:this.getTableData(),onListRowSelect:function(){}}))}}])&&c8(n.prototype,r),a&&c8(n,a),t}(a.Component),p8=Object(U.withI18n)()(f8);function m8(e){return(m8="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b8(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function y8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v8(e){return(v8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h8(e,t){return(h8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g8(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var E8=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=v8(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==m8(a)&&"function"!==typeof a?g8(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(g8(g8(n)),"cancelExportRequest",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.i18n,e.prev=1,e.next=4,P0.cancelRequest(t);case 4:ft.a.addSuccess(r._("Export request cancelled successfully")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),l.b.error(e.t0),ft.a.addError(r._("Failed to cancel export request"));case 11:case"end":return e.stop()}}),e,this,[[1,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b8(o,r,a,i,c,"next",e)}function c(e){b8(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h8(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){P0.getList(),i1.getList()}},{key:"render",value:function(){var e=this.props,t=e.exportRequests,n=e.deleteRequests;return 0===t.length&&0===n.length?null:o.a.createElement(p8,{exportRequests:t,cancelExportRequest:this.cancelExportRequest,deleteRequests:n})}}])&&y8(n.prototype,r),a&&y8(n,a),t}(a.Component),w8=Object(U.withI18n)()(Object(s.b)((function(e){return{exportRequests:x0(e),deleteRequests:f1(e)}}))(E8));function O8(e){return(O8="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C8(e){return(C8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _8(e,t){return(_8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I8(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var T8=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=C8(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==O8(a)&&"function"!==typeof a?I8(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(I8(I8(n)),"getMenuActions",(function(){var e=n.props,t=e.i18n,r=e.canCreateDeleteRequest,a=e.canCreateExportRequest,i=e.deleteRequestsLoading,c=e.exportRequestsLoading;return[{primaryText:t._("Export private data"),disabled:!a||c,onClick:function(){return dt.a.showModal(o.a.createElement(H0,null))},leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Export user data, icon")},re.a.DOWNLOAD)},{primaryText:t._("Delete user data"),disabled:!r||i,onClick:function(){return dt.a.showModal(o.a.createElement(M1,null))},leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Delete user data, icon")},re.a.DELETE)},{primaryText:t._("Marketing Communications"),onClick:function(){return dt.a.showModal(o.a.createElement(r8,null))},leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Marketing Communications, icon")},re.a.EMAIL)}]})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_8(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.termClassId,r=e.isGdprSubject;return o.a.createElement(Dt.a,{title:t._("Helpdesk support information")},o.a.createElement(mx,{classId:n,context:JA.a.SUPPORT,menuActions:r?this.getMenuActions():[]}),o.a.createElement(b0,{termClassId:n}),o.a.createElement(w8,null))}}])&&S8(n.prototype,r),a&&S8(n,a),t}(a.Component);T8.propTypes={termClassId:c.a.number};var R8=Object(U.withI18n)()(T8);function P8(e){return(P8="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N8(e,t){return!t||"object"!==P8(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j8(e){return(j8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k8(e,t){return(k8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D8=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N8(this,j8(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k8(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.match.params.classId,n=e.isGdprSubject,r=e.canCreateDeleteRequest,a=e.canCreateExportRequest,i=e.deleteRequestsLoading,c=e.exportRequestsLoading;return o.a.createElement(R8,{termClassId:+t,isGdprSubject:n,deleteRequestsLoading:i,exportRequestsLoading:c,canCreateDeleteRequest:r,canCreateExportRequest:a})}}])&&A8(n.prototype,r),a&&A8(n,a),t}(a.Component),L8=Object(s.b)((function(e){return{isGdprSubject:Qe.c(e),canCreateDeleteRequest:p1(e),canCreateExportRequest:F0(e),deleteRequestsLoading:l1(e),exportRequestsLoading:L0(e)}}))(D8),M8=n("sjRd"),x8=n("bFdo");function F8(e){return(F8="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V8(e){return(V8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G8(e,t){return(G8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q8(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var B8=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=V8(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==F8(a)&&"function"!==typeof a?q8(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(q8(q8(n)),"getMenuActions",(function(){var e=n.props,t=e.i18n,r=e.canCreateDeleteRequest,a=e.canCreateExportRequest,i=e.deleteRequestsLoading,c=e.exportRequestsLoading;return[{primaryText:t._("Export private data"),disabled:!a||c,onClick:function(){return dt.a.showModal(o.a.createElement(H0,null))},leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Export user data, icon")},re.a.DOWNLOAD)},{primaryText:t._("Delete user data"),disabled:!r||i,onClick:function(){return dt.a.showModal(o.a.createElement(M1,null))},leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Delete user data, icon")},re.a.DELETE)},{primaryText:t._("Marketing Communications"),onClick:function(){return dt.a.showModal(o.a.createElement(r8,null))},leftIcon:o.a.createElement(zc.a,{ariaLabel:t._("Marketing Communications, icon")},re.a.EMAIL)}]})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G8(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.termClassId,r=e.institution,a=e.isGdprSubject;return o.a.createElement(Dt.a,{title:t._("Helpdesk support information")},o.a.createElement(M8.a,{menuOptions:a?this.getMenuActions():[],hideNavigation:Sc.b(r),classId:n,navigationDrawerType:x8.a.STUDENT}),o.a.createElement(b0,{termClassId:n}),o.a.createElement(w8,null))}}])&&U8(n.prototype,r),a&&U8(n,a),t}(a.Component);B8.propTypes={termClassId:c.a.number,institution:c.a.object};var W8=Object(U.withI18n)()(B8);function Q8(e){return(Q8="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H8(e,t){return!t||"object"!==Q8(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z8(e){return(z8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K8(e,t){return(K8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X8=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),H8(this,z8(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K8(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.match.params.classId,n=e.institution,r=e.isGdprSubject,a=e.canCreateDeleteRequest,i=e.canCreateExportRequest,c=e.deleteRequestsLoading,s=e.exportRequestsLoading;return o.a.createElement(W8,{termClassId:+t,institution:n,canCreateDeleteRequest:a,canCreateExportRequest:i,deleteRequestsLoading:c,exportRequestsLoading:s,isGdprSubject:r})}}])&&Y8(n.prototype,r),a&&Y8(n,a),t}(a.Component),J8=Object(s.b)((function(e){return{institution:Ye.i(e),isGdprSubject:Qe.c(e),canCreateDeleteRequest:p1(e),canCreateExportRequest:F0(e),deleteRequestsLoading:l1(e),exportRequestsLoading:L0(e)}}))(X8);n("LlgI");function Z8(e){return(Z8="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e2(e){return(e2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function t2(e,t){return(t2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n2(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var r2="meeting-preview-message",a2=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=e2(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Z8(a)&&"function"!==typeof a?n2(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(n2(n2(n)),"createMessageContent",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re.a.INFO_OUTLINE,r=arguments.length>2?arguments[2]:void 0,a=n.props.i18n;return o.a.createElement("div",{className:r2},o.a.createElement(Oe.a,{className:"".concat(r2,"-icon--left")},t),o.a.createElement("div",{className:"".concat(r2,"-text")},o.a.createElement("h2",null,r||a._("Recording Not Available")),o.a.createElement("p",null,e),o.a.createElement("p",null)))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&t2(e,t)}(t,e),n=t,(r=[{key:"getMeetingContent",value:function(){var e,t,n=this.props,r=n.i18n,a=n.meeting;return a?(a.startedAt&&(e=this.formatDate(a.startedAt)),a.finishedAt&&(t=this.formatDate(a.finishedAt)),a.status===Bt.NOT_HELD?this.createMessageContent(r._("This meeting did not occur. Please contact the facilitator if you have any questions.")):a.status===Bt.CANCELED?this.createMessageContent(r._("This meeting was cancelled.")):a.recordingLinkEnabled&&(a.media||a.status!==Bt.PROCESSED&&a.status!==Bt.FINISHED)?a.media?a.media.recordingAvailability&&a.media.recordingAvailability===en.D2L_FREEMIUM_EXPIRED?this.createMessageContent(r._("This meeting is no longer available.")):a.media.processingStatus===Rv.a.READY?o.a.createElement(Mt.a,{id:"meeting-preview-player",playerId:"Standalone bbb meeting player #"+a.dbId,media:a.media,usageContext:Kh.a.DIRECT_LIBRARY}):this.createMessageContent(r._("This meeting is currently processing. Please check back later.")):this.createMessageContent(r._("Unexpected error"),re.a.ERROR):this.createMessageContent(r._("This meeting started at {startedAt} and finished at {finishedAt}. Please contact the facilitator if you have any questions.",{startedAt:e,finishedAt:t}))):this.createMessageContent("",re.a.ERROR)}},{key:"formatDate",value:function(e){return Object(Pf.e)(Object(Pf.n)(e),ia.a.SHORT,Object(Zi.e)(this.props.locale))}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.meeting,r=e.isLoading,a=e.hasError,i=e.reloadData;if(r)return o.a.createElement(te.a,{loading:!0});var c=null;if(n){var s=n.title,u=this.formatDate(n.scheduledAt);c=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,t._("Title: {meetingTitle}",{meetingTitle:s})),o.a.createElement("div",null,t._("Scheduled at: {meetingDate}",{meetingDate:u})))}return o.a.createElement(Dt.a,{title:t._("Meeting Recording"),description:c},a&&o.a.createElement(Gt,{message:t._("Failed to load recording"),buttonTitle:t._("Try again"),reloadData:i}),!a&&o.a.createElement(Lt.a,null,this.getMeetingContent()))}}])&&$8(n.prototype,r),a&&$8(n,a),t}(a.Component),o2=Object(U.withI18n)()(a2);function i2(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    query getMeeting($meetingId: Int!, $termClassId: Int!) {\n        termClass(dbId: $termClassId) {\n            meeting(dbId: $meetingId) {\n                dbId\n                title\n                lobbyPageUrl\n                recordingLinkEnabled\n                scheduledAt\n                startedAt\n                finishedAt\n                status\n                media {\n                    ...MediaFull\n                }\n                downloadUrl\n        }\n        }\n    }\n    ","\n"]);return i2=function(){return e},e}function c2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s2=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getMeeting",value:function(e,t){return xe.a.query({query:u2,variables:{meetingId:t,termClassId:e}}).then((function(e){var t=e.errors;return t&&t.length?Promise.reject(t):Promise.resolve(e.data.termClass.meeting)}))}}],(n=null)&&c2(t.prototype,n),r&&c2(t,r),e}(),u2=Ue()(i2(),fn.d);function l2(e){return(l2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d2(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function f2(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d2(o,r,a,i,c,"next",e)}function c(e){d2(o,r,a,i,c,"throw",e)}i(void 0)}))}}function p2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m2(e){return(m2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b2(e,t){return(b2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y2(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h2=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=m2(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==l2(a)&&"function"!==typeof a?y2(r):a,v2(y2(y2(n)),"state",{meeting:null,isLoading:!1,hasError:!1}),v2(y2(y2(n)),"getData",f2(regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,r=t.classId,a=t.meetingId,n.setState({isLoading:!0,hasError:!1}),e.prev=2,e.next=5,s2.getMeeting(+r,+a);case 5:o=e.sent,n.setState({meeting:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n.setState({hasError:!0});case 12:return e.prev=12,n.setState({isLoading:!1}),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[2,9,12,15]])})))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b2(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getData().catch((function(e){l.b.error(e)}))}},{key:"render",value:function(){var e=this.state,t=e.meeting,n=e.isLoading,r=e.hasError;return o.a.createElement(o2,{meeting:t,locale:this.props.locale,isLoading:n,reloadData:this.getData,hasError:r})}}])&&p2(n.prototype,r),a&&p2(n,a),t}(a.Component),g2=Object(s.b)((function(e){return{locale:jS.a(e)}}))(h2),E2=n("ST1l"),w2=(n("Ezck"),n("e3lx")),O2=n.n(w2),S2=n("KpFV"),C2=n.n(S2);n("Uzro"),n("e5SK"),n("zeqS");function _2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I2(){return(I2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T2=O2.a.momentLocalizer(Ea.a),R2=C2()(O2.a);function P2(e){return Ea()(e).format("dddd hh:mm A")}var A2=function(e){var t=e.components,n=void 0===t?{}:t,r=e.i18n,a=function(t){var n=t.event,a=n.dbId,i=n.start,c=n.end,s=P2(i),u=P2(c),l=r._("Remove time range from {startTime} to {endTime}",{startTime:s,endTime:u});return o.a.createElement("span",{className:"c-calendar__delete-button",role:"button",tabIndex:0,onKeyDown:Object(Dw.b)((function(){e.onEventDelete&&e.onEventDelete(a)})),"aria-label":l,title:l,onClick:function(){e.onEventDelete&&e.onEventDelete(a)}},o.a.createElement(zc.a,null,re.a.DELETE))};return a.displayName="EventCalendarComponent",o.a.createElement("div",{className:"c-calendar"},o.a.createElement(R2,I2({},function(e){return O.a.pick(e,Object.keys(A2.componentProps))}(e),{localizer:T2,components:Object.assign(n,{event:a})})))};A2.componentProps={defaultDate:c.a.object,date:c.a.object,formats:c.a.object,style:c.a.object,culture:c.a.string,defaultView:c.a.string,views:c.a.arrayOf(c.a.string),selectable:c.a.bool,resizable:c.a.bool,toolbar:c.a.bool,onSelectSlot:c.a.func,onEventDrop:c.a.func,onEventResize:c.a.func,components:c.a.object,onEventDelete:c.a.func,onNavigate:c.a.func,events:c.a.arrayOf(c.a.shape({dbId:c.a.any,start:c.a.object,end:c.a.object})),min:c.a.object},A2.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_2(e,t,n[t])}))}return e}({},A2.componentProps);var N2=Object(U.withI18n)()(A2);function j2(e){return(j2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D2(e,t){return!t||"object"!==j2(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L2(e){return(L2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M2(e,t){return(M2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x2=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),D2(this,L2(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M2(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isMobileLayout,r=e.onPreviousDay,a=e.previousDayEnabled,i=e.onNextDay,c=e.nextDayEnabled,s=e.currentDay,u=e.onRangeDelete,l=e.locale,d=e.onSelectSlot,f=e.ranges,p=e.moveRange,m=e.resizeRange,b=[t._("Sunday"),t._("Monday"),t._("Tuesday"),t._("Wednesday"),t._("Thursday"),t._("Friday"),t._("Saturday")],y=n?"day":"week";return o.a.createElement("div",null,n&&o.a.createElement("div",{className:"u-display-flex u-justify-end"},o.a.createElement(mj.a,{id:"button-group-formation-calendar-day-previous",onClick:r,enabled:a},re.a.LEFT),o.a.createElement(mj.a,{id:"button-group-formation-calendar-day-next",onClick:i,enabled:c},re.a.RIGHT)),o.a.createElement(N2,{defaultDate:new Date(1970,0,s),date:new Date(1970,0,s),formats:{dayFormat:function(e){return b[e.getDay()]}},onNavigate:function(){},onEventDelete:u,culture:l.frontend,onSelectSlot:d,selectable:!0,events:f,onEventDrop:p,resizable:!0,onEventResize:m,defaultView:y,views:[y],toolbar:!1,style:{height:"500px"}}))}}])&&k2(n.prototype,r),a&&k2(n,a),t}(a.Component);x2.propTypes={isMobileLayout:c.a.bool.isRequired,onPreviousDay:c.a.func.isRequired,previousDayEnabled:c.a.bool.isRequired,onNextDay:c.a.func.isRequired,nextDayEnabled:c.a.bool.isRequired,currentDay:c.a.number.isRequired,onRangeDelete:c.a.func.isRequired,locale:c.a.object.isRequired,onSelectSlot:c.a.func.isRequired,ranges:c.a.array.isRequired,moveRange:c.a.func.isRequired,resizeRange:c.a.func.isRequired};var F2=Object(U.withI18n)()(x2);function U2(e){return(U2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G2(e,t){return!t||"object"!==U2(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q2(e){return(q2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B2(e,t){return(B2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W2=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),G2(this,q2(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B2(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.totalTime,r=n.hours,a=n.minutes,i=e.locale,c=e.isMobileLayout,s=e.currentDay,u=e.previousDayEnabled,l=e.nextDayEnabled,d=e.isTotalTimeValid,f=e.errors,p=e.loading,m=e.institution,b=e.classId,y=e.groupInfo,v=y&&y.groupsFormedAt,h=y&&y.groupsFormationFinalizeAt<Ea()().unix()&&!y.groupsFormedAt;return p?o.a.createElement(te.a,{loading:!0}):o.a.createElement(Dt.a,{title:t._("System Group Formation"),className:"c-system-groups"},o.a.createElement(Ms.b,{title:this.props.getQuickNav(),hideNavigation:Sc.b(m),classId:b,navigationDrawerType:VD.b.STUDENT}),!v&&!h&&o.a.createElement(Lt.a,null,f.map((function(e){return o.a.createElement("p",{key:e,className:"u-error"},e)})),y&&o.a.createElement("p",{className:"u-display-flex u-align-items-center"},o.a.createElement(zc.a,{ariaLabel:t._("Formation info, icon")},re.a.INFO_OUTLINE),o.a.createElement("span",null,"\xa0\xa0"),o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"Groups will be formed at <0><1/></0>. Provided schedule will be used across all assignments with same group forming type.",components:[o.a.createElement("b",null),o.a.createElement(rW.a,{value:y.groupsFormationFinalizeAt})]}))),o.a.createElement(F2,{currentDay:s,previousDayEnabled:u,nextDayEnabled:l,isMobileLayout:c,onEventDelete:this.props.onRangeDelete,locale:i,onSelectSlot:this.props.onSelectSlot,ranges:this.props.ranges,onEventDrop:this.props.moveRange,onEventResize:this.props.resizeRange,onNextDay:this.props.onNextDay,onPreviousDay:this.props.onPreviousDay,moveRange:this.props.moveRange,onRangeDelete:this.props.onRangeDelete,resizeRange:this.props.resizeRange}),o.a.createElement("div",{className:E()("c-system-groups__total-time",d?"c-system-groups__total-time--valid":"c-system-groups__total-time--invalid"),title:t._("Total time")},o.a.createElement(zc.a,{ariaLabel:t._("Total time, icon")},re.a.ACCESS_TIME),o.a.createElement("span",null,"\xa0"),o.a.createElement("span",null,t._("Total time selected:")),o.a.createElement("span",{className:"c-system-groups__total-time-text"},Object(Pf.a)(r),":",Object(Pf.a)(a),"."),o.a.createElement("span",null,"\xa0"),!d&&o.a.createElement("span",null,t._("At least {MIN_TOTAL_TIME_HOURS} hours must be selected.",{MIN_TOTAL_TIME_HOURS:6}))),o.a.createElement("div",{className:"u-display-flex u-justify-end"},o.a.createElement(E2.a,{id:"button-system-group-formation-save",onClick:this.props.onSave,primary:!0,enabled:!this.props.submitting&&d},t._("Save"))),o.a.createElement(lQ.a,{id:"speed-dial-group-formation",tooltip:{label:t._("Add new time range")}},o.a.createElement(dQ.a,{key:"add_time_range",id:"speed-dial-item-add-range",onClick:this.props.showAddTimeRangeModal,ariaLabel:t._("Add new time range"),tooltip:{label:t._("Add new time range")}})),o.a.createElement(MI,null,(function(e){var n=e.loading,r=e.clickHandler;return o.a.createElement("div",{className:"u-display-flex u-justify-end"},o.a.createElement(bb.a,{id:"button-group-formation-system-view-assignment",isLoading:n,primary:!0,onClick:r,ariaLabel:t._("View Assignment")},t._("View Assignment")))}))),v&&o.a.createElement(Lt.a,null,o.a.createElement(U.Trans,{id:"<0><1>{0}</1><2>\xa0\xa0</2><3>{1}</3></0>",values:{0:re.a.INFO_OUTLINE,1:t._("Groups for provided activity are already formed")},components:[o.a.createElement("p",{className:"u-display-flex u-align-items-center"}),o.a.createElement(zc.a,{ariaLabel:t._("Formation info, icon")}),o.a.createElement("span",null),o.a.createElement("span",null)]}),o.a.createElement(MI,null,(function(e){var n=e.loading,r=e.clickHandler;return o.a.createElement("div",{className:"u-display-flex u-justify-end"},o.a.createElement(bb.a,{id:"button-group-formation-system-formed-view-assignment",primary:!0,isLoading:n,onClick:r,ariaLabel:t._("View Assignment")},t._("View Assignment")))}))),h&&o.a.createElement(Lt.a,null,o.a.createElement("p",{className:"u-display-flex u-align-items-center"},o.a.createElement(zc.a,{ariaLabel:t._("Formation info, icon")},re.a.INFO_OUTLINE),o.a.createElement("span",null,"\xa0\xa0"),o.a.createElement("span",null,t._("We are forming groups now, please visit this page later"))),o.a.createElement(MI,null,(function(e){var n=e.loading,r=e.clickHandler;return o.a.createElement("div",{className:"u-display-flex u-justify-end"},o.a.createElement(bb.a,{id:"button-group-formation-system-forming-view-assignment",primary:!0,isLoading:n,onClick:r,ariaLabel:t._("View Assignment")},t._("View Assignment")))}))))}}])&&V2(n.prototype,r),a&&V2(n,a),t}(a.Component),Q2=Object(U.withI18n)()(W2);function Y2(){var e=K2(["\nquery getGroupInfo($activityId: Int!){\n  activity(dbId: $activityId) {\n    groupsFormationFinalizeAt\n    groupsFormedAt\n    name\n  }\n}\n"]);return Y2=function(){return e},e}function H2(){var e=K2(["\n{\n  viewer {\n    availabilityDateRanges {\n      dbId\n      start\n      end\n    }\n  }\n}\n"]);return H2=function(){return e},e}function z2(){var e=K2(["\nmutation saveRanges($input: CreateStudentDateRangeInput!) {\n  createStudentDateRange(input:$input) {\n    ranges {\n      dbId\n      start\n      end\n    }\n    errors {\n      path\n      message\n    }\n  }\n}\n"]);return z2=function(){return e},e}function K2(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function X2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J2=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"saveRanges",value:function(e){return xe.a.mutate({mutation:Z2,variables:{input:{ranges:e}}}).then((function(e){var t=e.data.createStudentDateRange.errors;return t&&t.length?Promise.reject(t):Promise.resolve(e.data.createStudentDateRange.ranges)}))}},{key:"getRanges",value:function(){return xe.a.query({query:$2}).then((function(e){var t=O.a.merge([],e.data.viewer.availabilityDateRanges);return Promise.resolve(t)}))}},{key:"getGroupInfo",value:function(e){return xe.a.query({query:e5,variables:{activityId:e}}).then((function(e){return Promise.resolve(e.data.activity)}))}}],(n=null)&&X2(t.prototype,n),r&&X2(t,r),e}(),Z2=Ue()(z2()),$2=Ue()(H2()),e5=Ue()(Y2()),t5=n("khwW"),n5=n("jztT");n("la5r");function r5(e){return(r5="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o5(e,t){return!t||"object"!==r5(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i5(e){return(i5=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c5(e,t){return(c5=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s5=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o5(this,i5(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c5(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.range,r=e.currentDay,a=[];return a.push(o.a.createElement(bb.a,{id:"button-group-formation-add-range-dialog-cancel",secondary:!0,ariaLabel:t._("Cancel"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"Cancel"}))),a.push(o.a.createElement(bb.a,{id:"button-group-formation-add-range-dialog-add",secondary:!0,ariaLabel:t._("Add"),enabled:this.props.isFormValid(),onClick:this.props.onAdd},o.a.createElement(U.Trans,{id:"Add"}))),o.a.createElement(mb.a,{actions:a,dialogClassName:"c-add-time-range-dialog",id:"add-time-range-dialog",title:t._("Add time range"),modal:!0,autosizeContent:!1,visible:!0},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(qL.b,{id:"add-range-day",placeholder:t._("Day of week"),value:r.getTime(),onChange:this.props.onDayChange,menuItems:this.props.getDaysList()})),o.a.createElement("div",null,o.a.createElement(qL.b,{label:t._("From"),id:"add-range-start-time",value:n.start?n.start.getTime():"",onChange:this.props.onStartChange,menuItems:this.props.getStartTimeList(n,r)})),o.a.createElement("div",null,o.a.createElement(qL.b,{label:t._("To"),id:"add-range-end-time",value:n.end?n.end.getTime():"",onChange:this.props.onEndChange,menuItems:this.props.getEndTimeList(n,r)}))))}}])&&a5(n.prototype,r),a&&a5(n,a),t}(a.Component),u5=Object(U.withI18n)()(s5);function l5(e){return(l5="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y5(e,t,n[t])}))}return e}function f5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p5(e){return(p5=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m5(e,t){return(m5=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b5(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v5=36e5,h5=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=p5(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==l5(a)&&"function"!==typeof a?b5(r):a,y5(b5(b5(n)),"state",{currentDay:new Date(1970,0,4),range:{start:null,end:null}}),y5(b5(b5(n)),"onDayChange",(function(e){n.setState({currentDay:new Date(e),range:{start:null,end:null}})})),y5(b5(b5(n)),"onStartChange",(function(e){var t=d5({},n.state.range);t.start=new Date(e),n.setState({range:t})})),y5(b5(b5(n)),"onEndChange",(function(e){var t=d5({},n.state.range);t.end=new Date(e),n.setState({range:t})})),y5(b5(b5(n)),"onAdd",(function(){n.isFormValid()&&(n.props.addRange(n.state.range.start,n.state.range.end),dt.a.closeModal())})),y5(b5(b5(n)),"isFormValid",(function(){return!!n.state.range.start&&!!n.state.range.end})),y5(b5(b5(n)),"getTimeList",(function(e){for(var t=[],n=0;n<24;n++){var r=Ea()(e.getTime()).hour(n);t.push({label:r.minutes(0).format("hh:mm A"),value:+r.minutes(0)}),t.push({label:r.minutes(30).format("hh:mm A"),value:+r.minutes(30)})}return t})),y5(b5(b5(n)),"getStartTimeList",(function(e,t){var r=e.start,a=e.end,o=n.props.isRangeOverlapped,i=n.getTimeList(r||t);return i=i.map((function(e){var t=new Date(e.value),n=o({start:t,end:a||t});return d5({},e,{disabled:a&&(t>a||a-t<v5)||n})}))})),y5(b5(b5(n)),"getEndTimeList",(function(e,t){var r=e.start,a=e.end,o=n.props.isRangeOverlapped,i=n.getTimeList(a||t);return i=i.map((function(e){var t=new Date(e.value),n=o({end:t,start:r||t});return d5({},e,{disabled:r&&(t<r||t-r<v5)||n})}))})),y5(b5(b5(n)),"getDaysList",(function(){var e=n.props.i18n;return[e._("Sunday"),e._("Monday"),e._("Tuesday"),e._("Wednesday"),e._("Thursday"),e._("Friday"),e._("Saturday")].map((function(e,t){return{label:e,value:+new Date(1970,0,t+4)}}))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m5(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.currentDay,n=e.range;return o.a.createElement(u5,{currentDay:t,range:n,getDaysList:this.getDaysList,getEndTimeList:this.getEndTimeList,getStartTimeList:this.getStartTimeList,isFormValid:this.isFormValid,onAdd:this.onAdd,onEndChange:this.onEndChange,onStartChange:this.onStartChange,onDayChange:this.onDayChange})}}])&&f5(n.prototype,r),a&&f5(n,a),t}(a.Component),g5=Object(U.withI18n)()(h5);function E5(e){return(E5="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){P5(e,t,n[t])}))}return e}function O5(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S5(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function C5(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S5(o,r,a,i,c,"next",e)}function c(e){S5(o,r,a,i,c,"throw",e)}i(void 0)}))}}function _5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I5(e){return(I5=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T5(e,t){return(T5=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R5(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A5={SUNDAY:4,MONDAY:5,TUESDAY:6,WEDNESDAY:7,THURSDAY:8,FRIDAY:9,SATURDAY:10},N5=6,j5=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=I5(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==E5(a)&&"function"!==typeof a?R5(r):a,P5(R5(R5(n)),"state",{ranges:[],loading:!1,submitting:!1,errors:[],currentDay:A5.SUNDAY,previousDayEnabled:!1,nextDayEnabled:!0,groupInfo:null}),P5(R5(R5(n)),"onNextDay",(function(){if(n.state.currentDay!==A5.SATURDAY){var e=n.state.currentDay+1;n.setState({currentDay:e,previousDayEnabled:e!==A5.SUNDAY,nextDayEnabled:e!==A5.SATURDAY})}})),P5(R5(R5(n)),"onPreviousDay",(function(){if(n.state.currentDay!==A5.SUNDAY){var e=n.state.currentDay-1;n.setState({currentDay:e,previousDayEnabled:e!==A5.SUNDAY,nextDayEnabled:e!==A5.SATURDAY})}})),P5(R5(R5(n)),"getRanges",C5(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({loading:!0}),e.next=4,J2.getRanges();case 4:t=e.sent,t=n.normalizeRanges(t),n.setState({ranges:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),l.b.warn(e.t0);case 12:return e.prev=12,n.setState({loading:!1}),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[0,9,12,15]])})))),P5(R5(R5(n)),"getGroupInfo",C5(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.activityId,e.prev=1,e.next=4,J2.getGroupInfo(+t);case 4:r=e.sent,n.setState({groupInfo:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l.b.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})))),P5(R5(R5(n)),"onRangeDelete",(function(e){var t=n.state.ranges.filter((function(t){return t.dbId!==e}));n.setState({ranges:t})})),P5(R5(R5(n)),"moveRange",(function(e){var t=e.event,r=e.start,a=e.end,o=O5(n.state.ranges),i=w5({},t);i.start=r,i.end=n.getEndTime(r,a),n.isRangeOverlapped(i)||(o=o.map((function(e){return e.dbId===i.dbId?i:e})),n.setState({ranges:o}))})),P5(R5(R5(n)),"resizeRange",(function(e,t){var r=t.event,a=t.start,o=t.end;n.changeRange(r,a,o)})),P5(R5(R5(n)),"changeRange",(function(e,t,r){var a=n.state.ranges,o=w5({},e);if(o.start=t,o.end=n.getEndTime(t,r),!n.isRangeOverlapped(o)){var i=a.map((function(t){return t.dbId===e.dbId?w5({},t,{start:o.start,end:o.end}):t}));n.setState({ranges:i})}})),P5(R5(R5(n)),"getEndTime",(function(e,t){return t.getTime()-e.getTime()<36e5?new Date(Ea()(e.getTime()).add(1,"hours")):t})),P5(R5(R5(n)),"onSelectSlot",(function(e){n.addRange(e.start,e.end)})),P5(R5(R5(n)),"addRange",(function(e,t){var r=O5(n.state.ranges),a={start:e,end:t};a.end=n.getEndTime(a.start,a.end),a.dbId=xG()(5),n.isRangeOverlapped(a)||(r.push(a),n.setState({ranges:r}))})),P5(R5(R5(n)),"isRangeOverlapped",(function(e){var t=!1;return n.state.ranges.forEach((function(n){n.dbId!==e.dbId&&(e.start>=n.start&&e.start<n.end&&(t=!0),e.end>n.start&&e.end<=n.end&&(t=!0),n.start>=e.start&&n.start<e.end&&(t=!0),n.end>e.start&&n.end<=e.end&&(t=!0))})),t})),P5(R5(R5(n)),"onSave",C5(regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.i18n,n.state.ranges.map((function(e){return O.a.pick(e,["start","end"])})),r=n.state.ranges.map((function(e){var t=e.start,n=e.end;return{start:Ea()(t).utcOffset(0,!0).unix(),end:Ea()(n).utcOffset(0,!0).unix()}})),e.prev=3,n.setState({submitting:!0,errors:[]}),e.next=7,J2.saveRanges(r);case 7:a=e.sent,a=n.normalizeRanges(a),n.setState({ranges:a}),ft.a.addSuccess(t._("Time ranges successfully saved")),e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(3),o=[t._("Error during save of time ranges. Please try again.")],e.t0.length)try{o=O.a.values(zv(e.t0))}catch(i){l.b.warn(i)}n.setState({errors:o});case 18:return e.prev=18,n.setState({submitting:!1}),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,13,18,21]])})))),P5(R5(R5(n)),"getTotalTime",(function(){var e=0;return n.state.ranges.forEach((function(t){return e+=t.end.getTime()-t.start.getTime()})),Object(Pf.c)(e/1e3)})),P5(R5(R5(n)),"getCompiledPath",(function(e,t){return EI.a.compile(e)(t)})),P5(R5(R5(n)),"getQuickNav",(function(){var e=n.props,t=e.match,r=e.i18n,a=[];return a.push(o.a.createElement(t5.a,{key:"assignment-nav-item",text:n.state.groupInfo?n.state.groupInfo.name:r._("Assignment"),to:n.getCompiledPath(In.i.STUDENT_ACTIVITY,w5({},t.params))})),a.push(o.a.createElement(t5.a,{key:"activity-name-nav-item",text:r._("Group forming")})),o.a.createElement(n5.a,{navItems:a})})),P5(R5(R5(n)),"getSystemFormGroupPage",(function(e){var t=n.getTotalTime(),r=n.props.match.params.classId;return o.a.createElement(Q2,{onSave:n.onSave,getQuickNav:n.getQuickNav,groupInfo:n.state.groupInfo,institution:n.props.institution,classId:+r,totalTime:t,onNextDay:n.onNextDay,onPreviousDay:n.onPreviousDay,addRange:n.addRange,changeRange:n.changeRange,ranges:n.state.ranges,loading:n.state.loading,submitting:n.state.submitting,errors:n.state.errors,locale:n.props.locale,previousDayEnabled:n.state.previousDayEnabled,nextDayEnabled:n.state.nextDayEnabled,currentDay:n.state.currentDay,showAddTimeRangeModal:n.showAddTimeRangeModal,isMobileLayout:e,isTotalTimeValid:t.hours>=N5,onSelectSlot:n.onSelectSlot,isRangeOverlapped:n.isRangeOverlapped,resizeRange:n.resizeRange,moveRange:n.moveRange,onRangeDelete:n.onRangeDelete})})),P5(R5(R5(n)),"showAddTimeRangeModal",(function(){dt.a.showModal(o.a.createElement(g5,{isRangeOverlapped:n.isRangeOverlapped,addRange:n.addRange}))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T5(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getRanges().catch(),this.getGroupInfo().catch()}},{key:"normalizeRanges",value:function(e){return e.map((function(e){return e.start=new Date(Ea.a.unix(e.start).utc().format("LLL")),e.end=new Date(Ea.a.unix(e.end).utc().format("LLL")),e}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F.a,{query:"(max-width: 930px)"},this.getSystemFormGroupPage(!0)),o.a.createElement(F.a,{query:"(min-width: 931px)"},this.getSystemFormGroupPage(!1)))}}])&&_5(n.prototype,r),a&&_5(n,a),t}(a.Component),k5=Object(U.withI18n)()(Object(s.b)((function(e){return{locale:jS.a(e),institution:Ye.i(e)}}))(j5));n("l+gj");function D5(e){return(D5="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x5(e,t){return!t||"object"!==D5(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F5(e){return(F5=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U5(e,t){return(U5=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var V5=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),x5(this,F5(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U5(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.readNotifications,r=t.messages.filter((function(e){return!e.viewedAt})).length,a=o.a.createElement("span",null,o.a.createElement("span",{className:"c-notification__title"},t.activityName),r>0&&o.a.createElement("span",{className:"c-notification__unread"}," (".concat(r," unread)")));return o.a.createElement(hp.t,{label:a,onExpandToggle:function(e){return e&&n()},className:"c-notification",footer:null},t.messages.map((function(e){var t=!e.viewedAt;return o.a.createElement("div",{key:e.dbId,className:E()("c-notification__item",L5({},"c-notification__item--unread",t))},o.a.createElement("div",{className:"c-notification__item-date"},o.a.createElement(aE.a,{unixTime:e.createdAt,dateTimeFormat:ia.a.SHORT})),o.a.createElement("div",{className:"c-notification__item-text"},e.text))})))}}])&&M5(n.prototype,r),a&&M5(n,a),t}(a.Component),G5=Object(U.withI18n)()(V5);function q5(e){return(q5="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W5(e,t){return!t||"object"!==q5(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q5(e){return(Q5=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y5(e,t){return(Y5=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H5=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),W5(this,Q5(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y5(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.notifications,n=e.readNotifications;return o.a.createElement("div",{className:"c-notifications"},t.map((function(e){return o.a.createElement(G5,{key:e.activityId,readNotifications:n.bind(null,e.activityId),data:e})})))}}])&&B5(n.prototype,r),a&&B5(n,a),t}(a.Component);function z5(e){return(z5="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X5(e,t){return!t||"object"!==z5(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J5(e){return(J5=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z5(e,t){return(Z5=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $5=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),X5(this,J5(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z5(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.classId,r=e.notifications,a=e.loading,i=e.error,c=e.reloadData,s=e.readNotifications;if(a)return o.a.createElement(te.a,{loading:!0});var u=r&&!!r.length;return o.a.createElement(Dt.a,{title:t._("Notifications")},i&&o.a.createElement(Gt,{reloadData:c,buttonTitle:t._("Try again"),message:t._("Failed to load notifications data")}),o.a.createElement(mx,{classId:n,context:JA.a.NOTIFICATIONS}),u&&o.a.createElement(Lt.a,null,o.a.createElement(H5,{notifications:r,classId:n,readNotifications:s})),!i&&!u&&o.a.createElement(Lt.a,null,o.a.createElement("p",null,t._("No notifications yet"))))}}])&&K5(n.prototype,r),a&&K5(n,a),t}(a.Component),e3=Object(U.withI18n)()($5);function t3(){var e=r3(["\nmutation viewNotifications($input: UserNotificationSetAsReadInput!){\n  setUserNotificationsStatusRead(input: $input) {\n    updatedIds\n  }\n}\n"]);return t3=function(){return e},e}function n3(){var e=r3(["\nquery getNotifications($termClassDbId: Int!){\n  viewer {\n    notifications(termClassDbId: $termClassDbId) {\n      id\n      activity {\n        dbId\n        name\n      }\n      message\n      createdAt\n      viewedAt\n    }\n  }\n}\n"]);return n3=function(){return e},e}function r3(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o3=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getNotifications",value:function(e){return xe.a.query({query:i3,variables:{termClassDbId:e},fetchPolicy:"network-only"}).then((function(e){return Promise.resolve(e.data.viewer.notifications)}))}},{key:"normalizeNotifications",value:function(e){var t={};return e.forEach((function(e){var n=e.activity.dbId;t[n]||(t[n]={activityId:n,activityName:e.activity.name,messages:[]}),t[n].messages.push({dbId:e.id,text:e.message.split(":::")[1],createdAt:e.createdAt,viewedAt:e.viewedAt})})),O.a.values(t)}},{key:"viewNatifications",value:function(e,t){return xe.a.mutate({mutation:c3,variables:{input:{termClassDbId:e,notifications:t}}}).then((function(e){return Promise.resolve(e.data.setUserNotificationsStatusRead.updatedIds)}))}}],(n=null)&&a3(t.prototype,n),r&&a3(t,r),e}(),i3=Ue()(n3()),c3=Ue()(t3());function s3(e){return(s3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u3(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function l3(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u3(o,r,a,i,c,"next",e)}function c(e){u3(o,r,a,i,c,"throw",e)}i(void 0)}))}}function d3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f3(e){return(f3=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p3(e,t){return(p3=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m3(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y3=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=f3(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==s3(a)&&"function"!==typeof a?m3(r):a,b3(m3(m3(n)),"state",{notifications:[],loading:!1,error:!1}),b3(m3(m3(n)),"readNotifications",function(){var e=l3(regeneratorRuntime.mark((function e(t){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=O.a.merge([],n.state.notifications),a=n.props.match.params.classId,-1!==(o=O.a.findIndex(r,{activityId:t}))){e.next=5;break}return e.abrupt("return");case 5:return i=(i=(i=r[o].messages).filter((function(e){return!e.viewedAt}))).map((function(e){return e.dbId})),e.prev=8,e.next=11,o3.viewNatifications(+a,i);case 11:r[o]=O.a.merge({},r[o]),r[o].messages=r[o].messages.map((function(e){return e.viewedAt||(e.viewedAt=Ea()().unix()),e})),n.setState({notifications:r}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),l.b.error(e.t0);case 19:case"end":return e.stop()}}),e,this,[[8,16]])})));return function(t){return e.apply(this,arguments)}}()),b3(m3(m3(n)),"getNotifications",l3(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.classId,n.setState({loading:!0,error:!1}),e.prev=2,e.next=5,o3.getNotifications(+t);case 5:r=e.sent,r=o3.normalizeNotifications(r),n.setState({notifications:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n.setState({error:!0});case 13:return e.prev=13,n.setState({loading:!1}),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,10,13,16]])})))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p3(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getNotifications().catch()}},{key:"render",value:function(){var e=this.props.match.params.classId,t=this.state,n=t.notifications,r=t.loading,a=t.error;return o.a.createElement(e3,{classId:+e,readNotifications:this.readNotifications,notifications:n,loading:r,error:a,reloadData:this.getNotifications})}}])&&d3(n.prototype,r),a&&d3(n,a),t}(a.Component);function v3(e){return(v3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g3(e,t){return!t||"object"!==v3(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E3(e){return(E3=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w3(e,t){return(w3=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O3=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g3(this,E3(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w3(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.classId,r=e.notifications,a=e.loading,i=e.error,c=e.reloadData,s=e.institution,u=e.readNotifications;if(a)return o.a.createElement(te.a,{loading:!0});var l=r&&!!r.length;return o.a.createElement(Dt.a,{title:t._("Notifications")},i&&o.a.createElement(Gt,{reloadData:c,buttonTitle:t._("Try again"),message:t._("Failed to load notifications data")}),!i&&o.a.createElement(M8.a,{hideNavigation:Sc.b(s),classId:n,navigationDrawerType:VD.b.STUDENT}),l&&o.a.createElement(Lt.a,null,o.a.createElement(H5,{notifications:r,readNotifications:u})),!i&&!l&&o.a.createElement(Lt.a,null,o.a.createElement("p",null,t._("No notifications yet"))))}}])&&h3(n.prototype,r),a&&h3(n,a),t}(a.Component),S3=Object(U.withI18n)()(O3);function C3(e){return(C3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _3(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function I3(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_3(o,r,a,i,c,"next",e)}function c(e){_3(o,r,a,i,c,"throw",e)}i(void 0)}))}}function T3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R3(e){return(R3=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P3(e,t){return(P3=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A3(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j3=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=R3(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==C3(a)&&"function"!==typeof a?A3(r):a,N3(A3(A3(n)),"state",{notifications:[],loading:!1,error:!1}),N3(A3(A3(n)),"readNotifications",function(){var e=I3(regeneratorRuntime.mark((function e(t){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=O.a.merge([],n.state.notifications),a=n.props.match.params.classId,-1!==(o=O.a.findIndex(r,{activityId:t}))){e.next=5;break}return e.abrupt("return");case 5:return i=(i=(i=r[o].messages).filter((function(e){return!e.viewedAt}))).map((function(e){return e.dbId})),e.prev=8,e.next=11,o3.viewNatifications(+a,i);case 11:r[o]=O.a.merge({},r[o]),r[o].messages=r[o].messages.map((function(e){return e.viewedAt||(e.viewedAt=Ea()().unix()),e})),n.setState({notifications:r}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),l.b.error(e.t0);case 19:case"end":return e.stop()}}),e,this,[[8,16]])})));return function(t){return e.apply(this,arguments)}}()),N3(A3(A3(n)),"getNotifications",I3(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.classId,n.setState({loading:!0,error:!1}),e.prev=2,e.next=5,o3.getNotifications(+t);case 5:r=e.sent,r=o3.normalizeNotifications(r),n.setState({notifications:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n.setState({error:!0});case 13:return e.prev=13,n.setState({loading:!1}),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,10,13,16]])})))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P3(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getNotifications().catch()}},{key:"render",value:function(){var e=this.props,t=e.match.params.classId,n=e.institution,r=this.state,a=r.notifications,i=r.loading,c=r.error;return o.a.createElement(S3,{classId:+t,institution:n,notifications:a,loading:i,error:c,readNotifications:this.readNotifications,reloadData:this.getNotifications})}}])&&T3(n.prototype,r),a&&T3(n,a),t}(a.Component),k3=Object(s.b)((function(e){return{institution:Ye.i(e)}}))(j3);function D3(e){return(D3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M3(e,t){return!t||"object"!==D3(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x3(e){return(x3=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F3(e,t){return(F3=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U3=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M3(this,x3(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F3(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.verificationIsLoading,r=e.verifyEmail,a=e.settingsIsLoading,i=e.settings,c=e.getChangeStateHandler,s=e.user,u=e.saveIsLoading,l=e.onSave,d=e.is508on,f=e.onContactEmailChange,p=e.emailIsValid,m=e.initialEmailChanged;if(a)return o.a.createElement(Lt.a,null,o.a.createElement(mK.a,{id:"settings-loading-progress"}));var b=Object(Wr.g)(s),y=(b&&p||!b)&&!u;return o.a.createElement(Lt.a,null,o.a.createElement("div",{className:"u-pb-40px"},o.a.createElement("h2",null,t._("Accessibility")),o.a.createElement(ZA.a,{id:"accessibility",name:"accessibility",checked:d,onChange:c("is508on"),enabled:!u,label:t._("Use this if you have impaired vision and use a screen reader or high contrast settings"),ariaLabel:t._("Enable accessibility features")})),b&&o.a.createElement("div",{className:"u-pb-40px"},o.a.createElement("h2",null,t._("Contact email")),o.a.createElement("div",{className:"u-pb-5px"},o.a.createElement(mr.b,{id:"contact-email",type:"email",errorText:p?"":t._("Email is invalid"),onChange:f,enabled:!u,value:i.contactEmail,label:t._("Contact email"),ariaLabel:t._("Contact email")})),!m()&&o.a.createElement("div",null,!i.contactEmailVerified&&o.a.createElement(bb.a,{id:"button-settings-card-email-send",onClick:r,primary:!0,enabled:!n&&!u,isLoading:n},t._("Send verification email")),i.contactEmailVerified&&o.a.createElement(bb.a,{id:"button-settings-card-email-verified",primary:!0,enabled:!1},t._("Email is verified")))),b&&o.a.createElement("div",{className:"u-pb-40px"},o.a.createElement("h2",null,t._("Email notifications")),o.a.createElement("p",null,t._("Emails will be sent based on your selections below")),o.a.createElement(ZA.a,{id:"group-project",name:"group-project",enabled:!u,checked:i.notifications.groupProjectActions,onChange:c("settings.notifications.groupProjectActions"),label:t._("When new actions related to your group project activities are available"),ariaLabel:t._("When new actions related to your group project activities are available")}),o.a.createElement(ZA.a,{id:"role-play",name:"role-play",enabled:!u,checked:i.notifications.rolePlayActions,onChange:c("settings.notifications.rolePlayActions"),label:t._("When new actions related to your role play activities are available"),ariaLabel:t._("When new actions related to your role play activities are available")}),o.a.createElement(ZA.a,{id:"conversation",name:"conversation",enabled:!u,checked:i.notifications.conversationActions,onChange:c("settings.notifications.conversationActions"),label:t._("When new actions related to your conversation activities are available"),ariaLabel:t._("When new actions related to your conversation activities are available")}),o.a.createElement(ZA.a,{id:"conversation-respond",name:"conversation-respond",enabled:!u,checked:i.notifications.conversationResponseExpected,onChange:c("settings.notifications.conversationResponseExpected"),label:t._("When you are expected to respond to the conversation activity"),ariaLabel:t._("When you are expected to respond to the conversation activity")})),o.a.createElement("div",{className:"u-display-flex u-justify-end"},o.a.createElement(E2.a,{id:"button-settings-card-save",enabled:y,onClick:l,primary:!0},t._("Save"))))}}])&&L3(n.prototype,r),a&&L3(n,a),t}(a.Component),V3=Object(U.withI18n)()(U3);function G3(){var e=Y3(["\n    mutation edit508($input: Boolean!){\n        edit508(input:$input) {\n            user {\n                is508on\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n"]);return G3=function(){return e},e}function q3(){var e=Y3(["\n    {\n        viewer {\n            notificationSettings {\n                contactEmailVerified\n            }\n        }\n    }\n"]);return q3=function(){return e},e}function B3(){var e=Y3(["\n    mutation sendEmailVerificationLetter {\n        sendEmailVerificationLetter {\n            errors {\n                path\n                message\n            }\n        }\n    }\n"]);return B3=function(){return e},e}function W3(){var e=Y3(["\n    mutation editNotificationSettings($input: NotificationSettingsInput!) {\n        editNotificationSettings(input: $input) {\n            user {\n                notificationSettings {\n                    contactEmail\n                    contactEmailVerified\n                    notifications {\n                        groupProjectActions\n                        rolePlayActions\n                        conversationActions\n                        conversationResponseExpected\n                    }\n                }\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n"]);return W3=function(){return e},e}function Q3(){var e=Y3(["\n    {\n        viewer {\n            notificationSettings {\n                contactEmail\n                contactEmailVerified\n                notifications {\n                    groupProjectActions\n                    rolePlayActions\n                    conversationActions\n                    conversationResponseExpected\n                }\n            }\n        }\n    }\n"]);return Q3=function(){return e},e}function Y3(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function H3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z3=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getSettings",value:function(){return xe.a.query({query:K3}).then((function(e){return Promise.resolve(e.data.viewer.notificationSettings)}))}},{key:"sendVerificationRequest",value:function(){return xe.a.mutate({mutation:J3}).then((function(e){var t=e.data.sendEmailVerificationLetter.errors;return t&&t.length?Promise.reject(t):Promise.resolve()}))}},{key:"saveSettings",value:function(e){return xe.a.mutate({mutation:X3,variables:{input:e}}).then((function(t){var n=t.data.editNotificationSettings.errors;if(n&&n.length)return Promise.reject(n);var r=t.data.editNotificationSettings.user.notificationSettings;return m.a.dispatch(Ki.q(e.is508on)),Promise.resolve(r)}))}},{key:"getContactEmailVerified",value:function(){return xe.a.query({query:Z3}).then((function(e){return Promise.resolve(e.data.viewer.notificationSettings.contactEmailVerified)}))}},{key:"edit508",value:function(e){return xe.a.mutate({mutation:$3,variables:{input:e}}).then((function(e){var t=e.data.edit508.errors;if(t&&t.length)return Promise.reject(t);var n=e.data.edit508.user.is508on;return m.a.dispatch(Ki.q(n)),Promise.resolve(n)}))}}],(n=null)&&H3(t.prototype,n),r&&H3(t,r),e}(),K3=Ue()(Q3()),X3=Ue()(W3()),J3=Ue()(B3()),Z3=Ue()(q3()),$3=Ue()(G3());function e7(e){return(e7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t7(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function n7(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){t7(o,r,a,i,c,"next",e)}function c(e){t7(o,r,a,i,c,"throw",e)}i(void 0)}))}}function r7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a7(e){return(a7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o7(e,t){return(o7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i7(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s7=1e4,u7=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=a7(t).call(this,e),n=!a||"object"!==e7(a)&&"function"!==typeof a?i7(r):a,c7(i7(i7(n)),"getSettings",n7(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.user,e.prev=1,n.setState({settingsIsLoading:!0}),e.next=5,z3.getSettings();case 5:r=e.sent,r=O.a.merge({},r),n.initialEmail=r.contactEmail,n.setState({settingsIsLoading:!1,settings:r}),Object(Wr.g)(t)&&n.checkEmailVerification(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),l.b.error(e.t0),n.setState({settingsIsLoading:!1});case 16:case"end":return e.stop()}}),e,this,[[1,12]])})))),c7(i7(i7(n)),"initialEmailChanged",(function(){return n.initialEmail!==n.state.settings.contactEmail})),c7(i7(i7(n)),"verifyEmail",n7(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.i18n,e.prev=1,n.setState({verificationIsLoading:!0}),e.next=5,z3.sendVerificationRequest();case 5:n.setState({verificationIsLoading:!1}),ft.a.addSuccess(t._("Verification email is successfully sent")),n.checkEmailVerification(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),l.b.error(e.t0),ft.a.addError(t._("Failed to send verification email")),n.setState({verificationIsLoading:!1});case 15:case"end":return e.stop()}}),e,this,[[1,10]])})))),c7(i7(i7(n)),"checkEmailVerification",n7(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopCheckEmailVerification(),e.prev=1,e.next=4,z3.getContactEmailVerified();case 4:(t=e.sent)||(n.checkEmailVerificationTimeout=setTimeout(n.checkEmailVerification,s7)),n.getChangeStateHandler("settings.contactEmailVerified")(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l.b.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})))),c7(i7(i7(n)),"stopCheckEmailVerification",(function(){clearTimeout(n.checkEmailVerificationTimeout)})),c7(i7(i7(n)),"getChangeStateHandler",(function(e){return function(t){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c7(e,t,n[t])}))}return e}({},n.state);O.a.set(r,e,t),n.setState(r)}})),c7(i7(i7(n)),"onSave",n7(regeneratorRuntime.mark((function e(){var t,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.i18n,a=t.user,o=Object(Wr.g)(a),i=Object(Wr.c)(a),e.prev=3,n.setState({saveIsLoading:!0}),!o){e.next=9;break}return e.next=8,n.saveForStudent();case 8:n.checkEmailVerification();case 9:if(!i){e.next=12;break}return e.next=12,n.saveForEducator();case 12:n.setState({saveIsLoading:!1}),ft.a.addSuccess(r._("Settings are successfully saved")),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(3),l.b.error(e.t0),ft.a.addError(r._("Failed to save settings")),n.setState({saveIsLoading:!1});case 21:case"end":return e.stop()}}),e,this,[[3,16]])})))),c7(i7(i7(n)),"validateEmail",(function(){var e=/\S+@\S+\.\S+/.test(n.state.settings.contactEmail);n.setState({emailIsValid:e})})),c7(i7(i7(n)),"saveForStudent",n7(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.i18n,r={contactEmail:n.state.settings.contactEmail,is508on:n.state.is508on,groupProjectActions:n.state.settings.notifications.groupProjectActions,rolePlayActions:n.state.settings.notifications.rolePlayActions,conversationActions:n.state.settings.notifications.conversationActions,conversationResponseExpected:n.state.settings.notifications.conversationResponseExpected},e.next=4,z3.saveSettings(r);case 4:a=e.sent,a=O.a.merge({},a),n.initialEmail!==a.contactEmail&&(ft.a.addSuccess(t._("Verification email is successfully sent")),n.initialEmail=a.contactEmail),n.setState({settings:a});case 8:case"end":return e.stop()}}),e,this)})))),c7(i7(i7(n)),"saveForEducator",n7(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z3.edit508(n.state.is508on);case 2:t=e.sent,n.setState({is508on:t});case 4:case"end":return e.stop()}}),e,this)})))),c7(i7(i7(n)),"onContactEmailChange",(function(e){var t=O.a.merge({},n.state);t.settings.contactEmail=e,n.setState(t,n.validateEmail)})),n.state={is508on:!!e.is508on,verificationIsLoading:!1,settingsIsLoading:!1,saveIsLoading:!1,emailIsValid:!0,settings:{contactEmail:"",contactEmailVerified:!1,notifications:{groupProjectActions:!1,rolePlayActions:!1,conversationActions:!1,conversationResponseExpected:!1}}},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o7(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){Object(Wr.g)(this.props.user)&&this.getSettings().catch()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.is508on!==e.is508on&&this.setState({is508on:e.is508on})}},{key:"componentWillUnmount",value:function(){this.stopCheckEmailVerification()}},{key:"render",value:function(){var e=this.state,t=e.verificationIsLoading,n=e.settingsIsLoading,r=e.settings,a=e.is508on;return o.a.createElement(V3,{verificationIsLoading:t,user:this.props.user,saveIsLoading:this.state.saveIsLoading,emailIsValid:this.state.emailIsValid,onSave:this.onSave,initialEmailChanged:this.initialEmailChanged,is508on:a,verifyEmail:this.verifyEmail,onContactEmailChange:this.onContactEmailChange,getChangeStateHandler:this.getChangeStateHandler,settingsIsLoading:n,settings:r})}}])&&r7(n.prototype,r),a&&r7(n,a),t}(a.Component),l7=Object(s.b)((function(e){return{user:Qe.h(e),is508on:Qe.b(e)}}))(Object(U.withI18n)()(u7));function d7(e){return(d7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p7(e,t){return!t||"object"!==d7(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m7(e){return(m7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b7(e,t){return(b7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y7=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p7(this,m7(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b7(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.classId;return o.a.createElement(Dt.a,{title:t._("Settings")},o.a.createElement(M8.a,{classId:n,navigationDrawerType:x8.a.STUDENT}),o.a.createElement(l7,null))}}])&&f7(n.prototype,r),a&&f7(n,a),t}(a.Component),v7=Object(U.withI18n)()(y7);function h7(e){return(h7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E7(e,t){return!t||"object"!==h7(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w7(e){return(w7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O7(e,t){return(O7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S7=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E7(this,w7(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O7(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.match.params.classId;return o.a.createElement(v7,{classId:+e})}}])&&g7(n.prototype,r),a&&g7(n,a),t}(a.Component);function C7(e){return(C7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I7(e,t){return!t||"object"!==C7(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T7(e){return(T7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R7(e,t){return(R7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P7=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I7(this,T7(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R7(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.classId;return o.a.createElement(Dt.a,{title:t._("Settings")},o.a.createElement(M8.a,{classId:n,navigationDrawerType:x8.a.EDUCATOR}),o.a.createElement(l7,null))}}])&&_7(n.prototype,r),a&&_7(n,a),t}(a.Component),A7=Object(U.withI18n)()(P7);function N7(e){return(N7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k7(e,t){return!t||"object"!==N7(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D7(e){return(D7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L7(e,t){return(L7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M7=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k7(this,D7(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L7(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.match.params.classId;return o.a.createElement(A7,{classId:+e})}}])&&j7(n.prototype,r),a&&j7(n,a),t}(a.Component);function x7(e){return(x7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U7(e,t){return!t||"object"!==x7(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V7(e){return(V7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G7(e,t){return(G7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q7=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U7(this,V7(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G7(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.classId,n=e.i18n,r=e.isLoading,a=e.hasLoadError,i=e.lmsCode,c=e.onLmsCodeChange,s=e.isSubmitting,u=e.reloadData,l=e.submit,d=e.classIsTemplate,f=e.onClassIsTemplateChange,p=e.showClientErrors,m=e.serverErrors;return r?o.a.createElement(te.a,{loading:!0}):o.a.createElement(Dt.a,{title:n._("Template Settings")},o.a.createElement(mx,{classId:t,context:JA.a.TEMPLATE_SETTINGS}),!a&&o.a.createElement(Lt.a,null,m&&m.length>0&&o.a.createElement("ul",{className:"u-pb-20px u-pl-15px"},m.map((function(e){return o.a.createElement("li",{key:e,className:"u-error"},o.a.createElement("p",null,e))}))),o.a.createElement("div",null,o.a.createElement(pN.a,{ariaLabel:n._("Class is a Template"),id:"class-is-template-toggle",checked:d,label:n._("Class is a Template"),name:"class-is-template-toggle",onChange:f})),d&&o.a.createElement(mr.b,{name:"lti-code",id:"lti-code",errorText:p&&i.error?i.error:"",onChange:c,value:i.value,label:n._("Template Identifier"),ariaLabel:n._("Template Identifier")}),o.a.createElement("div",{className:"u-display-flex u-justify-end u-pt-20px"},o.a.createElement(bb.a,{id:"button-template-settings-submit",primary:!0,onClick:l,isLoading:s},n._("Submit")))),a&&o.a.createElement(Gt,{reloadData:u,message:n._("Unable to load LMS Template identifier"),buttonTitle:n._("Try again")}))}}])&&F7(n.prototype,r),a&&F7(n,a),t}(a.Component),B7=Object(U.withI18n)()(q7);function W7(){var e=Y7(["\n    mutation modifyTermClassLmsTemplateCode($input: TermClassModifyLmsTemplateCodeInput!) {\n        modifyTermClassLmsTemplateCode(input: $input) {\n            termClass {\n                lmsTemplateCode\n            }\n        }\n    }\n"]);return W7=function(){return e},e}function Q7(){var e=Y7(["\n    query lmsTemplateCode($dbId: Int!) {\n        termClass(dbId: $dbId) {\n            lmsTemplateCode\n        }\n    }\n\n"]);return Q7=function(){return e},e}function Y7(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function H7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z7=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getLmsCode",value:function(e){return xe.a.query({query:K7,variables:{dbId:e}}).then((function(e){return e.errors&&e.errors.length?Promise.reject(e.errors):Promise.resolve(e.data.termClass.lmsTemplateCode)}))}},{key:"setLmsCode",value:function(e){var t=e.classId,n=e.lmsCode;return xe.a.mutate({mutation:X7,variables:{input:{dbId:t,lmsTemplateCode:n}}}).then((function(e){return e.errors&&e.errors.length?Promise.reject(e.errors):Promise.resolve(e.data.modifyTermClassLmsTemplateCode.termClass.lmsTemplateCode)}))}}],(n=null)&&H7(t.prototype,n),r&&H7(t,r),e}(),K7=Ue()(Q7()),X7=Ue()(W7());function J7(e){return(J7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o4(e,t,n[t])}))}return e}function $7(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function e4(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$7(o,r,a,i,c,"next",e)}function c(e){$7(o,r,a,i,c,"throw",e)}i(void 0)}))}}function t4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n4(e){return(n4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r4(e,t){return(r4=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a4(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i4=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=n4(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==J7(a)&&"function"!==typeof a?a4(r):a,o4(a4(a4(n)),"state",{isLoading:!1,isSubmitting:!1,hasLoadError:!1,lmsCode:{value:null,error:null},classIsTemplate:!1,showClientErrors:!1,serverErrors:[]}),o4(a4(a4(n)),"getLmsCode",e4(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.classId,e.prev=1,n.setState({isLoading:!0,hasLoadError:!1}),e.next=5,z7.getLmsCode(+t);case 5:r=e.sent,n.setState({isLoading:!1,hasLoadError:!1}),n.setLmsCode(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n.setState({isLoading:!1,hasLoadError:!0});case 13:case"end":return e.stop()}}),e,this,[[1,10]])})))),o4(a4(a4(n)),"setLmsCode",(function(e){n.setState({lmsCode:Z7({},n.state.lmsCode,{value:e}),classIsTemplate:Boolean(e)})})),o4(a4(a4(n)),"onClassIsTemplateChange",(function(e){n.setState({classIsTemplate:e})})),o4(a4(a4(n)),"validate",(function(){var e=n.props.i18n,t=!0;return n.state.classIsTemplate&&!n.state.lmsCode.value?(t=!1,n.setState({lmsCode:Z7({},n.state.lmsCode,{error:e._("Required")})})):n.setState({lmsCode:Z7({},n.state.lmsCode,{error:null})}),t})),o4(a4(a4(n)),"submit",e4(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.match.params.classId,a=t.i18n,n.validate()){e.next=5;break}return n.setState({showClientErrors:!0}),e.abrupt("return");case 5:return e.prev=5,n.setState({isSubmitting:!0,serverErrors:[]}),o=O.a.trim(n.state.lmsCode.value),n.state.classIsTemplate||(o=null),e.next=11,z7.setLmsCode({classId:+r,lmsCode:o});case 11:i=e.sent,n.setLmsCode(i),n.setState({isSubmitting:!1}),ft.a.addSuccess(a._("Successfully updated LMS Template identifier.")),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(5),n.setState({isSubmitting:!1}),ft.a.addError(a._("Unable to update LMS Template identifier."));try{c=O.a.compact(O.a.values(zv(e.t0)))}catch(s){l.b.error(e.t0)}c&&c.length&&n.setState({serverErrors:c});case 23:case"end":return e.stop()}}),e,this,[[5,17]])})))),o4(a4(a4(n)),"onLmsCodeChange",(function(e){var t=O.a.trimStart(e);n.setState({lmsCode:Z7({},n.state.lmsCode,{value:t})},n.validate)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r4(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getLmsCode().catch()}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.hasLoadError,r=e.lmsCode,a=e.isSubmitting,i=e.classIsTemplate,c=e.showClientErrors,s=e.serverErrors,u=this.props.match.params.classId;return o.a.createElement(B7,{classId:+u,isLoading:t,hasLoadError:n,showClientErrors:c,isSubmitting:a,classIsTemplate:i,serverErrors:s,onClassIsTemplateChange:this.onClassIsTemplateChange,reloadData:this.getLmsCode,submit:this.submit,onLmsCodeChange:this.onLmsCodeChange,lmsCode:r})}}])&&t4(n.prototype,r),a&&t4(n,a),t}(a.Component),c4=Object(U.withI18n)()(i4);function s4(e){return(s4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l4(e,t){return!t||"object"!==s4(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d4(e){return(d4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f4(e,t){return(f4=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p4=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l4(this,d4(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f4(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.termClassId;return o.a.createElement(Dt.a,null,o.a.createElement(mx,{classId:e,context:JA.a.TRIAL,showQuickNav:!1}),o.a.createElement(ax,null))}}])&&u4(n.prototype,r),a&&u4(n,a),t}(a.Component);p4.propTypes={termClassId:c.a.number,i18n:c.a.any};var m4=Object(U.withI18n)()(p4);function b4(e){return(b4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v4(e,t){return!t||"object"!==b4(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h4(e){return(h4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g4(e,t){return(g4=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E4=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v4(this,h4(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g4(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.match.params.classId;return o.a.createElement(m4,{termClassId:+e})}}])&&y4(n.prototype,r),a&&y4(n,a),t}(a.Component);function w4(e){return(w4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S4(e,t){return!t||"object"!==w4(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C4(e){return(C4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _4(e,t){return(_4=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I4=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S4(this,C4(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_4(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.termClassId,n=e.institution;return o.a.createElement(Dt.a,null,o.a.createElement(Ms.b,{hideNavigation:Sc.b(n),classId:t,navigationDrawerType:VD.b.STUDENT}),o.a.createElement(ax,null))}}])&&O4(n.prototype,r),a&&O4(n,a),t}(a.Component);I4.propTypes={termClassId:c.a.number,i18n:c.a.any};var T4=Object(U.withI18n)()(Object(s.b)((function(e){return{institution:Ye.i(e)}}))(I4));function R4(e){return(R4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A4(e,t){return!t||"object"!==R4(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N4(e){return(N4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j4(e,t){return(j4=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k4=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A4(this,N4(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j4(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.match.params.classId;return o.a.createElement(T4,{termClassId:+e})}}])&&P4(n.prototype,r),a&&P4(n,a),t}(a.Component),D4=Object(s.b)((function(){return{}}))(k4),L4={EDUCATOR_CREATE_INDIVIDUAL_ACTIVITY:"/educator/class/".concat(In.b,"/activity/create/individual"),EDUCATOR_CREATE_GROUP_ACTIVITY:"/educator/class/".concat(In.b,"/activity/create/group"),EDUCATOR_CREATE_QA_ACTIVITY:"/educator/class/".concat(In.b,"/activity/create/q-and-a")},M4={ACTIVITY_OVERVIEW:"/educator/class/".concat(In.b,"/activity/").concat(In.a),ACTIVITY_STUDENT_DETAILS:"/educator/class/".concat(In.b,"/activity/").concat(In.a,"/user/").concat(In.h)},x4=n("2ZdE");function F4(){var e=X4(["\n  mutation deleteActivityStudentGroupComment($input: DeleteActivityStudentGroupCommentInput!) {\n    deleteActivityStudentGroupComment(input: $input) {\n      removedId\n    }\n  }\n"]);return F4=function(){return e},e}function U4(){var e=X4(["\n  mutation createGroupComment($input: CreateActivityStudentGroupCommentInput!) {\n    createActivityStudentGroupComment(input: $input) {\n      comment {\n        dbId\n        text\n        isSystem\n        user {\n          dbId\n          firstName\n          lastName\n        }\n        createdAt\n      }\n      errors {\n        path\n        messages\n      }\n    }\n  }\n"]);return U4=function(){return e},e}function V4(){var e=X4(["\n  query getSubmissionData($activityId: Int!, $studentId: Int!) {\n    activity(dbId: $activityId) {\n      dataForOneStudent(studentDbId: $studentId) {\n        progress\n        result {\n          submittedAt\n        }\n      }\n    }\n  }\n"]);return V4=function(){return e},e}function G4(){var e=X4(["\n    mutation convertDraftToFinalGroupGrade($input: ConvertDraftToFinalGroupGradeInput!) {\n        convertDraftToFinalGroupGrade(input: $input) {\n            groupDbId\n        }\n    }\n"]);return G4=function(){return e},e}function q4(){var e=X4(["\n  mutation finalizeAllGradeDrafts($input: FinalizeAllDraftsInput!) {\n    finalizeAllGradeDrafts(input: $input) {\n      activity {\n        dbId\n      }\n    }\n  }\n"]);return q4=function(){return e},e}function B4(){var e=X4(["\n  mutation deleteQaAnswerForStudent($input: DeleteQaAnswerForStudentInput!) {\n    deleteQaAnswerForStudent(input: $input) {\n      removedId\n    }\n  }\n"]);return B4=function(){return e},e}function W4(){var e=X4(["\n  mutation deleteActivityResultForStudent($input: DeleteActivityResultForStudentInput!) {\n    deleteActivityResultForStudent(input: $input) {\n      removedId\n    }\n  }\n"]);return W4=function(){return e},e}function Q4(){var e=X4(["\n  query getGradebookData($activityId: Int!) {\n    activity(dbId: $activityId) {\n      name\n      dbId\n      gradeType\n      deletable\n      autoGradeScoreSource\n      allowGroupsForming\n      groupsFormedAt\n      groupsFormationFinalizeAt\n      executorsType\n      peerReviewType\n      peerReviewGradeEnabled\n      rubricPeerAllowed\n      studentFivestarValuationEnabled\n      autoAnalysisEnabled\n      gradeReportUrl\n      commentsReportUrl\n      type\n      executorsType\n      studentGroups {\n        dbId\n      }\n      termClass {\n        dbId\n      }\n      dataForAllStudents {\n        progress\n        result {\n          submittedAt\n          ... on ActivityResultGroupProject {\n            submitter {\n              dbId\n            }\n          }\n        }\n        resultPartials {\n          ... on ActivityResultPartialDocument {\n            dbId\n            finalizedAt\n          }\n          ... on ActivityResultPartialLink {\n            dbId\n            finalizedAt\n          }\n          ... on ActivityResultPartialMedia {\n            dbId\n            finalizedAt\n          }\n          ... on ActivityResultPartialMeeting {\n            dbId\n            finalizedAt\n            media {\n              ...MediaFull\n            }\n          }\n        }\n        student {\n          dbId\n          firstName\n          lastName\n          roles\n        }\n        peerReview {\n          fiveStarValue\n          fiveStarRatesAmount\n          rubricGrade\n        }\n        studentGroup {\n          dbId\n          name\n        }\n        rubricEvaluations {\n          ...RubricEvaluation\n        }\n        educatorGrade {\n          ...EducatorGrade\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return Q4=function(){return e},e}function Y4(){var e=X4(["\n  query getQAActivityOverviewData($activityId: Int!) {\n    activity(dbId: $activityId) {\n      name\n      dbId\n      submitDueAt\n      gradeType\n      autoGradeScoreSource\n      peerReviewType\n      peerReviewGradeEnabled\n      rubricPeerAllowed\n      studentFivestarValuationEnabled\n      autoAnalysisEnabled\n      gradeReportUrl\n      commentsReportUrl\n      type\n      termClass {\n        dbId\n      }\n      qaQuestions {\n        dbId\n        isUsed\n      }\n      qaSettings {\n        isRandomQuestionsModeEnabled\n        amountOfRandomQuestionsPerStudent\n      }\n      dataForAllStudents {\n        progress\n        result {\n          submittedAt\n          ... on ActivityResultQa {\n            submitter {\n              dbId\n            }\n          }\n        }\n        resultPartials {\n          ... on ActivityResultPartialMedia {\n            dbId\n            finalizedAt\n          }\n        }\n        qaAnswers {\n          dbId\n        }\n        student {\n          dbId\n          firstName\n          lastName\n          roles\n        }\n        peerReview {\n          fiveStarValue\n          fiveStarRatesAmount\n          rubricGrade\n        }\n        rubricEvaluations {\n          ...RubricEvaluation\n        }\n        educatorGrade {\n          ...EducatorGrade\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Y4=function(){return e},e}function H4(){var e=X4(["\n  query getInteractiveVideoActivityOverviewData($activityId: Int!) {\n    activity(dbId: $activityId) {\n      name\n      dbId\n      submitDueAt\n      gradeType\n      autoGradeScoreSource\n      peerReviewType\n      peerReviewGradeEnabled\n      rubricPeerAllowed\n      studentFivestarValuationEnabled\n      autoAnalysisEnabled\n      gradeReportUrl\n      commentsReportUrl\n      type\n      termClass {\n        dbId\n      }\n      interactiveQuestions {\n        __typename\n      }\n      dataForAllStudents {\n        progress\n        result {\n          submittedAt\n          ... on ActivityResultInteractiveVideo {\n            submitter {\n              dbId\n            }\n          }\n        }\n        resultPartials {\n          ... on ActivityResultPartialMedia {\n            dbId\n            finalizedAt\n          }\n        }\n        student {\n          dbId\n          firstName\n          lastName\n          roles\n        }\n        peerReview {\n          fiveStarValue\n          fiveStarRatesAmount\n          rubricGrade\n        }\n        rubricEvaluations {\n          ...RubricEvaluation\n        }\n        educatorGrade {\n          ...EducatorGrade\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return H4=function(){return e},e}function z4(){var e=X4(["\n  query getActivityOverviewData($activityId: Int!) {\n    activity(dbId: $activityId) {\n      name\n      dbId\n      submitDueAt\n      gradeType\n      autoGradeScoreSource\n      peerReviewType\n      peerReviewGradeEnabled\n      rubricPeerAllowed\n      studentFivestarValuationEnabled\n      autoAnalysisEnabled\n      gradeReportUrl\n      commentsReportUrl\n      type\n      termClass {\n        dbId\n      }\n      interactiveQuestions {\n        __typename\n      }\n      dataForAllStudents {\n        progress\n        result {\n          submittedAt\n          ... on ActivityResultIndividualProject {\n            submitter {\n              dbId\n            }\n            media {\n              ...MediaFull\n            }\n          }\n        }\n        resultPartials {\n          ... on ActivityResultPartialDocument {\n            dbId\n            finalizedAt\n          }\n          ... on ActivityResultPartialLink {\n            dbId\n            finalizedAt\n          }\n          ... on ActivityResultPartialMedia {\n            dbId\n            finalizedAt\n          }\n          ... on ActivityResultPartialMeeting {\n            dbId\n            finalizedAt\n            media {\n              ...MediaFull\n            }\n          }\n        }\n        student {\n          dbId\n          firstName\n          lastName\n          roles\n        }\n        peerReview {\n          fiveStarValue\n          fiveStarRatesAmount\n          rubricGrade\n        }\n        studentGroup {\n          dbId\n          name\n        }\n        rubricEvaluations {\n          ...RubricEvaluation\n        }\n        educatorGrade {\n          ...EducatorGrade\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return z4=function(){return e},e}function K4(){var e=X4(["\n  query getActivityType($activityId: Int!) {\n    activity(dbId: $activityId) {\n      type\n    }\n  }\n"]);return K4=function(){return e},e}function X4(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function J4(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Z4(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){J4(o,r,a,i,c,"next",e)}function c(e){J4(o,r,a,i,c,"throw",e)}i(void 0)}))}}function $4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e9=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"fetchActivityType",value:function(){var e=Z4(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.a.query({query:t9,variables:{activityId:t}});case 3:return n=e.sent,e.abrupt("return",O.a.get(n,"data.activity.type"));case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchActivityData",value:function(){var e=Z4(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=null,e.t0=n,e.next=e.t0===Wu.b.QA_ENHANCED?5:e.t0===Wu.b.GROUP_PRESENTATION?7:e.t0===Wu.b.INTERACTIVE_VIDEO?9:11;break;case 5:return r=a9,e.abrupt("break",13);case 7:return r=o9,e.abrupt("break",13);case 9:return r=r9,e.abrupt("break",13);case 11:return r=n9,e.abrupt("break",13);case 13:return e.next=15,xe.a.query({query:r,variables:{activityId:t}});case 15:if(a=e.sent,o=O.a.get(a,"data.activity")){e.next=19;break}throw new Error("Activity data is null");case 19:return e.abrupt("return",o);case 22:throw e.prev=22,e.t1=e.catch(0),new Error(e.t1);case 25:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchUserProgressData",value:function(){var e=Z4(regeneratorRuntime.mark((function e(t,n,r){var a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=null,e.t0=n,e.next=e.t0===Wu.b.QA_ENHANCED?5:e.t0===Wu.b.INDIVIDUAL_PROJECT?7:e.t0===Wu.b.GROUP_PRESENTATION?9:e.t0===Wu.b.INTERACTIVE_VIDEO?11:13;break;case 5:return a=$u.b,e.abrupt("break",14);case 7:return a=el.b,e.abrupt("break",14);case 9:return a=Su.b,e.abrupt("break",14);case 11:return a=tl.b,e.abrupt("break",14);case 13:throw new Error("Unsupported activity type");case 14:return e.next=16,xe.a.query({query:a,variables:{activityId:t,studentId:r}});case 16:if(o=e.sent,(i=O.a.get(o,"data.activity")).myData=i.dataForOneStudent,i){e.next=21;break}throw new Error("Activity data is null");case 21:return e.abrupt("return",i);case 24:throw e.prev=24,e.t1=e.catch(0),new Error(e.t1);case 27:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"fetchUserGradingData",value:function(){var e=Z4(regeneratorRuntime.mark((function e(t,n,r){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=null,e.t0=n,e.next=e.t0===Wu.b.QA_ENHANCED?5:e.t0===Wu.b.INDIVIDUAL_PROJECT?9:e.t0===Wu.b.GROUP_PRESENTATION?13:e.t0===Wu.b.INTERACTIVE_VIDEO?17:21;break;case 5:return e.next=7,this.getQAGradingActivity(t,r);case 7:return a=e.sent,e.abrupt("break",22);case 9:return e.next=11,this.getIndividualGradingActivity(t,r);case 11:return a=e.sent,e.abrupt("break",22);case 13:return e.next=15,this.getGroupGradingActivity(t,r);case 15:return a=e.sent,e.abrupt("break",22);case 17:return e.next=19,this.getInteractiveVideoGradingActivity(t,r);case 19:return a=e.sent,e.abrupt("break",22);case 21:throw new Error("Unsupported activity type");case 22:if(o=O.a.get(a,"data.activity")){e.next=25;break}throw new Error("Activity data is null");case 25:return e.abrupt("return",o);case 28:throw e.prev=28,e.t1=e.catch(0),new Error(e.t1);case 31:case"end":return e.stop()}}),e,this,[[0,28]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getGroupGradingActivity",value:function(e,t){return xe.a.query({query:Su.a,variables:{activityId:e,studentId:t}})}},{key:"getIndividualGradingActivity",value:function(e,t){return xe.a.query({query:el.a,variables:{activityId:e,studentId:t}})}},{key:"getQAGradingActivity",value:function(e,t){return xe.a.query({query:$u.a,variables:{activityId:e,studentId:t}})}},{key:"getInteractiveVideoGradingActivity",value:function(e,t){return xe.a.query({query:tl.a,variables:{activityId:e,studentId:t}})}},{key:"publishScores",value:function(){var e=Z4(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.a.mutate({mutation:s9,variables:{input:{activityDbId:t}}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishScoresForGroup",value:function(){var e=Z4(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.a.mutate({mutation:u9,variables:{input:{groupDbId:t}}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetSubmission",value:function(){var e=Z4(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.a.mutate({mutation:i9,variables:{input:{activityDbId:t,submitterDbId:n}}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"resetQAAnswer",value:function(){var e=Z4(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.a.mutate({mutation:c9,variables:{input:{questionDbId:t,userDbId:n}}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchLearnerSubmissionData",value:function(){var e=Z4(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.a.query({query:l9,variables:{activityId:t,studentId:n}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addGroupComment",value:function(){var e=Z4(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.a.mutate({mutation:d9,variables:{input:{groupDbId:n,comment:{body:t}}}});case 2:return r=e.sent,e.abrupt("return",O.a.get(r,"data.createActivityStudentGroupComment"));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteGroupComment",value:function(){var e=Z4(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.a.mutate({mutation:f9,variables:{input:{dbId:t}}});case 2:return n=e.sent,e.abrupt("return",O.a.get(n,"data.deleteActivityStudentGroupComment"));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}])&&$4(t.prototype,n),r&&$4(t,r),e}()),t9=Ue()(K4()),n9=Ue()(z4(),Hu.c,Yu.a,fn.d),r9=Ue()(H4(),Hu.c,Yu.a),a9=Ue()(Y4(),Hu.c,Yu.a),o9=Ue()(Q4(),Hu.c,Yu.a,fn.d),i9=Ue()(W4()),c9=Ue()(B4()),s9=Ue()(q4()),u9=Ue()(G4()),l9=Ue()(V4()),d9=Ue()(U4()),f9=Ue()(F4()),p9=n("q2J1"),m9={NOT_VIEWED:"NOT_VIEWED",VIEWED:"VIEWED",IN_PROGRESS:"IN_PROGRESS",NEEDS_EVALUATION:"NEEDS_EVALUATION",EVALUATED:"EVALUATED",PUBLISHED:"PUBLISHED"},b9="NOT_VIEWED",y9="VIEWED",v9="IN_PROGRESS",h9="SUBMITTED",g9="NEEDS_EVALUATION",E9="EVALUATED",w9="PUBLISHED",O9={MAIN:"MAIN",SIDE:"SIDE"},S9={LARGE:"LARGE",SMALL:"SMALL",XSMALL:"XSMALL"},C9={COMPACT:"COMPACT",DETAILS:"DETAILS"},_9="number",I9="string",T9={NAME:{field:"fullName",type:I9},GROUP_NAME:{field:"group.name",type:I9},STATUS:{field:"status",types:I9},SCORE:{field:"evaluation.overallValue",type:_9},AUTO_ANALYSIS_SCORE:{field:"result.media.autoAnalysisResults.overallScore",type:_9}};function R9(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N9=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),A9(this,"getStatusSortOrderOption",(function(e){switch(e){case m9.NOT_VIEWED:return 0;case m9.VIEWED:return 1;case m9.IN_PROGRESS:return 2;case m9.NEEDS_EVALUATION:return 3;case m9.EVALUATED:return 4;case m9.PUBLISHED:return 5}})),A9(this,"getTruncatedNumber",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,t);return Math.floor(e*n)/n})),A9(this,"dataForGroupMembers",(function(e,t){return O.a.filter(t,(function(t){return O.a.some(e,(function(e){return t.id===e.dbId}))}))})),A9(this,"gradeToCompare",(function(e){var t=O.a.omit(e,["myRubricEvaluation"]),n=O.a.get(e,["myRubricEvaluation"]),r=O.a.pick(n,["cells","points"]);return O.a.merge(t,r)})),A9(this,"isEqualGrade",(function(e,n){return O.a.isEqual(t.gradeToCompare(e),t.gradeToCompare(n))})),A9(this,"areGradesHomogeneous",(function(e,n){if(!e||e.length<=1)return!0;var r=t.dataForGroupMembers(e,n),a=r[0].evaluation;return O.a.every(r,(function(e){return t.isEqualGrade(e.evaluation,a)}))})),A9(this,"useOverallGradeValue",(function(e,n){var r=e.interactiveVideoSettings,a=e.peerReviewType,o=e.peerReviewGradeEnabled,i=e.type,c=Boolean(a)&&Boolean(o);if(n&&i===Wu.b.INTERACTIVE_VIDEO){var s=O.a.get(r,"questions");t.hasMixedModeInteractiveVideoQuestions(s)&&(c=!0)}return c})),A9(this,"getScoreValue",(function(e,n){if(!n)return null;var r=e.gradeType,a=n.gradeParts,o=n.overallValue,i=null;if(t.useOverallGradeValue(e,n)){i=o;var c=O.a.find(a,{type:ny.a.ACTIVITY_RESULT});c&&O.a.isNumber(c.partValue)||(i=null)}else switch(r){case ty.a.RUBRIC:i=t.getRubricScore(n);break;case ty.a.COMPLETION:case ty.a.FIVESTAR:case ty.a.GRADE:case ty.a.PASS_FAIL:i=a&&0!==a.length?o:null}return i})),A9(this,"getRubricScore",(function(e){var t=e.gradeParts,n=e.isFinalizable,r=e.isDraft;if(!n&&r)return null;var a=O.a.find(t,(function(e){return e.type===ny.a.ACTIVITY_RESULT&&e.evaluationType===ty.a.RUBRIC})),o=O.a.get(a,"evaluations");if(!o)return null;var i=o.map((function(e){return e.value}));return i.reduce((function(e,t){return e+t}),0)/i.length})),A9(this,"hasMixedModeInteractiveVideoQuestions",(function(e){for(var t=!1,n=!1,r=0;e&&r<e.length;r++){var a=e[r];a&&a.__typename&&(a.__typename===SR.o?n=!0:a.__typename===SR.n&&(t=!0))}return Boolean(t&&n)}))}var t,n,r;return t=e,(n=[{key:"getRandomAAScore",value:function(){return Math.floor(100*Math.random())}},{key:"normalizeUsers",value:function(e,t){var n=this;return e.map((function(e){var r=e.student,a={id:r.dbId,evaluation:e.educatorGrade,firstName:r.firstName,lastName:r.lastName,fullName:"".concat(r.firstName," ").concat(r.lastName),group:e.studentGroup,peerReview:e.peerReview,result:e.result,resultPartials:e.resultPartials,rubricEvaluations:e.rubricEvaluations,status:n.getUserStatus(e)};switch(t){case Wu.b.GROUP_PRESENTATION:a.group=e.studentGroup;break;case Wu.b.QA_ENHANCED:a.answerCount=O.a.get(e,"qaAnswers",[]).length}return a}))}},{key:"normalizeActivityData",value:function(e){var t=e.type,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A9(e,t,n[t])}))}return e}({},e,{autoAnalysisEnabled:e.autoAnalysisEnabled===tF.a.ENABLED,isFiveStarPeerReviewEnabled:e.studentFivestarValuationEnabled,isRubricReviewEnabled:e.rubricPeerAllowed});if(t===Wu.b.QA_ENHANCED){var r=e.qaSettings,a=0;if(r.isRandomQuestionsModeEnabled)a=r.amountOfRandomQuestionsPerStudent;else{var o=O.a.get(e,"qaQuestions",[]);a=(o=O.a.filter(o,(function(e){return e.isUsed}))).length}n.qaSettings={questionCount:a}}else t===Wu.b.INTERACTIVE_VIDEO&&(n.interactiveVideoSettings={questions:e.interactiveQuestions});return n}},{key:"getUserStatus",value:function(e){switch(e.progress){case b9:return m9.NOT_VIEWED;case y9:return m9.VIEWED;case v9:return m9.IN_PROGRESS;case h9:case g9:return m9.NEEDS_EVALUATION;case E9:return m9.EVALUATED;case w9:return m9.PUBLISHED}return null}},{key:"getStatusLabel",value:function(e,t){switch(e){case m9.NOT_VIEWED:return t._("Not Viewed");case m9.VIEWED:return t._("Viewed");case m9.IN_PROGRESS:return t._("In Progress");case m9.NEEDS_EVALUATION:return t._("Needs Evaluation");case m9.EVALUATED:return t._("Evaluated");case m9.PUBLISHED:return t._("Published");default:return t._("Unknown")}}},{key:"getStatusLabelWithCount",value:function(e,t,n){switch(e){case m9.NOT_VIEWED:return n._("{count} Not Viewed",{count:t});case m9.VIEWED:return n._("{count} Viewed",{count:t});case m9.IN_PROGRESS:return n._("{count} In Progress",{count:t});case m9.NEEDS_EVALUATION:return n._({id:"{count, plural, one {{count} Needs Evaluation} other {{count} Need Evaluation}}",values:{count:t}});case m9.EVALUATED:return n._("{count} Evaluated",{count:t});case m9.PUBLISHED:return n._("{count} Published",{count:t});default:return n._("{count} Unknown",{count:t})}}},{key:"getViewModeForViewportSize",value:function(e){switch(e){case DO.a.XSMALL.name:case DO.a.SMALL.name:return S9.XSMALL;case DO.a.MEDIUM.name:return S9.SMALL;case DO.a.LARGE.name:case DO.a.XLARGE.name:default:return S9.LARGE}}},{key:"getGradeTypeLabel",value:function(e,t){switch(e){case ty.a.GRADE:return t._("Percentage");case ty.a.AUTO_ANALYSIS:return t._("Auto Analysis\\u2122");case ty.a.RUBRIC:return t._("Rubric");case ty.a.PASS_FAIL:return t._("Pass/Fail");case ty.a.COMPLETION:return t._("Auto Pass");case ty.a.FIVESTAR:return t._("Five Star");default:return"(Unknown Grade Type)"}}},{key:"getActivityTypeLabel",value:function(e,t){switch(e){case Wu.b.GROUP_PRESENTATION:return t._("Group project");case Wu.b.INDIVIDUAL_PROJECT:return t._("Individual project");case Wu.b.QA_ENHANCED:return t._("Question and Answer");case Wu.b.INTERACTIVE_VIDEO:return t._("Interactive Video");case Wu.b.CONVERSATION:return t._("Conversation");case Wu.b.IN_CLASSROOM:return t._("In-Class Video");case Wu.b.TEXT_DISCUSSION:return t._("Text discussion");case Wu.b.ROLE_PLAY:return t._("Role Play");default:return null}}},{key:"getTooltipMessageForStatus",value:function(e,t){switch(e){case m9.NOT_VIEWED:return t._("Learner has not accessed the activity.");case m9.VIEWED:return t._("Learner has accessed the activity, but has not added any content.");case m9.IN_PROGRESS:return t._("Learner has added content, but has not submitted.");case m9.NEEDS_EVALUATION:return t._("Learner's submitted content has not been evaluated.");case m9.EVALUATED:return t._("Learner's submitted content has been evaluated. Score will be available to the learner once published.");case m9.PUBLISHED:return t._("Score is available to the learner and, if applicable, the learning platform.");default:return""}}},{key:"applySort",value:function(e,t,n,r){var a=this;return Object(p9.b)(t,[function(t){var r=O.a.get(t,n.field);return"evaluation.overallValue"===n.field?a.getScoreValue(e,t.evaluation):"status"===n.field?a.getStatusSortOrderOption(r):n.type===I9?r?r.toLowerCase():null:r}],[r?"asc":"desc"])}},{key:"applyFilters",value:function(e,t,n){var r=R9(e);return 0!==n.length&&(r=O.a.filter(r,(function(e){return n.includes(e.status)}))),O.a.trim(t)&&(r=O.a.filter(r,(function(e){var n=e.fullName,r=e.group,a=Boolean(n.toLowerCase().indexOf(t.toLowerCase())>=0),o=!1;return r&&(o=Boolean(r.name.toLowerCase().indexOf(t.toLowerCase())>=0)),a||o}))),r}}])&&P9(t.prototype,n),r&&P9(t,r),e}());function j9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k9(e,t,n[t])}))}return e}function k9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D9(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function L9(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function M9(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L9(o,r,a,i,c,"next",e)}function c(e){L9(o,r,a,i,c,"throw",e)}i(void 0)}))}}var x9=Object(l.c)("activity-overview"),F9={activityData:null,activityId:null,activityName:null,activityType:null,allUsers:[],config:null,error:null,fetchingActivityData:!1,groupsFinalizedAt:null,institution:null,loadingPage:!0,loadedPresetComments:!1,selectedUser:null,users:[],userCount:0,userId:null,userLoading:!0,userListRowMode:C9.COMPACT,userListSortField:T9.NAME,userListSortAscending:!0,userListSearchValue:"",userListFilters:{status:[]},userLocale:null},U9=function(e){return function(){var t=M9(regeneratorRuntime.mark((function t(n){var r,a,o,i,c,s,u,l,d,f,p,m,b,y,v,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.getState,a=n.setState,o=r(),i=o.userListSortField,c=o.userListSortAscending,s=o.userListSearchValue,u=o.userListFilters,t.prev=2,t.next=5,e9.fetchActivityType(e);case 5:return l=t.sent,x9.debug("Found activity with type",{activityType:l}),x9.debug("Fetching activity data",{activityId:e,activityType:l}),t.next=10,e9.fetchActivityData(e,l);case 10:d=t.sent,x9.debug("Found activity data",{activity:d}),f=N9.normalizeActivityData(d),x9.debug("Activity data normalized",{_activityData:f}),p=N9.normalizeUsers(O.a.get(f,"dataForAllStudents"),l),x9.debug("Activity users normalized",{users:p}),l===Wu.b.GROUP_PRESENTATION&&(p=O.a.filter(p,(function(e){return Boolean(e.group)})),m=f.executorsType,b=f.groupsFormedAt,y=f.groupsFormationFinalizeAt,m===Rd.a.EDUCATOR_FORMED||b||a({groupsFinalizedAt:y})),v=N9.applyFilters(p,s,u.status),h=N9.applySort(f,v,i,c),a({activityData:f,activityName:f.name,activityId:e,activityType:l,users:h,allUsers:p,userCount:p.length}),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(2),x9.error("Unable to load data for activity",t.t0);case 25:case"end":return t.stop()}}),t,this,[[2,22]])})));return function(e){return t.apply(this,arguments)}}()},V9=function(e,t){return function(){var n=M9(regeneratorRuntime.mark((function n(r){var a,o,i,c,s,u,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.getState,(o=r.setState)({userLoading:!0}),x9.debug("Fetching users submission state",{activityId:e,userId:t}),n.next=5,e9.fetchLearnerSubmissionData(e,t);case 5:if(i=n.sent,x9.debug("Fetching user data",{activityId:e,userId:t}),c=Boolean(O.a.get(i,"activity.dataForOneStudent.result.submittedAt")),s=a(),u=s.activityType,l={},!c){n.next=18;break}return x9.debug("Fetching grade data for learner"),n.next=14,e9.fetchUserGradingData(e,u,t);case 14:l=n.sent,m.a.dispatch(qu.ab(l)),n.next=23;break;case 18:return x9.debug("Fetching progress data for learner"),n.next=21,e9.fetchUserProgressData(e,u,t);case 21:l=n.sent,m.a.dispatch(yO.Vb(l));case 23:l.myData=l.dataForOneStudent,x9.debug("Adding user data to state",{data:l}),o({selectedUser:l,userLoading:!1});case 26:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},G9=function(e){return function(){var t=M9(regeneratorRuntime.mark((function t(n){var r,a,o,i,c,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.getState,a=n.setState,e&&0!==e.length){t.next=3;break}return t.abrupt("return",null);case 3:for(o=r(),i=o.users,c=D9(i),s=function(t){var n=O.a.findIndex(i,(function(n){return O.a.get(n,"id")===e[t].id}));n>=0&&(c[n]=j9({},e[t]))},u=0;u<e.length;u++)s(u);a({users:c});case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},q9={loadPage:function(e){return function(){var t=M9(regeneratorRuntime.mark((function t(n){var r,a,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.getState,a=n.setState,o=n.dispatch,i=r(),i.loadedPresetComments||Ec.getUserPresetComments(),e!==r().activityId&&a(F9),x9.debug("Loading activity overview page"),a({loadingPage:!0}),t.next=8,o(U9(e));case 8:return t.next=10,o(function(){var e=M9(regeneratorRuntime.mark((function e(t){var n,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.setState,r=O.a.get(m.a.getState(),"common.auth.userData.locale"),a=O.a.get(m.a.getState(),"common.auth.userData.dbId"),o=O.a.get(m.a.getState(),"common.auth.userData.institution"),i=O.a.get(m.a.getState(),"common.config"),n({config:i,institution:o,userLocale:r,userId:a});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}());case 10:a({loadingPage:!1,loadedPresetComments:!0});case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},fetchUserData:function(e,t){return function(){var n=M9(regeneratorRuntime.mark((function n(r){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.dispatch,n.next=3,a(V9(e,t));case 3:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},clearSelectedUserData:function(){return function(){var e=M9(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getState,n=t.setState,m.a.dispatch(qu.ab(null)),m.a.dispatch(yO.Vb(null)),n({selectedUser:null});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},updateUserListSortField:function(e){return function(){var t=M9(regeneratorRuntime.mark((function t(n){var r,a,o,i,c,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.getState,a=n.setState,o=r(),i=o.activityData,c=o.users,s=o.userListSortAscending,x9.debug("Sorting user list",{field:e,userListSortAscending:s}),u=N9.applySort(i,c,e,s),a({users:u,userListSortField:e});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},updateUserListSortAscending:function(e){return function(){var t=M9(regeneratorRuntime.mark((function t(n){var r,a,o,i,c,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.getState,a=n.setState,o=r(),i=o.activityData,c=o.users,s=o.userListSortField,x9.debug("Sorting user list",{userListSortField:s,asc:e}),u=N9.applySort(i,c,s,e),a({users:u,userListSortAscending:e});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},toggleStatusFilterOption:function(e){return function(){var t=M9(regeneratorRuntime.mark((function t(n){var r,a,o,i,c,s,u,l,d,f,p,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.getState,a=n.setState,o=r(),i=o.activityData,c=o.allUsers,s=o.userListSearchValue,u=o.userListFilters,l=o.userListSortField,d=o.userListSortAscending,f=u.status,p=D9(f),O.a.indexOf(p,e)>=0?O.a.remove(p,(function(t){return t===e})):p.push(e),x9.debug("Filtering user list by status",{_statusFilters:p}),m=N9.applyFilters(c,s,p),a({users:N9.applySort(i,m,l,d),userListFilters:{status:D9(p)}});case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},updateUserListSearchValue:function(e){return function(){var t=M9(regeneratorRuntime.mark((function t(n){var r,a,o,i,c,s,u,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.getState,a=n.setState,o=r(),i=o.activityData,c=o.allUsers,s=o.userListFilters,u=o.userListSortField,l=o.userListSortAscending,d=N9.applyFilters(c,e,s.status),a({users:N9.applySort(i,d,u,l),userListSearchValue:e});case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},publishScores:function(){return function(){var e=M9(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState,r=t.setState,a=t.dispatch,o=n(),i=o.activityId,c=o.selectedUser,e.prev=2,r({fetchingActivityData:!0}),e.next=6,e9.publishScores(i);case 6:return e.next=8,a(U9(i));case 8:if(!c){e.next=12;break}return s=O.a.get(c,"dataForOneStudent.result.submitter.dbId"),e.next=12,a(V9(i,s));case 12:r({fetchingActivityData:!1}),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(2),x9.error("Could not publish scores",e.t0),new Error(e.t0);case 19:case"end":return e.stop()}}),e,this,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()},publishScoresForGroup:function(e){return function(){var t=M9(regeneratorRuntime.mark((function t(n){var r,a,o,i,c,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.getState,a=n.setState,o=n.dispatch,i=r(),c=i.activityId,s=i.selectedUser,t.prev=2,a({fetchingActivityData:!0}),t.next=6,e9.publishScoresForGroup(e);case 6:return t.next=8,o(U9(c));case 8:if(!s){t.next=12;break}return u=O.a.get(s,"dataForOneStudent.result.submitter.dbId"),t.next=12,o(V9(c,u));case 12:a({fetchingActivityData:!1}),t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(2),x9.error("Could not publish scores",t.t0),new Error(t.t0);case 19:case"end":return t.stop()}}),t,this,[[2,15]])})));return function(e){return t.apply(this,arguments)}}()},resetSubmission:function(e){return function(){var t=M9(regeneratorRuntime.mark((function t(n){var r,a,o,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.getState,a=n.setState,o=n.dispatch,i=r(),c=i.activityId,a({fetchingActivityData:!0}),t.next=5,e9.resetSubmission(c,e);case 5:return t.next=7,o(V9(c,e));case 7:return t.next=9,o(U9(c));case 9:a({fetchingActivityData:!1});case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},resetQAAnswers:function(e,t,n){return function(){var r=M9(regeneratorRuntime.mark((function r(a){var o,i,c,s,u,l,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=a.getState,i=a.setState,c=a.dispatch,s=o(),u=s.activityId,O.a.isEmpty(t)){r.next=13;break}if(i({fetchingActivityData:!0}),!n){r.next=7;break}return r.next=7,e9.resetSubmission(u,e);case 7:for(l=0;l<t.length;l++)d=t[l],e9.resetQAAnswer(d.qaQuestion.dbId,d.submitter.dbId);return r.next=10,c(V9(u,e));case 10:return r.next=12,c(U9(u));case 12:i({fetchingActivityData:!1});case 13:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}()},updateGradeData:function(e,t){return function(){var n=M9(regeneratorRuntime.mark((function n(r){var a,o,i,c,s,u,l,d,f,p,m,b,y,v,h,g,E,w,S;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.getState,o=r.setState,i=r.dispatch,c=a(),s=c.activityId,u=c.activityType,l=c.allUsers,d=[],f=[],n.next=6,e9.fetchLearnerSubmissionData(s,e);case 6:if(p=n.sent,m=O.a.get(p,"activity.dataForOneStudent.progress"),u===Wu.b.GROUP_PRESENTATION){if(b=O.a.find(l,(function(t){return O.a.get(t,"result.submitter.dbId")===e})))for(y=b.group.dbId,v=0;v<l.length;v++)l[v].group.dbId===y&&d.push(v)}else(h=O.a.findIndex(l,(function(t){return O.a.get(t,"result.submitter.dbId")===e})))>=0&&d.push(h);for(g=D9(l),E=0;E<d.length;E++)w=d[E],S=j9({},g[w],{evaluation:t,status:m}),g[w]=S,f.push(S);i(G9(f)),o({allUsers:g});case 13:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},updateGradeDataForGroupMember:function(e,t){return function(){var n=M9(regeneratorRuntime.mark((function n(r){var a,o,i,c,s,u,l,d,f,p,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.getState,o=r.setState,i=r.dispatch,c=a(),s=c.activityId,u=c.allUsers,l=D9(u),n.next=5,e9.fetchLearnerSubmissionData(s,e);case 5:d=n.sent,f=O.a.get(d,"activity.dataForOneStudent.progress"),p=O.a.findIndex(u,(function(t){return t.id===e})),m=j9({},l[p],{evaluation:t,status:f}),l[p]=m,i(G9([m])),o({allUsers:l});case 12:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},addGroupComment:function(e,t){return function(){var n=M9(regeneratorRuntime.mark((function n(r){var a,o,i,c,s,u,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.getState,o=r.setState,r.dispatch,n.next=3,e9.addGroupComment(e,t);case 3:i=n.sent,c=i.comment,s=a(),u=s.selectedUser,O.a.get(u,"dataForOneStudent.studentGroup.dbId")===t&&(l=j9({},u,{dataForOneStudent:j9({},u.dataForOneStudent,{studentGroup:j9({},u.dataForOneStudent.studentGroup,{comments:[].concat(D9(u.dataForOneStudent.studentGroup.comments),[c])})})}),o({selectedUser:l}));case 7:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},deleteGroupComment:function(e,t){return function(){var n=M9(regeneratorRuntime.mark((function n(r){var a,o,i,c,s,u,l,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.getState,o=r.setState,r.dispatch,n.next=3,e9.deleteGroupComment(e);case 3:i=n.sent,c=i.removedId,s=a(),u=s.selectedUser,O.a.get(u,"dataForOneStudent.studentGroup.dbId")===t&&(l=D9(u.dataForOneStudent.studentGroup.comments),O.a.remove(l,(function(e){return+e.dbId===c})),d=j9({},u,{dataForOneStudent:j9({},u.dataForOneStudent,{studentGroup:j9({},u.dataForOneStudent.studentGroup,{comments:D9(l)})})}),o({selectedUser:d}));case 7:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},updateUserListRowMode:function(e){return function(){var t=M9(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.getState,(0,n.setState)({userListRowMode:e});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},reloadActivityData:function(){return function(){var e=M9(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getState,t.setState,(0,t.dispatch)(function(){var e=M9(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState,r=t.setState,a=t.dispatch,o=n(),i=o.activityId,c=o.selectedUser,e.prev=2,r({fetchingActivityData:!0}),e.next=6,a(U9(i));case 6:if(!c){e.next=10;break}return s=O.a.get(c,"dataForOneStudent.result.submitter.dbId"),e.next=10,a(V9(i,s));case 10:r({fetchingActivityData:!1}),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(2),new Error(e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},applySortAndFilters:function(){return function(){var e=M9(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,c,s,u,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getState,r=t.setState,t.dispatch,a=n(),o=a.activityData,i=a.allUsers,c=a.userListFilters,s=a.userListSearchValue,u=a.userListSortField,l=a.userListSortAscending,d=N9.applyFilters(i,s,c.status),r({users:N9.applySort(o,d,u,l)});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}},B9=Object(x4.b)({initialState:F9,actions:q9}),W9=Object(x4.a)(B9),Q9=(Object(x4.c)(B9),n("YlQI")),Y9=n.n(Q9),H9=(n("HVOn"),n("Xv+h")),z9=n.n(H9);function K9(){return o.a.createElement("div",{className:z9.a.emptyGrade},"\u2014")}function X9(e){var t=e.evaluation,n=e.i18n;if(!t)return o.a.createElement(K9,null);var r=t&&O.a.isBoolean(t.completion)?t.completion:void 0;return O.a.isBoolean(r)&&(r=r?n._("Pass"):n._("Fail")),r?o.a.createElement("div",null,r):o.a.createElement(K9,null)}X9.defaultProps={evaluation:{}},X9.propTypes={evaluation:c.a.object};var J9=Object(U.withI18n)()(X9),Z9=n("1mi+"),$9=n("qlgi"),e6=n.n($9);function t6(e){var t=e.evaluation;if(!t)return o.a.createElement(K9,null);var n=t&&O.a.isNumber(t.fiveStarValue)?t.fiveStarValue:void 0;return O.a.isNumber(n)?o.a.createElement(Z9.a,{className:e6.a.rating,enabled:!1,name:"fivestar-grade",value:n}):o.a.createElement(K9,null)}t6.defaultProps={evaluation:{}},t6.propTypes={evaluation:c.a.object};var n6=t6;function r6(e){var t=e.evaluation,n=e.i18n;if(!t)return o.a.createElement(K9,null);var r=t&&O.a.isBoolean(t.passFail)?t.passFail:void 0;return O.a.isBoolean(r)&&(r=r?n._("Pass"):n._("Fail")),r?o.a.createElement("div",null,r):o.a.createElement(K9,null)}r6.defaultProps={evaluation:{}},r6.propTypes={evaluation:c.a.object};var a6=Object(U.withI18n)()(r6);function o6(e){var t=e.evaluation,n=e.useOverallGradeValue;if(!t)return o.a.createElement(K9,null);var r=null;if(n){r=t.overallValue;var a=O.a.find(t.gradeParts,{type:ny.a.ACTIVITY_RESULT});a&&O.a.isNumber(a.partValue)||(r=null)}else r=t&&O.a.isNumber(t.gradeValue)?t.gradeValue:void 0;return O.a.isNumber(r)?o.a.createElement("div",null,r,"%"):o.a.createElement(K9,null)}o6.defaultProps={activityType:"",evaluation:{},useOverallGradeValue:!1},o6.propTypes={activityType:c.a.string,evaluation:c.a.object,useOverallGradeValue:c.a.bool};var i6=o6;function c6(e){var t=e.evaluation;if(!t)return o.a.createElement(K9,null);var n=t.gradeParts,r=t.isFinalizable,a=t.isDraft;if(!r&&a)return o.a.createElement(K9,null);var i=O.a.find(n,(function(e){return e.type===ny.a.ACTIVITY_RESULT&&e.evaluationType===ty.a.RUBRIC})),c=O.a.get(i,"evaluations");if(!c)return o.a.createElement(K9,null);var s=c.map((function(e){return e.value}));s=s.reduce((function(e,t){return e+t}),0)/s.length;var u=O.a.get(c[0],"rubric.rubric.maxValue");return o.a.createElement("div",null,o.a.createElement(tf.c,{points:s,max:u}))}c6.defaultProps={evaluation:{},rubricEvaluations:[]},c6.propTypes={evaluation:c.a.object};var s6=Object(U.withI18n)()(c6),u6=n("vbAW"),l6=n.n(u6);n("+zm6");function d6(){return(d6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p6(e){var t=e.evaluation,n=e.i18n,r=f6(W9(),1)[0],a=r.activityData,i=a.gradeType,c=a.peerReviewType,s=a.peerReviewGradeEnabled,u=r.activityType,l=Boolean(c)&&Boolean(s);if(t&&u===Wu.b.INTERACTIVE_VIDEO){var d=O.a.get(r,"activityData.interactiveVideoSettings.questions");N9.hasMixedModeInteractiveVideoQuestions(d)&&(l=!0)}return o.a.createElement("div",d6({},le.b.learners.itemDetails.score.q({type:i}),{className:l6.a.scoreItemContainer}),o.a.createElement("span",{className:E()("userListItemScoreLabel",l6.a.scoreLabel)},n._("Score")),o.a.createElement("div",{className:l6.a.scoreValue},function(e,t,n,r){var a=e.evaluation,i=e.rubricEvaluations;if(r)return o.a.createElement(i6,{activityType:t,evaluation:a,useOverallGradeValue:!0});switch(n){case ty.a.RUBRIC:return o.a.createElement(s6,{evaluation:a,rubricEvaluations:i});case ty.a.FIVESTAR:return o.a.createElement(n6,{evaluation:a});case ty.a.GRADE:return o.a.createElement(i6,{evaluation:a});case ty.a.PASS_FAIL:return o.a.createElement(a6,{evaluation:a});case ty.a.COMPLETION:return o.a.createElement(J9,{evaluation:a});default:return null}}(e,u,i,l)))}p6.propTypes={evaluation:c.a.object,gradeType:c.a.string.isRequired,i18n:c.a.object.isRequired,rubricEvaluations:c.a.array,useOverallGradeValue:c.a.bool};var m6=Object(U.withI18n)()(p6),b6=n("Pfhi"),y6=n.n(b6);function v6(){return(v6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h6(e){switch(e){case m9.NOT_VIEWED:return y6.a.notViewed;case m9.VIEWED:return y6.a.viewed;case m9.IN_PROGRESS:return y6.a.inProgress;case m9.NEEDS_EVALUATION:return y6.a.submitted;case m9.EVALUATED:return y6.a.evaluated;case m9.PUBLISHED:return y6.a.published;default:return y6.a.unknownStatus}}function g6(e){var t=e.i18n,n=e.status;return o.a.createElement("div",{className:y6.a.statusContainer},o.a.createElement(Ng.b,{label:N9.getTooltipMessageForStatus(n,t),position:Ng.a.RIGHT},o.a.createElement("span",v6({},le.b.learners.statusType.q({statusType:n}),{className:E()(y6.a.status,h6(n))}),N9.getStatusLabel(n,t))))}g6.propTypes={i18n:c.a.object.isRequired,status:c.a.string.isRequired};var E6=Object(U.withI18n)()(Object(a.memo)(g6)),w6=n("h8zk"),O6=n.n(w6);function S6(){return(S6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C6(e){var t=e.i18n,n=e.user.peerReview,r=n.fiveStarValue,a=n.fiveStarRatesAmount;return o.a.createElement("div",S6({},le.b.learners.itemDetails.peerReviewFiveStar.q({value:r,count:a}),{className:O6.a.fiveStarContainer}),o.a.createElement("div",{className:O6.a.title},t._("Peer Review")),o.a.createElement("div",{className:O6.a.ratingContainer},o.a.createElement(Z9.a,{className:O6.a.rating,enabled:!1,name:"peer-review-rating",value:r}),o.a.createElement("span",{className:O6.a.fiveStarCount},"(",a,")")))}C6.propTypes={i18n:c.a.object.isRequired,user:c.a.object.isRequired};var _6=Object(U.withI18n)()(C6),I6=n("g40k"),T6=n.n(I6);function R6(){return(R6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P6(e){var t=e.i18n,n=e.user,r=n.peerReview,a=n.rubricEvaluations.filter((function(e){return Wr.e(n,e.user)})),i=r?r.rubricGrade:null,c=null;return O.a.isEmpty(a)||(c=a[0].rubric.maxValue),o.a.createElement("div",R6({},le.b.learners.itemDetails.peerReviewRubric.q({value:i,maxValue:c}),{className:T6.a.peerReviewContainer}),o.a.createElement("div",{className:T6.a.title},o.a.createElement("span",null,t._("Peer Review"))),o.a.createElement("div",{className:T6.a.contentsContainer},o.a.createElement(tf.c,{className:T6.a.rubricPoints,points:i,max:c})))}P6.propTypes={i18n:c.a.object.isRequired,user:c.a.object.isRequired};var A6=Object(U.withI18n)()(P6),N6=n("pfuG"),j6=n.n(N6);function k6(){return(k6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D6(e){var t=e.isFiveStarReviewEnabled,n=e.isRubricReviewEnabled,r=e.user,a="none";if(t)a="fivestar";else{if(!n)return null;a="rubric"}return o.a.createElement("div",k6({},le.b.learners.itemDetails.peerReview.q({type:a}),{className:j6.a.peerReviewContainer}),t&&o.a.createElement(_6,{user:r}),n&&o.a.createElement(A6,{user:r}))}D6.propTypes={isFiveStarReviewEnabled:c.a.bool.isRequired,isRubricReviewEnabled:c.a.bool.isRequired,user:c.a.object.isRequired};var L6=D6,M6=n("oA72"),x6=n.n(M6);function F6(){return(F6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U6(e,t){return e&&e[t]&&e[t].length||0}function V6(e){var t={videos:U6(e,Rf.a.MEDIA),documents:U6(e,Rf.a.DOCUMENT),links:U6(e,Rf.a.LINK),meetings:U6(e,Rf.a.MEETING)};return t.total=O.a.sum(O.a.toArray(t)),t}function G6(e,t){var n=[];return e.videos&&n.push(t._("{0, plural, one {# Video} other {# Videos}}",{0:e.videos})),e.meetings&&n.push(t._("{0, plural, one {# Recorded Meeting} other {# Recorded Meetings}}",{0:e.meetings})),e.documents&&n.push(t._("{0, plural, one {# File} other {# Files}}",{0:e.documents})),e.links&&n.push(t._("{0, plural, one {# Link} other {# Links}}",{0:e.links})),n.length||n.push(t._("(no items)")),o.a.createElement("div",{className:x6.a.tooltip},o.a.createElement("div",{className:x6.a.column},o.a.createElement("div",{className:x6.a.content},O.a.map(n,(function(e,t){return o.a.createElement("div",{key:"submission-contents-tooltip-label[".concat(t,"]")},e)})))))}function q6(e){var t=e.i18n,n=e.resultPartials,r=e.status,a=r===m9.NOT_VIEWED||r===m9.VIEWED,i=function(e){var t=O.a.filter(e,(function(e){return!(e.__typename===Rf.a.MEETING&&!e.media)&&Boolean(!0)}));return{inProgressCounts:V6(O.a.groupBy(t,"__typename"))}}(n).inProgressCounts,c=G6(i,t),s=i.total;return a&&(c="",s="\u2014"),o.a.createElement("div",{className:x6.a.container},o.a.createElement("div",{className:x6.a.workItemsContainer},o.a.createElement("div",{className:x6.a.title},t._("Items In Progress")),o.a.createElement("div",{className:x6.a.detailsContainer},o.a.createElement(Sg.b,{className:E()(x6.a.details),html:c,position:"bottom"},o.a.createElement("div",F6({},le.b.learners.itemDetails.itemsInProgress.q({count:i.total}),{className:x6.a.totalLabel}),s)))))}function B6(e){var t=e.i18n,n=function(e){var t=O.a.filter(e,(function(e){return!(e.__typename===Rf.a.MEETING&&!e.media)&&Boolean(!e.finalizedAt)})),n=O.a.filter(e,(function(e){return Boolean(e.finalizedAt)})),r=O.a.groupBy(t,"__typename"),a=O.a.groupBy(n,"__typename");return{inProgressCounts:V6(r),readyToSubmitCounts:V6(a)}}(e.resultPartials),r=n.inProgressCounts,a=n.readyToSubmitCounts,i=G6(r,t),c=G6(a,t);return o.a.createElement("div",{className:x6.a.container},o.a.createElement("div",{className:x6.a.workItemsContainer},o.a.createElement("div",{className:x6.a.title},t._("Items Not Submitted")),o.a.createElement("div",{className:x6.a.detailsContainer},o.a.createElement(Sg.b,{className:E()(x6.a.details),html:i,position:"bottom"},o.a.createElement("div",F6({},le.b.learners.itemDetails.itemsNotSubmitted.q({count:r.total}),{className:x6.a.totalLabel}),r.total)))),o.a.createElement("div",{className:x6.a.itemSeparator}),o.a.createElement("div",{className:x6.a.workItemsContainer},o.a.createElement("div",{className:x6.a.title},t._("Items Submitted")),o.a.createElement("div",{className:x6.a.detailsContainer},o.a.createElement(Sg.b,{className:E()(x6.a.details),html:c,position:"bottom"},o.a.createElement("div",F6({},le.b.learners.itemDetails.itemsSubmitted.q({count:a.total}),{className:x6.a.totalLabel}),a.total)))))}function W6(e){var t=e.result;return Boolean(t)?o.a.createElement(B6,e):o.a.createElement(q6,e)}q6.propTypes={i18n:c.a.object.isRequired,resultPartials:c.a.array,status:c.a.string},B6.propTypes={i18n:c.a.object.isRequired,resultPartials:c.a.array},W6.defaultProps={resultPartials:[]},W6.propTypes={i18n:c.a.object.isRequired,result:c.a.object,resultPartials:c.a.array,status:c.a.string};var Q6=Object(U.withI18n)()(W6),Y6=n("unGX"),H6=n.n(Y6);function z6(){return(z6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var K6={A:{minValue:85,level:"a"},B:{minValue:70,level:"b"},C:{minValue:0,level:"c"},UNKNOWN:{minValue:Number.NEGATIVE_INFINITY,level:"unknown"}},X6=[K6.A,K6.B,K6.C];function J6(e){var t=e.media,n=e.i18n,r=O.a.get(t,"autoAnalysisResults.overallScore"),a=function(e){var t=K6.UNKNOWN;return!O.a.isNumber(e)||O.a.isNaN(e)?t:(O.a.forEach(X6,(function(n){if(e>=n.minValue)return t=n,!1})),t)}(r),i=a===K6.UNKNOWN?"\u2014":r,c=n._("Auto Analysis\\u2122 overall score not available");return O.a.isNumber(r)&&(i=N9.getTruncatedNumber(i,0),c=n._("Auto Analysis\\u2122 overall score")),o.a.createElement("div",z6({},le.b.learners.itemDetails.autoAnalysis.q({value:r,ratingLevel:a.level}),{className:E()("autoAnalysisCompactContainer",H6.a.container,H6.a[a.level])}),o.a.createElement("span",{className:E()("autoAnalysisCompactLabel",H6.a.label)},n._("Auto Analysis\\u2122")),o.a.createElement(Sg.b,{className:E()(H6.a.details),label:c,position:Sg.b.POSITION.BOTTOM},o.a.createElement("div",{className:E()("autoAnalysisScoreContainer",H6.a.scoreContainer)},o.a.createElement("div",{className:E()(H6.a.scoreInnerContainer)},o.a.createElement("span",{className:H6.a.scoreLabel},i)))))}J6.defaultProps={autoAnalysisResults:{}},J6.propTypes={media:c.a.object,i18n:c.a.object.isRequired};var Z6=Object(U.withI18n)()(J6);function $6(e,t,n,r){if(n===O9.MAIN)return e===C9.DETAILS?function(e){var t=e.autoAnalysisEnabled,n=e.gradeType,r=e.isFiveStarReviewEnabled,a=e.isRubricReviewEnabled,i=e.user,c=i.evaluation,s=i.result,u=i.resultPartials,l=i.rubricEvaluations,d=i.status,f=O.a.get(s,"media");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.leftContent},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:i.fullName}),o.a.createElement("div",{className:Y9.a.userNameLabel},i.fullName))),o.a.createElement("div",{className:Y9.a.centerContent},o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:d}))),o.a.createElement("div",{className:Y9.a.rightContent},t&&o.a.createElement("div",{className:Y9.a.autoAnalysis},o.a.createElement(Z6,{media:f})),o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:n,evaluation:c,rubricEvaluations:l})))),o.a.createElement("div",{className:Y9.a.expandedContentsContainer},o.a.createElement("div",{className:Y9.a.expandedLeftContent},o.a.createElement(Q6,{result:s,resultPartials:u,status:d})),o.a.createElement("div",{className:Y9.a.expandedCenterContent},o.a.createElement(L6,{isFiveStarReviewEnabled:r,isRubricReviewEnabled:a,user:i})),o.a.createElement("div",{className:Y9.a.expandedRightContent})))}(r):function(e){var t=e.autoAnalysisEnabled,n=e.gradeType,r=e.user,a=r.evaluation,i=r.status,c=r.result,s=r.rubricEvaluations,u=O.a.get(c,"media");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.leftContent},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:r.fullName}),o.a.createElement("div",{className:Y9.a.userNameLabel},r.fullName))),o.a.createElement("div",{className:Y9.a.centerContent},o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:i}))),o.a.createElement("div",{className:Y9.a.rightContent},t&&o.a.createElement("div",{className:Y9.a.autoAnalysis},o.a.createElement(Z6,{media:u})),o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:n,evaluation:a,rubricEvaluations:s})))))}(r);switch(t){case S9.XSMALL:return function(e){var t=e.user;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:t.fullName}),o.a.createElement("div",{className:Y9.a.userNameLabel},t.fullName))))}(r);case S9.SMALL:case S9.LARGE:return function(e){var t=e.gradeType,n=e.user,r=n.evaluation,a=n.rubricEvaluations,i=n.status;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:n.fullName}),o.a.createElement("div",{className:Y9.a.userNameLabel},n.fullName)),o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:i})),o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:t,evaluation:r,rubricEvaluations:a}))))}(r);default:return null}}function eee(e){return $6(e.rowViewMode,e.viewSize,e.viewMode,e)}eee.defaultProps={isFiveStarReviewEnabled:!1,isRubricReviewEnabled:!1,rowViewMode:null,selectedUserId:null},eee.propTypes={activityType:c.a.string.isRequired,autoAnalysisEnabled:c.a.bool.isRequired,gradeType:c.a.string.isRequired,isFiveStarReviewEnabled:c.a.bool,isRubricReviewEnabled:c.a.bool,onSelection:c.a.func.isRequired,rowViewMode:c.a.string,selectedUserId:c.a.number,user:c.a.object.isRequired,viewSize:c.a.string.isRequired,viewMode:c.a.string.isRequired};var tee=Object(a.memo)(eee),nee=n("kgSG"),ree=n.n(nee);function aee(e,t,n,r){if(n===O9.MAIN)return e===C9.DETAILS?function(e){var t=e.i18n,n=e.gradeType,r=e.isFiveStarReviewEnabled,a=e.isRubricReviewEnabled,i=e.user,c=i.evaluation,s=i.group,u=i.result,l=i.resultPartials,d=i.rubricEvaluations,f=i.status,p=O.a.get(s,"name");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.leftContent},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:i.fullName}),o.a.createElement("div",{className:ree.a.userGroupContainer},o.a.createElement("div",{className:Y9.a.userNameLabel},i.fullName),o.a.createElement("div",{className:ree.a.groupLabel},t._("Group: {groupName}",{groupName:p}))))),o.a.createElement("div",{className:Y9.a.centerContent},o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:f}))),o.a.createElement("div",{className:E()(Y9.a.rightContent,ree.a.groupGradeContainer)},o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:n,evaluation:c,rubricEvaluations:d})))),o.a.createElement("div",{className:Y9.a.expandedContentsContainer},o.a.createElement("div",{className:Y9.a.expandedLeftContent},o.a.createElement(Q6,{result:u,resultPartials:l,status:f})),o.a.createElement("div",{className:Y9.a.expandedCenterContent},o.a.createElement(L6,{isFiveStarReviewEnabled:r,isRubricReviewEnabled:a,user:i})),o.a.createElement("div",{className:Y9.a.expandedRightContent})))}(r):function(e){var t=e.i18n,n=e.gradeType,r=e.user,a=r.evaluation,i=r.group,c=r.status,s=r.rubricEvaluations,u=O.a.get(i,"name");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.leftContent},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:r.fullName}),o.a.createElement("div",{className:ree.a.userGroupContainer},o.a.createElement("div",{className:Y9.a.userNameLabel},r.fullName),o.a.createElement("div",{className:ree.a.groupLabel},t._("Group: {groupName}",{groupName:u}))))),o.a.createElement("div",{className:Y9.a.centerContent},o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:c}))),o.a.createElement("div",{className:E()(Y9.a.rightContent,ree.a.groupGradeContainer)},o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:n,evaluation:a,rubricEvaluations:s})))))}(r);switch(t){case S9.XSMALL:return function(e){var t=e.gradeType,n=e.user,r=n.evaluation,a=n.rubricEvaluations,i=n.status;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:n.fullName}),o.a.createElement("div",{className:Y9.a.userNameLabel},n.fullName)),o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:i})),o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:t,evaluation:r,rubricEvaluations:a}))))}(r);case S9.SMALL:return function(e){var t=e.i18n,n=e.gradeType,r=e.user,a=r.evaluation,i=r.group,c=r.rubricEvaluations,s=r.status,u=O.a.get(i,"name");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:E()(Y9.a.userName,ree.a.smallUserName)},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:r.fullName}),o.a.createElement("div",{className:ree.a.userGroupContainer},o.a.createElement("div",{className:Y9.a.userNameLabel},r.fullName),o.a.createElement("div",{className:ree.a.groupLabel},t._("Group: {groupName}",{groupName:u})))),o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:s})),o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:n,evaluation:a,rubricEvaluations:c}))))}(r);case S9.LARGE:return function(e){var t=e.i18n,n=e.gradeType,r=e.user,a=r.evaluation,i=r.group,c=r.rubricEvaluations,s=r.status,u=O.a.get(i,"name");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:E()(Y9.a.userName,ree.a.largeUserName)},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:r.fullName}),o.a.createElement("div",{className:ree.a.userGroupContainer},o.a.createElement("div",{className:Y9.a.userNameLabel},r.fullName),o.a.createElement("div",{className:ree.a.groupLabel},t._("Group: {groupName}",{groupName:u})))),o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:s})),o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:n,evaluation:a,rubricEvaluations:c}))))}(r);default:return null}}function oee(e){return aee(e.rowViewMode,e.viewSize,e.viewMode,e)}oee.defaultProps={isFiveStarReviewEnabled:!1,isRubricReviewEnabled:!1,rowViewMode:null,selectedUserId:null},oee.propTypes={activityType:c.a.string.isRequired,gradeType:c.a.string.isRequired,isFiveStarReviewEnabled:c.a.bool,isRubricReviewEnabled:c.a.bool,onSelection:c.a.func.isRequired,rowViewMode:c.a.string,selectedUserId:c.a.number,user:c.a.object.isRequired,viewSize:c.a.string.isRequired,viewMode:c.a.string.isRequired};var iee=Object(U.withI18n)()(Object(a.memo)(oee));function cee(e,t,n,r){if(n===O9.MAIN)return e===C9.DETAILS?function(e){var t=e.gradeType,n=e.isFiveStarReviewEnabled,r=e.isRubricReviewEnabled,a=e.user,i=a.evaluation,c=a.rubricEvaluations,s=a.status;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.leftContent},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:a.fullName}),o.a.createElement("div",{className:Y9.a.userNameLabel},a.fullName))),o.a.createElement("div",{className:Y9.a.centerContent},o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:s}))),o.a.createElement("div",{className:Y9.a.rightContent},o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:t,evaluation:i,rubricEvaluations:c})))),o.a.createElement("div",{className:Y9.a.expandedContentsContainer},o.a.createElement("div",{className:Y9.a.expandedLeftContent}),o.a.createElement("div",{className:Y9.a.expandedCenterContent},o.a.createElement(L6,{isFiveStarReviewEnabled:n,isRubricReviewEnabled:r,user:a})),o.a.createElement("div",{className:Y9.a.expandedRightContent})))}(r):function(e){var t=e.gradeType,n=e.user,r=n.evaluation,a=n.status,i=n.rubricEvaluations;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.leftContent},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:n.fullName}),o.a.createElement("div",{className:Y9.a.userNameLabel},n.fullName))),o.a.createElement("div",{className:Y9.a.centerContent},o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:a}))),o.a.createElement("div",{className:Y9.a.rightContent},o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:t,evaluation:r,rubricEvaluations:i})))))}(r);switch(t){case S9.XSMALL:case S9.SMALL:case S9.LARGE:return function(e){var t=e.gradeType,n=e.user,r=n.evaluation,a=n.rubricEvaluations,i=n.status;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:n.fullName}),o.a.createElement("div",{className:Y9.a.userNameLabel},n.fullName)),o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:i})),o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:t,evaluation:r,rubricEvaluations:a}))))}(r);default:return null}}function see(e){return cee(e.rowViewMode,e.viewSize,e.viewMode,e)}see.defaultProps={isFiveStarReviewEnabled:!1,isRubricReviewEnabled:!1,rowViewMode:null,selectedUserId:null},see.propTypes={activityType:c.a.string.isRequired,gradeType:c.a.string.isRequired,isFiveStarReviewEnabled:c.a.bool,isRubricReviewEnabled:c.a.bool,onSelection:c.a.func.isRequired,rowViewMode:c.a.string,selectedUserId:c.a.number,user:c.a.object.isRequired,viewSize:c.a.string.isRequired,viewMode:c.a.string.isRequired};var uee=Object(a.memo)(see),lee=n("ouSu"),dee=n.n(lee);function fee(){return(fee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pee(e){var t=e.i18n,n=e.numberOfQuestionsAnswered,r=e.questionCount;return o.a.createElement("div",{className:dee.a.container},o.a.createElement("div",fee({},le.b.learners.itemDetails.qa.q({value:n,total:r}),{className:dee.a.detailsItem}),o.a.createElement("span",{className:dee.a.title},t._("Questions Answered")),o.a.createElement("div",{className:dee.a.totalLabel},o.a.createElement(U.Trans,{id:"{numberOfQuestionsAnswered,number} of {questionCount,number}",values:{numberOfQuestionsAnswered:n,questionCount:r}}))))}pee.propTypes={i18n:c.a.object.isRequired,numberOfQuestionsAnswered:c.a.number,questionCount:c.a.number};var mee=Object(U.withI18n)()(pee);function bee(e,t,n,r){if(n===O9.MAIN)return e===C9.DETAILS?function(e){var t=e.gradeType,n=e.isFiveStarReviewEnabled,r=e.isRubricReviewEnabled,a=e.qaSettings,i=e.user,c=i.answerCount,s=i.evaluation,u=i.rubricEvaluations,l=i.status,d=a.questionCount;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.leftContent},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:i.fullName}),o.a.createElement("div",{className:Y9.a.userNameLabel},i.fullName))),o.a.createElement("div",{className:Y9.a.centerContent},o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:l}))),o.a.createElement("div",{className:Y9.a.rightContent},o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:t,evaluation:s,rubricEvaluations:u})))),o.a.createElement("div",{className:Y9.a.expandedContentsContainer},o.a.createElement("div",{className:Y9.a.expandedLeftContent},o.a.createElement(mee,{numberOfQuestionsAnswered:c,questionCount:d})),o.a.createElement("div",{className:Y9.a.expandedCenterContent},o.a.createElement(L6,{isFiveStarReviewEnabled:n,isRubricReviewEnabled:r,user:i})),o.a.createElement("div",{className:Y9.a.expandedRightContent})))}(r):function(e){var t=e.gradeType,n=e.user,r=n.evaluation,a=n.status,i=n.rubricEvaluations;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.leftContent},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:n.fullName}),o.a.createElement("div",{className:Y9.a.userNameLabel},n.fullName))),o.a.createElement("div",{className:Y9.a.centerContent},o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:a}))),o.a.createElement("div",{className:Y9.a.rightContent},o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:t,evaluation:r,rubricEvaluations:i})))))}(r);switch(t){case S9.XSMALL:case S9.SMALL:case S9.LARGE:return function(e){var t=e.gradeType,n=e.user,r=n.evaluation,a=n.rubricEvaluations,i=n.status;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Y9.a.contentItems},o.a.createElement("div",{className:Y9.a.userName},o.a.createElement(xs.a,{className:Y9.a.userNameAvatar,value:n.fullName}),o.a.createElement("div",{className:Y9.a.userNameLabel},n.fullName)),o.a.createElement("div",{className:Y9.a.status},o.a.createElement(E6,{status:i})),o.a.createElement("div",{className:Y9.a.grade},o.a.createElement(m6,{gradeType:t,evaluation:r,rubricEvaluations:a}))))}(r);default:return null}}function yee(e){return bee(e.rowViewMode,e.viewSize,e.viewMode,e)}yee.defaultProps={isFiveStarReviewEnabled:!1,isRubricReviewEnabled:!1,rowViewMode:null,selectedUserId:null},yee.propTypes={activityType:c.a.string.isRequired,gradeType:c.a.string.isRequired,isFiveStarReviewEnabled:c.a.bool,isRubricReviewEnabled:c.a.bool,onSelection:c.a.func.isRequired,qaSettings:c.a.object.isRequired,rowViewMode:c.a.string,selectedUserId:c.a.number,user:c.a.object.isRequired,viewSize:c.a.string.isRequired,viewMode:c.a.string.isRequired};var vee=Object(a.memo)(yee);function hee(){return(hee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gee(e){switch(e){case O9.MAIN:return Y9.a.main;case O9.SIDE:return Y9.a.side;default:return null}}function Eee(e){switch(e){case S9.SMALL:return Y9.a.small;case S9.XSMALL:return Y9.a.xsmall;case S9.LARGE:return Y9.a.large;default:return null}}function wee(e){var t=e.i18n,n=e.user,r=n.fullName,a=n.status,o=N9.getStatusLabel(a,t);return t._("Learner: {fullName}; Status: {statusLabel};",{fullName:r,statusLabel:o})}function Oee(e){var t=e.activityType,n=e.onSelection,r=e.isSelected,a=e.user,i=e.viewSize,c=e.viewMode;return o.a.createElement(we.a,hee({},le.b.learners.item.q({userId:a.id,userFirstName:a.firstName,userLastName:a.lastName}),{className:E()("userListItem",Y9.a.userItem,Eee(i),gee(c),r&&Y9.a.selected),ariaLabel:wee(e),onClick:function(){r||n(a.id)}}),o.a.createElement("div",{className:Y9.a.content},function(e,t){switch(e){case Wu.b.GROUP_PRESENTATION:return o.a.createElement(iee,t);case Wu.b.QA_ENHANCED:return o.a.createElement(vee,t);case Wu.b.INTERACTIVE_VIDEO:return o.a.createElement(uee,t);default:return o.a.createElement(tee,t)}}(t,e)),o.a.createElement("div",{className:Y9.a.actions}))}Oee.defaultProps={isFiveStarReviewEnabled:!1,isRubricReviewEnabled:!1,isSelected:!1,qaSettings:{},rowViewMode:null},Oee.propTypes={activityType:c.a.string.isRequired,autoAnalysisEnabled:c.a.bool.isRequired,gradeType:c.a.string.isRequired,isFiveStarReviewEnabled:c.a.bool,isRubricReviewEnabled:c.a.bool,isSelected:c.a.bool,onSelection:c.a.func.isRequired,qaSettings:c.a.object,rowViewMode:c.a.string,user:c.a.object.isRequired,viewSize:c.a.string.isRequired,viewMode:c.a.string.isRequired};var See=Object(U.withI18n)()(o.a.memo(Oee)),Cee=n("lTx3"),_ee=n.n(Cee);function Iee(){return(Iee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Tee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ree="activity-overview-learners-list-heading";function Pee(e){switch(e){case S9.SMALL:return _ee.a.small;case S9.XSMALL:return _ee.a.compact;case S9.LARGE:return _ee.a.large;default:return null}}function Aee(e){var t=Object(y.i)(),n=t.activityId,r=t.classId,i=Object(y.h)(),c=Tee(W9(),1)[0],u=Object(s.c)(dy.c),l=e.i18n,d=e.selectedUserId,f=c.activityData,p=c.users,m=c.userCount,b=f.autoAnalysisEnabled,v=f.gradeType,h=f.type,g=N9.getViewModeForViewportSize(u),w=Object(a.useRef)(null);Object(a.useEffect)((function(){w&&w.current&&setTimeout((function(){w.current.scrollIntoView({behavior:"smooth"})}),250)}),[w,d,g]);var O=m;function S(e){var t=Object(y.f)("".concat(M4.ACTIVITY_OVERVIEW,"/learner/:learnerId"),{activityId:n,classId:r,learnerId:e});i.push(t)}return m!==p.length&&(O=l._("{0} of {userCount}",{0:p.length,userCount:m})),o.a.createElement(Uc,Iee({},le.b.learners.container,{className:E()(_ee.a.userListContainer,Pee(g)),focusable:!0,ariaLabelledBy:Ree}),o.a.createElement("div",{className:_ee.a.userListHeader},o.a.createElement("h3",{id:Ree,className:_ee.a.userListHeaderTitle},l._("Learners"),"\xa0",o.a.createElement("span",{className:_ee.a.userCountMessage},"(".concat(O,")"))),o.a.createElement("div",{className:_ee.a.userListHeaderActions}),o.a.createElement(we.d,Iee({},le.b.learners.expandList,{id:"expand-users-btn",className:_ee.a.expandButton,ariaLabel:l._("Full List of Learners"),onClick:function(){var e=Object(y.f)("".concat(M4.ACTIVITY_OVERVIEW),{activityId:n,classId:r});i.push(e)}}),re.a.RIGHT)),o.a.createElement("div",Iee({role:"list"},le.b.learners.list,{className:_ee.a.userList,"aria-label":l._("Learners")}),p.map((function(e){var t=d===e.id;return o.a.createElement("div",{ref:t?w:null,key:"learner[".concat(e.id,"]"),className:_ee.a.userItemContainer},o.a.createElement(See,{activityType:h,autoAnalysisEnabled:b,gradeType:v,onSelection:S,isSelected:t,user:e,viewMode:O9.SIDE,viewSize:g}))}))))}Aee.defaultProps={selectedUserId:null},Aee.propTypes={i18n:c.a.object.isRequired,selectedUserId:c.a.number};var Nee=Object(U.withI18n)()(Aee);function jee(e){var t=e.activityData,n=t.instructionsText,r=t.instructionsMedia,a=t.dataForOneStudent.resultPartials,i=Object(y.j)(),c=i.path,s=i.url;function u(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ff,{resultPartials:a}),o.a.createElement(op.a,{media:r,text:n}),o.a.createElement(vp,{readOnly:!0}),o.a.createElement(Sm,{readOnly:!0,userType:"educator"}),o.a.createElement(CS,{readOnly:!0}))}return o.a.createElement("div",null,o.a.createElement(F.a,{query:"(min-width: 701px)"},u()),o.a.createElement(F.a,{query:"(max-width: 700px)"},o.a.createElement(y.d,null,o.a.createElement(y.b,{path:"".concat(c,"/activity-log"),render:function(){return o.a.createElement(Zs,{parentUrl:s})}}),o.a.createElement(y.b,{path:"".concat(c,"/chat"),render:function(){return o.a.createElement(vu,{canDelete:!0,parentUrl:s})}}),o.a.createElement(y.b,{path:"".concat(c,"/meeting/:meetingId"),render:function(){return o.a.createElement(pb,{readOnly:!0,parentUrl:s})}}),o.a.createElement(y.b,{path:"".concat(c,"/milestone/:milestoneId"),render:function(){return o.a.createElement(fm,{readOnly:!0,parentUrl:s})}}),u())))}jee.propTypes={activityData:c.a.object.isRequired};var kee=jee;function Dee(e){var t=e.activityData,n=t.instructionsText,r=t.instructionsMedia,a=t.dataForOneStudent.resultPartials;return o.a.createElement(o.a.Fragment,null,o.a.createElement($I.a,{resultPartials:a}),o.a.createElement(op.a,{media:r,text:n}),o.a.createElement(fT,{readOnly:!0}),o.a.createElement(Sm,{readOnly:!0,userType:"educator"}),o.a.createElement(CS,{readOnly:!0}))}Dee.propTypes={activityData:c.a.object.isRequired};var Lee=Dee;function Mee(e){var t=e.activityData,n=t.instructionsText,r=t.instructionsMedia,a=t.dataForOneStudent;return o.a.createElement(o.a.Fragment,null,o.a.createElement(fR,null),o.a.createElement(op.a,{media:r,text:n}),o.a.createElement(LR,{interactiveAnswers:a.interactiveAnswers,isEducator:!0}))}Mee.propTypes={activityData:c.a.object.isRequired};var xee=Mee,Fee=n("R0ST"),Uee=n.n(Fee);function Vee(e){var t=e.i18n,n=e.type;return o.a.createElement("div",{className:Uee.a.projectTypeContainer},o.a.createElement("span",{className:E()(Uee.a.projectTypeLabel)},function(e,t){switch(e){case Wu.b.GROUP_PRESENTATION:return t._("Group project");case Wu.b.INDIVIDUAL_PROJECT:return t._("Individual project");case Wu.b.QA_ENHANCED:return t._("Question and Answer");case Wu.b.INTERACTIVE_VIDEO:return t._("Interactive Video");case Wu.b.CONVERSATION:return t._("Conversation");case Wu.b.IN_CLASSROOM:return t._("In-Class Video");case Wu.b.TEXT_DISCUSSION:return t._("Text discussion");case Wu.b.ROLE_PLAY:return t._("Role Play");default:return null}}(n,t)),function(e){switch(e){case Wu.b.GROUP_PRESENTATION:return o.a.createElement(zc.a,null,re.a.GROUP);case Wu.b.INDIVIDUAL_PROJECT:return o.a.createElement(zc.a,null,re.a.PERSON);case Wu.b.QA_ENHANCED:return o.a.createElement(zc.a,null,re.a.QUESTION_ANSWER);case Wu.b.INTERACTIVE_VIDEO:return o.a.createElement(zc.a,{iconClassName:Tf.a.INTERACTIVE_VIDEO});default:return null}}(n))}Vee.propTypes={i18n:c.a.object.isRequired,type:c.a.string.isRequired};var Gee=Object(U.withI18n)()(Vee),qee=n("Owkc"),Bee=n.n(qee);function Wee(e){var t=e.activityName,n=e.activityType,r=e.dueDate,a=e.i18n;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Bee.a.detailsHeader},o.a.createElement("div",{className:Bee.a.headerInfo},o.a.createElement("h1",{className:Bee.a.headerTitle},t),o.a.createElement("div",{className:Bee.a.detailsContainer},o.a.createElement("div",{className:Bee.a.activityInfo},o.a.createElement("div",{className:Bee.a.infoItem},o.a.createElement(Gee,{type:n})),r&&o.a.createElement("div",{className:Bee.a.infoItem},o.a.createElement("span",{className:Bee.a.infoItemLabel,"aria-label":a._("Due Date")},o.a.createElement(U.Trans,{id:"Due Date:"})," ",o.a.createElement(oa.b,{unixTime:r}))))))))}Wee.propTypes={activityName:c.a.string.isRequired,activityType:c.a.string.isRequired,dueDate:c.a.number,i18n:c.a.object.isRequired};var Qee=Object(U.withI18n)()(Wee),Yee=n("zcQA"),Hee=n.n(Yee);function zee(){return(zee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kee(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Xee(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Kee(o,r,a,i,c,"next",e)}function c(e){Kee(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Jee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Zee(e){var t=e.dueDate,n=e.i18n,r=Jee(W9(),2),i=r[0],c=r[1],s=i.activityName,u=i.activityType,l=i.selectedUser,d=i.userId,f=Jee(Object(a.useState)(!1),2),p=f[0],m=f[1],b=Jee(Object(a.useState)(!1),2),y=b[0],v=b[1],h=Jee(Object(a.useState)(!1),2),g=h[0],w=h[1],S=Jee(Object(a.useState)([]),2),C=S[0],_=S[1],I=O.a.get(l,"dataForOneStudent.studentGroup"),T=O.a.get(l,"dataForOneStudent.studentGroup.comments");function R(){return(R=Xee(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,c.addGroupComment(t,I.dbId);case 3:m(!1);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function P(){return(P=Xee(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0),c.deleteGroupComment(t.dbId,I.dbId),m(!1);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}return Object(a.useEffect)((function(){_(O.a.filter(T,(function(e){return e.isSystem})))}),[T]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Bee.a.detailsHeader},o.a.createElement("div",{className:Bee.a.headerInfo},o.a.createElement("h1",{className:Bee.a.headerTitle},s),o.a.createElement("div",{className:Bee.a.detailsContainer},o.a.createElement("div",{className:Bee.a.activityInfo},o.a.createElement("div",{className:Bee.a.infoItem},o.a.createElement(Gee,{type:u})),t&&o.a.createElement("div",{className:Bee.a.infoItem},o.a.createElement("span",{className:Bee.a.infoItemLabel,"aria-label":n._("Due Date")},o.a.createElement(U.Trans,{id:"Due Date:"})," ",o.a.createElement(oa.b,{unixTime:t})))))),o.a.createElement("div",{className:E()(Bee.a.headerActions,Hee.a.groupHeaderActions)},function(){var e=0===C.length?n._("Activity Log - (No Items)"):n._("Activity Log");return o.a.createElement("div",null,o.a.createElement(we.d,zee({},le.b.progress.chat,{className:Hee.a.headerAction,ariaLabel:n._("Chat Messages"),tooltip:{label:n._("Chat")},onClick:function(){v(!0)}}),re.a.CHAT),o.a.createElement(we.d,zee({},le.b.progress.activityLog,{className:Hee.a.headerAction,enabled:C.length>0,ariaLabel:e,tooltip:{label:e},onClick:function(){w(!0)}}),re.a.ACTIVITY))}())),y&&o.a.createElement(V.a,{id:"chat-dialog",dialogClassName:"chat-dialog",contentClassName:"chat-dialog-content",title:n._("Chat"),onHide:function(){v(!1)}},o.a.createElement(su,{className:Hee.a.chatContainer,canDelete:!0,messages:I.comments,onDelete:function(e){return P.apply(this,arguments)},onSubmit:function(e){return R.apply(this,arguments)},studentId:d,messagesLoading:p})),g&&o.a.createElement(V.a,{id:"activity-log-dialog",dialogClassName:"activity-log-dialog",contentClassName:"activity-log-dialog-content",title:n._("Activity Log"),onHide:function(){w(!1)}},o.a.createElement(Ws,{className:Hee.a.activityLogContainer,messages:C})))}Zee.propTypes={dueDate:c.a.number,i18n:c.a.object.isRequired};var $ee=Object(U.withI18n)()(Zee);function ete(e){return e.activityType===Wu.b.GROUP_PRESENTATION?o.a.createElement($ee,e):o.a.createElement(Qee,e)}ete.propTypes={activityData:c.a.object.isRequired,activityName:c.a.string.isRequired,activityType:c.a.string.isRequired,dueDate:c.a.number,userId:c.a.number.isRequired};var tte=ete;function nte(e){var t=e.activityData,n=e.onResetAnswer,r=t.instructionsText,a=t.instructionsMedia;return o.a.createElement(o.a.Fragment,null,o.a.createElement(aA,null),o.a.createElement(op.a,{media:a,text:r}),o.a.createElement(fT,{readOnly:!0}),o.a.createElement(xP.a,{readOnly:!0,onResetAnswerFromEducator:n}))}nte.propTypes={activityData:c.a.object.isRequired,onResetAnswer:c.a.func.isRequired};var rte=nte;function ate(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function ote(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ite(){var e=ote(W9(),2),t=e[0],n=e[1],r=t.activityType,a=t.selectedUser,i=t.userId,c=a.name,s=a.type,u=a.submitDueAt||null;return o.a.createElement(o.a.Fragment,null,o.a.createElement(tte,{activityData:a,activityName:c,activityType:s,dueDate:u,userId:i}),function(){switch(r){case Wu.b.GROUP_PRESENTATION:return o.a.createElement(kee,{activityData:a});case Wu.b.INDIVIDUAL_PROJECT:return o.a.createElement(Lee,{activityData:a});case Wu.b.QA_ENHANCED:return o.a.createElement(rte,{activityData:a,onResetAnswer:function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.resetQAAnswers(r,[t],!1);case 2:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ate(o,r,a,i,c,"next",e)}function c(e){ate(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()});case Wu.b.INTERACTIVE_VIDEO:return o.a.createElement(xee,{activityData:a});default:return o.a.createElement(U.Trans,{id:"Assignment type not supported"})}}())}ite.defaultProps={activityData:{}},ite.propTypes={activityData:c.a.object};var cte=Object(U.withI18n)()(ite),ste=n("lb/n"),ute=n.n(ste);function lte(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dte(e){var t=e.i18n,n=e.allowSaveButton,r=e.saveButtonLabel,a=lte(W9(),2),i=a[0],c=a[1],s=i.activityType,u=i.allUsers,l=i.selectedUser.myData,d=l.isGradeDraftAllowed,f=l.studentGroup,p=s===Wu.b.GROUP_PRESENTATION,m=!0;p&&(m=N9.areGradesHomogeneous(f.members,u));var b=n&&m,y=m&&d,v=!m&&p&&d,h=e.onSaveGrade.bind(e,!1),g=e.onSaveGrade.bind(e,!0),E=r||t._("Save and Publish"),w=t._("Save As Draft"),O=t._("Publish Scores");return o.a.createElement("div",{className:ute.a["grade-container"]},m?e.children:o.a.createElement(Ee.a,{className:ute.a["grade-different-scores-message"],type:Ee.a.NOTE_TYPES.INFO,message:t._("Group members have different scores")}),o.a.createElement("div",{className:ute.a["grade-card-buttons"]},y&&o.a.createElement(we.b,{id:"button-grade-card-save-draft",onClick:g,enabled:e.enableSave(!0),ariaLabel:w,primary:!0},w),b&&o.a.createElement(we.b,{id:"button-grade-card-save-publish",onClick:h,enabled:e.enableSave(!1),ariaLabel:E,primary:!0},E),v&&o.a.createElement(we.b,{id:"button-grade-card-finalize-drafts",onClick:function(){return c.publishScoresForGroup(f.dbId)},ariaLabel:O,primary:!0},O)))}dte.propTypes={allowSaveButton:c.a.bool,enableSave:c.a.func.isRequired,i18n:c.a.object.isRequired,onSaveGrade:c.a.func.isRequired,saveButtonLabel:c.a.string},dte.defaultProps={allowSaveButton:!0};var fte=Object(U.withI18n)()(dte),pte=n("EZsn");n("a9g0");function mte(e){return(mte="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yte(e){return(yte=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vte(e,t){return(vte=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gte(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ete="composite-grade-form",wte=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=yte(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==mte(a)&&"function"!==typeof a?hte(r):a,gte(hte(hte(n)),"onGradeChange",(function(e,t){(0,n.props.onGradeChange)(e,t)})),gte(hte(hte(n)),"getGradeValueInput",(function(e,t){switch(e.evaluationType){case ty.a.FIVESTAR:return n.getRatingValueInput(e,t);case ty.a.RUBRIC:return n.getRubricValueInput(e,t);case ty.a.PASS_FAIL:case ty.a.COMPLETION:return n.getPassFailValueInput(e,t);case ty.a.GRADE:default:return n.getPercentageValueInput(e,t)}})),gte(hte(hte(n)),"getPassFailValueInput",(function(e,t){var r=n.props.i18n,a=e.points,i=e.tooltip,c=e.weight,s=a;return null===s&&(s=pte.a.value),o.a.createElement("div",{className:E()(Ete+"-row-value-container",Ete+"-passfail-container")},o.a.createElement("div",{className:Ete+"-row-value-input"},o.a.createElement(Sa.f,{id:Ete+"-row-value["+t+"]",ariaLabelledby:Ete+"-row-label["+t+"]",name:"passfail-grade-dropdown",onChange:function(t){n.onGradeChange(t,e.key)},tooltip:i,value:s})),o.a.createElement("div",{className:E()(Ete+"-row-value-footer")},o.a.createElement("i",null,r._("Weight: {weight}%",{weight:c}))))})),gte(hte(hte(n)),"getRatingValueInput",(function(e,t){var r=n.props.i18n,a=e.points,i=e.tooltip,c=e.weight;return o.a.createElement("div",{className:E()(Ete+"-row-value-container",Ete+"-fivestar-container")},o.a.createElement("div",{className:Ete+"-row-value-input"},o.a.createElement(Qd.a,{id:Ete+"-row-value["+t+"]",ariaLabelledby:Ete+"-row-label["+t+"]",className:Ete+"-row-value",name:"fivestar-grade-rating",onChange:function(t){n.onGradeChange(t,e.key)},tooltip:i,value:+a})),o.a.createElement("div",{className:E()(Ete+"-row-value-footer")},o.a.createElement("i",null,r._("Weight: {weight}%",{weight:c}))))})),gte(hte(hte(n)),"getRubricValueInput",(function(e){var t=n.props.i18n,r=e.points,a=e.maxPoints,i=e.weight,c="\u2014";return null!==r&&(c=t._("{points}/{maxPoints}",{points:r,maxPoints:a})),o.a.createElement("div",{className:E()(Ete+"-row-value-container",Ete+"-rubric-container")},o.a.createElement("div",{className:Ete+"-row-value-input"},o.a.createElement("h5",null,c)),o.a.createElement("div",{className:E()(Ete+"-row-value-footer")},o.a.createElement("i",null,t._("Weight: {weight}%",{weight:i}))))})),gte(hte(hte(n)),"getPercentageValueInput",(function(e,t){var r=n.props.i18n,a=e.editable,i=e.points,c=e.tooltip,s=e.weight;return o.a.createElement("div",{className:Ete+"-row-value-container"},o.a.createElement("div",{className:Ete+"-row-value-input"},o.a.createElement(Sa.c,{id:Ete+"-row-value["+t+"]",ariaLabelledby:Ete+"-row-label["+t+"]",enabled:a,onChange:function(t){n.onGradeChange(t,e.key)},tooltip:c,value:i,onValidate:function(e){return Boolean(e<=100)}})),o.a.createElement("div",{className:E()(Ete+"-row-value-footer")},o.a.createElement("i",null,r._("Weight: {weight}%",{weight:s}))))})),gte(hte(hte(n)),"getGradePartRow",(function(e,t){var r=e.label;return o.a.createElement("div",{key:Ete+"-row-container["+t+"]",className:Ete+"-row-container"},o.a.createElement("div",{className:Ete+"-row-label"},o.a.createElement("h6",{id:Ete+"-row-label["+t+"]"},r)),n.getGradeValueInput(e,t))})),gte(hte(hte(n)),"getOverallGradeRow",(function(e){var t=n.props.i18n,r=e.maxPoints,a=e.points,i=e.label,c=Math.floor(100*a/r);return o.a.createElement("div",{className:Ete+"-row-container"},o.a.createElement("div",{className:Ete+"-row-label"},o.a.createElement("h4",null,i)),o.a.createElement("div",{className:Ete+"-row-value-container"},o.a.createElement("h3",{className:Ete+"-row-value"},null==a?o.a.createElement("span",null,"\u2014"):t._("{percentage}%",{percentage:c}))))})),gte(hte(hte(n)),"getInputs",(function(){var e=n.props,t=e.gradeParts,r=e.overallGrade;return o.a.createElement("div",{className:Ete+"-container"},o.a.createElement("div",{className:Ete},t.map(n.getGradePartRow),o.a.createElement("div",{className:E()(Ete+"-row-container",Ete+"-row-separator")}),n.getOverallGradeRow(r)))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vte(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.gradeParts,r=e.isFinalizable,a=e.isSaveButtonEnabled,i=e.onSave,c=e.saveButtonLabel;if(!n||!n.length)return null;var s=c||t._("Publish");return o.a.createElement(fte,{enableSave:a,onSaveGrade:i,saveButtonLabel:s,allowSaveButton:r},this.getInputs())}}])&&bte(n.prototype,r),a&&bte(n,a),t}(a.Component);wte.propTypes={isFinalizable:c.a.bool,isSaveButtonEnabled:c.a.func,gradeParts:c.a.array.isRequired,onChange:c.a.func,onSave:c.a.func,overallGrade:c.a.object.isRequired,saveButtonLabel:c.a.string},wte.defaultProps={isFinalizable:!0,isSaveButtonEnabled:function(){return!0},onGradeChange:function(){},onSave:function(){}};var Ote,Ste=Object(U.withI18n)()(wte);n("3dGR");function Cte(e){return(Cte="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ate(e,t,n[t])}))}return e}function Ite(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tte(e){return(Tte=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rte(e,t){return(Rte=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ate(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nte="GRADE_PART__MC",jte="GRADE_PART__VR",kte=(Ate(Ote={isDirty:!1},Nte,null),Ate(Ote,jte,null),Ote),Dte=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Tte(t).call(this,e),n=!a||"object"!==Cte(a)&&"function"!==typeof a?Pte(r):a,Ate(Pte(Pte(n)),"processProps",(function(e){var t=(n.state||!1).isDirty;if(!e||t)return{};var r=e.multipleChoiceGradePart,a=e.videoResponseGradePart,o={};return r&&(o[Nte]=r.partValue),a&&(o[jte]=a.partValue),o})),Ate(Pte(Pte(n)),"onChange",(function(e,t){var r;n.setState((Ate(r={},t,e),Ate(r,"isDirty",!0),r))})),Ate(Pte(Pte(n)),"onSaveGrade",(function(e){var t=n.props,r=t.activityId,a=t.onGradeSaved,o=t.submitterId,i=n.state[jte];Vl.saveGradePercentage(+r,+o,i,e).then((function(e){n.setState({isDirty:!1}),a(e)}))})),Ate(Pte(Pte(n)),"isSaveButtonEnabled",(function(){return n.state.isDirty})),Ate(Pte(Pte(n)),"getGradePartPercentage",(function(e){var t=e.points;return null===t&&(t=0),t/100})),Ate(Pte(Pte(n)),"getGradePartWeightedPercentage",(function(e){var t=n.getGradePartPercentage(e);return e.weight*t})),Ate(Pte(Pte(n)),"getGradeParts",(function(){var e=n.props,t=e.gradeType,r=e.data.multipleChoiceWeight,a=n.state[jte],o={key:jte,label:n.getVideoResponseGradeLabel(),points:a,maxPoints:100,weight:100-r,evaluationType:t,editable:!0},i=n.state[Nte];return[o,{key:Nte,label:n.getMultipleChoiceGradeLabel(),points:i,maxPoints:100,tooltip:{label:n.getGradeAutomaticallyCalculatedLabel()},weight:r,evaluationType:ty.a.GRADE,editable:!1}]})),Ate(Pte(Pte(n)),"getOverallGrade",(function(e){var t=0;return e.map((function(e){return t+=n.getGradePartWeightedPercentage(e),!0})),t=Math.floor(t),{label:n.getOverallGradeLabel(),points:t,maxPoints:100}})),n.state=_te({},kte,n.processProps(e)),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rte(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.isDirty||this.setState(_te({},this.processProps(e)))}},{key:"getVideoResponseGradeLabel",value:function(){return this.props.i18n._("Video Response Score:")}},{key:"getMultipleChoiceGradeLabel",value:function(){return this.props.i18n._("Multiple Choice Score:")}},{key:"getGradeAutomaticallyCalculatedLabel",value:function(){return this.props.i18n._("This score is automatically calculated based on multiple choice answers and cannot be modified")}},{key:"getOverallGradeLabel",value:function(){return this.props.i18n._("Overall Score:")}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.data;if(!n.hasMultipleChoiceQuestions||!n.hasVideoResponseQuestions)return null;var r=this.getGradeParts(),a=this.getOverallGrade(r);return o.a.createElement(Ste,{gradeParts:r,isFinalizable:!0,isSaveButtonEnabled:this.isSaveButtonEnabled,onGradeChange:this.onChange,onSave:this.onSaveGrade,overallGrade:a,saveButtonLabel:t._("Save and Publish")})}}])&&Ite(n.prototype,r),a&&Ite(n,a),t}(a.Component);Dte.propTypes={data:c.a.object.isRequired,onGradeSaved:c.a.func};var Lte,Mte=Object(U.withI18n)()(Object(s.b)((function(e){return{activityId:pC(e),gradeType:b_(e),videoResponseGradePart:d_(e),multipleChoiceGradePart:p_(e),studentData:US(e),submitterId:SC(e)}}))(Dte));n("5LeV");function xte(e){return(xte="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Bte(e,t,n[t])}))}return e}function Ute(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vte(e){return(Vte=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gte(e,t){return(Gte=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bte(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wte="GRADE_PART__PEER",Qte="GRADE_PART__MAIN",Yte=(Bte(Lte={isDirty:!1,isSaving:!1},Wte,null),Bte(Lte,Qte,null),Lte),Hte=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Vte(t).call(this,e),n=!a||"object"!==xte(a)&&"function"!==typeof a?qte(r):a,Bte(qte(qte(n)),"processProps",(function(e){var t=(n.state||!1).isDirty;if(!e)return{};var r=e.peerReviewGradePart,a={};return r&&(a[Wte]=r.partValue),e.gradeType!==ty.a.RUBRIC&&t?a:(a[Qte]=n.getMainGradePoints(e),a)})),Bte(qte(qte(n)),"getMainGradePoints",(function(e){var t=e.educatorGrade,n=e.gradeType,r=e.rubricPoints;if(!t&&null===r)return null;switch(n){case ty.a.COMPLETION:return null===t.completion?null:t.completion?1:0;case ty.a.FIVESTAR:return t.fiveStarValue;case ty.a.GRADE:return t.gradeValue;case ty.a.PASS_FAIL:return null===t.passFail?null:t.passFail?1:0;case ty.a.RUBRIC:return r;default:return 0}})),Bte(qte(qte(n)),"getGradeMaxPoints",(function(e){var t=n.props.rubricMaxPoints;switch(e){case ty.a.COMPLETION:case ty.a.PASS_FAIL:return 1;case ty.a.FIVESTAR:return 5;case ty.a.GRADE:return 100;case ty.a.RUBRIC:return t;default:return 0}})),Bte(qte(qte(n)),"getGradeParts",(function(){var e=n.props,t=e.educatorGrade,r=e.gradedPeerReviewWeight,a=e.gradeType,i=e.studentPeerReviews,c=e.isFiveStarEnabled,s=e.isRubricReviewEnabled,u=e.peerReviewRequiredCount,l=n.state[Qte],d={key:Qte,label:n.getSubmissionGradeLabel(),points:l,maxPoints:n.getGradeMaxPoints(a),weight:100-r,evaluationType:a,editable:!0},f=!1,p=t&&!t.isDraft,m=null,b=n.state[Wte];null===b?(b=sy(i,u,c,s),m=n.getPeerReviewToolTipLabel()):(f=!0,p||(m=n.getPeerReviewOverriddenToolTipLabel()));var y=o.a.createElement("div",{className:"peer-review-grade-form-peer"},f&&!p&&o.a.createElement(Og.b,{ariaLabel:m,className:"peer-review-grade-form-peer-status-icon",tooltip:{label:m},type:Og.a.WARNING}),n.getPeerReviewGradeLabel());return[d,{key:Wte,label:y,points:b,maxPoints:100,tooltip:{label:m},weight:r,evaluationType:ty.a.GRADE,editable:!1}]})),Bte(qte(qte(n)),"getGradePartPercentage",(function(e){var t=n.getGradeMaxPoints(e.evaluationType),r=e.points;return null===r&&(r=0),Math.floor(r/t*1e4)/1e4})),Bte(qte(qte(n)),"getOtherEducatorEvaluations",(function(e){var t=n.props.currentUser,r=[];return e&&e.evaluations&&(r=O.a.filter(e.evaluations,(function(e){var n=e.user;return Wr.c(n)&&n.dbId!==t.dbId}))),r})),Bte(qte(qte(n)),"hasOtherEducatorEvaluations",(function(e){return Boolean(n.getOtherEducatorEvaluations(e).length>0)})),Bte(qte(qte(n)),"getGradePartWeightedPercentage",(function(e){var t=n.props.mainGradePart,r=0;if(e.key===Qte){var a=0,o=0;O.a.isNumber(e.points)&&(a=1,o=e.points),n.getOtherEducatorEvaluations(t).map((function(e){return e&&e.user&&O.a.isNumber(e.value)&&(o+=+e.value,a++),!0}));var i=a?o/a:0,c={evaluationType:e.evaluationType,points:i};r=n.getGradePartPercentage(c)}else r=n.getGradePartPercentage(e);return e.weight*r})),Bte(qte(qte(n)),"getOverallGrade",(function(e){var t=n.props.mainGradePart,r=0;e.map((function(e){return r+=n.getGradePartWeightedPercentage(e),!0})),r=Math.floor(r);var a=n.getOverallGradeWarningLabel();return{label:o.a.createElement("div",{className:"peer-review-grade-form-overall"},n.hasOtherEducatorEvaluations(t)&&o.a.createElement(Og.b,{ariaLabel:a,className:"peer-review-grade-form-overall-status-icon",tooltip:{label:a},type:Og.a.WARNING}),n.getOverallGradeLabel()),points:r,maxPoints:100}})),Bte(qte(qte(n)),"transformPassFailGrade",(function(e){return 1===e})),Bte(qte(qte(n)),"getTransformedGradeObject",(function(e){var t=n.props,r=t.gradeType,a=t.studentPeerReviews,o=t.isFiveStarEnabled,i=t.isRubricReviewEnabled,c=t.peerReviewRequiredCount,s=t.rubricEvaluation,u={isDraft:e},l=n.state[Wte];return u.peerReviewGradeValue=e?l:null!==l?l:sy(a,c,o,i),r===ty.a.COMPLETION?u.completion=n.transformPassFailGrade(n.state[Qte]):r===ty.a.PASS_FAIL?u.passFail=n.transformPassFailGrade(n.state[Qte]):r===ty.a.FIVESTAR?u.fiveStarValue=n.state[Qte]:r===ty.a.GRADE?u.gradeValue=n.state[Qte]:r===ty.a.RUBRIC&&(u.rubricEvaluation=s),u})),Bte(qte(qte(n)),"onChange",(function(e,t){var r;n.setState((Bte(r={},t,e),Bte(r,"isDirty",!0),r))})),Bte(qte(qte(n)),"onSave",(function(e){var t=n.props,r=t.activityId,a=t.activityType,o=t.studentGroup,i=t.submitterId;n.setState({isSaving:!0}),a===Wu.b.GROUP_PRESENTATION?Vl.saveGroupGradePercentage(+o.dbId,n.state[Qte],e).then(n.onGradeSaveSuccess).catch(n.onGradeSaveError):Vl.saveGrade(+r,+i,n.getTransformedGradeObject(e)).then(n.onGradeSaveSuccess).catch(n.onGradeSaveError)})),Bte(qte(qte(n)),"onGradeSaveSuccess",(function(e){var t=n.props,r=t.i18n,a=t.gradeType,i=t.onSaveSuccess,c=e.isDraft,s=e.overallValue,u=n.getMainGradePoints(O.a.merge({},n.props,{educatorGrade:e})),l=n.getGradeMaxPoints(a),d=O.a.round(u/l*100,2),f=null;switch(a){case ty.a.PASS_FAIL:case ty.a.COMPLETION:var p=u?r._("Pass"):r._("Fail");f=n.getCompletionGradeSaveSuccessLabel(p,d);break;case ty.a.RUBRIC:case ty.a.GRADE:case ty.a.FIVESTAR:default:f=n.getDefaultGradeSaveSuccessLabel(u,l,d)}var m=o.a.createElement("div",null,o.a.createElement("div",null,f),!c&&o.a.createElement("div",null,n.getOverallGradeFinalizedLabel(s)));ft.a.addSuccess(m),i&&i(e),n.setState({isDirty:!1,isSaving:!1})})),Bte(qte(qte(n)),"onGradeSaveError",(function(){ft.a.addError(n.getGradeSaveErrorLabel()),n.setState({isDirty:!1,isSaving:!1})})),Bte(qte(qte(n)),"isSaveButtonEnabled",(function(e){var t=n.state,r=t.isSaving,a=t.isDirty,o=n.props,i=o.educatorGrade,c=o.isRubricDirty,s=o.isRubricComplete,u=o.gradeType;if(r)return!1;var l=u!==ty.a.RUBRIC||s,d=u===ty.a.RUBRIC?c:a;return e?d:i?l&&(i.isDraft||d):l&&d})),Bte(qte(qte(n)),"hasMainGrade",(function(){var e=n.props,t=e.educatorGrade,r=e.mainGradePart;return Boolean(t&&r&&null!=r.partValue)})),Bte(qte(qte(n)),"isFinalizable",(function(){var e=n.state.isDirty,t=n.props,r=t.educatorGrade,a=t.isRubricDirty,o=t.isRubricComplete,i=t.gradeType;if(!n.hasMainGrade())return!1;if(!(i!==ty.a.RUBRIC||o))return!1;var c=i===ty.a.RUBRIC?a:e;return!r.isDraft||!c})),Bte(qte(qte(n)),"getStatusMessage",(function(){var e=n.props.educatorGrade;if(!n.hasMainGrade())return null;var t="";return t=e.isDraft?n.getDraftGradeLabel():n.getFinalizedGradeLabel(),o.a.createElement(Dc.b,{className:"peer-review-grade-form-message",type:Dc.a.INFO,message:t})})),n.state=Fte({},Yte,n.processProps(e)),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gte(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(Fte({},this.state,this.processProps(e)))}},{key:"getSubmissionGradeLabel",value:function(){return this.props.i18n._("Submission Score:")}},{key:"getPeerReviewToolTipLabel",value:function(){return this.props.i18n._("This score is automatically calculated but can be overridden in the Peer Review card below")}},{key:"getPeerReviewOverriddenToolTipLabel",value:function(){return this.props.i18n._("The Peer Review score has been overridden and will not be automatically updated")}},{key:"getPeerReviewGradeLabel",value:function(){return this.props.i18n._("Peer Review Score:")}},{key:"getOverallGradeWarningLabel",value:function(){return this.props.i18n._("This overall score is calculated using an average of all evaluations completed for this submission")}},{key:"getOverallGradeLabel",value:function(){return this.props.i18n._("Overall Score:")}},{key:"getCompletionGradeSaveSuccessLabel",value:function(e,t){return this.props.i18n._("Submission score saved: {passFailLabel} ({mainGradePartPercentage}%)",{passFailLabel:e,mainGradePartPercentage:t})}},{key:"getDefaultGradeSaveSuccessLabel",value:function(e,t,n){return this.props.i18n._("Submission score saved: {mainGradePoints} / {mainGradePointsMax} ({mainGradePartPercentage}%)",{mainGradePoints:e,mainGradePointsMax:t,mainGradePartPercentage:n})}},{key:"getOverallGradeFinalizedLabel",value:function(e){return this.props.i18n._("Overall score published: {overallValue}%",{overallValue:e})}},{key:"getGradeSaveErrorLabel",value:function(){return this.props.i18n._("Unable to save score")}},{key:"getDraftGradeLabel",value:function(){return this.props.i18n._("This score is currently a draft and is not visible to the learner. Publish this score to make it visible to the learner. After publishing, the Peer Review score will no longer be automatically updated.")}},{key:"getFinalizedGradeLabel",value:function(){return this.props.i18n._("This score has been published and is visible to the learner. The Peer Review score will no longer be automatically updated.")}},{key:"render",value:function(){if(!this.props.isPeerReviewGradingEnabled)return null;var e=this.getGradeParts(),t=this.getOverallGrade(e);return o.a.createElement("div",null,this.getStatusMessage(),o.a.createElement(Ste,{gradeParts:e,isFinalizable:this.isFinalizable(),isSaveButtonEnabled:this.isSaveButtonEnabled,onGradeChange:this.onChange,onSave:this.onSave,overallGrade:t}))}}])&&Ute(n.prototype,r),a&&Ute(n,a),t}(a.Component);Hte.propTypes={isRubricDirty:c.a.bool,isRubricComplete:c.a.bool,rubricEvaluation:c.a.object,rubricMaxPoints:c.a.number,rubricPoints:c.a.number,onSaveSuccess:c.a.func},Hte.defaultProps={isRubricDirty:!1,isRubricComplete:!1,rubricMaxPoints:0,rubricPoints:null};var zte=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityId:pC(e),activityType:dC(e),currentUser:Qe.h(e),educatorGrade:s_(e),gradeType:b_(e),isFiveStarEnabled:RC(e),isPeerReviewGradingEnabled:r_(e),isRubricReviewEnabled:IC(e),gradedPeerReviewWeight:a_(e),peerReviewGradePart:f_(e),mainGradePart:d_(e),peerReviewRequiredCount:$C(e),rubricEvaluations:LC(e),submitterId:SC(e),studentData:US(e),studentGroup:oC(e),studentPeerReviews:n_(e)}}))(Hte)));function Kte(e){return(Kte="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xte(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Jte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nne(e,t,n[t])}))}return e}function Zte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $te(e){return($te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ene(e,t){return(ene=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rne="ALL",ane="student-selection",one={selectedPeerReview:null},ine=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=$te(t).call(this,e),n=!a||"object"!==Kte(a)&&"function"!==typeof a?tne(r):a,nne(tne(tne(n)),"processProps",(function(e){return n.state&&n.state.selectedPeerReview?{}:{selectedPeerReview:e.selectedPeerReview}})),nne(tne(tne(n)),"onClose",(function(){var e=n.props.onClose;n.setState(Jte({},one)),e&&e()})),nne(tne(tne(n)),"onStudentReviewChange",(function(e){var t=n.props.reviews;if(e!==rne){var r=O.a.find(t,(function(t){return t.result.submitter.dbId===e}));r&&n.setState({selectedPeerReview:r})}else n.setState({selectedPeerReview:rne})})),nne(tne(tne(n)),"getSortedReviews",(function(e){var t=Xte(e);return t.sort((function(e,t){return n.getPeerLabel(e)>n.getPeerLabel(t)})),t})),nne(tne(tne(n)),"getPeerSelectField",(function(){var e=n.props,t=e.i18n,r=e.reviews,a=n.state.selectedPeerReview,i=[];if(r){i.push({className:"has-review",label:t._("All"),value:rne}),i.push(o.a.createElement(pm.a,{key:"peer-comments-all-divider"}));var c=n.getSortedReviews(r).map((function(e){var t={value:e.result.submitter.dbId,className:"has-review"};return t.label=n.getPeerLabel(e),t}));i=i.concat(c)}var s=null;return s=a&&a===rne?rne:a.result.submitter.dbId,i.length>0?o.a.createElement("div",{className:ane+"-container"},o.a.createElement(Nu.a,{zDepth:1,className:ane+"-paper"},o.a.createElement(qL.b,{ariaLabel:t._("Select learner for peer review comments"),className:ane+"-select-field",id:ane+"-select-field",label:"",menuItems:i,onChange:n.onStudentReviewChange,position:qL.a.BELOW,sameWidth:!0,value:s}))):null})),nne(tne(tne(n)),"getPeerLabel",(function(e){return e.result.activityStudentGroup?e.result.activityStudentGroup.name:e.result.submitter.firstName+" "+e.result.submitter.lastName})),nne(tne(tne(n)),"getComments",(function(e,t){return o.a.createElement("div",{key:"peer-review["+t+"]",className:"peer-review-comments-container"},o.a.createElement("h5",{className:"peer-review-label"},n.getPeerLabel(e)),e.comments&&e.comments.map(n.getComment))})),nne(tne(tne(n)),"getComment",(function(e){return o.a.createElement(bE,{key:"review-comment"+e.dbId,canEdit:!1,canDelete:!1,termClassId:n.props.termClassId,activityId:n.props.activityId,usageContext:Kh.a.COMMENT,onSyncTimeClick:function(){},comment:e,onDeleteComment:function(){},onEditComment:function(){},showCommenterName:!1,showSyncTime:!1})})),nne(tne(tne(n)),"getAllComments",(function(){var e=n.props.reviews;return n.getSortedReviews(e).map(n.getComments)})),nne(tne(tne(n)),"getPeerComments",(function(){var e=n.state.selectedPeerReview,t=null;return t=e===rne?n.getAllComments():e.comments.map(n.getComment),o.a.createElement("div",{className:"comments-container"},t)})),nne(tne(tne(n)),"getDialogComponent",(function(e){var t=n.props,r=t.i18n,a=t.visible;if(!n.state.selectedPeerReview)return null;var i={ariaLabel:r._("Comments"),contentClassName:"review-comments-dialog-content",dialogClassName:E()("review-comments-dialog",e?"mobile-view":null),fullPage:e,hasCloseButton:!0,id:"review-comments-dialog",modal:!0,visible:a,onClose:n.onClose,title:r._("Comments")};return o.a.createElement(mb.a,i,n.getPeerSelectField(),n.getPeerComments())})),n.state=Jte({},one,n.processProps(e)),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ene(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(Jte({},this.processProps(e)))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(F.a,{query:"(max-width: 550px)"},(function(t){return e.getDialogComponent(t)})))}}])&&Zte(n.prototype,r),a&&Zte(n,a),t}(a.Component);ine.propTypes={onClose:c.a.func,reviews:c.a.array,selectedPeerReview:c.a.object,visible:c.a.bool},ine.defaultProps={onClose:function(){},reviews:[],selectedPeerReview:null,visible:!1};var cne=Object(U.withI18n)()(ine);function sne(e){return(sne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function une(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){mne(e,t,n[t])}))}return e}function lne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dne(e){return(dne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fne(e,t){return(fne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bne="peer-review-summary",yne="peer-review-summary-list-item",vne={isOverridingGrade:!1,isGradeOverrideDirty:!1,isSaving:!1,gradeValueOverride:null,commentsDialogVisible:!1,selectedPeerReview:null},hne=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=dne(t).call(this,e),n=!a||"object"!==sne(a)&&"function"!==typeof a?pne(r):a,mne(pne(pne(n)),"processProps",(function(e){var t=n.state||{},r=t.isOverridingGrade,a=t.isGradeOverrideDirty,o={};return e&&(r||a||(o.gradeValueOverride=n.getPeerReviewGradeOverride(e))),o})),mne(pne(pne(n)),"onCommentsClick",(function(e){n.setState({commentsDialogVisible:!0,selectedPeerReview:e})})),mne(pne(pne(n)),"onRubricEvaluationClick",(function(e){n.setState({rubricEvaluationDialogVisible:!0,selectedPeerReview:e})})),mne(pne(pne(n)),"getComments",(function(e,t){var r=n.props.i18n,a=e.comments,i=a?a.length:0,c=Boolean(i>0),s=r._("No comments"),u=null;if(c){s=r._("View comments");var l=i<10?i:r._("9+");u=o.a.createElement("div",{className:yne+"-comments-badge"},l)}return o.a.createElement("div",{className:yne+"-comments"},o.a.createElement(we.d,{id:"button-grading-peer-review-summary-comments["+t+"]",className:yne+"-comments-icon",tooltip:{label:s},enabled:c,onClick:function(t){n.onCommentsClick(e,t)}},re.a.COMMENT,u))})),mne(pne(pne(n)),"getEvaluation",(function(e,t){var r=n.props,a=r.i18n,i=r.isFiveStarEnabled,c=r.isRubricReviewEnabled,s=r.rubric,u=null,l=[yne+"-evaluation"];if(i)l.push(yne+"-evaluation-fivestar"),u=e&&e.fivestarEvaluation?o.a.createElement(Qd.a,{name:yne+"-evaluation-fivestar",value:e.fivestarEvaluation.value,enabled:!1}):o.a.createElement("div",{className:yne+"-evaluation-placeholder"},a._("(No rating)"));else if(c)if(l.push(yne+"-evaluation-rubric"),e&&e.rubricEvaluation){var d=e.rubricEvaluation.points,f=s.maxValue;u=o.a.createElement(we.b,{id:"button-grading-peer-review-rubric-evaluation["+t+"]",primary:!0,ariaLabel:a._("Rubric score: {points} of {maxPoints}",{points:d,maxPoints:f}),onClick:function(t){return n.onRubricEvaluationClick(e,t)}},o.a.createElement(tf.c,{points:d,max:f}))}else u=o.a.createElement("div",{className:yne+"-evaluation-placeholder"},a._("(No evaluation)"));return o.a.createElement("div",{className:E()(l)},u)})),mne(pne(pne(n)),"getItemStatus",(function(e){var t=n.props,r=t.isFiveStarEnabled,a=t.isRubricReviewEnabled,i=t.i18n,c=iy(e,r,a),s="",u=[yne+"-status-icon"];return c?(s=i._("Review is complete"),u.push("status-icon--complete")):(s=i._("Review not complete"),u.push("status-icon--incomplete")),o.a.createElement("div",{className:yne+"-status"},o.a.createElement(Oe.a,{className:E()(u),tooltip:{label:s}},c?re.a.STATUS_COMPLETE:re.a.STATUS_INCOMPLETE))})),mne(pne(pne(n)),"getItemLabel",(function(e){var t=n.props.i18n,r=e.result.submitter,a=t._("Unknown");if(r){var i=r.firstName,c=r.lastName;a=t._("{firstName} {lastName}",{firstName:i,lastName:c})}return o.a.createElement("div",{className:yne+"-label"},a)})),mne(pne(pne(n)),"getReviewItem",(function(e,t){var r=n.props.i18n,a=t+1;return o.a.createElement("div",{key:yne+"["+t+"]",className:yne},o.a.createElement("div",{className:yne+"-number"},r._("{itemNumber}.",{itemNumber:a})),n.getItemStatus(e),o.a.createElement("div",{className:yne+"-content"},n.getItemLabel(e),o.a.createElement("div",{className:yne+"-content-right"},n.getEvaluation(e,t),n.getComments(e,t))))})),mne(pne(pne(n)),"getReviewList",(function(e){var t=n.props.i18n;return e&&e.length>0?o.a.createElement("div",{className:bne+"-list"},e.map(n.getReviewItem)):o.a.createElement("div",{className:bne+"-list-placeholder"},t._("No reviews available"))})),mne(pne(pne(n)),"getPeerReviewDueDate",(function(){var e=n.props,t=e.i18n,r=e.peerReviewDueDate;return r?o.a.createElement("div",{className:"peer-review-due-date-container"},o.a.createElement(Oe.a,{iconClassName:Tf.a.CALENDAR}),o.a.createElement("p",null,t._("Due Date:")," ",o.a.createElement(oa.b,{unixTime:r}))):null})),mne(pne(pne(n)),"getPeerReviewGradingInfo",(function(){var e=n.props,t=e.isPeerReviewGradingEnabled,r=e.gradedPeerReviewWeight;return t?o.a.createElement("div",{className:"peer-review-grading-info"},o.a.createElement(Dc.b,{className:"peer-review-grading-message",type:Dc.a.INFO,message:n.getPeerReviewDescriptionLabel(r)})):null})),mne(pne(pne(n)),"getTitleInfo",(function(e){var t=n.props,r=t.i18n,a=t.peerReviewRequiredCount,i=cy(e,t.isFiveStarEnabled,t.isRubricReviewEnabled);return o.a.createElement("div",{className:bne+"-title-info"},o.a.createElement("span",null,r._("Reviews Completed: {completedCount}",{completedCount:i})),o.a.createElement("span",null,r._("Reviews Required: {peerReviewRequiredCount}",{peerReviewRequiredCount:a})))})),mne(pne(pne(n)),"onOverrideGrade",(function(e){n.setState({gradeValueOverride:e,isGradeOverrideDirty:!1,isOverridingGrade:!0})})),mne(pne(pne(n)),"onOverrideGradeChange",(function(e){n.setState({gradeValueOverride:e,isGradeOverrideDirty:!0})})),mne(pne(pne(n)),"onOverrideGradeCancel",(function(){n.setState({gradeValueOverride:n.getPeerReviewGradeOverride(n.props),isGradeOverrideDirty:!1,isOverridingGrade:!1})})),mne(pne(pne(n)),"onOverrideGradeSave",(function(){var e=n.props,t=e.activityId,r=e.activityType,a=e.educatorGrade,o=e.gradeType,i=e.studentGroup,c=e.submitterId,s=n.state.gradeValueOverride;n.setState({isSaving:!0});var u=une({},function(e,t){switch(t){case ty.a.COMPLETION:return{completion:e?e.completion:null};case ty.a.FIVESTAR:return{fiveStarValue:e?e.fiveStarValue:null};case ty.a.GRADE:return{gradeValue:e?e.gradeValue:null};case ty.a.PASS_FAIL:return{passFail:e?e.passFail:null};case ty.a.RUBRIC:return e&&e.myRubricEvaluation?{rubricEvaluation:{rows:e.myRubricEvaluation.cells.map((function(e){return{evaluationCell:e.dbId}}))}}:{rubricEvaluation:null};default:return{}}}(a,o),{peerReviewGradeValue:s,isDraft:!a||a.isDraft});r===Wu.b.GROUP_PRESENTATION?Vl.saveGroupGradePeerReviewOverride(+i.dbId,s).then(n.onOverrideGradeSaveSuccess).catch(n.onOverrideGradeSaveError):Vl.saveGrade(+t,+c,u).then(n.onOverrideGradeSaveSuccess).catch(n.onOverrideGradeSaveError)})),mne(pne(pne(n)),"onOverrideGradeSaveSuccess",(function(e){var t=n.props.onScoreSaved,r=n.state.gradeValueOverride,a=e.isDraft,i=e.overallValue,c=o.a.createElement("div",null,o.a.createElement("div",null,n.getPeerReviewGradeSavedLabel(r)),!a&&o.a.createElement("div",null,n.getGradeFinalizedLabel(i)));ft.a.addSuccess(c),t&&t(e),n.setState({gradeValueOverride:n.getPeerReviewGradeOverride(n.props),isGradeOverrideDirty:!1,isOverridingGrade:!1,isSaving:!1})})),mne(pne(pne(n)),"onOverrideGradeSaveError",(function(){var e=n.state.gradeValueOverride;ft.a.addError(n.getUnableToSaveOverideLabel(e)),n.setState({gradeValueOverride:n.getPeerReviewGradeOverride(n.props),isGradeOverrideDirty:!0,isOverridingGrade:!0,isSaving:!1})})),mne(pne(pne(n)),"getPeerReviewGradingOverride",(function(e){var t=n.props.i18n,r=n.state,a=r.gradeValueOverride,i=r.isGradeOverrideDirty,c=r.isOverridingGrade,s=r.isSaving,u=!s&&(c||i),l=!s&&(c||i);return null!==a?o.a.createElement("div",{className:bne+"-grading-override"},o.a.createElement("div",{className:bne+"-grading-form"},o.a.createElement("span",{className:bne+"-grading-label"},n.getActualGradeLabel()),o.a.createElement(Sa.c,{id:bne+"-grading-percent",className:bne+"-grading-percent",onChange:n.onOverrideGradeChange,onValidate:function(e){return e<=100},value:a})),o.a.createElement("div",{className:bne+"-grading-actions"},o.a.createElement(we.b,{id:"button-peer-review-grade-override-cancel",secondary:!0,ariaLabel:t._("Cancel"),className:"peer-review-grade-override-cancel",enabled:u,onClick:n.onOverrideGradeCancel},t._("Cancel")),o.a.createElement(we.b,{id:"button-peer-review-grade-override-save",primary:!0,ariaLabel:t._("Save"),className:"peer-review-grade-override-save",enabled:l,onClick:n.onOverrideGradeSave},t._("Save")))):o.a.createElement("div",{className:bne+"-grading-override"},o.a.createElement(we.b,{id:"button-peer-review-grade-override",primary:!0,ariaLabel:n.getOverrideSuggestedLabel(),className:"peer-review-grade-override",onClick:function(){n.onOverrideGrade(e)},tooltip:{label:n.getAfterOverridingLabel()}},n.getOverrideGradeLabel()))})),mne(pne(pne(n)),"getPeerReviewGradeOverride",(function(e){var t=e.peerReviewGradePart;return t?t.partValue:null})),mne(pne(pne(n)),"getPeerReviewGrading",(function(e){var t=n.props,r=t.isPeerReviewGradingEnabled,a=t.isFiveStarEnabled,i=t.isRubricReviewEnabled,c=t.peerReviewRequiredCount,s=t.i18n,u=n.state,l=u.isOverridingGrade,d=u.gradeValueOverride;if(!r)return null;var f=sy(e,c,a,i),p=Boolean(l||null!==d);return o.a.createElement(Nu.a,{zDepth:1,className:bne+"-grading"},o.a.createElement("h3",null,n.getPeerReviewGradeLabel()),o.a.createElement("span",{className:bne+"-grading-label"},n.getSuggestedGradeLabel(),o.a.createElement("span",{style:p?{textDecoration:"line-through"}:{},className:bne+"-grading-value"},s._("{suggestedPercent}%",{suggestedPercent:f}))),n.getPeerReviewGradingOverride(f))})),mne(pne(pne(n)),"onCommentsDialogClose",(function(){n.setState({commentsDialogVisible:!1,selectedPeerReview:null})})),mne(pne(pne(n)),"getCommentsPreviewDialog",(function(e){var t=n.state,r=t.commentsDialogVisible,a=t.selectedPeerReview,i=n.props,c=i.termClassId,s=i.activityId;return o.a.createElement(cne,{termClassId:c,activityId:s,onClose:n.onCommentsDialogClose,selectedPeerReview:a,reviews:e,visible:r})})),mne(pne(pne(n)),"onRubricEvaluationPreviewDialogClose",(function(){n.setState({rubricEvaluationDialogVisible:!1,selectedPeerReview:null})})),mne(pne(pne(n)),"getRubricEvaluationPreviewDialog",(function(){var e=n.state,t=e.rubricEvaluationDialogVisible,r=e.selectedPeerReview;if(!t||!r)return null;var a=r.rubricEvaluation;return o.a.createElement(tf.b,{rubric:a.rubric,rubricPoints:a.points,grade:a.cells.map((function(e){return e.dbId})),mode:nf.a.VIEW,onCancel:n.onRubricEvaluationPreviewDialogClose})})),n.state=une({},vne,n.processProps(e)),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fne(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(this.processProps(e))}},{key:"getPeerReviewDescriptionLabel",value:function(e){return this.props.i18n._("This assignment is configured with a peer review score weight of {gradedPeerReviewWeight}% towards the overall assignment score. A suggested score is automatically calculated based on number of completed peer reviews and can be manually overridden.",{gradedPeerReviewWeight:e})}},{key:"getPeerReviewGradeSavedLabel",value:function(e){return this.props.i18n._("Peer review score override saved: {gradeValueOverride} / 100 ({gradeValueOverride}%)",{gradeValueOverride:e})}},{key:"getGradeFinalizedLabel",value:function(e){return this.props.i18n._("Overall score published: {overallValue}%",{overallValue:e})}},{key:"getUnableToSaveOverideLabel",value:function(e){return this.props.i18n._("Unable to save peer review score override: {gradeValueOverride}%",{gradeValueOverride:e})}},{key:"getActualGradeLabel",value:function(){return this.props.i18n._("Actual Score:")}},{key:"getOverrideSuggestedLabel",value:function(){return this.props.i18n._("Override Suggested Score")}},{key:"getAfterOverridingLabel",value:function(){return this.props.i18n._("After overriding, this score will no longer be automatically updated")}},{key:"getOverrideGradeLabel",value:function(){return this.props.i18n._("Override Score")}},{key:"getPeerReviewGradeLabel",value:function(){return this.props.i18n._("Peer Review Score")}},{key:"getSuggestedGradeLabel",value:function(){return this.props.i18n._("Suggested Score:")}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.studentPeerReviews,r=O.a.sortBy(n,["submitter.lastName"]);return o.a.createElement(Hn.a,{className:bne+"-card"},o.a.createElement(Hn.d,{title:t._("Peer Review"),className:bne+"-title"},this.getTitleInfo(r)),o.a.createElement(Hn.c,{className:bne+"-card-body"},this.getPeerReviewDueDate(),this.getPeerReviewGradingInfo(),this.getReviewList(r),this.getPeerReviewGrading(r)),this.getCommentsPreviewDialog(r),this.getRubricEvaluationPreviewDialog())}}])&&lne(n.prototype,r),a&&lne(n,a),t}(a.Component);hne.propTypes={onScoreSaved:c.a.func};var gne=Object(y.k)(Object(U.withI18n)()(Object(s.b)((function(e){return{activityId:pC(e),activityType:dC(e),educatorGrade:s_(e),gradeType:b_(e),gradedPeerReviewWeight:a_(e),studentGroup:oC(e),isFiveStarEnabled:RC(e),isPeerReviewGradingEnabled:r_(e),isRubricReviewEnabled:IC(e),peerReviewGradePart:f_(e),peerReviewRequiredCount:$C(e),rubric:CC(e),studentPeerReviews:n_(e),submitterId:SC(e),peerReviewDueDate:e_(e),termClassId:DC(e)}}))(hne)));function Ene(e){return(Ene="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function One(e){return(One=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sne(e,t){return(Sne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ine=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=One(t).call(this,e),n=!a||"object"!==Ene(a)&&"function"!==typeof a?Cne(r):a,_ne(Cne(Cne(n)),"createState",(function(e){return{dirty:!1,fiveStarRating:e.savedRating,savedGrade:e.savedRating}})),_ne(Cne(Cne(n)),"onFiveStarRatingChange",(function(e){n.setState({fiveStarRating:e,dirty:!0})})),_ne(Cne(Cne(n)),"onSaveGrade",(function(e){var t=n.state.fiveStarRating,r=n.props,a=r.activityId,o=r.group,i=r.onGradeSaved,c=r.submitterId;o?Vl.saveGroupGradeFiveStar(+o.dbId,+t,e).then((function(e){n.setState({dirty:!1}),i(e)})):Vl.saveGradeFiveStar(+a,+c,+t,e).then((function(e){n.setState({dirty:!1}),i(e)}))})),_ne(Cne(Cne(n)),"enableSave",(function(e){var t=n.state,r=t.fiveStarRating,a=t.dirty,o=!O.a.isUndefined(r);return e||(a=a||n.props.isDraft),o&&a})),n.state=n.createState(e),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sne(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.activityId,r=t.submitterId,a=this.state.savedGrade;n===e.activityId&&r===e.submitterId&&a===e.savedRating||this.setState(this.createState(e))}},{key:"render",value:function(){var e=this.state.fiveStarRating;return o.a.createElement(fte,{enableSave:this.enableSave,onSaveGrade:this.onSaveGrade},o.a.createElement(Qd.a,{id:"fivestar-grade-rating",name:"fivestar-grade-rating",onChange:this.onFiveStarRatingChange,value:+e}))}}])&&wne(n.prototype,r),a&&wne(n,a),t}(a.Component);Ine.propTypes={onGradeSaved:c.a.func};var Tne=Object(s.b)((function(e){var t=s_(e);return{savedRating:O.a.get(t,"fiveStarValue",null),isDraft:O.a.get(t,"isDraft",null),activityId:pC(e),submitterId:SC(e),group:oC(e)}}))(Ine),Rne=function(e){return Number.isInteger(e)&&0<=e&&e<=100},Pne=function(e,t){return O.a.filter(t,(function(t){return O.a.some(e,(function(e){return t.student.dbId===e.dbId}))}))},Ane=function(e){var t=O.a.omit(e,["myRubricEvaluation"]),n=O.a.get(e,["myRubricEvaluation"]),r=O.a.pick(n,["cells","points"]);return O.a.merge(t,r)},Nne=function(e,t){if(!e||e.length<=1)return!0;var n=Pne(e,t),r=n[0].educatorGrade;return O.a.every(n,(function(e){return t=e.educatorGrade,n=r,O.a.isEqual(Ane(t),Ane(n));var t,n}))};n("SuLN");function jne(e){return(jne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dne(e){return(Dne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lne(e,t){return(Lne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fne=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Dne(t).call(this,e),n=!a||"object"!==jne(a)&&"function"!==typeof a?Mne(r):a,xne(Mne(Mne(n)),"createState",(function(e){return{dirty:!1,percentage:e.savedPercentage,savedGrade:e.savedPercentage}})),xne(Mne(Mne(n)),"onGradeChange",(function(e){n.setState({percentage:+e,dirty:!0})})),xne(Mne(Mne(n)),"onSaveGrade",(function(e){var t=n.state.percentage,r=n.props,a=r.activityId,o=r.group,i=r.onGradeSaved,c=r.submitterId;o?Vl.saveGroupGradePercentage(+o.dbId,t,e).then((function(e){n.setState({dirty:!1}),i(e)})):Vl.saveGradePercentage(+a,+c,t,e).then((function(e){n.setState({dirty:!1}),i(e)}))})),xne(Mne(Mne(n)),"enableSave",(function(e){var t=n.state,r=t.percentage,a=t.dirty;return e||(a=a||n.props.isDraft),!O.a.isUndefined(r)&&Rne(r)&&a})),n.state=n.createState(e),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lne(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.activityId,r=t.submitterId,a=this.state.savedGrade;n===e.activityId&&r===e.submitterId&&a===e.savedPercentage||this.setState(this.createState(e))}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.canEdit,r=e.tooltip,a=this.state,i=a.dirty,c=a.percentage,s=null;return i&&!Rne(c)&&(s=t._("Percentage must be a number between 0 and 100")),o.a.createElement(fte,{enableSave:this.enableSave,onSaveGrade:this.onSaveGrade},o.a.createElement(Sa.c,{id:"freeform-grade-textfield",className:"grade-form-percentage-textfield",ariaLabel:t._("Percentage"),label:t._("Percentage"),enabled:n,errorText:s,onChange:this.onGradeChange,tooltip:r,value:c}))}}])&&kne(n.prototype,r),a&&kne(n,a),t}(a.Component);Fne.propTypes={canEdit:c.a.bool,tooltip:c.a.any,onGradeSaved:c.a.func},Fne.defaultProps={canEdit:!0,tooltip:null};var Une=Object(U.withI18n)()(Object(s.b)((function(e){var t=s_(e);return{savedPercentage:O.a.get(t,"gradeValue",null),isDraft:O.a.get(t,"isDraft",null),activityId:pC(e),submitterId:SC(e),group:oC(e)}}))(Fne));function Vne(e){return(Vne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qne(e){return(qne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bne(e,t){return(Bne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yne="pass",Hne=function(e){if(!O.a.isUndefined(e)&&!O.a.isNull(e))return e?Yne:"fail"},zne=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=qne(t).call(this,e),n=!a||"object"!==Vne(a)&&"function"!==typeof a?Wne(r):a,Qne(Wne(Wne(n)),"createState",(function(e){return{dirty:!1,passFail:Hne(e.savedPassFail),savedPassFail:e.savedPassFail}})),Qne(Wne(Wne(n)),"onGradeChange",(function(e){n.setState({passFail:e,dirty:!0})})),Qne(Wne(Wne(n)),"enableSave",(function(e){var t=n.state,r=t.passFail,a=t.dirty;return e||(a=a||n.props.isDraft),!O.a.isUndefined(r)&&a})),Qne(Wne(Wne(n)),"saveGroupGrade",(function(e){var t=n.props,r=t.auto,a=t.group,o=t.onGradeSaved,i=n.state.passFail===Yne;r?Vl.saveGroupGradeAutoPassFail(a.dbId,i,e).then((function(e){n.setState({dirty:!1}),o(e)})):Vl.saveGroupGradePassFail(a.dbId,i,e).then((function(e){n.setState({dirty:!1}),o(e)}))})),Qne(Wne(Wne(n)),"saveStudentGrade",(function(e){var t=n.props,r=t.auto,a=t.activityId,o=t.onGradeSaved,i=t.submitterId,c=n.state.passFail===Yne;r?Vl.saveGradeAutoPassFail(a,i,c,e).then((function(e){n.setState({dirty:!1}),o(e)})):Vl.saveGradePassFail(a,i,c,e).then((function(e){n.setState({dirty:!1}),o(e)}))})),Qne(Wne(Wne(n)),"onSaveGrade",(function(e){n.props.group?n.saveGroupGrade(e):n.saveStudentGrade(e)})),n.state=n.createState(e),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bne(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.activityId,r=t.submitterId,a=this.state.savedPassFail;n===e.activityId&&r===e.submitterId&&a===e.savedPassFail||this.setState(this.createState(e))}},{key:"getPassFailSelectLabel",value:function(){return this.props.i18n._("Pass Fail Score Select")}},{key:"render",value:function(){var e=this.props.i18n,t=this.state.passFail,n=[{label:e._("Pass"),value:Yne},{label:e._("Fail"),value:"fail"}];return o.a.createElement(fte,{enableSave:this.enableSave,onSaveGrade:this.onSaveGrade},o.a.createElement(Sa.e,{id:"passfail-grade-select",value:t,ariaLabel:this.getPassFailSelectLabel(),onChange:this.onGradeChange,menuItems:n,required:!0}))}}])&&Gne(n.prototype,r),a&&Gne(n,a),t}(a.Component);zne.propTypes={auto:c.a.bool.isRequired,onGradeSaved:c.a.func};var Kne=Object(U.withI18n)()(Object(s.b)((function(e,t){var n=s_(e),r=t.auto?"completion":"passFail";return{savedPassFail:O.a.get(n,r,null),isDraft:O.a.get(n,"isDraft",null),activityId:pC(e),submitterId:SC(e),group:oC(e)}}))(zne));function Xne(e){return(Xne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zne(e){return(Zne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $ne(e,t){return($ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ere(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tre(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nre=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Zne(t).call(this,e),n=!a||"object"!==Xne(a)&&"function"!==typeof a?ere(r):a,tre(ere(ere(n)),"onEditRubric",(function(){var e=n.props,t=e.rubric,r=e.isGradeDraftAllowed,a=o.a.createElement(tf.b,{rubric:t,grade:n.getRubricCells(),rubricPoints:n.getRubricPoints(),mode:nf.a.GRADE,allowInvalid:r,onCancel:dt.a.closeModal,onSubmit:n.onDialogSubmit});dt.a.showModal(a)})),tre(ere(ere(n)),"onDialogSubmit",(function(e,t,r){n.setState({dirty:!0,valid:r,cells:e,points:t}),dt.a.closeModal()})),tre(ere(ere(n)),"saveGrade",(function(e){var t=n.props.match.params.studentId,r=n.props,a=r.activityId,o=r.onGradeSaved;Vl.saveEducatorGradeRubric(a,+t,n.getRubricCells(),e).then((function(e){n.onSubmitSuccess(),o(e)}))})),tre(ere(ere(n)),"onSubmitSuccess",(function(){n.setState({dirty:!1,cells:void 0,points:void 0})})),tre(ere(ere(n)),"getRubricPoints",(function(){var e=n.props.savedRubric,t=n.state.points,r=0;return e&&(r=e.points),O.a.isUndefined(t)||(r=t),r})),tre(ere(ere(n)),"getRubricCells",(function(){var e=n.props.savedRubric,t=n.state.cells,r=null;return e&&(r=e.cells.map((function(e){return e.dbId}))),t&&(r=t),r})),tre(ere(ere(n)),"enableSave",(function(e){var t=n.state,r=t.valid,a=t.dirty;return e||(a=a||n.props.isDraft),r&&a})),n.state={valid:!1,dirty:!1,cells:void 0,points:void 0},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$ne(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.rubric,n=e.i18n;return o.a.createElement("div",null,o.a.createElement(fte,{enableSave:this.enableSave,onSaveGrade:this.saveGrade},o.a.createElement("div",null,o.a.createElement("div",{className:"eval-rubric-result-container"},o.a.createElement(U.Trans,{id:"Rubric Score"}),o.a.createElement(we.b,{id:"button-rubric-evaluation",onClick:this.onEditRubric,className:"eval-rubric-result-button",ariaLabel:n._("Rubric Score"),primary:!0},o.a.createElement(tf.c,{points:this.getRubricPoints(),max:t.maxValue}))))))}}])&&Jne(n.prototype,r),a&&Jne(n,a),t}(a.Component);nre.propTypes={onGradeSaved:c.a.func};var rre=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){var t=s_(e);return{savedRubric:O.a.get(t,"myRubricEvaluation",null),isDraft:O.a.get(t,"isDraft",null),activityId:pC(e),submitterId:SC(e),rubric:CC(e),isGradeDraftAllowed:m_(e)}}))(nre)));n("ctUe");function are(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ore(e){var t=e.gradeType,n=e.isPeerReviewGradingEnabled,r=e.i18n,a=e.studentData,i=e.submitterId,c=are(W9(),2),s=c[0],u=c[1],l=s.activityType,d=Wu.b.GROUP_PRESENTATION===l,f=Wu.b.INTERACTIVE_VIDEO===l,p=r._("Score"),m=r._("Group Score");function b(e){u.updateGradeData(i,e)}return o.a.createElement(If.a,{title:d?m:p,contentsClassName:"grade-card-contents"},i?function(){var e=r._("This score is automatically calculated based on multiple choice answers and cannot be modified"),i="Unexpected score type: "+t,c=null;if(f&&t===ty.a.GRADE&&(c=function(e){for(var t={hasVideoResponseQuestions:!1,hasMultipleChoiceQuestions:!1,multipleChoiceWeight:0,multipleChoiceCorrectWeight:0,videoResponseWeight:0},n=e.interactiveAnswers,r=0;n&&r<n.length;r++){var a=n[r],o=a.question;if(o.__typename===SR.o)t.hasVideoResponseQuestions=!0;else if(o.__typename===SR.n){t.hasMultipleChoiceQuestions=!0;var i=+o[SR.b.QUESTION.WEIGHT];a.option[SR.b.OPTION.IS_CORRECT]&&(t.multipleChoiceCorrectWeight+=i),t.multipleChoiceWeight+=i}}return t.videoResponseWeight=100-t.multipleChoiceWeight,t}(a)).hasMultipleChoiceQuestions&&c.hasVideoResponseQuestions)return o.a.createElement(Mte,{onGradeSaved:b,data:c});if(n)return o.a.createElement(zte,{onSaveSuccess:b});var s=!f||c&&c.hasVideoResponseQuestions;switch(t){case ty.a.COMPLETION:return o.a.createElement(Kne,{auto:!0,onGradeSaved:b});case ty.a.FIVESTAR:return o.a.createElement(Tne,{onGradeSaved:b});case ty.a.GRADE:return o.a.createElement(Une,{canEdit:s,onGradeSaved:b,tooltip:{label:s?"":e}});case ty.a.PASS_FAIL:return o.a.createElement(Kne,{onGradeSaved:b,auto:!1});case ty.a.RUBRIC:return o.a.createElement(rre,{onGradeSaved:b});default:return i}}():o.a.createElement("div",{className:"info-dashboard-card-contents"},o.a.createElement("div",{className:"info-content-section"},o.a.createElement("span",{className:"info-contents-label"},r._("Assignment not submitted")))))}ore.propTypes={gradeType:c.a.string,i18n:c.a.object,isPeerReviewGradingEnabled:c.a.bool,studentData:c.a.object,submitterId:c.a.number};var ire=Object(U.withI18n)()(ore);n("ZYay");function cre(e){return(cre="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ure(e){return(ure=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lre(e,t){return(lre=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dre(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fre(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pre="submission-summary",mre=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=ure(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==cre(a)&&"function"!==typeof a?dre(r):a,fre(dre(dre(n)),"getCounts",(function(){var e=n.props,t=e.result,r=e.resultPartials,a=e.resultPartialsCreatedCount,o=O.a.map(t.links,(function(e){return e.dbId})),i=O.a.map(t.documents,(function(e){return e.dbId})),c=[],s=[];t.media&&(t.media.meetingAssets?c.push(t.media.dbId):s.push(t.media.dbId));var u=O.a.filter(r,(function(e){switch(e.__typename){case Rf.a.MEETING:var t=O.a.get(e,"recordedMedia.dbId");return!!t&&!O.a.includes(c,t);case Rf.a.MEDIA:var n=O.a.get(e,"media.dbId");return!O.a.includes(s,n);case Rf.a.LINK:return!O.a.includes(o,e.dbId);case Rf.a.DOCUMENT:return!O.a.includes(i,e.dbId);default:return!0}})),l=O.a.groupBy(u,"__typename"),d={videos:s.length,meetings:c.length,documents:t.documents?t.documents.length:0,links:t.links?t.links.length:0};d.total=O.a.sum(O.a.toArray(d));var f={videos:n.getCountForPartialType(l,Rf.a.MEDIA),documents:n.getCountForPartialType(l,Rf.a.DOCUMENT),links:n.getCountForPartialType(l,Rf.a.LINK),meetings:n.getCountForPartialType(l,Rf.a.MEETING)};f.total=O.a.sum(O.a.toArray(f));var p=d.total+f.total,m=null;return a&&a>p&&(m=a-p),{submitted:d,unsubmitted:f,total:p,deletedTotal:m}})),fre(dre(dre(n)),"renderSubmissionContentDetailsTooltip",(function(e){var t=n.props.i18n,r=e.submitted,a=e.unsubmitted,i=e.deletedTotal,c=[];r.videos&&c.push(t._("{0, plural, one {# Video} other {# Videos}}",{0:r.videos})),r.meetings&&c.push(t._("{0, plural, one {# Meeting} other {# Meetings}}",{0:r.meetings})),r.documents&&c.push(t._("{0, plural, one {# File} other {# Files}}",{0:r.documents})),r.links&&c.push(t._("{0, plural, one {# Link} other {# Links}}",{0:r.links})),c.length||c.push(t._("(no items)"));var s=[];return a.videos&&s.push(t._("{0, plural, one {# Video} other {# Videos}}",{0:a.videos})),a.meetings&&s.push(t._("{0, plural, one {# Meeting} other {# Meetings}}",{0:a.meetings})),a.documents&&s.push(t._("{0, plural, one {# File} other {# Files}}",{0:a.documents})),a.links&&s.push(t._("{0, plural, one {# Link} other {# Links}}",{0:a.links})),i&&s.push(t._("{deletedTotal, plural, one {(# deleted item)} other {(# deleted items)}}",{deletedTotal:i})),s.length||s.push(t._("(no items)")),o.a.createElement("div",{className:"".concat(pre,"-tooltip")},o.a.createElement("div",{className:"".concat(pre,"-tooltip-column")},o.a.createElement("div",{className:"".concat(pre,"-tooltip-column--header")},t._("Submitted:")),o.a.createElement("div",{className:"".concat(pre,"-tooltip-column--content")},O.a.map(c,(function(e,t){return o.a.createElement("div",{key:"submission-contents-tooltip-label[".concat(t,"]")},e)})))),o.a.createElement("div",{className:"".concat(pre,"-tooltip-column")},o.a.createElement("div",{className:"".concat(pre,"-tooltip-column--header")},t._("Not Submitted:")),o.a.createElement("div",{className:"".concat(pre,"-tooltip-column--content")},O.a.map(s,(function(e,t){return o.a.createElement("div",{key:"submission-contents-tooltip-label[".concat(t,"]")},e)})))))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lre(e,t)}(t,e),n=t,(r=[{key:"getCountForPartialType",value:function(e,t){return e&&e[t]&&e[t].length||0}},{key:"renderSubmissionContentTypeItem",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n&&(!t||t<1)?null:o.a.createElement("div",{className:"".concat(pre,"--item")},o.a.createElement(Oe.a,{className:"".concat(pre,"--item-icon")},e),o.a.createElement("div",{className:"".concat(pre,"--item-count")},t))}},{key:"render",value:function(){var e=this.props,t=e.className;if(!e.result)return null;var n=this.getCounts();return o.a.createElement(Sg.b,{className:E()("".concat(pre),t),html:this.renderSubmissionContentDetailsTooltip(n),position:"bottom",tabIndex:0},this.renderSubmissionContentTypeItem(re.a.EVENT,n.submitted.meetings),this.renderSubmissionContentTypeItem(re.a.VIDEOCAM,n.submitted.videos),this.renderSubmissionContentTypeItem(re.a.DESCRIPTION,n.submitted.documents),this.renderSubmissionContentTypeItem(re.a.LINK,n.submitted.links),o.a.createElement("div",{className:"".concat(pre,"--item-separator")}),this.renderSubmissionContentTypeItem(re.a.LIBRARY_BOOKS,n.unsubmitted.total,!1))}}])&&sre(n.prototype,r),a&&sre(n,a),t}(o.a.PureComponent);mre.propTypes={className:c.a.string,result:c.a.any,resultPartials:c.a.any,resultPartialsCreatedCount:c.a.number};var bre=Object(U.withI18n)()(mre);function yre(e){return(yre="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hre(e){return(hre=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gre(e,t){return(gre=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ere(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var wre=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=hre(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==yre(a)&&"function"!==typeof a?Ere(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ere(Ere(n)),"renderSubmissionContentDetails",(function(){var e=n.props,t=e.activityType,r=e.result,a=e.resultPartials,i=e.resultPartialsCreatedCount;return[Wu.b.GROUP_PRESENTATION,Wu.b.INDIVIDUAL_PROJECT].includes(t)?o.a.createElement(bre,{result:r,resultPartials:a,resultPartialsCreatedCount:i}):null})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gre(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.studentData,n=e.result,r=e.i18n,a=t.student,i="".concat(a.firstName," ").concat(a.lastName);return o.a.createElement(If.a,{icon:re.a.PERSON},o.a.createElement("div",{className:"student-dashboard-card-contents"},o.a.createElement("div",{className:"student-avatar-container"},o.a.createElement(xs.a,{value:i})),o.a.createElement("div",{className:"student-details-container"},o.a.createElement("div",{className:"student-details-name"},i),n?o.a.createElement("span",{className:"submitted-details-date"},r._("Submitted at:"),o.a.createElement(oa.a,{unixTime:n.submittedAt})):null,this.renderSubmissionContentDetails())))}}])&&vre(n.prototype,r),a&&vre(n,a),t}(a.Component);wre.propTypes={activityType:c.a.string,result:c.a.any,resultPartials:c.a.any,resultPartialsCreatedCount:c.a.number};var Ore=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityType:dC(e),studentData:US(e)}}))(wre)));function Sre(e){return(Sre="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _re(e){return(_re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ire(e,t){return(Ire=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tre(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rre(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pre=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=_re(t).call(this,e),n=!a||"object"!==Sre(a)&&"function"!==typeof a?Tre(r):a,Rre(Tre(Tre(n)),"mostRecentEvaluationByUser",(function(e,t){if(null==e)return null;var n=e.filter((function(e){return e.user.dbId===t}));return 0===n.length?null:n.sort((function(e,t){return e.date-t.date}))[0]})),Rre(Tre(Tre(n)),"showSelfAssessment",(function(){n.setState({showSelfAssessmentDialog:!0})})),Rre(Tre(Tre(n)),"closeSelfAssessment",(function(){n.setState({showSelfAssessmentDialog:!1})})),Rre(Tre(Tre(n)),"getRubricComponent",(function(e){var t=n.props.i18n;return null==e?o.a.createElement(U.Trans,{id:"Not Completed"}):o.a.createElement("div",{className:"student-self-assessment-container"},o.a.createElement(U.Trans,{id:"Completed Rubric:"}),o.a.createElement(we.b,{id:"button-grading-rubric-self-assessment",onClick:n.showSelfAssessment,className:"student-self-assessment-rubric-button",ariaLabel:t._("Show Rubric Self Assessment"),primary:!0},o.a.createElement(tf.c,{points:e.points,max:e.rubric.maxValue})))})),n.state={showSelfAssessmentDialog:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ire(e,t)}(t,e),n=t,(r=[{key:"shouldComponentUpdate",value:function(e,t){return!(O.a.isEqual(this.props.rubricEvals,e.rubricEvals)&&O.a.isEqual(this.props.studentData,e.studentData)&&this.state.showSelfAssessmentDialog===t.showSelfAssessmentDialog)}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.rubricEvals,r=e.studentData,a=this.state.showSelfAssessmentDialog,i=r.student,c=this.mostRecentEvaluationByUser(n,i.dbId);return o.a.createElement(If.a,{title:t._("Learner Self Assessment"),icon:re.a.PERSON},o.a.createElement("div",{className:"student-self-assessment-card-contents"},this.getRubricComponent(c)),c&&a&&o.a.createElement(tf.b,{rubric:c.rubric,rubricPoints:c.points,grade:c.cells.map((function(e){return e.dbId})),mode:nf.a.VIEW,onCancel:this.closeSelfAssessment}))}}])&&Cre(n.prototype,r),a&&Cre(n,a),t}(a.Component),Are=Object(s.b)((function(e){return{studentData:US(e),rubricEvals:LC(e)}}))(Object(U.withI18n)()(Pre));function Nre(e){return(Nre="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kre(e){return(kre=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dre(e,t){return(Dre=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lre(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Mre=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=kre(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Nre(a)&&"function"!==typeof a?Lre(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Lre(Lre(n)),"buildGradeOrSelfAssessmentCard",(function(){var e=n.props,t=e.activityType,r=e.gradeType,a=e.isPeerReviewGradingEnabled,i=e.isRubricSelfReviewEnabled,c=e.studentData,s=e.submitterId;return ty.a.RUBRIC===r?t===Wu.b.GROUP_PRESENTATION||!i?null:o.a.createElement(Are,{key:"self_assessment_card"}):o.a.createElement(ire,{key:"activity_grade_card",activityType:t,gradeType:r,isPeerReviewGradingEnabled:a,studentData:c,submitterId:s})})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dre(e,t)}(t,e),n=t,(r=[{key:"getDashboardChildren",value:function(){var e=this.props,t=e.result,n=e.resultPartials,r=e.resultPartialsCreatedCount,a=e.showStudentCard,i=[],c=this.buildGradeOrSelfAssessmentCard();return c&&i.push(c),a&&i.push(o.a.createElement(Ore,{key:"student_dashboard_card",result:t,resultPartials:n,resultPartialsCreatedCount:r})),i}},{key:"render",value:function(){if(!this.props.activityId)return null;var e=this.getDashboardChildren();return 0===e.length?null:o.a.createElement("div",{className:"grading-dashboard-container"},e)}}])&&jre(n.prototype,r),a&&jre(n,a),t}(a.Component);Mre.propTypes={activityId:c.a.number,activityType:c.a.string,gradeType:c.a.string,isPeerReviewGradingEnabled:c.a.bool,isRubricSelfReviewEnabled:c.a.bool,result:c.a.object,resultPartials:c.a.array,resultPartialsCreatedCount:c.a.number,studentData:c.a.object,submitterId:c.a.number,showStudentCard:c.a.bool},Mre.defaultProps={showStudentCard:!0};var xre=Object(s.b)((function(e){return{activityId:pC(e),activityType:dC(e),gradeType:b_(e),isPeerReviewGradingEnabled:r_(e),isRubricSelfReviewEnabled:TC(e),result:wC(e),resultPartials:gC(e),resultPartialsCreatedCount:EC(e),studentData:US(e),submitterId:SC(e)}}))(Mre);function Fre(e){return(Fre="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ure(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vre(e,t){return!t||"object"!==Fre(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gre(e){return(Gre=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qre(e,t){return(qre=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bre=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vre(this,Gre(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qre(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityData,n=e.i18n,r=t?t.submitDueAt:null;return o.a.createElement(If.a,{title:n._("Information"),icon:re.a.INFO_OUTLINE},o.a.createElement("div",{className:"info-dashboard-card-contents"},r&&o.a.createElement("div",{className:"info-content-section"},o.a.createElement("span",{className:"info-contents-label","aria-label":n._("Due Date")},o.a.createElement(U.Trans,{id:"Due Date:"})," ",o.a.createElement(oa.b,{unixTime:r}))),o.a.createElement("div",{className:"info-content-section"},o.a.createElement("span",{className:"info-contents-label","aria-label":n._("Assignment")},o.a.createElement(U.Trans,{id:"Assignment:"})),o.a.createElement("span",null,t.name)),o.a.createElement("div",{className:"info-content-section","aria-label":n._("Class")},o.a.createElement("span",{className:"info-contents-label"},o.a.createElement(U.Trans,{id:"Class:"})),o.a.createElement("span",null,t.className))))}}])&&Ure(n.prototype,r),a&&Ure(n,a),t}(a.Component);Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityData:xS(e)}}))(Bre)));function Wre(e){return(Wre="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yre(e,t){return!t||"object"!==Wre(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hre(e){return(Hre=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zre(e,t){return(zre=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kre=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yre(this,Hre(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zre(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n;return o.a.createElement(If.a,{title:e._("Not Submitted"),icon:re.a.INFO_OUTLINE},o.a.createElement("div",{className:"info-dashboard-card-contents"},o.a.createElement("div",{className:"info-content-section"},o.a.createElement("span",{className:"info-contents-label","aria-label":e._("Assignment not submitted")},o.a.createElement(U.Trans,{id:"Assignment not submitted"})))))}}])&&Qre(n.prototype,r),a&&Qre(n,a),t}(a.Component),Xre=(Object(U.withI18n)()(Object(y.k)(Kre)),function(e,t){var n=e.rows.length-1;return!!t&&(t.length===n&&t.every((function(e){return!!e})))});n("YHQS");function Jre(e){return(Jre="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $re(e){return($re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eae(e,t){return(eae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rae=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=$re(t).call(this,e),n=!a||"object"!==Jre(a)&&"function"!==typeof a?tae(r):a,nae(tae(tae(n)),"onGradeChange",(function(e){n.setState({cells:e.cellIds,points:e.points,dirty:!0})})),nae(tae(tae(n)),"getRubricCells",(function(){var e=n.props.savedRubric,t=n.state.cells,r=null;return e&&(r=e.cells.map((function(e){return e.dbId}))),t&&(r=t),r})),nae(tae(tae(n)),"getRubricPoints",(function(){var e=n.props.savedRubric,t=n.state.points,r=null;return e&&(r=e.points),O.a.isUndefined(t)||(r=t),r})),nae(tae(tae(n)),"onSubmitSuccess",(function(e){var t=n.props.onScoreSaved;t&&t(e),n.setState({dirty:!1,cells:void 0,points:void 0})})),nae(tae(tae(n)),"isRubricComplete",(function(){var e=n.props,t=e.rubric,r=e.savedRubric,a=n.state.cells;return a?Xre(t,a):!!r&&Xre(t,r.cells)})),nae(tae(tae(n)),"enableSave",(function(e){var t=n.state.dirty;if(e)return t;var r=n.isRubricComplete(),a=n.props.isDraft;return r&&(t||a)})),nae(tae(tae(n)),"areGradesHomogeneous",(function(){var e=n.props,t=e.dataForAllStudents,r=e.group,a=r?r.members:null;return Nne(a,t)})),nae(tae(tae(n)),"allRubricsComplete",(function(){var e=n.props,t=e.dataForAllStudents,r=e.dataForOneStudent,a=e.group,o=e.rubric,i=function(e,t){return!(!t||!t.myRubricEvaluation)&&Xre(e,t.myRubricEvaluation.cells)};return a?Pne(a.members,t).every((function(e){return i(o,e.educatorGrade)})):i(o,r.educatorGrade)})),nae(tae(tae(n)),"onFinalizeDrafts",(function(){var e=n.props,t=e.group.dbId,r=e.onScorePublished;Vl.convertDraftToFinalGroupGrade(t),r&&r(t)})),nae(tae(tae(n)),"saveGrade",(function(e){var t=n.props.match.params,r=t.studentId,a=t.learnerId,o=n.props,i=o.activityId,c=o.group;c?Vl.saveGroupGradeRubric(c.dbId,n.getRubricCells(),e).then(n.onSubmitSuccess):Vl.saveGradeRubric(i,+r||+a,n.getRubricCells(),e).then(n.onSubmitSuccess)})),nae(tae(tae(n)),"showEducatorsGrades",(function(e){var t=n.props.i18n;dt.a.showModal(o.a.createElement(af.a,{title:t._("Scores"),rubricEvaluations:e}))})),nae(tae(tae(n)),"buildTitleActionMenu",(function(e){var t=n.props.i18n,r=[];return e&&e.length>0&&r.push({key:"show-educators-grades",primaryText:t._("Show Scores"),onClick:n.showEducatorsGrades.bind(tae(tae(n)),e)}),0===r.length?null:o.a.createElement(we.f,{id:"rubric-card-title-action-button",key:"actions-menu",icon:!0,menuItems:r,ariaLabel:t._("Menu")},re.a.MENU_VERT)})),nae(tae(tae(n)),"getRubricEvaluationForMutation",(function(){var e=n.getRubricCells();return e?{rows:e.map((function(e){return{evaluationCell:e}}))}:null})),n.state={dirty:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eae(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.activityId,r=t.studentId;n===e.activityId&&r===e.studentId||this.setState({dirty:!1})}},{key:"getNotSubmittedLabel",value:function(){return this.props.i18n._("Rubric Score: assignment not submitted")}},{key:"getGroupOneGradeLabel",value:function(e,t){return this.props.i18n._("Group Rubric Score: {earnedRubricPointsLabel}/{maxRubricPoints}",{earnedRubricPointsLabel:e,maxRubricPoints:t})}},{key:"getGroupGradeLabel",value:function(){return this.props.i18n._("Group Rubric Score")}},{key:"getGroupNotSubmittedLabel",value:function(){return this.props.i18n._("Group Rubric Score: assignment not submitted")}},{key:"getIndividualGradeLabel",value:function(e,t){return this.props.i18n._("Rubric Score: {earnedRubricPointsLabel}/{maxRubricPoints}",{earnedRubricPointsLabel:e,maxRubricPoints:t})}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isGradeDraftAllowed,r=e.isGroupProject,a=e.rubric,i=e.rubricEvaluations,c=e.studentId,s=e.isPeerReviewGradingEnabled,u=this.state.dirty,l=this.getRubricPoints(),d=l||0,f=a.maxValue,p=this.saveGrade.bind(this,!1),m=this.saveGrade.bind(this,!0),b=!!c;i&&i.length&&(i=i.filter((function(e){return Wr.c(e.user)})));var y=!0;r&&(y=this.areGradesHomogeneous());var v=this.allRubricsComplete(),h=y,g=y&&n,E=!y&&n&&r&&v,w=this.getNotSubmittedLabel();return r&&b&&y?w=this.getGroupOneGradeLabel(d,f):r&&b&&!y?w=this.getGroupGradeLabel():r&&!b?w=this.getGroupNotSubmittedLabel():!r&&b&&(w=this.getIndividualGradeLabel(d,f)),o.a.createElement("div",null,o.a.createElement(Hn.a,null,o.a.createElement(Hn.d,{title:w,className:"rubric-card-title",actions:[this.buildTitleActionMenu(i)]}),b&&o.a.createElement("div",null,o.a.createElement(Hn.c,null,y?o.a.createElement(tf.a,{rubric:a,grade:this.getRubricCells(),mode:nf.a.GRADE,onGradeChange:this.onGradeChange}):o.a.createElement(Ee.a,{type:Ee.a.NOTE_TYPES.INFO,message:t._("Group members have different scores")}),s&&o.a.createElement(zte,{isRubricDirty:u,isRubricComplete:this.isRubricComplete(),onSaveSuccess:this.onSubmitSuccess,rubricPoints:l,rubricEvaluation:this.getRubricEvaluationForMutation(),rubricMaxPoints:a.maxValue})),!s&&o.a.createElement(Hn.b,{className:"rubric-card-actions"},o.a.createElement("div",{className:"u-mr-5px"},g&&o.a.createElement(we.b,{id:"button-rubric-card-save-draft",className:"rubric-save-draft-button",onClick:m,enabled:this.enableSave(!0),ariaLabel:t._("Save As Draft"),primary:!0},o.a.createElement(U.Trans,{id:"Save As Draft"})),h&&o.a.createElement(we.b,{id:"button-rubric-card-save",onClick:p,enabled:this.enableSave(!1),ariaLabel:t._("Save and Publish"),primary:!0},o.a.createElement(U.Trans,{id:"Save and Publish"})),E&&o.a.createElement(we.b,{id:"button-rubric-card-finalize-drafts",className:"rubric-finalize-drafts-button",onClick:this.onFinalizeDrafts,ariaLabel:t._("Publish Scores"),primary:!0},o.a.createElement(U.Trans,{id:"Publish Scores"})))))))}}])&&Zre(n.prototype,r),a&&Zre(n,a),t}(a.Component);rae.propTypes={onScoreSaved:c.a.func,onScorePublished:c.a.func};var aae=Object(y.k)(Object(U.withI18n)()(Object(s.b)((function(e){var t=s_(e);return{activityId:pC(e),activityType:dC(e),dataForAllStudents:VS(e),dataForOneStudent:US(e),group:oC(e),isDraft:O.a.get(t,"isDraft",null),isGradeDraftAllowed:m_(e),isGroupProject:dC(e)===Wu.b.GROUP_PRESENTATION,isPeerReviewGradingEnabled:r_(e),savedRubric:O.a.get(t,"myRubricEvaluation",null),studentId:SC(e),rubric:CC(e),rubricEvaluations:LC(e)}}))(rae)));function oae(e){return(oae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cae(e){return(cae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sae(e,t){return(sae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var lae=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=cae(t).call(this,e),n=!a||"object"!==oae(a)&&"function"!==typeof a?uae(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(uae(uae(n)),"onAnonymousChange",(function(e){n.setState({isReviewAnonymous:e})})),n.state={isReviewAnonymous:!!e.isReviewAnonymous},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sae(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.onSubmit,t=this.state.isReviewAnonymous,n=this.props.i18n,r=[];return r.push(o.a.createElement(we.b,{id:"button-grading-group-release-dialog-cancel",secondary:!0,ariaLabel:n._("Cancel"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"Cancel"}))),r.push(o.a.createElement(we.b,{id:"button-grading-group-release-dialog-ok",primary:!0,ariaLabel:n._("Ok"),onClick:e.bind(null,t)},o.a.createElement(U.Trans,{id:"Ok"}))),o.a.createElement(mb.a,{actions:r,visible:!0,id:"release dialog",title:n._("Release Team Evaluations")},o.a.createElement("p",null,o.a.createElement(U.Trans,{id:"Are you sure you want to release team member reviews for this group?"})),o.a.createElement(ZA.a,{name:"anonymous_review",id:"anonymous_review",label:n._("Anonymous Review"),ariaLabel:n._("Anonymous Review"),onChange:this.onAnonymousChange,checked:t}))}}])&&iae(n.prototype,r),a&&iae(n,a),t}(a.Component);lae.propTypes={isReviewAnonymous:c.a.bool,onSubmit:c.a.func};var dae=Object(U.withI18n)()(lae);function fae(e){return(fae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mae(e){return(mae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bae(e,t){return(bae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hae=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=mae(t).call(this,e),n=!a||"object"!==fae(a)&&"function"!==typeof a?yae(r):a,vae(yae(yae(n)),"onStudentSelect",(function(e){var t=O.a.findIndex(n.props.rubricEvaluations,(function(t){return t.user.dbId===e.user.dbId}));n.setState({selectedEvaluation:e,selectedEvaluationIndex:t})})),vae(yae(yae(n)),"createColumns",(function(){var e=n.props.i18n;return[{accessor:"user",className:"member-name",label:e._("User"),renderer:function(e){return o.a.createElement("div",{className:"member-avatar-container"},o.a.createElement(xs.a,{value:e.user.firstName+" "+e.user.lastName}),o.a.createElement("span",{className:"member-name-label"},e.user.firstName+" "+e.user.lastName))}},{accessor:"",className:"rating-column",label:e._("Rubric Score"),renderer:function(t,r){return o.a.createElement("div",{className:"rating-column-renderer"},o.a.createElement(we.b,{id:"button-grading-group-member-dialog-evaluation["+r+"]",ariaLabel:e._("Rubric Score"),onClick:function(){return n.onStudentSelect(t)},className:"eval-rubric-result-button",primary:!0},o.a.createElement(tf.c,{points:t.points,max:t.rubric.maxValue})))}},{accessor:"comment",grow:!0,className:"rating-comment-column",label:e._("Comment")}]})),vae(yae(yae(n)),"onLeftNavClick",(function(){var e=n.state.selectedEvaluationIndex,t=n.props.rubricEvaluations,r=++e;r<0?n.setState({selectedEvaluation:null}):n.setState({selectedEvaluationIndex:r,selectedEvaluation:t[r]})})),vae(yae(yae(n)),"onRightNavClick",(function(){var e=n.state.selectedEvaluationIndex,t=n.props.rubricEvaluations,r=--e;r>t.length-1?n.setState({selectedEvaluation:null}):n.setState({selectedEvaluationIndex:r,selectedEvaluation:t[r]})})),n.state={selectedEvaluation:null,selectedEvaluationIndex:0},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bae(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.rubricEvaluations,n=e.i18n,r=this.state.selectedEvaluation,a=[o.a.createElement(we.b,{id:"button-grading-group-member-dialog-close",secondary:!0,ariaLabel:n._("Close"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"Close"}))];return o.a.createElement(Hf.a,{actions:a,contentStyle:{width:"100%"},dialogClassName:"rating-summary-dialog",id:"rating-summary-dialog",modal:!0,title:n._("Team Evaluations"),visible:!0},o.a.createElement("div",null,r?o.a.createElement("div",null,o.a.createElement("div",{className:"rubric-eval-nav-container"},o.a.createElement(we.d,{id:"button-grading-group-member-left",ariaLabel:n._("Left Arrow"),onClick:this.onLeftNavClick,className:"eval-left-icon"},re.a.LEFT),o.a.createElement("div",{className:"rubric-eval-contents"},o.a.createElement("div",{className:"rubric-eval-user-info"},o.a.createElement("div",{className:"rubric-eval-user-avatar"},o.a.createElement(xs.a,{value:r.user.firstName+" "+r.user.lastName})),o.a.createElement("div",{className:"rubric-eval-user-details"},o.a.createElement("div",null,r.user.firstName+" "+r.user.lastName))),o.a.createElement("div",{className:"rubric-eval-comment-container"},o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"Comment:"})),o.a.createElement("p",null,r.comment))),o.a.createElement(we.d,{id:"button-grading-group-member-right",ariaLabel:n._("Right Arrow"),onClick:this.onRightNavClick,className:"eval-right-icon"},re.a.RIGHT)),o.a.createElement(tf.a,{rubric:r.rubric,rubricPoints:r.points,grade:r.cells.map((function(e){return e.dbId})),mode:nf.a.VIEW,onCancel:this.closeSelfAssessment})):o.a.createElement(ku.a,{columns:this.createColumns(),className:"rating-summary-table",data:t||[],listAccessor:"title"})))}}])&&pae(n.prototype,r),a&&pae(n,a),t}(a.Component);hae.propTypes={rubricEvaluations:c.a.array};var gae=Object(U.withI18n)()(hae),Eae=n("P+BV"),wae=n.n(Eae),Oae=n("smWs"),Sae=n.n(Oae);function Cae(e){return(Cae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _ae(){return(_ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Iae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tae(e){return(Tae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rae(e,t){return(Rae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nae=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=Tae(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==Cae(a)&&"function"!==typeof a?Pae(r):a,Aae(Pae(Pae(n)),"getComponentProps",(function(){return O.a.pick(n.props,Object.keys(t.componentProps))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rae(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onRatingChange,r=e.value;return o.a.createElement(wae.a,_ae({},this.getComponentProps(),{className:E()("rating-column",t)}),o.a.createElement(Qd.a,{onChange:n,value:r,name:this.props.id}))}}])&&Iae(n.prototype,r),a&&Iae(n,a),t}(a.Component);Nae.defaultProps={header:!1,value:0},Nae.componentProps={id:c.a.oneOfType([c.a.number,c.a.string]),style:c.a.object,className:c.a.string,fixedStyle:c.a.object,fixedClassName:c.a.string,children:c.a.node,sorted:c.a.bool,sortIcon:c.a.element,sortIconBefore:c.a.bool,numeric:c.a.bool,adjusted:c.a.bool,grow:c.a.bool,selectColumnHeader:c.a.bool,header:c.a.bool.isRequired,tooltipLabel:c.a.node,tooltipDelay:c.a.number,tooltipPosition:c.a.oneOf(["top","right","bottom","left"]),tooltip:c.a.node,plain:c.a.bool,scope:c.a.oneOf(["row","col"])},Nae.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Aae(e,t,n[t])}))}return e}({},Nae.componentProps,{onRatingChange:c.a.func.isRequired,value:c.a.number});var jae=Sae()(Nae,"rating-field");function kae(e){return(kae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lae(e){return(Lae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mae(e,t){return(Mae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uae="pass",Vae="fail",Gae=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Lae(t).call(this,e),n=!a||"object"!==kae(a)&&"function"!==typeof a?xae(r):a,Fae(xae(xae(n)),"getGradeValue",(function(e,t){if(t)switch(e){case ty.a.COMPLETION:return t.completion;case ty.a.FIVESTAR:return t.fiveStarValue;case ty.a.GRADE:return t.gradeValue;case ty.a.PASS_FAIL:return t.passFail;case ty.a.RUBRIC:return t.myRubricEvaluation;default:return null}})),Fae(xae(xae(n)),"saveGrade",(function(e){var t=n.props,r=t.activityId,a=t.data.dbId,o=t.onGradeSaved,i=n.state.workingGrade;e.isDraft=!!i&&i.isDraft,Vl.saveGrade(+r,+a,e).then((function(e){o(a,e)})),n.setState({workingGrade:e})})),Fae(xae(xae(n)),"onPercentageGradeChange",(function(e){var t=n.state.workingGrade.isDraft;n.setState({workingGrade:{gradeValue:+e,isDraft:t}})})),Fae(xae(xae(n)),"onPercentageGradeCancel",(function(e){var t=n.state.workingGrade.isDraft;n.setState({workingGrade:{gradeValue:+e,isDraft:t}})})),Fae(xae(xae(n)),"onPercentageGradeSave",(function(){var e=+n.state.workingGrade.gradeValue;if(Rne(e)){var t={gradeValue:e};n.saveGrade(t)}else{var r=+n.state.savedGrade.gradeValue,a=n.state.workingGrade.isDraft;n.setState({workingGrade:{gradeValue:+r,isDraft:a}})}})),Fae(xae(xae(n)),"onAutoPassFailChange",(function(e){var t={completion:e===Uae};n.saveGrade(t)})),Fae(xae(xae(n)),"onPassFailChange",(function(e){var t={passFail:e===Uae};n.saveGrade(t)})),Fae(xae(xae(n)),"onFiveStarChange",(function(e){var t={fiveStarValue:+e};n.saveGrade(t)})),Fae(xae(xae(n)),"onShowRubricDialog",(function(){var e=n.state.workingGrade,t=e.myRubricEvaluation;dt.a.showModal(o.a.createElement(tf.b,{rubric:t.rubric,rubricPoints:t.points,mode:nf.a.GRADE,onCancel:function(){return dt.a.closeModal()},onSubmit:n.onRubricSave,grade:t.cells.map((function(e){return e.dbId})),allowInvalid:e.isDraft}))})),Fae(xae(xae(n)),"onRubricSave",(function(e,t){var r=n.props,a=r.activityId,o=r.data.dbId,i=r.onGradeSaved,c=n.state.workingGrade,s=!!c&&c.isDraft;Vl.saveGradeRubric(+a,+o,e,s).then((function(e){i(o,e)})),c.myRubricEvaluation.points=t,n.setState({workingGrade:c}),dt.a.closeModal()})),Fae(xae(xae(n)),"getPassFailMenuItems",(function(e){return[{label:e._("Pass"),value:Uae},{label:e._("Fail"),value:Vae}]})),n.state=n.createState(e),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mae(e,t)}(t,e),n=t,(r=[{key:"createState",value:function(e){var t=e.activityId,n=e.data,r=n.dbId,a=n.educatorGrade;return{activityId:t,studentId:r,workingGrade:O.a.cloneDeep(a),savedGrade:O.a.cloneDeep(a)}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state,n=t.activityId,r=t.studentId,a=t.savedGrade;n===e.activityId&&r===e.data.dbId&&O.a.isEqual(a,e.data.educatorGrade)||this.setState(this.createState(e))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.gradeType,r=e.i18n,a=this.state.workingGrade;if(!a)return null;var i=this.getGradeValue(n,a);switch(n){case ty.a.COMPLETION:return o.a.createElement(hp.H,{menuItems:this.getPassFailMenuItems(r),value:i?Uae:Vae,onChange:this.onAutoPassFailChange});case ty.a.FIVESTAR:return o.a.createElement(jae,{onRatingChange:this.onFiveStarChange,value:+i});case ty.a.GRADE:var c=t.firstName,s=t.lastName,u=!1,l=null;return Rne(i)||(l=r._("Percentage must be a number between 0 and 100"),u=!0),o.a.createElement(hp.s,{large:!0,title:r._("Percentage"),label:r._("Percentage"),cancelLabel:r._("Cancel"),helpText:r._("Percentage for {firstName} {lastName}",{firstName:c,lastName:s}),errorText:l,error:u,okLabel:r._("Save"),onChange:this.onPercentageGradeChange,onCancelClick:this.onPercentageGradeCancel,onOkClick:this.onPercentageGradeSave,okOnOutsideClick:!1,value:i});case ty.a.PASS_FAIL:return o.a.createElement(hp.H,{menuItems:this.getPassFailMenuItems(r),value:i?Uae:Vae,onChange:this.onPassFailChange});case ty.a.RUBRIC:if(!i)return o.a.createElement("td",null,r._("None"));var d=!Xre(i.rubric,i.cells);return o.a.createElement("td",null,d?o.a.createElement(we.b,{id:"button-grading-group-member-rubric-incomplete",primary:!0,onClick:this.onShowRubricDialog,ariaLabel:r._("Show Rubric"),iconBefore:!1,iconChildren:re.a.RUBRIC_INCOMPLETE_WARNING,tooltip:{label:r._("Partially complete"),position:"left"}},o.a.createElement(tf.c,{points:i.points,max:i.rubric.maxValue})):o.a.createElement(we.b,{id:"button-grading-group-member-rubric",primary:!0,onClick:this.onShowRubricDialog,ariaLabel:r._("Show Rubric")},o.a.createElement(tf.c,{points:i.points,max:i.rubric.maxValue})));default:return"ERROR: score type "+n}}}])&&Dae(n.prototype,r),a&&Dae(n,a),t}(a.Component);Gae.defaultProps={onGradeSaved:function(){}},Gae.propTypes={activityId:c.a.number.isRequired,gradeType:c.a.string.isRequired,data:c.a.object.isRequired,onGradeSaved:c.a.func};var qae=Object(U.withI18n)()(Gae);function Bae(e){return(Bae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qae(e,t){return!t||"object"!==Bae(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yae(e){return(Yae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hae(e,t){return(Hae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qae(this,Yae(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hae(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.onSubmit,n=e.i18n,r=[];return r.push(o.a.createElement(we.b,{id:"button-grading-group-withdraw-dialog-cancel",ariaLabel:n._("Cancel"),onClick:dt.a.closeModal},o.a.createElement(U.Trans,{id:"Close"}))),r.push(o.a.createElement(we.b,{id:"button-grading-group-withdraw-dialog-ok",primary:!0,ariaLabel:n._("Ok"),onClick:t},o.a.createElement(U.Trans,{id:"Ok"}))),o.a.createElement(mb.a,{actions:r,visible:!0,id:"release dialog",title:n._("Withdraw Team Evaluations")},o.a.createElement("p",null,o.a.createElement(U.Trans,{id:"Please confirm that you want to withdraw team member evaluations for this group"})))}}])&&Wae(n.prototype,r),a&&Wae(n,a),t}(a.Component);zae.propTypes={onSubmit:c.a.func};var Kae=Object(U.withI18n)()(zae);n("RP9J");function Xae(e){return(Xae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zae(e){return(Zae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $ae(e,t){return($ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eoe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function toe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var noe=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Zae(t).call(this,e),n=!a||"object"!==Xae(a)&&"function"!==typeof a?eoe(r):a,toe(eoe(eoe(n)),"getRubricRatingFromMember",(function(e){var t=0;if(e.rubricEvaluations){for(var n=0,r=0;r<e.rubricEvaluations.length;r++)n+=e.rubricEvaluations[r].points;n>0&&(t=n/e.rubricEvaluations.length)}return t})),toe(eoe(eoe(n)),"getSelfAssessmentPointsForMember",(function(e){var t=n.props.rubricEvaluations,r=0;if(t&&e){var a=O.a.find(t,(function(t){return t.user.dbId===e.dbId}));a&&(r=a.points)}return r})),toe(eoe(eoe(n)),"onShowEvalResults",(function(e){var t=e.rubricEvaluations;t&&t.length&&dt.a.showModal(o.a.createElement(gae,{rubricEvaluations:t}))})),toe(eoe(eoe(n)),"onShowSelfAssessment",(function(e){var t=n.props.rubricEvaluations;if(t&&e){var r=O.a.find(t,(function(t){return t.user.dbId===e.dbId}));r&&dt.a.showModal(o.a.createElement(tf.b,{rubric:r.rubric,rubricPoints:r.points,grade:r.cells.map((function(e){return e.dbId})),mode:nf.a.VIEW,onCancel:function(){return dt.a.closeModal()}}))}})),toe(eoe(eoe(n)),"createColumns",(function(e){var t=e.activityId,r=e.isDraft,a=e.rubric,i=e.groupReviewRubric,c=e.gradeType,s=e.groupReviewType,u=e.selfAssessmentEnabled,l=e.i18n,d=e.onGradeSaved,f=s!==bf.DISABLED,p=[{accessor:"name",grow:!0,className:"member-name",label:l._("Name"),renderer:function(e){return o.a.createElement(Pu.a,{showValue:!0,value:e.firstName+" "+e.lastName})}}];return f&&(s===bf.RATING?p.push({accessor:"",className:"rating-column",label:l._("Team Evaluation"),renderer:function(e){return o.a.createElement("div",{className:"rating-column-renderer"},o.a.createElement(Qd.a,{name:"rating-column-item",ratingSummaryItems:e.fiveStarRatings,viewType:"summary"}))}}):s===bf.RUBRIC&&p.push({accessor:"",className:"rating-column",label:l._("Team Evaluation"),renderer:function(e,t){var r=0;e.rubricEvaluations&&(r=e.rubricEvaluations.length);var a=n.getRubricRatingFromMember(e),c=i.maxValue;return o.a.createElement("div",{className:"rating-column-renderer"},o.a.createElement(tf.c,{points:a,max:c}),o.a.createElement(we.b,{id:"button-group-rubric-evaluation["+t+"]",primary:!0,enabled:r>0,onClick:function(){return n.onShowEvalResults(e)}},"(",r,")"))}})),u&&p.push({accessor:"",className:"self-assessment-column",label:l._("Rubric Self Assessment"),renderer:function(e,t){var r=n.getSelfAssessmentPointsForMember(e);return o.a.createElement("div",{className:"rating-column-renderer"},o.a.createElement(we.b,{id:"button-group-rubric-self-evaluation["+t+"]",primary:!0,enabled:r>0,onClick:function(){n.onShowSelfAssessment(e)}},o.a.createElement(tf.c,{points:r,max:a.maxValue})))}}),p.push(n.getInlineGradeEditColumn(t,c,r,d)),p})),toe(eoe(eoe(n)),"getInlineGradeEditColumn",(function(e,t,r,a){return{accessor:"",className:"grade-column",label:r?n.getDraftGradeLabel():n.getGradeLabel(),isCustomColumn:!0,renderer:function(n,r){return o.a.createElement(qae,{key:"inline-grade-edit["+r+"]",name:"inline-grade-edit["+r+"]",activityId:e,gradeType:t,data:n,onGradeSaved:a})}}})),toe(eoe(eoe(n)),"onRowEdit",(function(e){n.setState({selectedMember:e,showMemberDialog:!0})})),toe(eoe(eoe(n)),"onEditCancel",(function(){n.setState({selectedMember:null,showMemberDialog:!1})})),toe(eoe(eoe(n)),"onEditSubmit",(function(){})),toe(eoe(eoe(n)),"onListRowSelect",(function(e){var t=n.props.match;n.props.history.push(t.url+"/member/"+e.dbId)})),toe(eoe(eoe(n)),"handleReleaseMemberReviews",(function(){var e=n.props.isReviewAnonymous;dt.a.showModal(o.a.createElement(dae,{isReviewAnonymous:e,onSubmit:n.releaseMemberReviews}))})),toe(eoe(eoe(n)),"releaseMemberReviews",(function(e){var t=n.props.studentGroup;Vl.releaseGroupEvaluations(t.dbId,e),dt.a.closeModal()})),toe(eoe(eoe(n)),"handleUnreleaseMemberReviews",(function(){dt.a.showModal(o.a.createElement(Kae,{onSubmit:n.unreleaseMemberReviews}))})),toe(eoe(eoe(n)),"unreleaseMemberReviews",(function(){var e=n.props.studentGroup;Vl.unreleaseGroupEvaluations(e.dbId),dt.a.closeModal()})),toe(eoe(eoe(n)),"dismissCard",(function(){(0,n.props.dispatch)(qu.ob(!1))})),n.state={columns:n.createColumns(e)},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$ae(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.isDraft!==e.isDraft&&this.setState({columns:this.createColumns(e)})}},{key:"getDraftGradeLabel",value:function(){return this.props.i18n._("Draft Score")}},{key:"getGradeLabel",value:function(){return this.props.i18n._("Score")}},{key:"render",value:function(){var e=this.state.columns,t=this.props,n=t.dismissable,r=t.i18n,a=t.members,i=t.reviewReleasedAt,c=t.groupReviewType,s=t.groupName,u=c!==bf.DISABLED;if(!a||0===a.length)return null;var l=[];!i&&u?l.push({key:"release-team-evals-menu-item",primaryText:o.a.createElement(U.Trans,{id:"Release Team Evaluations"}),onClick:this.handleReleaseMemberReviews}):i&&u&&l.push({key:"withdraw-team-evals-menu-item",primaryText:o.a.createElement(U.Trans,{id:"Withdraw Team Evaluations"}),onClick:this.handleUnreleaseMemberReviews}),n&&(l.length>0&&l.push(o.a.createElement(pm.a,{key:"menu_item_divider[dismiss-group-members]"})),l.push({key:"dismiss-menu-item",primaryText:r._("Dismiss"),onClick:this.dismissCard}));var d=null;return l.length>0&&(d=[o.a.createElement(we.f,{id:"grading-toolbar",key:"actions-menu",icon:!0,className:"group-member-card-menu",menuItems:l,ariaLabel:r._("Group Members")},re.a.MENU_VERT)]),o.a.createElement(Hn.a,null,o.a.createElement(Hn.d,{title:r._("Group: {groupName}",{groupName:s}),actions:d}),o.a.createElement(Hn.c,null,o.a.createElement(ku.a,{columns:e,hasMobileListView:!1,className:"group-member-table",data:a,listAccessor:"name",onListRowSelect:this.onListRowSelect,tableSummary:r._("Inside a table, a list of the group members")})))}}])&&Jae(n.prototype,r),a&&Jae(n,a),t}(a.Component),roe=function(e,t){return O.a.map(e,(function(e){var n=t.filter((function(t){return t.student.dbId===e.dbId}));return O.a.merge({educatorGrade:n[0].educatorGrade},e)}))};noe.propTypes={dismissable:c.a.bool,onGradeSaved:c.a.func},noe.defaultProps={dismissable:!0,onGradeSaved:function(){}};var aoe=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){var t=ZS(e),n=VS(e),r=s_(e),a=!!r&&r.isDraft;return{activityId:pC(e),members:roe(t,n),rubric:CC(e),groupReviewRubric:_C(e),isDraft:a,isFiveStarEnabled:RC(e),isRubricReviewEnabled:IC(e),reviewReleasedAt:MC(e),groupReviewType:FC(e),studentGroup:oC(e),selfAssessmentEnabled:TC(e),rubricEvaluations:LC(e),gradeType:b_(e),groupName:iC(e)}}))(noe))),ooe=n("flbt"),ioe=n.n(ooe);function coe(){return(coe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function soe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function uoe(e,t){var n=t.i18n,r=t.activityType,a=t.isAutoAnalysisEnabled,o=fe.a.getAutoAnalysisPermission();return{enabled:!o.isRestricted&&kv.isItemProcessed(e),visible:a&&o.isVisible&&jy.a.isActivityTypeSupported(r),tooltip:{label:o.isRestricted?n._(o.restrictedMessage):n._("View Analysis")}}}function loe(e,t){var n=t.i18n,r=t.activityId,a=t.activityType,i=t.isAutoAnalysisEnabled,c=t.termClassId;if(t.isSmallViewport)return[];var s=uoe(e,{i18n:n,activityType:a,isAutoAnalysisEnabled:i}),u=kv.isItemProcessed(e),l=O.a.get(e,["attributes",ev.PREVIEW_URL]),d=[];switch(e.type){case $y.FILE:case $y.IMAGE:case $y.LINK:d.push(o.a.createElement(mh,{id:e.key,key:"secondary-action-launch-".concat(e.key),previewUrl:l}));break;case $y.VIDEO:s.visible&&d.push(o.a.createElement(fv,{key:"secondary-action-analysis-".concat(e.key),enabled:s.enabled,isAutoAnalysisScoreVisible:!0,item:e,tooltip:s.tooltip})),d.push(o.a.createElement(Zh,{key:"secondary-action-preview-".concat(e.key),activityId:r,enabled:Boolean(u&&l),item:e,termClassId:c}));break;case $y.MEETING:case $y.REFLECTION_ANSWERS:d.push(o.a.createElement(Zh,{key:"secondary-action-preview-".concat(e.key),activityId:r,enabled:!0,item:e,termClassId:c}))}return d}function doe(e,t){var n=t.i18n,r=t.activityId,a=t.activityType,i=t.isAutoAnalysisEnabled,c=t.termClassId,s=t.isSmallViewport,u=uoe(e,{i18n:n,activityType:a,isAutoAnalysisEnabled:i}),l=kv.isItemProcessed(e),d=O.a.get(e,["attributes",ev.PREVIEW_URL]),f=e.type!==$y.LINK&&e.type!==$y.REFLECTION_ANSWERS,p=function(e,t){var n=!1,r=O.a.get(e,["attributes",ev.DOWNLOAD_URL]);switch(e.type){case $y.FILE:case $y.IMAGE:case $y.LINK:n=Boolean(r);break;case $y.MEETING:n=t&&r&&fe.a.isMeetingDownloadAllowed();break;case $y.VIDEO:n=t&&Boolean(r)}return n}(e,l),m=[];if(s)switch(e.type){case $y.FILE:case $y.IMAGE:case $y.LINK:m.push(o.a.createElement(yh,{key:"menu-action-launch-".concat(e.key),enabled:Boolean(d),item:e}));break;case $y.VIDEO:m.push(o.a.createElement(tg,{key:"menu-action-preview-".concat(e.key),activityId:r,enabled:Boolean(l&&d),item:e,termClassId:c})),u.visible&&m.push(o.a.createElement(bv,{key:"menu-action-analysis-".concat(e.key),enabled:u.enabled,isAutoAnalysisScoreVisible:!0,item:e,tooltip:u.tooltip}));break;case $y.MEETING:case $y.REFLECTION_ANSWERS:m.push(o.a.createElement(tg,{key:"menu-action-preview-".concat(e.key),activityId:r,enabled:!0,item:e,termClassId:c}))}return f&&m.push(o.a.createElement(Uv,{key:"menu-action-download-".concat(e.key),enabled:p,item:e})),{actions:m,enabled:!0}}function foe(e){var t=e.i18n,n=e.activityData,r=soe(Object(a.useState)(!1),2),i=r[0],c=r[1],u=Object(s.c)(dy.c),l=O.a.includes([DO.a.XSMALL.name,DO.a.SMALL.name],u),d=LS.c(n),f=LS.e(n),p=LS.d(n),m=n.dbId,b=n.type,y=d.resultPartials,v={i18n:t,activityId:m,activityType:b,isAutoAnalysisEnabled:f,termClassId:p,isSmallViewport:l},h=kv.getTranslatedResultPartials(y,null,(function(e){return function(e,t){return{isProcessing:kv.isProcessing(e),hasProcessingError:kv.hasProcessingError(e),actions:{primary:[],secondary:loe(e,t),overflow:doe(e,t)}}}(e,v)}),{}),g=O.a.filter(h,{isIncluded:!1});if(O.a.isEmpty(g))return null;var w=re.a.ARROW_DOWN,S=t._("Show Items"),C=null;return i&&(S=t._("Hide Items"),w=re.a.ARROW_UP,C=o.a.createElement("div",{className:ioe.a.contents},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return o.a.createElement("div",{id:"items-not-submitted",className:E()("items-not-submitted","items-not-submitted--list")},o.a.createElement("div",{"aria-label":e._("You have {0} items in the work in progress section",{0:t.length})}),o.a.createElement(WO,{workItems:t}))}(t,g))),o.a.createElement(Hn.a,{className:ioe.a.card},o.a.createElement("div",{className:ioe.a.header},o.a.createElement("h2",null,t._("Items Not Submitted ({0})",{0:g.length})),o.a.createElement(we.d,coe({},le.b.submission.unsubmittedItems,{id:"button-items-not-submitted-toggle",tooltip:{label:S},ariaLabel:S,onClick:function(){c(!i)}}),w)),C)}foe.propTypes={activityData:c.a.object,i18n:c.a.object.isRequired};var poe=Object(U.withI18n)()(foe),moe=n("vQ62"),boe=n.n(moe);function yoe(){return(yoe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function voe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function hoe(e){var t=e.i18n,n=e.onResetSubmission,r=voe(W9(),1)[0],i=voe(Object(a.useState)([]),2),c=i[0],s=i[1],u=voe(Object(a.useState)([]),2),l=u[0],d=u[1],f=voe(Object(a.useState)(!1),2),p=f[0],m=f[1],b=voe(Object(a.useState)(!1),2),y=b[0],v=b[1],h=r.selectedUser,g=r.userId,E=r.userLocale,w=h.dataForOneStudent,S=h.name,C=h.type,_=h.submitDueAt,I=w.result,T=w.resultPartials,R=w.resultPartialsCreatedCount,P=_||null,A=O.a.get(h,"dataForOneStudent.studentGroup.comments"),N=0===c.length?t._("Activity Log - (No Items)"):t._("Activity Log"),j=0===l.length?t._("Chat - (No Items)"):t._("Chat");Object(a.useEffect)((function(){s(O.a.filter(A,(function(e){return e.isSystem}))),d(O.a.filter(A,(function(e){return!e.isSystem})))}),[A]);var k=Object(a.useCallback)((function(){var e=I.submitter,n=I.submittedAt,r="".concat(e.firstName," ").concat(e.lastName),a=new Date(1e3*n),i=Object(Pf.e)(a,ia.a.SHORT,Object(Zi.e)(E));return o.a.createElement("div",null,t._("Submitted by: {submittedBy} ({submittedAtString})",{submittedBy:r,submittedAtString:i}))}),[I]),D=t._("Reset Submission"),L=Object(a.useCallback)((function(){dt.a.showModal(o.a.createElement(Db,{id:"reset-submission-dialog",description:t._("Are you sure you want to reset this submission?"),cancelLabel:t._("Cancel"),confirmLabel:t._("Reset"),title:D,onConfirm:n}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:boe.a.detailsHeader},o.a.createElement("div",{className:boe.a.headerInfo},o.a.createElement("h1",{className:boe.a.headerTitle},S),o.a.createElement("div",{className:boe.a.detailsContainer},o.a.createElement("div",{className:boe.a.summary},o.a.createElement(bre,{result:I,resultPartials:T,resultPartialsCreatedCount:R})),o.a.createElement("div",{className:boe.a.activityInfo},o.a.createElement("div",{className:boe.a.infoItem},o.a.createElement(Gee,{type:C})),fe.a.isDueDateVisible()&&P&&o.a.createElement("div",{className:boe.a.infoItem},o.a.createElement("span",{className:boe.a.infoItemLabel,"aria-label":t._("Due Date")},o.a.createElement(U.Trans,{id:"Due Date:"})," ",o.a.createElement(oa.b,{unixTime:P}))),k&&o.a.createElement("div",{className:boe.a.infoItem},k())))),o.a.createElement("div",{className:boe.a.headerActions},fe.a.isResetSubmissionVisible()&&o.a.createElement("div",{className:boe.a.activityActions},o.a.createElement(we.d,yoe({},le.b.submission.reset,{onClick:L,ariaLabel:D,tooltip:{label:D}}),re.a.REPLAY)),o.a.createElement("div",{className:boe.a.groupActions},o.a.createElement(we.d,yoe({},le.b.submission.chat,{ariaLabel:j,enabled:l.length>0,tooltip:{label:j},onClick:function(){m(!0)}}),re.a.CHAT),o.a.createElement(we.d,yoe({},le.b.submission.activityLog,{enabled:c.length>0,ariaLabel:N,tooltip:{label:N},onClick:function(){v(!0)}}),re.a.ACTIVITY)))),p&&o.a.createElement(V.a,{id:"chat-dialog",dialogClassName:boe.a.chatDialog,title:t._("Chat"),onHide:function(){m(!1)}},o.a.createElement(su,{className:boe.a.chatContainer,messages:l,readOnly:!0,studentId:g})),y&&o.a.createElement(V.a,{id:"activity-log-dialog",title:t._("Activity Log"),dialogClassName:boe.a.activityLogDialog,onHide:function(){v(!1)}},o.a.createElement(Ws,{className:boe.a.activityLogContainer,messages:c})))}hoe.propTypes={i18n:c.a.object.isRequired,onResetSubmission:c.a.func.isRequired};var goe=Object(U.withI18n)()(o.a.memo(hoe));function Eoe(e){var t=e.activityData,n=e.onGroupMemberGradeSaved,r=e.onResetSubmission,a=e.onRubricScorePublished,i=e.onScoreSaved,c=t.gradeType,s=ty.a.RUBRIC===c;return o.a.createElement(o.a.Fragment,null,o.a.createElement(goe,{onResetSubmission:r}),o.a.createElement(xre,{showStudentCard:!1}),s&&o.a.createElement(aae,{onScorePublished:a,onScoreSaved:i}),o.a.createElement(aoe,{dismissable:!1,onGradeSaved:n}),o.a.createElement(lI,{viewContext:lI.SUBMISSION_VIEW_CONTEXT.EDUCATOR}),o.a.createElement(poe,{activityData:t}))}Eoe.propTypes={activityData:c.a.object.isRequired,onGroupMemberGradeSaved:c.a.func.isRequired,onResetSubmission:c.a.func.isRequired,onRubricScorePublished:c.a.func.isRequired,onScoreSaved:c.a.func};var woe=o.a.memo(Eoe),Ooe=n("0xZJ"),Soe=n.n(Ooe);function Coe(){return(Coe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _oe(e){var t=e.activityName,n=e.activityType,r=e.dueDate,a=e.i18n,i=e.onResetSubmission;return o.a.createElement("div",{className:Soe.a.detailsHeader},o.a.createElement("div",{className:Soe.a.headerInfo},o.a.createElement("h1",{className:Soe.a.headerTitle},t),o.a.createElement("div",{className:Soe.a.detailsContainer},o.a.createElement("div",{className:Soe.a.activityInfo},o.a.createElement("div",{className:Soe.a.infoItem},o.a.createElement(Gee,{type:n})),fe.a.isDueDateVisible()&&r&&o.a.createElement("div",{className:Soe.a.infoItem},o.a.createElement("span",{className:Soe.a.infoItemLabel,"aria-label":a._("Due Date")},o.a.createElement(U.Trans,{id:"Due Date:"})," ",o.a.createElement(oa.b,{unixTime:r})))))),o.a.createElement("div",{className:Soe.a.headerActions},function(){if(!fe.a.isResetSubmissionVisible())return null;var e=a._("Reset Submission");return o.a.createElement("div",null,o.a.createElement(we.d,Coe({},le.b.submission.reset,{onClick:function(){dt.a.showModal(o.a.createElement(Db,{id:"reset-submission-dialog",description:a._("Are you sure you want to reset this submission?"),cancelLabel:a._("Cancel"),confirmLabel:a._("Reset"),title:e,onConfirm:i}))},ariaLabel:e,tooltip:{label:e}}),re.a.REPLAY))}()))}_oe.propTypes={activityName:c.a.string.isRequired,activityType:c.a.string.isRequired,dueDate:c.a.number,i18n:c.a.object.isRequired,onResetSubmission:c.a.func.isRequired,qaAnswers:c.a.array};var Ioe=Object(U.withI18n)()(o.a.memo(_oe));function Toe(e){var t=e.activityData,n=e.onResetSubmission,r=e.onScoreSaved,a=t.peerReviewType,i=t.dataForOneStudent,c=t.gradeType,s=t.name,u=t.type,l=t.submitDueAt,d=O.a.get(i,"result"),f=l||null,p=ty.a.RUBRIC===c;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ioe,{activityName:s,activityType:u,dueDate:f,onResetSubmission:n}),o.a.createElement(xre,null),p&&d&&o.a.createElement(aae,{onScoreSaved:r}),d&&o.a.createElement(lI,{viewContext:lI.SUBMISSION_VIEW_CONTEXT.EDUCATOR}),o.a.createElement(poe,{activityData:t}),Boolean(a)&&o.a.createElement(gne,{onScoreSaved:r}))}Toe.propTypes={activityData:c.a.object.isRequired,onResetSubmission:c.a.func.isRequired,onScoreSaved:c.a.func};var Roe=o.a.memo(Toe);n("TsH0");function Poe(e){return(Poe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aoe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Noe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Moe(e,t,n[t])}))}return e}function joe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function koe(e){return(koe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Doe(e,t){return(Doe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Loe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Moe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xoe={resumeVideoAfterMessageSubmit:!1,selectedStudent:null,selectedAvailableResult:null,selectedDeleteComment:null,selectedEditComment:null,showCommentPresetDialog:!1,showDeleteCommentDialog:!1,showDocuments:!1,showEditCommentDialog:!1,message:"",showReflectionAnswersDialog:!1,showRubricDialog:!1,showSelfAssessmentDialog:!1,showAddPresetDialog:!1},Foe="Grading results video player",Uoe=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=koe(t).call(this,e),n=!a||"object"!==Poe(a)&&"function"!==typeof a?Loe(r):a,Moe(Loe(Loe(n)),"componentDidMount",(function(){n.scrollToBottom()})),Moe(Loe(Loe(n)),"UNSAFE_componentWillUpdate",(function(){})),Moe(Loe(Loe(n)),"scrollToBottom",(function(){var e=T.a.findDOMNode(n.feedContainer);e&&(e.scrollTop=e.scrollHeight)})),Moe(Loe(Loe(n)),"getPlayerTime",(function(){var e=ly.c(n.getVideoPlayerId(),m.a.getState());return null===e?null:+e.toFixed(1)-.1})),Moe(Loe(Loe(n)),"getVideoPlayerId",(function(){var e=n.props,t=e.result,r=e.activityId;return t?Foe+"_"+r+"_"+t.submitter.dbId:Foe})),Moe(Loe(Loe(n)),"onMediaChange",(function(e){var t=n.props,r=t.dispatch;t.result.requiredMedia?r(qu.qb(e)):r(qu.pb(e))})),Moe(Loe(Loe(n)),"onMessageChange",(function(e){var t=n.props.dispatch,r=n.state.resumeVideoAfterMessageSubmit,a=ly.b(n.getVideoPlayerId(),m.a.getState(),"isPlaying"),o=r;if(o||(o=a),a){var i=n.getPlayerTime(),c=n.getVideoPlayerId();t(uy.t(c)),n.globalPlayerEmitter.pause({playerId:c,startTime:i})}n.setState({message:e,resumeVideoAfterMessageSubmit:o})})),Moe(Loe(Loe(n)),"onPresetMessageChange",(function(e){var t=n.props.dispatch;n.globalPlayerEmitter.pause({playerId:n.getVideoPlayerId(),startTime:n.getPlayerTime()}),t(uy.t(n.getVideoPlayerId())),n.setState({message:e},(function(){n.onMessageSubmit()}))})),Moe(Loe(Loe(n)),"onMessageSubmit",(function(){var e=n.props,t=e.activityId,r=e.submitter,a=e.dispatch,o=n.state,i=o.message,c=o.resumeVideoAfterMessageSubmit;Vl.createActivityCommentText(+t,r.dbId,i,n.getPlayerTime()).then((function(){n.setState({message:"",resumeVideoAfterMessageSubmit:!1}),n.scrollToBottom(),c&&(n.isVideoPaused()&&n.globalPlayerEmitter.play({playerId:n.getVideoPlayerId(),startTime:n.getPlayerTime()}),a(uy.u(n.getVideoPlayerId())))}))})),Moe(Loe(Loe(n)),"onVideoAdd",(function(){var e=n.props,t=e.dispatch,r=e.activityId,a=n.state.resumeVideoAfterMessageSubmit,i=ly.b(n.getVideoPlayerId(),m.a.getState(),"isPlaying"),c=a;c||(c=i),i&&(n.globalPlayerEmitter.pause({playerId:n.getVideoPlayerId(),startTime:n.getPlayerTime()}),t(uy.t(n.getVideoPlayerId()))),n.setState({resumeVideoAfterMessageSubmit:c}),fr.a.isRecorderSupported()&&!bt.b()?dt.a.showModal(o.a.createElement(Qb,{mediaType:pr.a.COMMENT,id:"FeedbackCommentRecorder",onComplete:function(e){e&&e.masterMediaId&&n.onAddVideoComplete(e.masterMediaId)},activityId:+r})):dt.a.showModal(o.a.createElement($b,{mediaType:pr.a.COMMENT,showImportFromCloud:!1,onComplete:function(e){e&&e[0]&&n.onAddVideoComplete(e[0])},activityId:+r}))})),Moe(Loe(Loe(n)),"onAddVideoComplete",(function(e){var t=n.props,r=t.dispatch,a=t.activityId,o=t.result,i=n.state.resumeVideoAfterMessageSubmit;e&&Vl.createActivityCommentMedia(+a,o.submitter.dbId,e,n.getPlayerTime()).then((function(){n.setState({resumeVideoAfterMessageSubmit:!1}),n.scrollToBottom(),i&&(n.isVideoPaused()&&n.globalPlayerEmitter.play({playerId:n.getVideoPlayerId(),startTime:n.getPlayerTime()}),r(uy.u(n.getVideoPlayerId())))}))})),Moe(Loe(Loe(n)),"onAddPreset",(function(e){n.setState({selectedEditComment:O.a.clone(e),showAddPresetDialog:!0})})),Moe(Loe(Loe(n)),"onAddPresetCancel",(function(){n.setState({selectedEditComment:null,showAddPresetDialog:!1})})),Moe(Loe(Loe(n)),"onAddPresetSubmit",(function(){var e=n.state.selectedEditComment;Ec.addPresetComment(e.commentText).then((function(){n.setState({showAddPresetDialog:!1,selectedEditComment:null})}))})),Moe(Loe(Loe(n)),"onEditComment",(function(e){n.setState({selectedEditComment:O.a.clone(e),showEditCommentDialog:!0})})),Moe(Loe(Loe(n)),"onEditCancel",(function(){n.setState({selectedEditComment:null,showEditCommentDialog:!1})})),Moe(Loe(Loe(n)),"onEditSubmit",(function(){var e=n.state.selectedEditComment;Vl.editFeedbackComment(e.dbId,e).then((function(){n.setState({showEditCommentDialog:!1,selectedEditComment:null})}))})),Moe(Loe(Loe(n)),"onEditCommentChange",(function(e){n.setState({selectedEditComment:Noe({},n.state.selectedEditComment,{commentText:e})})})),Moe(Loe(Loe(n)),"onDeleteComment",(function(e){n.setState({showDeleteCommentDialog:!0,selectedDeleteComment:e})})),Moe(Loe(Loe(n)),"onDeleteCancel",(function(){n.setState({showDeleteCommentDialog:!1,selectedDeleteComment:null})})),Moe(Loe(Loe(n)),"onDeleteSubmit",(function(){var e=n.state.selectedDeleteComment,t=n.props.activityId;t=+t,Vl.deleteActivityComment(t,e.dbId).then((function(){n.setState({showDeleteCommentDialog:!1,selectedDeleteComment:null})}))})),Moe(Loe(Loe(n)),"onSyncTimeClick",(function(e){var t=n.props.dispatch,r=n.getPlayerTime(),a=e,o=n.getVideoPlayerId();t(uy.F(o,a)),n.globalPlayerEmitter.seek({playerId:o,startTime:r,endTime:a})})),Moe(Loe(Loe(n)),"getFeedMenuActions",(function(e){var t=n.props,r=t.i18n,a=t.commentPresets,i=[],c=O.a.find(a,(function(t){return t.commentText===e.commentText}));return i.push({primaryText:r._("Add as Preset"),disabled:Boolean(c),onClick:function(){n.onAddPreset(e)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:r._("Add as Preset, icon")},re.a.ADD)},{primaryText:r._("Edit"),onClick:function(){n.onEditComment(e)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:r._("Edit, icon")},re.a.EDIT)},{primaryText:r._("Delete"),onClick:function(){n.onDeleteComment(e)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:r._("Delete, icon")},re.a.DELETE)}),i})),Moe(Loe(Loe(n)),"getFeedSection",(function(){var e=n.props,t=e.result,r=e.userId,a=e.i18n,i=e.termClassId,c=e.activityId,s=t.comments;return s&&s.length>0?(s=O.a.orderBy(s,["syncTime","updatedAt"],["asc","asc"]),o.a.createElement("div",{className:"review-feed"},s&&s.map((function(e){var t=e.commenter&&e.commenter.dbId===r,s=!t&&e.commenter&&Wr.c(e.commenter);return o.a.createElement(bE,{key:"review-comment"+e.dbId,comment:e,showCommenterName:!0,canEdit:!s,canDelete:!s,termClassId:i,activityId:c,usageContext:Kh.a.COMMENT,onSyncTimeClick:n.onSyncTimeClick,onDeleteComment:n.onDeleteComment,onEditComment:n.onEditComment,customActions:t?o.a.createElement(we.f,{id:"review-comment-menu-button-"+e.dbId,icon:!0,className:"review-edit-comment-button",menuItems:n.getFeedMenuActions(e),ariaLabel:a._("Comment options")},re.a.MENU_VERT):null})})))):o.a.createElement("div",{className:"review-feed no-comments"},o.a.createElement("span",{className:"card-placeholder-text"},o.a.createElement(U.Trans,{id:"No comments"})))})),Moe(Loe(Loe(n)),"getCommentPresetItems",(function(){var e=n.props.commentPresets,t=O.a.clone(e),r=n.state.message,a=[];if(r&&(t=O.a.filter(t,(function(e){return-1!==e.commentText.toLowerCase().indexOf(r.toLowerCase())}))),t)for(var o=function(e){a.push({className:"feedback-text-dropdown-item",contentClassName:"feedback-text-dropdown-item-text",tileClassName:"feedback-text-dropdown-item-tile",primaryText:t[e].commentText,onClick:function(){return n.onPresetMessageChange(t[e].commentText)}})},i=0;i<t.length;i++)o(i);return a})),Moe(Loe(Loe(n)),"onPresetDropdownVisibilityChange",(function(e){var t=n.props.dispatch,r=n.state.resumeVideoAfterMessageSubmit;if(e){var a=ly.b(n.getVideoPlayerId(),m.a.getState(),"isPlaying");if(a){var o=n.getPlayerTime(),i=n.getVideoPlayerId();t(uy.t(i)),n.globalPlayerEmitter.pause({playerId:i,startTime:o})}n.setState({resumeVideoAfterMessageSubmit:a})}else r&&(n.globalPlayerEmitter.play({playerId:n.getVideoPlayerId(),startTime:n.getPlayerTime()}),t(uy.u(n.getVideoPlayerId())))})),Moe(Loe(Loe(n)),"getSubmitSection",(function(){var e=n.state.message,t=n.props,r=t.activityCommentIsLoading,a=t.i18n,i=Object(eu.f)(e);r&&n._previousActivityCommentIsLoading&&requestAnimationFrame((function(){n.feedbackTextFieldRef.current.focus()})),n._previousActivityCommentIsLoading=r;var c=null;return bt.f()||(c=bt.d()?a._("(\\u2318 + Enter) to Submit"):a._("(Ctrl + Enter) to Submit")),o.a.createElement("div",{className:"review-submit-section"},o.a.createElement(we.d,{id:"button-grading-feedback-video-add",enabled:!r,className:"review-add-video-button",ariaLabel:a._("Add Video"),onClick:n.onVideoAdd},re.a.VIDEO_ADD),o.a.createElement(Sa.j,{ref:n.feedbackTextFieldRef,id:"feedback-text-dropdown",className:"feedback-text-dropdown",listClassName:"feedback-text-dropdown-list",ariaLabel:a._("Comment"),enabled:!r,errorText:i.exceedsLimit?a._("Exceeds {0} characters.",{0:i.maxLength}):"",helpText:c,helpOnFocus:!0,maxLength:i.maxLength,maxRows:2,menuItems:n.getCommentPresetItems(),onDropdownVisibilityChange:n.onPresetDropdownVisibilityChange,onTextChange:n.onMessageChange,onSubmit:n.onMessageSubmit,placeholder:a._("Comment..."),required:!i.isEmpty,rows:1,toggleQuery:".md-text-field-container",value:e}),o.a.createElement(we.d,{id:"button-grading-feedback-message-send",enabled:!r&&i.isValid,className:"message-send-button",onClick:n.onMessageSubmit,isLoading:r},re.a.SEND))})),Moe(Loe(Loe(n)),"onViewDocuments",(function(){n.setState({showDocuments:!0})})),Moe(Loe(Loe(n)),"onDocumentDialogClose",(function(){n.setState({showDocuments:!1})})),Moe(Loe(Loe(n)),"showPresetDialog",(function(){n.setState({showCommentPresetDialog:!0})})),Moe(Loe(Loe(n)),"onPresetDialogClose",(function(){n.setState({showCommentPresetDialog:!1})})),Moe(Loe(Loe(n)),"onShowAutoAnalysis",(function(e){dt.a.showModal(o.a.createElement(Xy,{isScoreVisible:!0,media:e}))})),Moe(Loe(Loe(n)),"getVideoTopToolbar",(function(){var e=[],t=n.props,r=t.result,a=t.hasReflectionAnswers,i=t.i18n,c=t.activityType,s=t.isAutoAnalysisEnabled;if(!r)return null;(a||r.documents&&r.documents.length>0||r.links&&r.links.length>0)&&(e.push(o.a.createElement(Au.c,{key:"document_view_item",onClick:n.onViewDocuments,leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Documents, icon"),iconClassName:Tf.a.FILE}),primaryText:i._("Documents")})),e.push(o.a.createElement(pm.a,{key:"feedback_divider[0]"})));var u=r.media;if(!u&&r.requiredMedia&&(u=r.requiredMedia),u){var l=Boolean(u.meetingAssets||u.meetingDownloadUrl);u.slaveMedia?e.push(o.a.createElement(Au.c,{key:"download_camera_item",enabled:Boolean(u.downloadUrl),onClick:function(){return Object(Tv.a)(u.downloadUrl)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Download, icon")},re.a.DOWNLOAD),primaryText:i._("Download camera recording")}),o.a.createElement(Au.c,{key:"download_desktop_item",enabled:Boolean(u.slaveMedia.downloadUrl),onClick:function(){return Object(Tv.a)(u.slaveMedia.downloadUrl)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Download, icon")},re.a.DOWNLOAD),primaryText:i._("Download screen recording")})):e.push(o.a.createElement(Au.c,{key:"download_item",enabled:Boolean(u.downloadUrl),onClick:function(){return mm.a.downloadPartial(u)},leftIcon:o.a.createElement(Oe.a,{ariaLabel:i._("Download, icon")},re.a.DOWNLOAD),primaryText:i._("Download")}));var d=jy.a.isActivityTypeSupported(c);s&&d&&!l&&e.push(o.a.createElement(fP,{id:"auto-analysis",onClick:function(){n.onShowAutoAnalysis(u)}}))}return 0===(e=O.a.compact(e)).length?null:o.a.createElement("div",{className:"video-top-toolbar-container"},o.a.createElement(we.f,{id:"video-actions-menu-button",className:"video-actions-menu-button",menuItems:e},re.a.MENU_VERT))})),Moe(Loe(Loe(n)),"getFilteredRubricEvaluations",(function(){var e=n.props,t=e.activityType,r=e.rubricEvaluations,a=e.studentData,o=[];if(r){var i=a.student;o=r.filter((function(e){if(Wr.f(i,e.user))return!1;if(Wr.e(i,e.user)){if(t===Wu.b.GROUP_PRESENTATION){var n=a.studentGroup.members;return!Wr.d(i,e.user,n)}return!0}}))}return o})),Moe(Loe(Loe(n)),"getRatingComponent",(function(){var e=n.props,t=e.rubric,r=e.isFiveStarEnabled,a=e.isRubricReviewEnabled,i=e.studentData,c=e.i18n;if(r){var s=0;return i&&i.peerReview&&(s=i.peerReview.fiveStarValue),o.a.createElement("div",{className:"peer-review-fivestar-container"},o.a.createElement(Qd.a,{name:"feedback-review-rating",enabled:!1,value:s,onChange:n.onRatingChange}),o.a.createElement("span",null,"(",i.peerReview.fiveStarRatesAmount,")"))}if(a){var u=O.a.get(i,"peerReview.rubricGrade",0),l=n.getFilteredRubricEvaluations();return o.a.createElement("div",{className:"eval-rubric-result-container"},o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"Peer Review"})),o.a.createElement(we.b,{id:"button-grading-feedback-peer-review-rubric",enabled:!!l.length,onClick:n.showPeerReviewReport.bind(null,l),className:"eval-rubric-result-button",ariaLabel:c._("Peer Review"),primary:!0},o.a.createElement(tf.c,{points:u,max:t.maxValue})))}})),Moe(Loe(Loe(n)),"showPeerReviewReport",(function(e){var t=n.props.i18n;dt.a.showModal(o.a.createElement(af.a,{title:t._("Peer Reviews"),rubricEvaluations:e}))})),Moe(Loe(Loe(n)),"getCardHeader",(function(){var e=n.props,t=e.i18n,r=e.isFiveStarEnabled,a=e.isRubricReviewEnabled,i=n.state.showCommentPresetDialog,c=r||a;return o.a.createElement("div",{className:"md-card-title md-card-title--primary card-title feedback-card-header"},o.a.createElement("h2",{className:"section-header"},o.a.createElement(U.Trans,{id:"Submission"})),c&&o.a.createElement("div",{className:"feedback-rating-container"},n.getRatingComponent()),o.a.createElement("div",{className:"header-item-separator"}),o.a.createElement("div",{className:"submission-overflow-actions"},o.a.createElement(we.f,{id:"submission-overflow-menu-button",icon:!0,ariaLabel:t._("Edit preset comments"),menuItems:[{primaryText:t._("Edit Preset Comments"),onClick:n.showPresetDialog,leftIcon:o.a.createElement(Oe.a,null,re.a.EDIT)}]},re.a.MENU_VERT),i&&o.a.createElement(G_,{onClose:n.onPresetDialogClose})))})),Moe(Loe(Loe(n)),"getDeleteDialogActions",(function(){var e=n.props,t=e.activityCommentIsLoading,r=e.i18n;return[o.a.createElement(we.b,{id:"button-grading-feedback-delete-dialog-cancel",secondary:!0,ariaLabel:r._("Cancel"),enabled:!t,onClick:n.onDeleteCancel},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-grading-feedback-delete-dialog-delete",primary:!0,ariaLabel:r._("Delete"),isLoading:t,enabled:!t,onClick:n.onDeleteSubmit},o.a.createElement(U.Trans,{id:"Delete"}))]})),Moe(Loe(Loe(n)),"getAddPresetDialogActions",(function(){var e=n.props,t=e.isCommentPresetLoading,r=e.i18n;return[o.a.createElement(we.b,{id:"button-grading-feedback-add-preset-dialog-no",secondary:!0,ariaLabel:r._("No"),enabled:!t,onClick:n.onAddPresetCancel},o.a.createElement(U.Trans,{id:"No"})),o.a.createElement(we.b,{id:"button-grading-feedback-add-preset-dialog-yes",primary:!0,ariaLabel:r._("Yes"),isLoading:t,enabled:!t,onClick:n.onAddPresetSubmit},o.a.createElement(U.Trans,{id:"Yes"}))]})),Moe(Loe(Loe(n)),"getEditDialogActions",(function(e){var t=n.props,r=t.activityCommentIsLoading,a=t.i18n;return[o.a.createElement(we.b,{id:"button-grading-feedback-edit-dialog-cancel",secondary:!0,ariaLabel:a._("Cancel"),enabled:!r,onClick:n.onEditCancel},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-grading-feedback-edit-dialog-submit",primary:!0,ariaLabel:a._("Submit"),isLoading:r,enabled:!r&&e.isValid,onClick:n.onEditSubmit},o.a.createElement(U.Trans,{id:"Submit"}))]})),Moe(Loe(Loe(n)),"onPreviewReflectionAnswers",(function(){n.setState({showReflectionAnswersDialog:!0})})),Moe(Loe(Loe(n)),"onPreviewReflectionAnswersClose",(function(){n.setState({showReflectionAnswersDialog:!1})})),n.globalPlayerEmitter=new ey.a,n.state=xoe,n.feedbackTextFieldRef=o.a.createRef(),n._previousActivityCommentIsLoading=!1,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Doe(e,t)}(t,e),n=t,(r=[{key:"isVideoPaused",value:function(){return ly.b(this.getVideoPlayerId(),m.a.getState(),"isPaused")}},{key:"render",value:function(){var e=this,t=this.props,n=t.result,r=t.rubric,a=t.reflectionAnswers,i=t.needReflectionAnswers,c=t.activityCommentIsLoading,s=t.i18n,u=this.state,l=u.selectedEditComment,d=u.showDocuments,f=u.showDeleteCommentDialog,p=u.showEditCommentDialog,m=u.showRubricDialog,b=u.showAddPresetDialog,y=u.showReflectionAnswersDialog;if(!n)return null;var v=[],h=n.comments,g=null,w=n.media;!w&&n.requiredMedia&&(w=n.requiredMedia),n.myRubricEvaluation&&(g=n.myRubricEvaluation.points),h&&h.forEach((function(e){e&&null!==e.syncTime&&v.push({timestamp:e.syncTime})}));var S=l?l.commentText:"",C=Object(eu.f)(S),_=[];return _.push(mm.a.createReflectionAnswersPartial(s._("Reflection Answers"),a,this.onPreviewReflectionAnswers)),_=O.a.concat.apply(O.a,[_].concat(Aoe(n.documents||[]))),_=O.a.compact(_),o.a.createElement("div",null,o.a.createElement(Hn.a,{className:"review-card"},this.getCardHeader(),o.a.createElement("div",{className:"review-wrapper"},w?o.a.createElement("div",{className:E()("review-video-container",_&&_.length>0?null:"no-documents")},w&&this.getVideoTopToolbar(),w&&o.a.createElement(Mt.a,{id:"review-media",media:w,activityId:this.props.activityId,termClassId:this.props.termClassId,usageContext:Kh.a.STUDENT_RESULT,onMediaChange:this.onMediaChange,marks:v,playerId:this.getVideoPlayerId()})):o.a.createElement("div",{className:E()("review-document-container",w?null:"no-media")},_?o.a.createElement(FT,{documents:_,links:n.links}):o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"No documents found"}))),o.a.createElement("div",{className:E()("review-comments-container",w?null:"no-media")},o.a.createElement("div",{className:"review-feed-container",ref:function(t){e.feedContainer=t}},this.getFeedSection()),o.a.createElement("div",{className:"review-submit-container"},this.getSubmitSection())),o.a.createElement(QT,{visible:d,documents:_,links:n.links,onClose:this.onDocumentDialogClose}),o.a.createElement(Hf.a,{id:"delete-review-item-dialog",title:s._("Delete Comment"),visible:f,actions:this.getDeleteDialogActions()},o.a.createElement("p",null,o.a.createElement(U.Trans,{id:"Are you sure you want to delete this comment?"}))),l&&o.a.createElement(Hf.a,{id:"edit-review-item-dialog",className:"edit-review-item-dialog",title:s._("Edit Comment"),visible:p,actions:this.getEditDialogActions(C)},o.a.createElement(Sa.i,{id:"review-edit-textfield",className:"review-edit-textfield",enabled:!c,placeholder:s._("Comment..."),onChange:this.onEditCommentChange,value:l.commentText,rows:1,errorText:C.exceedsLimit?s._("Exceeds {0} characters.",{0:C.maxLength}):"",maxLength:C.maxLength,required:!0,maxRows:4,ariaLabel:s._("Comment")})),b&&o.a.createElement(Hf.a,{id:"add-comment-preset-dialog",title:s._("Add Preset"),visible:b,actions:this.getAddPresetDialogActions()},o.a.createElement("p",null,o.a.createElement(U.Trans,{id:"Are you sure you want to add this comment as a preset?"}))),m&&o.a.createElement(tf.b,{rubric:r,rubricPoints:g,mode:nf.a.VIEW,onCancel:this.onDialogCancel,onSubmit:this.onDialogSubmit}),o.a.createElement(zh,{visible:y,onClose:this.onPreviewReflectionAnswersClose,answers:a,needAnswers:i}))))}}])&&joe(n.prototype,r),a&&joe(n,a),t}(a.Component),Voe=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){return{activityId:pC(e),activityType:dC(e),result:wC(e),reflectionAnswers:zC(e),hasReflectionAnswers:KC(e),needReflectionAnswers:XC(e),activityData:xS(e),rubric:CC(e),isRubricReviewEnabled:IC(e),isRubricSelfReviewEnabled:TC(e),isFiveStarEnabled:RC(e),activityCommentIsLoading:AC(e),submitter:OC(e),userId:Qe.i(e),commentPresets:Qe.a(e),isCommentPresetLoading:Qe.j(e),rubricEvaluations:LC(e),studentData:US(e),termClassId:DC(e),isAutoAnalysisEnabled:BC(e)}}))(Uoe)));function Goe(e){var t=e.activityData,n=e.onResetSubmission,r=e.onScoreSaved,a=t.peerReviewType,i=t.dataForOneStudent,c=t.gradeType,s=t.name,u=t.type,l=t.submitDueAt,d=ty.a.RUBRIC===c,f=O.a.get(i,"result"),p=Boolean(a),m=l||null,b=f&&f.media&&f.media.processingStatus===Rv.a.READY,y=i&&i.interactiveAnswers?i.interactiveAnswers:[];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ioe,{activityName:s,activityType:u,dueDate:m,onResetSubmission:n}),o.a.createElement(xre,null),d&&f&&o.a.createElement(aae,{onScoreSaved:r}),b&&o.a.createElement(Voe,null),o.a.createElement(LR,{interactiveAnswers:y,isEducator:!0}),p&&o.a.createElement(gne,{onScoreSaved:r}))}Goe.propTypes={activityData:c.a.object.isRequired,studentData:c.a.object,onResetSubmission:c.a.func.isRequired,onScoreSaved:c.a.func};var qoe=o.a.memo(Goe);n("jUYD");function Boe(e){return(Boe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Woe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qoe(e){return(Qoe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yoe(e,t){return(Yoe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hoe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zoe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Koe="qa-answer-player-",Xoe=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Qoe(t).call(this,e),n=!a||"object"!==Boe(a)&&"function"!==typeof a?Hoe(r):a,zoe(Hoe(Hoe(n)),"getVideoContainer",(function(){var e=n.props,t=e.answer,r=e.i18n,a=t.isCrashed,i=t.isWithdrawn,c=t.media;return a||i?o.a.createElement("div",{className:"qa-answer-video-placeholder"},o.a.createElement(Oe.a,{className:E()(a?"crashed":"withdrawn")},a?re.a.VIDEO_WARNING:re.a.VIDEO_WITHDRAW)):c&&c.processingStatus===Rv.a.PROGRESS?o.a.createElement("div",{className:"qa-answer-video-placeholder"},o.a.createElement(Oe.a,{ariaLabel:r._("Video Processing, icon")},re.a.HOURGLASS_EMPTY),o.a.createElement("span",null,o.a.createElement(U.Trans,{id:"Processing..."}))):o.a.createElement("div",{className:"qa-answer-media-player"},o.a.createElement(Mt.a,{id:"qa-answer-media",playerId:Koe+t.dbId,activityId:n.props.activityId,termClassId:n.props.termClassId,usageContext:Kh.a.STUDENT_RESULT_PARTIAL,media:t.media}))})),zoe(Hoe(Hoe(n)),"getInformationContainer",(function(){var e=n.props.answer,t=e.isCrashed,r=e.isWithdrawn,a=e.withdrawComment;return o.a.createElement("div",{className:"qa-answer-info-container"},o.a.createElement("div",{className:"qa-answer-info-item"},o.a.createElement(U.Trans,{id:"<0>Started at:</0><1/>",components:[o.a.createElement("span",{className:"info-label"}),o.a.createElement(oa.a,{unixTime:e.startedAt,dateTimeFormat:ia.a.MEDIUM})]})),r?o.a.createElement("div",null,o.a.createElement("div",{className:"qa-answer-info-item"},o.a.createElement(U.Trans,{id:"<0>Status: </0>Withdrawn",components:[o.a.createElement("span",{className:"info-label"})]})),o.a.createElement("div",{className:"qa-answer-info-item"},o.a.createElement(U.Trans,{id:"<0>Reason: </0><1>{withdrawComment}</1>",values:{withdrawComment:a},components:[o.a.createElement("span",{className:"info-label"}),o.a.createElement("p",{className:"withdrawn-comment"})]}))):null,t?o.a.createElement("div",null,o.a.createElement("div",{className:"qa-answer-info-item"},o.a.createElement(U.Trans,{id:"<0>Status: </0>Failed",components:[o.a.createElement("span",{className:"info-label"})]}))):null)})),n.state={resetEnabled:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yoe(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.answer,r=e.i18n;return o.a.createElement("div",{className:"qa-answer-container"},o.a.createElement(Sa.a,{id:"answer-selection-"+n.dbId,name:"answer-selection[]",label:"",ariaLabel:r._("Answer Selection"),onChange:t}),this.getVideoContainer(),this.getInformationContainer())}}])&&Woe(n.prototype,r),a&&Woe(n,a),t}(a.Component);Xoe.propTypes={answer:c.a.object.isRequired,onChange:c.a.func,activityId:c.a.number,termClassId:c.a.number};var Joe=Object(U.withI18n)()(Xoe);function Zoe(e){return(Zoe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $oe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function eie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tie(e){return(tie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nie(e,t){return(nie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oie=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=tie(t).call(this,e),n=!a||"object"!==Zoe(a)&&"function"!==typeof a?rie(r):a,aie(rie(rie(n)),"onSubmit",(function(){if(n.props.onSubmit){var e=n.state.selectedAnswers;n.props.onSubmit(e)}})),aie(rie(rie(n)),"onSelectionChange",(function(e,t){var r=n.state.selectedAnswers;if(e)n.setState({selectedAnswers:[].concat($oe(r),[t.dbId])});else{var a=$oe(r);O.a.remove(a,(function(e){return+e===+t.dbId})),n.setState({selectedAnswers:a})}})),n.state={resetEnabled:!1,selectedAnswers:[]},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nie(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.onCancel,r=t.className,a=t.visible,i=t.answers,c=t.isLoading,s=t.i18n,u=t.match.params,l=u.activityId,d=u.classId,f=this.state.selectedAnswers,p=[o.a.createElement(we.b,{id:"button-qa-reset-dialog-cancel",secondary:!0,ariaLabel:s._("Cancel"),enabled:!c,onClick:n},o.a.createElement(U.Trans,{id:"Cancel"})),o.a.createElement(we.b,{id:"button-qa-reset-dialog-reset",primary:!0,ariaLabel:s._("Reset"),enabled:!c&&f.length>0,isLoading:c,onClick:this.onSubmit},o.a.createElement(U.Trans,{id:"Reset"}))];return o.a.createElement(mb.a,{actions:p,dialogClassName:E()("qa-answer-dialog",r),id:"qa-answer-dialog",title:s._("Reset Submission Answers"),modal:!0,visible:a},o.a.createElement("div",{className:"qa-answer-dialog-contents"},i.map((function(t){return o.a.createElement(Joe,{activityId:+l,termClassId:+d,key:"qa-answer-"+t.dbId,onChange:function(n){e.onSelectionChange(n,t)},answer:t})}))))}}])&&eie(n.prototype,r),a&&eie(n,a),t}(a.Component);oie.defaultProps={isLoading:!1,visible:!1},oie.propTypes={answers:c.a.array.isRequired,isLoading:c.a.bool,onCancel:c.a.func,onSubmit:c.a.func,visible:c.a.bool};var iie=Object(y.k)(Object(U.withI18n)()(oie)),cie=n("OKyo"),sie=n.n(cie);function uie(){return(uie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lie(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function die(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function fie(e){var t=e.activityName,n=e.activityType,r=e.dueDate,i=e.i18n,c=e.onResetQAAnswers,s=e.qaAnswers,u=die(Object(a.useState)(!1),2),l=u[0],d=u[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:sie.a.detailsHeader},o.a.createElement("div",{className:sie.a.headerInfo},o.a.createElement("h1",{className:sie.a.headerTitle},t),o.a.createElement("div",{className:sie.a.detailsContainer},o.a.createElement("div",{className:sie.a.activityInfo},o.a.createElement("div",{className:sie.a.infoItem},o.a.createElement(Gee,{type:n})),fe.a.isDueDateVisible()&&r&&o.a.createElement("div",{className:sie.a.infoItem},o.a.createElement("span",{className:sie.a.infoItemLabel,"aria-label":i._("Due Date")},o.a.createElement(U.Trans,{id:"Due Date:"})," ",o.a.createElement(oa.b,{unixTime:r})))))),o.a.createElement("div",{className:sie.a.headerActions},function(){if(!fe.a.isResetSubmissionVisible())return null;function e(e){return t.apply(this,arguments)}function t(){var e;return e=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(d(!0),n=[],r=function(e){n.push(O.a.find(s,(function(n){return n.dbId===t[e]})))},a=0;a<t.length;a++)r(a);return e.next=6,c(O.a.compact(n));case 6:dt.a.closeModal(),d(!1);case 8:case"end":return e.stop()}}),e,this)})),(t=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){lie(o,r,a,i,c,"next",e)}function c(e){lie(o,r,a,i,c,"throw",e)}i(void 0)}))}).apply(this,arguments)}var n=i._("Reset Submission");return o.a.createElement("div",null,o.a.createElement(we.d,uie({},le.b.submission.reset,{onClick:function(){dt.a.showModal(o.a.createElement(iie,{visible:!0,answers:s,onSubmit:e,onCancel:dt.a.closeModal,isLoading:l}))},ariaLabel:n,tooltip:{label:n}}),re.a.REPLAY))}())))}fie.propTypes={activityName:c.a.string.isRequired,activityType:c.a.string.isRequired,dueDate:c.a.number,i18n:c.a.object.isRequired,onResetQAAnswers:c.a.func,qaAnswers:c.a.array};var pie=Object(U.withI18n)()(o.a.memo(fie));function mie(e){var t=e.activityData,n=e.onResetQAAnswers,r=e.onScoreSaved,a=t.peerReviewType,i=t.dataForOneStudent,c=t.gradeType,s=t.name,u=t.type,l=t.submitDueAt||null,d=ty.a.RUBRIC===c,f=O.a.get(i,"result"),p=O.a.get(i,"qaAnswers"),m=Boolean(a);return o.a.createElement(o.a.Fragment,null,o.a.createElement(pie,{activityName:s,activityType:u,dueDate:l,onResetQAAnswers:n,qaAnswers:p}),o.a.createElement(xre,null),d&&f&&o.a.createElement(aae,{onScoreSaved:r}),f&&o.a.createElement(Voe,null),m&&o.a.createElement(gne,{onScoreSaved:r}))}mie.propTypes={activityData:c.a.object.isRequired,onResetQAAnswers:c.a.func.isRequired,onScoreSaved:c.a.func};var bie=o.a.memo(mie);function yie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var vie=Object(U.withI18n)()((function(e){var t=yie(W9(),2),n=t[0],r=t[1],i=n.selectedUser,c=i.dataForOneStudent,s=i.type,u=O.a.get(c,"result.submitter.dbId"),l=Object(a.useCallback)((function(){r.resetSubmission(u)}),[u]),d=Object(a.useCallback)((function(e){r.resetQAAnswers(u,e,!0)}),[u]),f=Object(a.useCallback)((function(e){r.updateGradeData(u,e)}),[u]),p=Object(a.useCallback)((function(e,t){r.updateGradeDataForGroupMember(e,t)}),[u]),m=Object(a.useCallback)((function(){r.reloadActivityData()}),[u]);return function(){switch(s){case Wu.b.INDIVIDUAL_PROJECT:return o.a.createElement(Roe,{activityData:i,onResetSubmission:l,onScoreSaved:f});case Wu.b.INTERACTIVE_VIDEO:return o.a.createElement(qoe,{activityData:i,onResetSubmission:l,onScoreSaved:f});case Wu.b.GROUP_PRESENTATION:return o.a.createElement(woe,{activityData:i,onResetSubmission:l,onRubricScorePublished:m,onGroupMemberGradeSaved:p,onScoreSaved:f});case Wu.b.QA_ENHANCED:return o.a.createElement(bie,{activityData:i,onResetQAAnswers:d,onScoreSaved:f});default:throw new Error("Grading type not supported")}}()})),hie=n("Y3v4"),gie=n.n(hie);function Eie(e){var t=e.selectedUserData;if(e.loading||!t)return o.a.createElement(te.a,{loading:!0});var n=Boolean(O.a.get(t,"dataForOneStudent.result.submittedAt"));return o.a.createElement("div",{className:gie.a.detailsContainer},n?o.a.createElement(vie,null):o.a.createElement(cte,null))}Eie.defaultProps={loading:!0},Eie.propTypes={loading:c.a.bool,selectedUserData:c.a.object};var wie=o.a.memo(Eie),Oie=n("wKwc"),Sie=n.n(Oie);function Cie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _ie(e){switch(e){case S9.SMALL:return Sie.a.small;case S9.XSMALL:return Sie.a.xsmall;case S9.LARGE:return Sie.a.large;default:return null}}var Iie=function(){var e=Object(y.i)(),t=e.activityId,n=e.classId,r=e.learnerId,i=+t,c=+n,u=+r,l=Cie(W9(),2),d=l[0],f=l[1],p=d.activityData,m=d.userLoading,b=d.selectedUser,v=p.name,h=p.type,g=Object(s.c)(dy.c),w=N9.getViewModeForViewportSize(g),O=Object(s.c)(de.h);Object(a.useEffect)((function(){b&&u===!b.id||f.fetchUserData(i,u)}),[u]),Object(a.useEffect)((function(){return function(){f.clearSelectedUserData(),f.applySortAndFilters()}}),[]);var S=null;return O&&(S=o.a.createElement(Nee,{selectedUserId:u})),o.a.createElement(ge,{className:E()(Sie.a.userDetailsPage),leftContent:S,leftContentClassName:_ie(w),headerContent:o.a.createElement(mx,{className:Sie.a.overviewToolbar,activityData:p,activityName:v,activityType:h,context:JA.a.ACTIVITY_OVERVIEW,classId:c,menuActions:[]})},o.a.createElement(wie,{selectedUserData:b,loading:m}))},Tie=n("X00r"),Rie=n.n(Tie);function Pie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Aie(e){switch(e){case S9.SMALL:return Rie.a.small;case S9.XSMALL:return Rie.a.xsmall;case S9.LARGE:return Rie.a.large;default:return null}}var Nie=function(){var e=Object(y.i)(),t=e.activityId,n=e.classId,r=e.learnerId,i=+t,c=+n,u=+r,l=Pie(W9(),2),d=l[0],f=l[1],p=d.activityData,m=d.userLoading,b=d.selectedUser,v=p.name,h=p.type,g=Object(s.c)(dy.c),w=N9.getViewModeForViewportSize(g),O=Object(s.c)(de.h);Object(a.useEffect)((function(){b&&u===!b.id||f.fetchUserData(i,u)}),[u]),Object(a.useEffect)((function(){return function(){f.clearSelectedUserData(),f.applySortAndFilters()}}),[]);var S=null;return O&&(S=o.a.createElement(Nee,{selectedUserId:u})),o.a.createElement(ge,{className:E()(Rie.a.userDetailsPage),leftContent:S,leftContentClassName:Aie(w),headerContent:o.a.createElement(mx,{className:Rie.a.overviewToolbar,activityData:p,activityName:v,activityType:h,context:JA.a.ACTIVITY_OVERVIEW,classId:c,menuActions:[]})},o.a.createElement(wie,{selectedUserData:b,loading:m}))};function jie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var kie=function(){return jie(W9(),1)[0].activityType===Wu.b.GROUP_PRESENTATION?o.a.createElement(Nie,null):o.a.createElement(Iie,null)},Die=n("7hjy"),Lie=n.n(Die);function Mie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Fie=function(e){var t=e.component,n=e.className,r=e.type,a=xie(e,["component","className","type"]),i=[Lie.a.bongoShape];switch(r){case"outlined":i.push(Lie.a.bongoShapeOutlined);break;default:case"filled":i.push(Lie.a.bongoShapeFilled)}i.push(n);var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Mie(e,t,n[t])}))}return e}({},a,{className:E()(i)});return o.a.createElement(t,c)};Fie.propTypes={component:c.a.any.isRequired,className:c.a.string,type:c.a.oneOf(["filled","outlined"])};var Uie=Fie;function Vie(){return(Vie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Gie=o.a.createElement("defs",null,o.a.createElement("path",{id:"bongo-shape-arrowhead",d:"M0,0 L12,12 L0,24 Z"}),o.a.createElement("clipPath",{id:"bongo-shape-arrowhead-clip"},o.a.createElement("use",{xlinkHref:"#bongo-shape-arrowhead"}))),qie=o.a.createElement("g",{className:"arrowhead"},o.a.createElement("use",{xlinkHref:"#bongo-shape-arrowhead",clipPath:"url(#bongo-shape-arrowhead-clip)"}));n.p;function Bie(){return(Bie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Wie=o.a.createElement("defs",null,o.a.createElement("path",{id:"bongo-shape-arrowtail",d:"M0,0 L12,0 L12,24 L0,24 L12,12 Z"}),o.a.createElement("clipPath",{id:"bongo-shape-arrowtail-clip"},o.a.createElement("use",{xlinkHref:"#bongo-shape-arrowtail"}))),Qie=o.a.createElement("g",{className:"arrowtail"},o.a.createElement("use",{xlinkHref:"#bongo-shape-arrowtail",clipPath:"url(#bongo-shape-arrowtail-clip)"}));n.p;function Yie(){return(Yie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Hie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"filled",n=function(n){return o.a.createElement(Uie,Yie({},n,{type:t,component:e}))};return n},zie=Hie((function(e){return o.a.createElement("svg",Vie({width:"100%",viewBox:"0 0 12 24"},e),Gie,qie)})),Kie=Hie((function(e){return o.a.createElement("svg",Bie({width:"100%",viewBox:"0 0 12 24"},e),Wie,Qie)})),Xie=n("9OVz"),Jie=n.n(Xie);function Zie(){return(Zie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ece(e){var t=e.i18n,n=e.status,r=e.count,a=N9.getStatusLabel(n,t),i=N9.getStatusLabelWithCount(n,r,t),c="".concat(i,";");return o.a.createElement(Sg.b,{className:E()(Jie.a.legendItem,e.className),ariaLabel:c,label:N9.getTooltipMessageForStatus(n,t),position:Sg.b.POSITION.TOP,tabIndex:0},o.a.createElement("div",{className:Jie.a.legendItemArrow,"aria-hidden":!0},o.a.createElement(Kie,{className:Jie.a.legendItemArrowTail}),o.a.createElement("div",{className:Jie.a.legendItemArrowCenter},r),o.a.createElement(zie,{className:Jie.a.legendItemArrowHead})),o.a.createElement("div",{className:Jie.a.legendItemLabel,"aria-hidden":!0},a))}function tce(e){var t=e.i18n,n=$ie(W9(),1)[0].allUsers,r=$ie(Object(a.useState)(0),2),i=r[0],c=r[1],s=$ie(Object(a.useState)(0),2),u=s[0],l=s[1],d=$ie(Object(a.useState)(0),2),f=d[0],p=d[1],m=$ie(Object(a.useState)(0),2),b=m[0],y=m[1],v=$ie(Object(a.useState)(0),2),h=v[0],g=v[1],w=$ie(Object(a.useState)(0),2),O=w[0],S=w[1];Object(a.useEffect)((function(){var e=0,t=0,r=0,a=0,o=0,i=0;if(n)for(var s=0;s<n.length;s++)switch(n[s].status){case m9.NOT_VIEWED:e++;break;case m9.VIEWED:t++;break;case m9.IN_PROGRESS:r++;break;case m9.NEEDS_EVALUATION:a++;break;case m9.EVALUATED:o++;break;case m9.PUBLISHED:i++}c(e),l(t),p(r),y(a),g(o),S(i)}),[n]);var C={notViewedCount:i,viewedCount:u,inProgressCount:f,needsEvaluationCount:b,evaluatedCount:h,publishedCount:O};return o.a.createElement("section",Zie({},le.b.insights.progress.legend.q(C),{className:Jie.a.activityStatusLegend,"aria-label":t._("Learners by Status")}),o.a.createElement("div",{className:Jie.a.activityStatusLegendHalf},o.a.createElement(ece,{className:E()(Jie.a.legendItemNotViewed,Jie.a.legendItemFirst),i18n:t,status:m9.NOT_VIEWED,count:i}),o.a.createElement(ece,{className:Jie.a.legendItemViewed,i18n:t,status:m9.VIEWED,count:u}),o.a.createElement(ece,{className:Jie.a.legendItemInProgress,i18n:t,status:m9.IN_PROGRESS,count:f})),o.a.createElement("div",{className:Jie.a.activityStatusLegendHalf},o.a.createElement(ece,{className:Jie.a.legendItemNeedsEvaluation,i18n:t,status:m9.NEEDS_EVALUATION,count:b}),o.a.createElement(ece,{className:Jie.a.legendItemEvaluated,i18n:t,status:m9.EVALUATED,count:h}),o.a.createElement(ece,{className:E()(Jie.a.legendItemPublished,Jie.a.legendItemLast),i18n:t,status:m9.PUBLISHED,count:O})))}ece.propTypes={className:c.a.string,count:c.a.number,i18n:c.a.object.isRequired,status:c.a.string.isRequired},tce.propTypes={i18n:c.a.object.isRequired};var nce=Object(U.withI18n)()(tce),rce=n("UDbo"),ace=n("k+/p"),oce=n.n(ace);function ice(){return(ice=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var cce={cutoutPercentage:73,rotation:.5*Math.PI},sce={cutoutPercentage:73,responsive:!0,tooltips:{enabled:!1},hover:{mode:null},rotation:1*Math.PI,circumference:1*Math.PI,maintainAspectRatio:!0},uce={FULL:"full",HALF:"half"};function lce(e){var t=e.ariaLabel,n=e.data,r=e.height,a=e.primaryText,i=e.secondaryText,c=e.title,s=e.type,u=e.width,l=s===uce.FULL?cce:sce;return o.a.createElement("div",ice({},Object(le.j)(e),{className:oce.a.donutContainer,"aria-label":t}),o.a.createElement("span",{className:oce.a.donutTitle,"aria-hidden":!0},c),o.a.createElement("div",{className:oce.a.donutContents,"aria-hidden":!0},o.a.createElement(rce.a,{data:n,legend:{display:!1},width:u,height:r,options:l})),o.a.createElement("div",{className:oce.a.innerLabel,"aria-hidden":!0},o.a.createElement("span",{className:oce.a.primaryLabel},a),o.a.createElement("span",{className:oce.a.secondaryLabel},i)))}lce.CHART_TYPES=uce,lce.defaultProps={height:110,width:220},lce.propTypes={ariaLabel:c.a.string,data:c.a.object,height:c.a.number,primaryText:c.a.string,secondaryText:c.a.string,title:c.a.string,type:c.a.oneOf(Object.values(uce)).isRequired,width:c.a.number};var dce=lce,fce=n("5nXI"),pce=n.n(fce);function mce(){return(mce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function yce(e){var t=e.i18n,n=bce(W9(),1)[0].allUsers,r=bce(Object(a.useState)([]),2),i=r[0],c=r[1],s={labels:[t._("Published"),t._("Not Published")],datasets:[{data:i,backgroundColor:[pce.a["status-progress-bar"],pce.a["status-not-submitted"]]}]};return Object(a.useEffect)((function(){var e=0;if(n)for(var t=0;t<n.length;t++)switch(n[t].status){case m9.PUBLISHED:e++}c([e,n.length-e])}),[n]),o.a.createElement(dce,mce({},le.b.insights.progress.instructor.q({submittedCount:i[0],totalCount:n.length}),{data:s,title:t._("Instructor"),primaryText:"".concat(i[0],"/").concat(n.length),secondaryText:t._("Published"),ariaLabel:t._("{0} of {1} published.",{0:i[0],1:n.length}),type:dce.CHART_TYPES.HALF}))}yce.propTypes={i18n:c.a.object.isRequired};var vce=Object(U.withI18n)()(yce);function hce(){return(hce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ece(e){var t=e.i18n,n=gce(W9(),1)[0].allUsers,r=gce(Object(a.useState)([]),2),i=r[0],c=r[1],s={labels:[t._("Submitted"),t._("Not Submitted")],datasets:[{data:i,backgroundColor:[pce.a["status-progress-bar"],pce.a["status-not-submitted"]]}]};return Object(a.useEffect)((function(){var e=0;if(n)for(var t=0;t<n.length;t++)switch(n[t].status){case m9.NEEDS_EVALUATION:case m9.EVALUATED:case m9.PUBLISHED:e++}c([e,n.length-e])}),[n]),o.a.createElement(dce,hce({},le.b.insights.progress.learner.q({submittedCount:i[0],totalCount:n.length}),{data:s,title:t._("Learner"),primaryText:"".concat(i[0],"/").concat(n.length),secondaryText:t._("Submitted"),ariaLabel:t._("{0} of {1} submitted.",{0:i[0],1:n.length}),type:dce.CHART_TYPES.HALF}))}Ece.propTypes={i18n:c.a.object.isRequired};var wce=Object(U.withI18n)()(Ece);function Oce(){return o.a.createElement("div",{className:pce.a.overviewContainer},o.a.createElement("div",{className:pce.a.overviewProgress},o.a.createElement(wce,null),o.a.createElement(vce,null)),o.a.createElement(nce,null))}var Sce=n("0mBp"),Cce=n.n(Sce);function _ce(){return(_ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ice(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Tce="activity-overview-insights-heading";function Rce(e){var t=e.i18n,n=Ice(Object(a.useState)(0),2),r=n[0],i=n[1],c=[{title:t._("Progress"),component:o.a.createElement(Oce,null)}],s=t._("Insights - {0}",{0:c[r].title});return o.a.createElement(Uc,_ce({},le.b.insights.container,{className:Cce.a.dashboardContainer,focusable:!0,ariaLabelledBy:Tce}),o.a.createElement("div",{className:Cce.a.headerContainer},o.a.createElement("h3",{id:Tce,className:Cce.a.headerLabel},s)),o.a.createElement("div",{className:Cce.a.dashboardContents},c.length>1&&o.a.createElement(we.d,_ce({},le.b.insights.previous,{id:"activity-overview-dashboard-previous-button",className:Cce.a.previousButton,enabled:c.length>1&&r>=1,tooltip:{label:t._("Previous")},ariaLabel:t._("Previous"),onClick:function(){i(r-1)}}),re.a.LEFT),c[r].component,c.length>1&&o.a.createElement(we.d,_ce({},le.b.insights.next,{id:"activity-overview-dashboard-next-button",className:Cce.a.nextButton,enabled:c.length>1&&r<c.length-1,onClick:function(){i(r+1)},tooltip:{label:t._("Next")},ariaLabel:t._("Next")}),re.a.RIGHT)))}Rce.propTypes={i18n:c.a.object.isRequired};var Pce=Object(U.withI18n)()(Rce),Ace=n("ZwbG"),Nce=n.n(Ace);function jce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function kce(e){var t=jce(W9(),1)[0].activityData,n=e.i18n,r=e.actions;if(!t)return null;var a=t.name,i=t.submitDueAt,c=t.type,s=i||null;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:E()(Nce.a.activityOverviewHeader)},o.a.createElement("div",{className:Nce.a.titleContainer},o.a.createElement("h1",{className:Nce.a.title},a)),o.a.createElement("div",{className:Nce.a.detailsContainer},o.a.createElement("div",{className:Nce.a.activityInfoContainer},o.a.createElement("div",{className:Nce.a.infoItem},o.a.createElement(Gee,{type:c})),s&&o.a.createElement("div",{className:Nce.a.infoItem},o.a.createElement("span",{className:Nce.a.infoItemLabel,"aria-label":n._("Due Date")},o.a.createElement(U.Trans,{id:"Due Date:"})," ",o.a.createElement(oa.b,{unixTime:s})))),o.a.createElement("div",{className:Nce.a.actionsContainer},r))))}kce.propTypes={actions:c.a.node};var Dce=Object(U.withI18n)()(kce),Lce=n("n9mc"),Mce=n.n(Lce);function xce(){return(xce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fce(e){var t=e.enabled,n=e.i18n,r=e.onChange,a=e.rowViewMode,i=[o.a.createElement(Au.c,{id:"user-list-view-menu--compact-view",key:"compact-view",primaryText:n._("Compact View"),leftNodeClassName:E()(Mce.a.leftIcon,a===C9.COMPACT&&Mce.a.active),leftIcon:o.a.createElement(zc.a,null,re.a.CHECK),onClick:function(){r(C9.COMPACT)}}),o.a.createElement(Au.c,{id:"user-list-view-menu--details-view",key:"details-view",primaryText:n._("Details View"),leftIcon:o.a.createElement(zc.a,null,re.a.CHECK),leftNodeClassName:E()(Mce.a.leftIcon,a===C9.DETAILS&&Mce.a.active),onClick:function(){r(C9.DETAILS)}})];return o.a.createElement(we.f,xce({},le.b.learners.viewMode,{id:"user-list-view-menu",ariaLabel:n._("View Mode"),enabled:t,menuItems:i,anchor:{x:we.f.HorizontalAnchors.INNER_RIGHT,y:we.f.VerticalAnchors.BOTTOM}}),re.a.MENU)}Fce.defaultProps={enabled:!0},Fce.propTypes={enabled:c.a.bool,i18n:c.a.object.isRequired,onChange:c.a.func.isRequired,rowViewMode:c.a.string.isRequired};var Uce=Object(U.withI18n)()(Fce),Vce=n("lwGG"),Gce=n.n(Vce);function qce(){return(qce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Wce(e){var t=e.i18n,n=Bce(W9(),2),r=n[0],i=n[1],c=r.userListSearchValue,s=Bce(Object(a.useState)(!1),2),u=s[0],l=s[1];return Object(a.useEffect)((function(){l(Boolean(O.a.trim(c)))}),[c]),o.a.createElement(Sa.i,qce({},le.b.learners.search,{id:"user-list-search-input",className:E()(Gce.a.searchInput,u&&Gce.a.hasValue),inlineIndicator:u?o.a.createElement(we.d,qce({},le.b.learners.searchClear,{id:"button-gradebook-search-clear",ariaLabel:t._("Clear input, icon"),className:Gce.a.clearButton,onClick:function(){i.updateUserListSearchValue("")}}),re.a.CLOSE):null,leftIcon:o.a.createElement(zc.a,{className:Gce.a.searchInputLeftIcon},re.a.SEARCH),onChange:i.updateUserListSearchValue,placeholder:t._("Search..."),value:r.userListSearchValue}))}Wce.propTypes={i18n:c.a.object.isRequired};var Qce=Object(U.withI18n)()(Wce),Yce=n("7vKE"),Hce=n.n(Yce);n("0hpU");function zce(){return(zce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kce(e){var t=e.activityType,n=e.autoAnalysisEnabled,r=e.i18n,a=e.onSortChange,i=e.onSortDirectionChange,c=e.userListSortField,s=e.userListSortAscending,u=[o.a.createElement(pv.a,{id:"user-list-sort-option[name]",key:"name",primaryText:r._("Name"),onClick:function(){a(T9.NAME)}}),o.a.createElement(pv.a,{id:"user-list-sort-option[status]",key:"status",primaryText:r._("Status"),onClick:function(){a(T9.STATUS)}}),o.a.createElement(pv.a,{id:"user-list-sort-option[score]",key:"score",primaryText:r._("Score"),onClick:function(){a(T9.SCORE)}})];return t===Wu.b.GROUP_PRESENTATION&&u.splice(1,0,o.a.createElement(pv.a,{id:"user-list-sort-option[group-name]",key:"group-name",primaryText:r._("Group Name"),onClick:function(){a(T9.GROUP_NAME)}})),n&&u.push(o.a.createElement(pv.a,{id:"user-list-sort-option[auto-analysis]",key:"auto-analysis",primaryText:r._("Auto Analysis\\u2122"),onClick:function(){a(T9.AUTO_ANALYSIS_SCORE)}})),o.a.createElement("div",{className:E()(Hce.a.userListSortContainer,"inked-button")},o.a.createElement("div",{className:"md-ink-container button-ink-overlay"}),o.a.createElement(hp.a,zce({},le.b.learners.sortDirection,{className:E()(Hce.a.sortDirectionButton,"inked-button",s?Hce.a.asc:Hce.a.desc),"aria-label":r._("Sort Direction"),id:"user-list-sort-direction",onClick:function(){i(!s)}}),o.a.createElement(hp.v,null,re.a.SORT),o.a.createElement("div",{className:"md-ink-container button-ink-overlay"})),o.a.createElement(hp.q,{id:"user-list-sort-option-dropdown-menu",className:E()(Hce.a.dropDownMenu),anchor:{x:hp.q.HorizontalAnchors.INNER_LEFT,y:hp.q.VerticalAnchors.BOTTOM},simplifiedMenu:!1,menuItems:u},o.a.createElement(hp.a,zce({},le.b.learners.sortField,{className:E()(Hce.a.dropDownButtonContainer,"inked-button"),"aria-label":r._("Sort Field")}),o.a.createElement("span",{className:Hce.a.dropDownLabel},function(e){switch(e){case T9.NAME:return r._("Name");case T9.STATUS:return r._("Status");case T9.SCORE:return r._("Score");case T9.AUTO_ANALYSIS_SCORE:return r._("Auto Analysis\\u2122");case T9.GROUP_NAME:return r._("Group Name");default:return""}}(c)),o.a.createElement(hp.v,null,re.a.ARROW_DOWN),o.a.createElement("div",{className:"md-ink-container button-ink-overlay"}))))}Kce.propTypes={activityType:c.a.string.isRequired,autoAnalysisEnabled:c.a.bool.isRequired,i18n:c.a.object.isRequired,onSortChange:c.a.func.isRequired,onSortDirectionChange:c.a.func.isRequired,userListSortField:c.a.object.isRequired,userListSortAscending:c.a.bool.isRequired};var Xce=Object(U.withI18n)()(Object(a.memo)(Kce)),Jce=n("+ytj"),Zce=n.n(Jce);n("s0JW");function $ce(){return($ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ese(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function tse(e){var t=e.className,n=e.i18n,r=ese(W9(),2),a=r[0],i=r[1],c=a.userListFilters.status;return o.a.createElement("div",{className:E()(Zce.a.statusFilterContainer,t)},o.a.createElement(hp.q,{id:"status-filter-option-dropdown-menu",anchor:{x:hp.q.HorizontalAnchors.INNER_LEFT,y:hp.q.VerticalAnchors.BOTTOM},className:E()(Zce.a.dropDownMenu),simplifiedMenu:!1,menuItems:O.a.map(m9,(function(e,t){return n=e,o.a.createElement(hp.A,{id:"user-list-status-filter-option[".concat(n,"]"),className:"filter-status-item",key:n,primaryAction:o.a.createElement(Sa.a,{id:"user-list-status-filter-option[".concat(n,"]--checkbox"),name:"user-list-status-filter-option[".concat(n,"]"),label:o.a.createElement(E6,{status:n}),checked:c.includes(n),onChange:function(){i.toggleStatusFilterOption(n)}})});var n}))},o.a.createElement(hp.a,$ce({},le.b.learners.statusFilter,{className:E()(Zce.a.dropDownButtonContainer,"inked-button"),"aria-label":n._("Status Filter")}),o.a.createElement("span",{className:Zce.a.dropDownLabel},function(){var e=O.a.map(c,(function(e){if(e)return N9.getStatusLabel(e,n)})),t=0===e.length?n._("All"):e.join(", ");return n._("Status: {selectedStatus}",{selectedStatus:t})}()),o.a.createElement(Oe.a,null,re.a.ARROW_DOWN),o.a.createElement("div",{className:"md-ink-container button-ink-overlay"}))))}tse.propTypes={className:c.a.string,i18n:c.a.object.isRequired};var nse=Object(U.withI18n)()(tse),rse=n("eEXS"),ase=n.n(rse);function ose(){return(ose=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ise(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var cse="activity-overview-learners-list-heading";function sse(e){switch(e){case S9.SMALL:return ase.a.small;case S9.XSMALL:return ase.a.compact;case S9.LARGE:return ase.a.large;default:return null}}function use(e){var t=Object(s.c)(dy.c),n=ise(Object(a.useState)(""),2),r=n[0],i=n[1],c=ise(W9(),2),u=c[0],l=c[1],d=Object(y.h)(),f=Object(y.i)(),p=f.activityId,m=f.classId,b=e.i18n,v=u.activityData,h=u.activityType,g=u.userCount,w=u.users,S=u.userListRowMode,C=u.userListSortField,_=u.userListSortAscending,I=v||{},T=I.autoAnalysisEnabled,R=I.isFiveStarPeerReviewEnabled,P=I.isRubricReviewEnabled,A=I.gradeType,N=I.type,j=I.qaSettings,k=N9.getViewModeForViewportSize(t),D=g;function L(e){var t=Object(y.f)("".concat(M4.ACTIVITY_OVERVIEW,"/learner/:learnerId"),{activityId:p,classId:m,learnerId:e});d.push(t)}return g!==w.length&&(D=b._("{0} of {userCount}",{0:w.length,userCount:g})),o.a.createElement(Uc,ose({},le.b.learners.container,{className:ase.a.activityOverviewUsersContainer,focusable:!0,ariaLabelledBy:cse}),o.a.createElement("div",{className:ase.a.header},o.a.createElement("div",{className:ase.a.headerTitleContainer},o.a.createElement("h3",{id:cse,className:ase.a.headerTitle},b._("Learners"),"\xa0",o.a.createElement("span",{className:ase.a.userCountMessage},"(".concat(D,")"))))),o.a.createElement("div",{className:E()(ase.a.userListContainer,sse(k))},o.a.createElement("div",{className:ase.a.userListHeader},o.a.createElement("div",{className:ase.a.left},o.a.createElement(Xce,{activityType:h,autoAnalysisEnabled:T,onSortChange:function(e){l.updateUserListSortField(e)},onSortDirectionChange:function(e){l.updateUserListSortAscending(e)},userListSortField:C,userListSortAscending:_}),o.a.createElement(nse,null)),o.a.createElement("div",{className:ase.a.right},o.a.createElement(Qce,{value:r,onChange:function(e){i(e)}}),o.a.createElement(Uce,{enabled:h!==Wu.b.INTERACTIVE_VIDEO||R||P,rowViewMode:S,onChange:l.updateUserListRowMode}))),o.a.createElement("div",ose({role:"list"},le.b.learners.list,{className:E()(ase.a.userList,"mainUserList"),"aria-label":b._("Learners")}),O.a.isEmpty(w)&&o.a.createElement("div",{className:ase.a.emptyListContainer},o.a.createElement("span",{className:ase.a.emptyMessage},b._("No Learners Found"))),w.map((function(e,n){return o.a.createElement(See,{key:"_user_".concat(e.id),activityType:N,autoAnalysisEnabled:T,isFiveStarReviewEnabled:R,isRubricReviewEnabled:P,gradeType:A,user:e,onSelection:L,qaSettings:j,rowViewMode:S,viewMode:O9.MAIN,viewSize:N9.getViewModeForViewportSize(t)})})))))}use.propTypes={i18n:c.a.object.isRequired};var lse=Object(U.withI18n)()(use),dse=n("cDuf"),fse=n.n(dse);function pse(){return(pse=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mse(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function bse(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mse(o,r,a,i,c,"next",e)}function c(e){mse(o,r,a,i,c,"throw",e)}i(void 0)}))}}function yse(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function vse(e){var t=e.className,n=e.onPublishScores,r=e.users,i=e.i18n,c=yse(Object(a.useState)(0),2),s=c[0],u=c[1],l=yse(Object(a.useState)(""),2),d=l[0],f=l[1];return Object(a.useEffect)((function(){var e=O.a.filter(r,(function(e){return e.status===m9.EVALUATED})),t=e?e.length:0;u(t),f(t>0?i._("Publish and make scores available for content that has been evaluated."):i._("Once you have evaluated the learner's content, you can publish the scores here."))}),[r]),o.a.createElement(we.h,pse({},le.b.publishScores,{className:E()(fse.a.publishScoresButton,t),enabled:s>0,tooltip:{label:d},primary:!0,onClick:function(){dt.a.showModal(o.a.createElement(Db,{id:"publish-scores-dialog",description:i._("This will publish scores to the learning platform and make scores available to the learners. Are you sure you want to publish the scores?"),cancelLabel:i._("No"),confirmLabel:i._("Yes, Publish Scores"),title:i._("Publish Scores"),onConfirm:bse(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:ft.a.addSuccess(i._("Evaluated submissions have been published.")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ft.a.addSuccess(i._("Failed to publish scores"));case 9:case"end":return e.stop()}}),e,this,[[0,6]])})))}))}}),i._("Publish Scores ({evaluatedCount})",{evaluatedCount:s}))}vse.propTypes={className:c.a.string,users:c.a.array.isRequired,i18n:c.a.object.isRequired,onPublishScores:c.a.func.isRequired};var hse=Object(U.withI18n)()(vse),gse=n("1VlW"),Ese=n.n(gse);function wse(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Ose(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){wse(o,r,a,i,c,"next",e)}function c(e){wse(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Sse(){return(Sse=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Cse(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _se(e){var t=e.i18n,n=Object(y.i)().classId,r=Cse(W9(),2),a=r[0],i=r[1],c=a.activityData,s=a.allUsers,u=c||{},l=u.commentsReportUrl,d=u.gradeReportUrl,f=u.name,p=u.type;return o.a.createElement(ge,{className:E()(Ese.a.overviewSummary),headerContent:o.a.createElement(mx,{className:Ese.a.overviewToolbar,activityData:c,activityName:f,activityType:p,context:JA.a.ACTIVITY_OVERVIEW,classId:+n,menuActions:[]})},o.a.createElement("div",{className:Ese.a.contentContainer},o.a.createElement(Dce,{actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(we.f,Sse({},le.b.export,{id:"export-data-menu-button",ariaLabel:t._("Export"),enabled:s.length>0,icon:!1,primary:!0,flat:!0,className:Ese.a.exportButton,iconChildren:re.a.DOWNLOAD,iconBefore:!0,anchor:{x:we.f.HorizontalAnchors.INNER_LEFT,y:we.f.VerticalAnchors.BOTTOM},menuItems:[o.a.createElement(pv.a,{key:"download_comments_report",primaryText:t._("Comments"),enabled:!!l,onClick:function(){window.open(l)}}),o.a.createElement(pv.a,{key:"download-scores-report",primaryText:t._("Scores"),enabled:!!d,onClick:function(){window.open(d)}})]}),t._("Export...")),fe.a.isDraftGradingAllowed()&&o.a.createElement(hse,{users:s,onPublishScores:Ose(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.publishScores();case 2:case"end":return e.stop()}}),e,this)})))}))}),o.a.createElement(Pce,null),o.a.createElement(lse,null)))}_se.propTypes={i18n:c.a.object.isRequired};var Ise=Object(U.withI18n)()(_se),Tse=n("t080"),Rse=n.n(Tse);function Pse(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Ase(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Pse(o,r,a,i,c,"next",e)}function c(e){Pse(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Nse(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function jse(){return(jse=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kse(e,t,n,r,a){var i=TM.GRADEBOOK,c="".concat(window.location.origin,"/educator/activity/").concat(e,"/student-groups/?ref=").concat(i);return r&&(c+="&lti-scope=".concat(r)),o.a.createElement(we.b,{id:"button-activity-overview-manage-groups",enabled:n,className:Rse.a.manageGroupsButton,primary:!0,iconEl:o.a.createElement(zc.a,null,re.a.GROUP),onClick:function(){dt.a.showModal(o.a.createElement(lM,{activityId:e,activityName:t,groupFormationUrl:c}))}},a._("Manage groups"))}function Dse(e){var t=e.i18n,n=Object(y.i)().classId,r=Nse(W9(),2),a=r[0],i=r[1],c=a.activityData,s=a.allUsers,u=a.config,l=a.institution,d=a.userLocale,f=c||{},p=f.commentsReportUrl,m=f.gradeReportUrl,b=f.name,v=f.type;return o.a.createElement(ge,{className:E()(Rse.a.overviewSummary),headerContent:o.a.createElement(mx,{className:Rse.a.overviewToolbar,activityData:c,activityName:b,activityType:v,context:JA.a.ACTIVITY_OVERVIEW,classId:+n,menuActions:[]})},o.a.createElement("div",{className:Rse.a.contentContainer},o.a.createElement(Dce,{actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(we.f,jse({},le.b.export,{id:"export-data-menu-button",ariaLabel:t._("Export"),enabled:s.length>0,icon:!1,primary:!0,flat:!0,className:Rse.a.exportButton,iconChildren:re.a.DOWNLOAD,iconBefore:!0,anchor:{x:we.f.HorizontalAnchors.INNER_LEFT,y:we.f.VerticalAnchors.BOTTOM},menuItems:[o.a.createElement(pv.a,{key:"download_comments_report",primaryText:t._("Comments"),enabled:!!p,onClick:function(){window.open(p)}}),o.a.createElement(pv.a,{key:"download-scores-report",primaryText:t._("Scores"),enabled:!!m,onClick:function(){window.open(m)}})]}),t._("Export...")),fe.a.isDraftGradingAllowed()&&o.a.createElement(hse,{users:s,onPublishScores:Ase(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.publishScores();case 2:case"end":return e.stop()}}),e,this)})))}))}),function(e,t,n,r,a){var i=e.executorsType,c=e.groupsFormedAt,s=e.groupsFormationFinalizeAt,u=e.name,l=e.studentGroups,d=e.dbId,f=l&&l.length>0,p=i===Rd.a.EDUCATOR_FORMED,m=a._("Groups can be managed by selecting the menu above. Advanced group configuration options are available on the Configure screen."),b=a._("No Groups Created"),y=null;if(!f)if(p||c){var v=!Sc.a(n)||e&&e.cengageSettings&&e.cengageSettings.inPath,h=O.a.get(t,"ltiScope");y=o.a.createElement(Ee.b,jse({},le.b.note.noGroupsCreated,{type:Ee.b.NOTE_TYPES.WARNING,title:b,message:o.a.createElement("div",{className:Rse.a.noteMessage},o.a.createElement("span",null,m),o.a.createElement("div",{className:Rse.a.manageGroupsButtonContainer},kse(d,u,v,h,a)))}))}else{var g=Object(Pf.e)(new Date(1e3*s),ia.a.SHORT,Object(Zi.e)(r));y=o.a.createElement(Ee.b,jse({},le.b.note.groupsNotFinalized,{type:Ee.b.NOTE_TYPES.INFO,title:a._("Groups Not Finalized"),message:o.a.createElement("div",{className:Rse.a.noteMessage},o.a.createElement("span",null,a._("Activity Overview will be available once groups are finalized.")),o.a.createElement("span",null,a._("Groups will be finalized at: {finalizedAtDate}.",{finalizedAtDate:g})))}))}return y?o.a.createElement("div",{className:Rse.a.noteContainer},y):null}(c,u,l,d,t),o.a.createElement(lse,null)))}Dse.propTypes={i18n:c.a.object.isRequired};var Lse=Object(U.withI18n)()(Dse);function Mse(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xse=function(e){return Mse(W9(),1)[0].activityType===Wu.b.GROUP_PRESENTATION?o.a.createElement(Lse,null):o.a.createElement(Ise,null)};function Fse(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Use=function(e){var t=Object(y.i)().activityId,n=Object(y.j)().path,r=Fse(W9(),2),i=r[0],c=r[1],s=i.fetchingActivityData,u=i.loadingPage;return Object(a.useEffect)((function(){c.loadPage(+t)}),[]),u?o.a.createElement(te.a,{loading:!0}):o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{loading:s}),o.a.createElement(y.d,null,o.a.createElement(y.b,{path:"".concat(n,"/learner/:learnerId"),component:kie}),o.a.createElement(y.b,{component:xse})))};function Vse(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.d,null,o.a.createElement(y.b,{path:L4.EDUCATOR_CREATE_INDIVIDUAL_ACTIVITY,component:RB}),o.a.createElement(y.b,{path:L4.EDUCATOR_CREATE_GROUP_ACTIVITY,component:hB}),o.a.createElement(y.b,{path:L4.EDUCATOR_CREATE_QA_ACTIVITY,component:nW}),o.a.createElement(y.b,{path:M4.ACTIVITY_OVERVIEW,component:Use})))}var Gse=n("3psO"),qse=n.n(Gse);function Bse(e){return(Bse="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wse(){return(Wse=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yse(e,t){return!t||"object"!==Bse(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hse(e){return(Hse=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zse(e,t){return(zse=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kse=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yse(this,Hse(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zse(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.label,r=e.icon,a=e.iconClassName,i=e.description,c=e.enabled,s=e.onClick,u=o.a.createElement("div",{className:qse.a.optionButtonTop},o.a.createElement("div",{className:qse.a.optionButtonLabel},n),o.a.createElement(Oe.a,{className:E()(qse.a.optionButtonIcon,a)},r)),l=null;return i&&(l=o.a.createElement("div",{className:qse.a.optionButtonBottom},o.a.createElement("div",{className:qse.a.optionButtonDescription},i))),o.a.createElement(we.b,Wse({},Object(le.j)(this.props),{className:E()(qse.a.button,qse.a.optionButton,t),onClick:s,enabled:c}),u,l)}}])&&Qse(n.prototype,r),a&&Qse(n,a),t}(o.a.PureComponent);Kse.defaultProps={},Kse.propTypes={className:c.a.string,label:c.a.string,icon:c.a.string,iconClassName:c.a.string,description:c.a.string,enabled:c.a.bool,onClick:c.a.func};var Xse,Jse=Kse;function Zse(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function $se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eue=($se(Xse={},Br.a.STUDENT,Vz.c),$se(Xse,Br.a.EDUCATOR,Vz.b),$se(Xse,Br.a.ANON,null),Xse),tue=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};$se(tue,"fetchCourseById",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a,o,i,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:Br.a.ANON,r=null,a=[],e.prev=3,o=eue[n]){e.next=7;break}throw new Error("No GQL for userType=".concat(n));case 7:return e.next=9,xe.a.query({query:o,variables:{courseId:t}});case 9:i=e.sent,a=O.a.concat(a,i.errors),r=O.a.get(i,"data.termClass"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),l.b.error("[CourseService] fetchCourseById:",e.t0),a.push("unable to fetch termClass");case 18:return a=O.a.compact(a),e.abrupt("return",{course:r,errors:a});case 20:case"end":return e.stop()}}),e,this,[[3,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Zse(o,r,a,i,c,"next",e)}function c(e){Zse(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}());var nue=tue;function rue(){var e=iue(["\n  query myTermClasses {\n    myTermClasses {\n      ...TermClassBasicEducator\n    }\n  }\n  ","\n"]);return rue=function(){return e},e}function aue(){var e=iue(["\n  query termClassTemplates {\n    termClassTemplates {\n      ...TermClassBasicEducator\n    }\n  }\n  ","\n"]);return aue=function(){return e},e}function oue(){var e=iue(["\n  mutation createTermClass($input: CreateTermClassInput!) {\n    createTermClass(input: $input) {\n      ...TermClassBasicEducator\n    }\n  }\n  ","\n"]);return oue=function(){return e},e}function iue(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function cue(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function sue(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){cue(o,r,a,i,c,"next",e)}function c(e){cue(o,r,a,i,c,"throw",e)}i(void 0)}))}}function uue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lue=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};uue(lue,"fetchCourseById",function(){var e=sue(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nue.fetchCourseById(t,Br.a.EDUCATOR);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),uue(lue,"createCourse",sue(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,c,s,u,d,f,p,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},n=t.lmsCode,r=t.name,a=t.generalLinksOnly,o=t.sourceCourseId,i=t.startAt,c=t.stopAt,s=null,u=[],d={lmsCode:n,name:r,generalLinksOnly:a},i&&c&&(d.startAt=i,d.stopAt=c),o&&(d.sourceClassDbId=o),f={input:d},e.prev=7,e.next=10,xe.a.mutate({mutation:due,variables:f});case 10:p=e.sent,u=O.a.concat(u,p.errors),s=O.a.get(p,"data.createTermClass"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),l.b.error("createCourse error:",e.t0),u.push("unable to execute createCourse",f);case 19:return u=O.a.compact(u),e.abrupt("return",{course:s,errors:u});case 21:case"end":return e.stop()}}),e,this,[[7,15]])})))),uue(lue,"fetchTemplateCourses",sue(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,n=[],e.prev=2,e.next=5,xe.a.query({query:fue});case 5:r=e.sent,n=O.a.concat(n,r.errors),t=O.a.get(r,"data.termClassTemplates"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),l.b.error("termClassTemplates error:",e.t0),n.push("unable to fetch termClassTemplates");case 14:return n=O.a.compact(n),e.abrupt("return",{templateCourses:t,errors:n});case 16:case"end":return e.stop()}}),e,this,[[2,10]])})))),uue(lue,"fetchExistingCourses",sue(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,n=[],e.prev=2,e.next=5,xe.a.query({query:pue});case 5:r=e.sent,n=O.a.concat(n,r.errors),t=O.a.get(r,"data.myTermClasses"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),l.b.error("myTermClasses error:",e.t0),n.push("unable to fetch myTermClasses");case 14:return n=O.a.compact(n),e.abrupt("return",{existingCourses:t,errors:n});case 16:case"end":return e.stop()}}),e,this,[[2,10]])}))));var due=Ue()(oue(),Vz.d),fue=Ue()(aue(),Vz.d),pue=Ue()(rue(),Vz.d),mue=n("k5BF"),bue=n.n(mue),yue=n("9j7p"),vue=n.n(yue);function hue(e){return(hue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gue(){return(gue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Eue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wue(e,t){return!t||"object"!==hue(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oue(e){return(Oue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sue(e,t){return(Sue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wue(this,Oue(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sue(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return this.props.isLoading?o.a.createElement("div",gue({},le.e.loadingOverlay,{className:vue.a.loadingOverlay}),o.a.createElement(kc.a,{isLoading:!0})):null}}])&&Eue(n.prototype,r),a&&Eue(n,a),t}(o.a.PureComponent);Cue.defaultProps={isLoading:!1},Cue.propTypes={isLoading:c.a.bool};var _ue=Cue,Iue=n("OS3S"),Tue=n.n(Iue);function Rue(e){return(Rue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pue(){return(Pue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Aue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nue(e){return(Nue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jue(e,t){return(jue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Due(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lue={filterValue:""},Mue=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Nue(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Rue(a)&&"function"!==typeof a?kue(r):a,Due(kue(kue(n)),"state",Lue),Due(kue(kue(n)),"onFilterClear",(function(){n.onFilterChange("")})),Due(kue(kue(n)),"onFilterChange",(function(e){n.setState({filterValue:e})})),Due(kue(kue(n)),"renderFilterInput",(function(){var e=n.props.filterText,t=n.state.filterValue,r=o.a.createElement(Oe.a,{ariaLabel:e},re.a.SEARCH);return o.a.createElement(Nu.a,{zDepth:1,className:Tue.a.filterContainer},o.a.createElement(Sa.i,Pue({},le.e.itemChooser.filterText.q({value:t}),{id:"chooser-filter-input",className:Tue.a.filterInput,inlineIndicator:n.renderFilterInputClearButton(),leftIcon:r,onChange:n.onFilterChange,placeholder:e,value:t})))})),Due(kue(kue(n)),"renderFilterInputClearButton",(function(){var e=n.props.i18n,t=n.state.filterValue;return O.a.trim(t)?o.a.createElement(we.d,Pue({},le.e.itemChooser.filterClear,{id:"button-chooser-filter-clear",ariaLabel:e._("Clear input"),className:Tue.a.filterClearIcon,onClick:n.onFilterClear}),re.a.CLOSE):null})),Due(kue(kue(n)),"renderListItem",(function(e){var t=n.props,r=t.itemIdField,a=t.itemLabelField,i=t.itemRenderer,c=n.props,s=c.selectedItem,u=c.onChoose,l=n.state.filterValue,d=O.a.get(e,r),f=O.a.get(e,a),p=O.a.get(s,r)===d;if(!(!l||p||f.match(new RegExp(l,"i"))))return null;var m=f;return i&&(m=i(e,p)),m?o.a.createElement(we.b,Pue({},le.e.itemChooser.item.q({id:d,label:f,selected:p}),{key:"item-".concat(d),className:E()(Tue.a.item,Due({},Tue.a.itemSelected,p)),onClick:function(){u(e)}}),m):null})),Due(kue(kue(n)),"renderList",(function(){var e=n.props,t=e.i18n,r=e.isLoading,a=e.items,i=null,c=O.a.map(a,n.renderListItem);c=O.a.compact(c);var s=!O.a.isEmpty(c);return i=s?c:r?o.a.createElement("div",{className:Tue.a.listMessage},t._("Loading...")):o.a.createElement("div",{className:Tue.a.listMessage},t._("Nothing to choose from...")),o.a.createElement(Nu.a,{zDepth:1,className:E()(Tue.a.list,Due({},Tue.a.emptyList,!s))},i)})),Due(kue(kue(n)),"renderHeaderText",(function(){var e=n.props.headerText;return e?o.a.createElement("h4",{className:Tue.a.headerText},e):null})),Due(kue(kue(n)),"renderHeader",(function(){return o.a.createElement("div",{className:Tue.a.header},n.renderHeaderText(),n.renderFilterInput())})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jue(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.isLoading;return o.a.createElement("div",Pue({},Object(le.j)(this.props),{className:Tue.a.container}),this.renderHeader(),this.renderList(),o.a.createElement(_ue,{isLoading:e}))}}])&&Aue(n.prototype,r),a&&Aue(n,a),t}(o.a.PureComponent);Mue.defaultProps={isLoading:!1,items:[],selectedItem:null,itemIdField:"id",itemLabelField:"label"},Mue.propTypes={isLoading:c.a.bool,items:c.a.arrayOf(c.a.object).isRequired,selectedItem:c.a.any,onChoose:c.a.func.isRequired,headerText:c.a.string,filterText:c.a.string.isRequired,itemIdField:c.a.string,itemLabelField:c.a.string,itemRenderer:c.a.func,i18n:c.a.any.isRequired};var xue=Object(U.withI18n)()(Mue);function Fue(e){return(Fue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uue(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vue(){return(Vue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gue(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function que(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Gue(o,r,a,i,c,"next",e)}function c(e){Gue(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Bue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){zue(e,t,n[t])}))}return e}function Wue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Que(e){return(Que=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yue(e,t){return(Yue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kue=255,Xue={INITIAL_CHOOSER:"chooser",CREATE_BLANK:"create-blank",CREATE_VIA_TEMPLATE:"create-via-template",CREATE_VIA_COPY:"create-via-copy"},Jue={mode:Xue.INITIAL_CHOOSER,isShowingSecondaryOptions:!1,isLoading:!1,errors:[],isDirectLinkingAllowed:!0,isCourseNameEditable:!0,courseName:"",isFetchingTemplates:!1,templateCourses:[],selectedTemplateSourceCourse:null,isFetchingExistingCourses:!1,existingCourses:[],selectedCopySourceCourse:null},Zue=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Que(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Fue(a)&&"function"!==typeof a?Hue(r):a,zue(Hue(Hue(n)),"state",Jue),zue(Hue(Hue(n)),"resetState",(function(){var e=n.props.externalCourseName,t="",r=!0;e&&(t=e.substring(0,Kue),r=!1),n.setState(Bue({},Jue,{courseName:t,isCourseNameEditable:r}))})),zue(Hue(Hue(n)),"onShowMoreOptionsClick",(function(){n.setState({isShowingSecondaryOptions:!0})})),zue(Hue(Hue(n)),"onCreateBlankOptionClick",(function(){n.setState({mode:Xue.CREATE_BLANK})})),zue(Hue(Hue(n)),"onCreateViaTemplateOptionClick",que(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.i18n,n.setState({mode:Xue.CREATE_VIA_TEMPLATE,isFetchingTemplates:!0}),e.next=4,lue.fetchTemplateCourses();case 4:r=e.sent,a=r.templateCourses,o=r.errors,i=[],c=[],O.a.isEmpty(o)?i=O.a.orderBy(a,"name"):c.push(t._("Unable to retrieve template courses")),n.setState({errors:c,templateCourses:i,isFetchingTemplates:!1});case 11:case"end":return e.stop()}}),e,this)})))),zue(Hue(Hue(n)),"onCreateViaCopyOptionClick",que(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.i18n,n.setState({mode:Xue.CREATE_VIA_COPY,isFetchingExistingCourses:!0}),e.next=4,lue.fetchExistingCourses();case 4:r=e.sent,a=r.existingCourses,o=r.errors,i=[],c=[],O.a.isEmpty(o)?i=O.a.orderBy(a,"name"):c.push(t._("Unable to retrieve existing courses")),n.setState({errors:c,existingCourses:i,isFetchingExistingCourses:!1});case 11:case"end":return e.stop()}}),e,this)})))),zue(Hue(Hue(n)),"onBackClick",(function(){n.resetState()})),zue(Hue(Hue(n)),"onContinueClick",que(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c,s,u,l,d,f,p,m,b,y,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.i18n,a=t.history,o=t.externalCourseId,i=n.state,c=i.mode,s=i.selectedTemplateSourceCourse,u=i.selectedCopySourceCourse,l=i.isDirectLinkingAllowed,d=i.courseName,n.setState({isLoading:!0}),f={lmsCode:o,name:d,generalLinksOnly:!l},c===Xue.CREATE_VIA_TEMPLATE?f.sourceCourseId=s.dbId:c===Xue.CREATE_VIA_COPY&&(f.sourceCourseId=u.dbId),e.next=8,lue.createCourse(f);case 8:if(p=e.sent,m=p.course,b=p.errors,y=[],!m){e.next=18;break}return v=n.getNextPath(m),a.push(v),e.abrupt("return");case 18:O.a.isEmpty(b)||y.push(r._("Unable to create course"));case 19:n.setState({errors:y,isLoading:!1});case 20:case"end":return e.stop()}}),e,this)})))),zue(Hue(Hue(n)),"getNextPath",(function(e){var t=n.props,r=t.launchView,a=t.returnPath;if(a)return requestAnimationFrame((function(){window.location.replace(a)})),null;if(r&&r!==ne.h.COURSE_CREATE){var o=at.a.getLaunchpointSettings();return at.a.writeLaunchpointSettings(O.a.merge({},o,zue({},ne.e.CONTEXT,zue({},ne.e.CONTEXT_COURSE_ID,e.dbId)))),Object(y.f)(Ct.h.LAUNCH)}if(e.isDeepLinkingEnabled){var i,c=at.a.getLaunchpointSettings();return at.a.writeLaunchpointSettings(O.a.merge({},c,(zue(i={},ne.e.VIEW,ne.h.RESOURCE_CREATE),zue(i,ne.e.CONTEXT,zue({},ne.e.CONTEXT_COURSE_ID,e.dbId)),i))),Object(y.f)(Ct.h.LAUNCH)}return Object(y.f)(Ct.h.EDUCATOR_ACTIVITY_LIST,{classId:e.dbId})})),zue(Hue(Hue(n)),"validate",(function(){var e=n.props.i18n,t=n.state,r=t.mode,a=t.courseName,o=t.selectedTemplateSourceCourse,i=t.selectedCopySourceCourse;if(!a)return{isValid:!1,message:e._("Please enter a course name")};if(a.length>Kue)return{isValid:!1,message:e._("Course name is too long")};switch(r){case Xue.CREATE_VIA_TEMPLATE:if(!o)return{isValid:!1,message:e._("Please select a template")};break;case Xue.CREATE_VIA_COPY:if(!i)return{isValid:!1,message:e._("Please select a course to copy")}}return{isValid:!0,message:null}})),zue(Hue(Hue(n)),"renderLoadingOverlay",(function(){return n.state.isLoading?o.a.createElement("div",Vue({},le.e.loadingOverlay,{className:bue.a.loadingOverlay}),o.a.createElement(kc.a,{isLoading:!0})):null})),zue(Hue(Hue(n)),"renderDirectLinkingCheckbox",(function(){var e=n.props.i18n,t=n.state.isDirectLinkingAllowed,r=t;return o.a.createElement(Sa.a,Vue({},le.d.directLinking.q({checked:r}),{id:"course-direct-linking",name:"course-direct-linking",label:e._("Allow Direct Linking"),checked:r,tooltip:{label:e._("Allow launching directly into an assignment or meeting from each link configured in your LMS platform. If this option is deselected, all Bongo links for this course will direct the user to the assignment list.")},onChange:function(){n.setState({isDirectLinkingAllowed:!t})}}))})),zue(Hue(Hue(n)),"renderBackButton",(function(){var e=n.props.i18n;return o.a.createElement(we.b,Vue({},le.d.back,{iconEl:o.a.createElement(Oe.a,null,re.a.BACK),onClick:n.onBackClick}),e._("Back"))})),zue(Hue(Hue(n)),"renderContinueButton",(function(){var e=n.props.i18n,t=!0,r=null,a=n.validate();return a.isValid||(t=!1,r={label:a.message}),o.a.createElement(we.h,Vue({},le.d.continue.q({enabled:t}),{primary:!0,onClick:n.onContinueClick,enabled:t,tooltip:r}),e._("Continue"))})),zue(Hue(Hue(n)),"renderFooterMessages",(function(){var e=n.state.errors;return O.a.isEmpty(e)?null:o.a.createElement("div",{className:bue.a.footerMessages},o.a.createElement(Ee.a,{type:Ee.a.NOTE_TYPES.ERROR,message:e[0]}))})),zue(Hue(Hue(n)),"renderFooter",(function(){return o.a.createElement("section",{className:bue.a.footer},n.renderFooterMessages(),o.a.createElement("div",{className:bue.a.footerActions},o.a.createElement("div",{className:bue.a.footerActionsLeft},n.renderBackButton()),o.a.createElement("div",{className:bue.a.footerActionsCenter}),o.a.createElement("div",{className:bue.a.footerActionsRight},n.renderContinueButton())))})),zue(Hue(Hue(n)),"renderCourseNameInput",(function(){var e=n.props.i18n,t=n.state,r=t.courseName,a=t.isCourseNameEditable,i=r,c=!1,s={className:bue.a.courseNameInputTooltip,label:e._("This name was supplied by your LMS platform")};return a&&(s=null,c=!0),o.a.createElement(Sa.i,Vue({},le.d.courseName.q({value:i,enabled:c}),{id:"course-name",className:bue.a.courseNameInput,label:e._("New Course Name"),tooltip:s,required:!0,maxLength:Kue,enabled:c,value:i,onChange:function(e){n.setState({courseName:e})}}))})),zue(Hue(Hue(n)),"renderCreateBlank",(function(){var e=n.props.i18n;return o.a.createElement("div",{className:bue.a.chooseContainer},o.a.createElement("p",{className:bue.a.chooseMessage},e._("Create a new course with no pre-existing content")),n.renderCourseNameInput(),n.renderDirectLinkingCheckbox(),n.renderFooter())})),zue(Hue(Hue(n)),"onChooseCourseTemplateSource",(function(e){n.setState({selectedTemplateSourceCourse:e})})),zue(Hue(Hue(n)),"renderCreateViaTemplate",(function(){var e=n.props.i18n,t=n.state,r=t.templateCourses,a=t.isFetchingTemplates,i=t.selectedTemplateSourceCourse,c=o.a.createElement(xue,Vue({},le.d.courseTemplateChooser,{isLoading:a,filterText:e._("Search course templates..."),items:r,selectedItem:i,itemIdField:"dbId",itemLabelField:"name",onChoose:n.onChooseCourseTemplateSource}));return o.a.createElement("div",{className:bue.a.chooseContainer},o.a.createElement("p",{className:bue.a.chooseMessage},e._("Create a course based on a course template created by your institution:")),c,n.renderCourseNameInput(),n.renderDirectLinkingCheckbox(),n.renderFooter())})),zue(Hue(Hue(n)),"onChooseCourseCopySource",(function(e){n.setState({selectedCopySourceCourse:e})})),zue(Hue(Hue(n)),"renderCreateViaCopy",(function(){var e=n.props.i18n,t=n.state,r=t.isFetchingExistingCourses,a=t.existingCourses,i=t.selectedCopySourceCourse,c=o.a.createElement(xue,Vue({},le.d.courseCopyChooser,{isLoading:r,filterText:e._("Search existing courses..."),items:a,selectedItem:i,itemIdField:"dbId",itemLabelField:"name",onChoose:n.onChooseCourseCopySource}));return o.a.createElement("div",{className:bue.a.chooseContainer},o.a.createElement("p",{className:bue.a.chooseMessage},e._("Create a copy of one of your previous courses:")),c,n.renderCourseNameInput(),n.renderDirectLinkingCheckbox(),n.renderFooter())})),zue(Hue(Hue(n)),"renderNoCourseLinkIdMessage",(function(e){var t=n.props.i18n;return e?null:o.a.createElement(Ee.a,Vue({},le.d.message.noCourseLinkId,{className:bue.a.messageNoCourseLinkId,type:Ee.a.NOTE_TYPES.ERROR,message:t._("A course link ID is required in order to create a new Bongo course")}))})),zue(Hue(Hue(n)),"renderOptionButton",(function(e){var t=e.key,n=Uue(e,["key"]);return o.a.createElement(Jse,Vue({key:t},n))})),zue(Hue(Hue(n)),"renderPrimaryOptions",(function(e){var t=n.props.i18n,r=[Bue({},le.d.option.blank,{key:"option-course-blank",label:t._("Create a Blank Course"),icon:re.a.NOTE_ADD,description:t._("Create a new course with no pre-existing content."),enabled:e,onClick:n.onCreateBlankOptionClick})],a=O.a.map(r,n.renderOptionButton);return o.a.createElement("div",{className:bue.a.chooseModeButtonsPrimary},a)})),zue(Hue(Hue(n)),"renderSecondaryOptions",(function(e){var t=n.props.i18n,r=n.state.isShowingSecondaryOptions,a=[o.a.createElement(we.b,Vue({},le.d.showAdvancedOptions,{key:"show-other-options",className:bue.a.moreOptionsButton,onClick:n.onShowMoreOptionsClick}),t._("Show Advanced Options"),o.a.createElement(Oe.a,{className:bue.a.moreOptionsIcon},re.a.EXPAND))];if(r){var i=[Bue({},le.d.option.viaTemplate,{key:"option-course-via-template",label:t._("Use a Course Template"),icon:re.a.DESCRIPTION,description:t._("Create a course based on a course template created by your institution."),enabled:e,onClick:n.onCreateViaTemplateOptionClick}),Bue({},le.d.option.viaCopy,{key:"option-course-via-copy",label:t._("Copy an Existing Course"),icon:re.a.CONTENT_COPY,description:t._("Create a copy of one of your previous courses."),enabled:e,onClick:n.onCreateViaCopyOptionClick})];a=O.a.map(i,n.renderOptionButton)}return o.a.createElement("div",{className:bue.a.chooseModeButtonsSecondary},a)})),zue(Hue(Hue(n)),"renderOptions",(function(){var e=n.props,t=e.i18n,r=e.externalCourseId,a=Boolean(r);return o.a.createElement("div",{className:bue.a.chooseContainer},n.renderNoCourseLinkIdMessage(a),o.a.createElement("p",{className:bue.a.chooseMessage},t._("How you would like to create the Bongo course which will be associated with the link you clicked?")),n.renderPrimaryOptions(a),n.renderSecondaryOptions(a))})),zue(Hue(Hue(n)),"renderBody",(function(){switch(n.state.mode){case Xue.CREATE_BLANK:return n.renderCreateBlank();case Xue.CREATE_VIA_TEMPLATE:return n.renderCreateViaTemplate();case Xue.CREATE_VIA_COPY:return n.renderCreateViaCopy();case Xue.INITIAL_CHOOSER:return n.renderOptions()}})),zue(Hue(Hue(n)),"renderMessages",(function(){var e=n.props,t=e.i18n,r=e.externalCourseId,a=e.externalCourseName,i=r||t._("(blank)"),c=a||t._("(blank)"),s=o.a.createElement("div",Vue({className:bue.a.messages},le.d.message.linkNotAssociated.q({externalCourseId:r,externalCourseName:a})),o.a.createElement("p",{className:bue.a.messageLinkNotAssociated},t._("The link you clicked is not associated with a Bongo course yet")),o.a.createElement("p",{className:bue.a.messageLinkInfo},t._("Course Name: {courseLinkNameLabel} (id={courseLinkIdLabel})",{courseLinkNameLabel:c,courseLinkIdLabel:i})));return o.a.createElement("div",{className:bue.a.messageContainer},o.a.createElement(Ee.b,{className:bue.a.messageLinkNotAssociated,type:Ee.b.NOTE_TYPES.INFO,icon:re.a.LINK,message:s}))})),zue(Hue(Hue(n)),"renderHeader",(function(){var e=n.props.i18n;return o.a.createElement("div",{className:bue.a.header},o.a.createElement("h1",{className:bue.a.headerText},e._("New Course")))})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yue(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.resetState()}},{key:"render",value:function(){return o.a.createElement(ge,{className:E()(bue.a.page),centerContentClassName:bue.a.pageContent},this.renderMessages(),o.a.createElement(Uc,{className:bue.a.contentBox},this.renderHeader(),this.renderBody(),this.renderLoadingOverlay()))}}])&&Wue(n.prototype,r),a&&Wue(n,a),t}(o.a.PureComponent);Zue.defaultProps={},Zue.propTypes={history:c.a.any.isRequired,i18n:c.a.any.isRequired,launchView:c.a.string,externalCourseId:c.a.string,externalCourseName:c.a.string,returnPath:c.a.string};var $ue=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){var t=de.e(e);return{launchView:de.c(e),externalCourseId:t[ne.e.PARAMS_EXTERNAL_COURSE_ID],externalCourseName:t[ne.e.PARAMS_EXTERNAL_COURSE_NAME],returnPath:t[ne.e.PARAMS_RETURN_PATH]}}))(Zue))),ele=n("wdTX"),tle=n.n(ele);function nle(e){return(nle="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rle(){return(rle=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ale(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function ole(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ile(e){return(ile=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cle(e,t){return(cle=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sle(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ule(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lle=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=ile(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==nle(a)&&"function"!==typeof a?sle(r):a,ule(sle(sle(n)),"retrieveCourse",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.a.dispatch(qe.A(!0)),e.next=3,lue.fetchCourseById(t);case 3:n=e.sent,r=n.course,a=n.errors,O.a.isEmpty(a)&&m.a.dispatch(qe.C(r)),m.a.dispatch(qe.A(!1));case 8:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ale(o,r,a,i,c,"next",e)}function c(e){ale(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),ule(sle(sle(n)),"renderMessages",(function(){var e=n.props,t=e.i18n,r=e.externalResourceId,a=e.externalResourceName,i=r||t._("(blank)"),c=a||t._("(blank)"),s=o.a.createElement("div",rle({},le.c.message.linkNotAssociated.q({externalResourceId:r,externalResourceName:a}),{className:tle.a.messages}),o.a.createElement("p",{className:tle.a.messageLinkNotAssociated},t._("The link you clicked is not associated with any Bongo content yet")),o.a.createElement("p",{className:tle.a.messageLinkInfo},t._("Content Name: {resourceNameLabel} (id={resourceIdLabel})",{resourceNameLabel:c,resourceIdLabel:i})));return o.a.createElement("div",{className:tle.a.messageContainer},o.a.createElement(Ee.b,{className:tle.a.messageLinkNotAssociated,type:Ee.b.NOTE_TYPES.INFO,icon:re.a.LINK,message:s}))})),ule(sle(sle(n)),"renderCourseLoadError",(function(){var e=n.props.i18n;return o.a.createElement(Ee.a,rle({},le.c.message.unableToLoadCourse,{type:Ee.a.NOTE_TYPES.ERROR,message:e._("Unable to load this course")}))})),ule(sle(sle(n)),"renderHeader",(function(){var e=n.props,t=e.isTermClassLoading,r=e.header;return t?null:o.a.createElement("div",{className:tle.a.header},o.a.createElement("h1",{className:tle.a.headerText},r))})),ule(sle(sle(n)),"renderContent",(function(){var e=n.props,t=e.isTermClassLoading,r=e.termClass,a=e.children;if(t)return null;var i=O.a.isEmpty(r)?n.renderCourseLoadError():a;return o.a.createElement("div",{className:tle.a.content},i)})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cle(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,n=e.termClass,r=e.isTermClassLoading;O.a.isEmpty(n)&&!r&&this.retrieveCourse(+t.params.classId)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.contentClassName,r=e.isLoading,a=e.isTermClassLoading,i=r||a;return o.a.createElement(ge,{className:E()(tle.a.page,t),centerContentClassName:E()(tle.a.pageContent)},this.renderMessages(),o.a.createElement(Uc,{className:E()(tle.a.contentBox,n)},this.renderHeader(),this.renderContent(),o.a.createElement(_ue,{isLoading:i})))}}])&&ole(n.prototype,r),a&&ole(n,a),t}(o.a.PureComponent);lle.defaultProps={},lle.propTypes={className:c.a.string,contentClassName:c.a.string,children:c.a.node,header:c.a.any,isLoading:c.a.bool,i18n:c.a.any.isRequired,match:c.a.any.isRequired,isTermClassLoading:c.a.bool,termClass:c.a.object,externalResourceId:c.a.string,externalResourceName:c.a.string};var dle=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){var t=de.e(e);return{isTermClassLoading:Ye.z(e),termClass:Ye.m(e),externalResourceId:t[ne.e.PARAMS_EXTERNAL_RESOURCE_ID],externalResourceName:t[ne.e.PARAMS_EXTERNAL_RESOURCE_NAME]}}))(lle)));function fle(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  mutation toggleDirectLinking($courseDbId: Int!) {\n    toggleDirectLinking(termClassDbId: $courseDbId) {\n      ...TermClassBasicEducator\n    }\n  }\n  ","\n"]);return fle=function(){return e},e}function ple(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}var mle=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(mle,"toggleDirectLinking",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=[],e.prev=2,a={courseDbId:t},e.next=6,xe.a.mutate({mutation:ble,variables:a});case 6:o=e.sent,r=O.a.concat(r,o.errors),n=O.a.get(o,"data.toggleDirectLinking"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),l.b.error("toggleDirectLinking error:",e.t0),r.push("unable to execute toggleDirectLinking");case 15:return r=O.a.compact(r),e.abrupt("return",{course:n,errors:r});case 17:case"end":return e.stop()}}),e,this,[[2,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ple(o,r,a,i,c,"next",e)}function c(e){ple(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}());var ble=Ue()(fle(),Vz.d),yle=n("eJVT"),vle=n.n(yle);function hle(e){return(hle="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gle(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Ele(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){gle(o,r,a,i,c,"next",e)}function c(e){gle(o,r,a,i,c,"throw",e)}i(void 0)}))}}function wle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ole(e){return(Ole=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sle(e,t){return(Sle=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cle(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ile={isLoading:!1,errors:[]},Tle=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Ole(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==hle(a)&&"function"!==typeof a?Cle(r):a,_le(Cle(Cle(n)),"state",Ile),_le(Cle(Cle(n)),"onSaveClick",Ele(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.i18n,a=t.termClass,o=t.onSave,n.setState({isLoading:!0}),e.next=4,mle.toggleDirectLinking(a.dbId);case 4:i=e.sent,c=i.course,s=i.errors,u=O.a.isEmpty(s)&&!c.isDeepLinkingEnabled,l=[],u||l.push(r._("Unable to turn off direct linking for this course")),n.setState({isLoading:!1,errors:l},(function(){u&&o(c)}));case 11:case"end":return e.stop()}}),e,this)})))),_le(Cle(Cle(n)),"close",(function(){dt.a.closeModal()})),_le(Cle(Cle(n)),"renderOverlay",(function(){return n.state.isLoading?o.a.createElement(_ue,{isLoading:!0}):null})),_le(Cle(Cle(n)),"renderErrors",(function(){var e=n.state.errors;if(O.a.isEmpty(e))return null;var t=e[0];return o.a.createElement(Ee.a,{className:vle.a.note,type:Ee.a.NOTE_TYPES.ERROR,message:t})})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sle(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.termClass,r=t._("Change Content Linking Mode"),a=t._("Yes, Turn Off Direct Linking"),i=[o.a.createElement(we.h,{primary:!0,id:"resource-linking-mode-dialog-save",key:"resource-linking-mode-dialog-save",enabled:!0,ariaLabel:a,onClick:this.onSaveClick},a)];return o.a.createElement(V.a,{id:"resource-linking-mode-dialog",dialogClassName:vle.a.dialog,contentClassName:vle.a.dialogContent,title:r,footerActions:i,onHide:this.close,overlay:this.renderOverlay(),overlayClassName:vle.a.overlay,overlayContentClassName:vle.a.overlayContent},o.a.createElement("div",{className:vle.a.content},o.a.createElement("p",null,t._("This course is currently configured to direct link into specific course content. Changing this setting will default all course links to the list of assignments.")),o.a.createElement("p",{className:vle.a.messageConfirm},t._('Are you sure you want to turn off direct linking for the course "{0}"?',{0:n.name})),this.renderErrors()))}}])&&wle(n.prototype,r),a&&wle(n,a),t}(o.a.PureComponent);Tle.propTypes={termClass:c.a.object.isRequired,onSave:c.a.func.isRequired,i18n:c.a.object.isRequired};var Rle=Object(U.withI18n)()(Tle),Ple=n("4Z3x"),Ale=n.n(Ple);function Nle(e){return(Nle="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jle(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ule(e,t,n[t])}))}return e}function kle(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Dle(){return(Dle=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mle(e){return(Mle=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xle(e,t){return(xle=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fle(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ule(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vle={isLoading:!1,isShowingSecondaryOptions:!1},Gle=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=Mle(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Nle(a)&&"function"!==typeof a?Fle(r):a,Ule(Fle(Fle(n)),"state",Vle),Ule(Fle(Fle(n)),"onShowMoreOptionsClick",(function(){n.setState({isShowingSecondaryOptions:!0})})),Ule(Fle(Fle(n)),"onActivityOptionClick",(function(){var e=n.props,t=e.history,r=e.match,a=Object(y.f)(Ct.h.EDUCATOR_COURSE_CONTENT_ACTIVITY_CREATE,r.params);t.push(a)})),Ule(Fle(Fle(n)),"redirect",(function(e){n.setState({isLoading:!0},(function(){requestAnimationFrame((function(){window.location.replace(e)}))}))})),Ule(Fle(Fle(n)),"onMeetingSaveSuccess",(function(e,t){if(dt.a.closeModal(),e){var r=e.lobbyPageUrl;r&&n.redirect(r)}})),Ule(Fle(Fle(n)),"onMeetingOptionClick",(function(){var e=n.props,t=e.i18n,r=e.externalResourceId,a={title:e.externalResourceName,externalLinkIdentifier:r,wholeClassAssigned:!0},i={wholeClassOptionTooltip:{label:t._("Linked meetings will be available to all users with access to the link")}};dt.a.showModal(o.a.createElement(eJ,{onSuccess:n.onMeetingSaveSuccess,meeting:a,configuration:i}))})),Ule(Fle(Fle(n)),"onContentLinkingModeSave",(function(e){var t=n.props.history;if(e&&!e.isDeepLinkingEnabled){var r=at.a.getLaunchpointSettings();at.a.writeLaunchpointSettings(O.a.merge({},r,Ule({},ne.e.VIEW,ne.h.ACTIVITIES)));var a=Object(y.f)(Ct.h.LAUNCH);t.push(a)}})),Ule(Fle(Fle(n)),"onActivitiesOptionClick",(function(){var e=n.props.termClass;dt.a.showModal(o.a.createElement(Rle,{termClass:e,onSave:n.onContentLinkingModeSave}))})),Ule(Fle(Fle(n)),"renderNoDirectLinkingMessage",(function(){var e=n.props,t=e.i18n,r=e.termClass;return Boolean(r.isDeepLinkingEnabled)?null:o.a.createElement(Ee.a,Dle({},le.c.message.directLinkingNotEnabled,{className:Ale.a.note,type:Ee.a.NOTE_TYPES.ERROR,message:t._("Direct Linking is not enabled for this course")}))})),Ule(Fle(Fle(n)),"renderNoExternalResourceIdMessage",(function(){var e=n.props,t=e.i18n,r=e.externalResourceId;return Boolean(r)?null:o.a.createElement(Ee.a,Dle({},le.c.message.noResourceLinkId,{className:Ale.a.note,type:Ee.a.NOTE_TYPES.ERROR,message:t._("A resource link ID is required in order to associate Bongo content with your LMS platform")}))})),Ule(Fle(Fle(n)),"renderOptionButton",(function(e){var t=e.key,n=kle(e,["key"]);return o.a.createElement(Jse,Dle({key:t},n))})),Ule(Fle(Fle(n)),"renderPrimaryOptions",(function(){var e=n.props,t=e.i18n,r=e.termClass,a=e.externalResourceId,i=r.isDeepLinkingEnabled,c=Boolean(a)&&i,s=[jle({},le.c.option.activity,{key:"option-content-activity",className:Ale.a.chooseOptionButton,label:t._("Assignment"),icon:re.a.VIDEOCAM,description:t._("Add a new Individual, Question and Answer, Group, or Interactive Video assignment..."),enabled:c,onClick:n.onActivityOptionClick}),jle({},le.c.option.meeting,{key:"option-content-meeting",className:Ale.a.chooseOptionButton,label:t._("Virtual Classroom"),icon:re.a.DATE_RANGE,description:t._("Add a new Virtual Classroom session..."),enabled:c,onClick:n.onMeetingOptionClick})],u=O.a.map(s,n.renderOptionButton);return o.a.createElement("div",{className:Ale.a.chooseOptionButtonsPrimary},u)})),Ule(Fle(Fle(n)),"renderSecondaryOptions",(function(){var e=n.props,t=e.i18n,r=e.termClass,a=n.state.isShowingSecondaryOptions;if(r.hasDirectLinkResources)return null;if(!r.isDeepLinkingEnabled)return null;var i=[o.a.createElement(we.b,Dle({},le.c.showAdvancedOptions,{key:"option-show-other",className:Ale.a.moreOptionsButton,onClick:n.onShowMoreOptionsClick}),t._("Show Advanced Options"),o.a.createElement(Oe.a,{className:Ale.a.moreOptionsIcon},re.a.EXPAND))];if(a){var c=[jle({},le.c.option.activityList,{key:"option-content-activities",className:Ale.a.chooseOptionButton,label:t._("Assignments List"),icon:re.a.LIST,description:t._("Link directly to a list of all assignments in this course..."),enabled:!0,onClick:n.onActivitiesOptionClick})];i=O.a.map(c,n.renderOptionButton)}return o.a.createElement("div",{className:Ale.a.chooseOptionButtonsSecondary},i)})),Ule(Fle(Fle(n)),"renderOptions",(function(){var e=n.props.i18n;return o.a.createElement("div",{className:Ale.a.chooseContainer},o.a.createElement("p",{className:Ale.a.chooseMessage},e._("What type of Bongo content would you like associated with the link you clicked?")),n.renderPrimaryOptions(),n.renderSecondaryOptions())})),Ule(Fle(Fle(n)),"renderContent",(function(){return n.props.termClass?o.a.createElement(o.a.Fragment,null,n.renderNoDirectLinkingMessage(),n.renderNoExternalResourceIdMessage(),n.renderOptions()):null})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xle(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n,t=this.state.isLoading;return o.a.createElement(dle,{className:Ale.a.page,contentClassName:Ale.a.content,header:e._("Add Course Content"),isLoading:t},this.renderContent())}}])&&Lle(n.prototype,r),a&&Lle(n,a),t}(o.a.PureComponent);Gle.defaultProps={},Gle.propTypes={i18n:c.a.any.isRequired,match:c.a.any.isRequired,history:c.a.any.isRequired,termClass:c.a.object,launchView:c.a.string,externalResourceId:c.a.string,externalResourceName:c.a.string};var qle=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){var t=de.e(e);return{termClass:Ye.m(e),launchView:de.c(e),externalResourceId:t[ne.e.PARAMS_EXTERNAL_RESOURCE_ID],externalResourceName:t[ne.e.PARAMS_EXTERNAL_RESOURCE_NAME]}}))(Gle)));function Ble(){var e=Qle(["\n  mutation copyActivity($input: ActivityInput!) {\n    copyActivity(input: $input) {\n      activity {\n        dbId\n      }\n      errors {\n        path\n        message\n      }\n    }\n  }\n"]);return Ble=function(){return e},e}function Wle(){var e=Qle(["\n  query termClassActivities($courseId: Int!) {\n    termClass(dbId: $courseId) {\n      activities {\n        dbId\n        type\n        name\n        submitDueAt\n        ltiDeepLinking\n        ltiGradeIdentifier\n      }\n    }\n  }\n"]);return Wle=function(){return e},e}function Qle(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Yle(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Hle(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Yle(o,r,a,i,c,"next",e)}function c(e){Yle(o,r,a,i,c,"throw",e)}i(void 0)}))}}function zle(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kle=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};zle(Kle,"fetchActivitiesForCourse",function(){var e=Hle(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=[],e.prev=2,e.next=5,xe.a.query({query:Xle,variables:{courseId:t}});case 5:a=e.sent,r=O.a.concat(r,a.errors),n=O.a.get(a,"data.termClass.activities"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),l.b.error("fetchActivitiesForCourse error:",e.t0),r.push("unable to fetch termClass.activities");case 14:return r=O.a.compact(r),e.abrupt("return",{activities:n,errors:r});case 16:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()),zle(Kle,"copyActivity",function(){var e=Hle(regeneratorRuntime.mark((function e(t){var n,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=[],a=t.activityId,o={input:{dbId:a}},e.prev=4,e.next=7,xe.a.mutate({mutation:Jle,variables:o});case 7:i=e.sent,r=O.a.concat(r,i.errors),r=O.a.concat(r,O.a.get(i,"data.copyActivity.errors")),n=O.a.get(i,"data.copyActivity.activity"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),l.b.error("copyActivity error:",e.t0),r.push("unable to execute copyActivity",o);case 17:return r=O.a.compact(r),e.abrupt("return",{activity:n,errors:r});case 19:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(t){return e.apply(this,arguments)}}());var Xle=Ue()(Wle()),Jle=Ue()(Ble()),Zle=n("fn+x"),$le=n.n(Zle);function ede(e){return(ede="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tde(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nde(){return(nde=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rde(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function ade(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){rde(o,r,a,i,c,"next",e)}function c(e){rde(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ode(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lde(e,t,n[t])}))}return e}function ide(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cde(e){return(cde=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sde(e,t){return(sde=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ude(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lde(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dde=255,fde={INITIAL_CHOOSER:"chooser",LINK_EXISTING:"link-existing",COPY_EXISTING:"copy-existing"},pde={mode:fde.INITIAL_CHOOSER,errors:[],isShowingSecondaryOptions:!1,isFetchingExistingActivities:!1,existingActivities:[],selectedExistingActivitySource:null,isActivityNameEditable:!0,activityName:""},mde=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,a=(e=cde(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==ede(a)&&"function"!==typeof a?ude(r):a,lde(ude(ude(n)),"state",pde),lde(ude(ude(n)),"resetState",(function(){var e=n.props.externalResourceName,t="",r=!0;e&&(t=e.substring(0,dde),r=!1),n.setState(ode({},pde,{activityName:t,isActivityNameEditable:r}))})),lde(ude(ude(n)),"fetchExistingActivities",ade(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.i18n,a=t.match,o=O.a.get(a.params,"classId"),e.next=4,Kle.fetchActivitiesForCourse(o);case 4:return i=e.sent,c=i.activities,s=i.errors,u=[],l=[],O.a.isEmpty(s)?u=O.a.orderBy(c,"name"):l.push(r._("Unable to retrieve existing course activities")),e.abrupt("return",{existingActivities:u,errors:l});case 11:case"end":return e.stop()}}),e,this)})))),lde(ude(ude(n)),"validate",(function(){var e=n.props.i18n,t=n.state,r=t.mode,a=t.selectedExistingActivitySource;switch(r){case fde.COPY_EXISTING:if(!a)return{isValid:!1,message:e._("Please select an assignment to copy")};break;case fde.LINK_EXISTING:if(!a)return{isValid:!1,message:e._("Please select an assignment to link")}}return{isValid:!0,message:null}})),lde(ude(ude(n)),"copyExistingActivity",function(){var e=ade(regeneratorRuntime.mark((function e(t,r){var a,o,i,c,s,u,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.i18n,o=[],i="",(c={}).activityId=r,e.next=7,Kle.copyActivity(c);case 7:return s=e.sent,u=s.activity,l=s.errors,u?(d=u.dbId,i=Object(y.f)(Ct.h.EDUCATOR_ACTIVITY_SETTINGS,{classId:t,activityId:d})):O.a.isEmpty(l)||o.push(a._("Unable to copy activity")),e.abrupt("return",{errors:o,targetPath:i});case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),lde(ude(ude(n)),"linkExistingActivity",function(){var e=ade(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a=Object(y.f)(Ct.h.EDUCATOR_ACTIVITY_SETTINGS,{classId:t,activityId:n}),e.abrupt("return",{errors:r,targetPath:a});case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),lde(ude(ude(n)),"onBackClick",(function(){n.resetState()})),lde(ude(ude(n)),"onContinueClick",ade(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c,s,u,l,d,f,p,m,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.match,a=t.history,o=t.viewParameters,i=n.state,c=i.mode,s=i.selectedExistingActivitySource){e.next=4;break}return e.abrupt("return");case 4:if(n.setState({isLoading:!0}),u=O.a.get(r.params,"classId"),l=s.dbId,d=ode({},o),f=null,c!==fde.COPY_EXISTING){e.next=15;break}return e.next=12,n.copyExistingActivity(u,l);case 12:f=e.sent,e.next=20;break;case 15:if(c!==fde.LINK_EXISTING){e.next=20;break}return e.next=18,n.linkExistingActivity(u,l);case 18:f=e.sent,delete d[ne.e.PARAMS_EXTERNAL_RESOURCE_NAME];case 20:m=(p=f).targetPath,b=p.errors,O.a.isEmpty(b)||n.setState({errors:b,isLoading:!1}),m&&(An.storeExternalData(d),a.push(m));case 23:case"end":return e.stop()}}),e,this)})))),lde(ude(ude(n)),"onShowMoreOptionsClick",(function(){n.setState({isShowingSecondaryOptions:!0})})),lde(ude(ude(n)),"onActivityOptionClick",(function(e){var t=n.props,r=t.history,a=t.match,o=t.viewParameters;An.storeExternalData(o);var i=ode({},a.params,{activityType:e}),c=Object(y.f)(Ct.h.EDUCATOR_ACTIVITY_CREATE,i);r.push(c)})),lde(ude(ude(n)),"onCopyExistingOptionClick",ade(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({mode:fde.COPY_EXISTING,isFetchingExistingActivities:!0,existingActivities:[]}),e.next=3,n.fetchExistingActivities();case 3:t=e.sent,r=t.existingActivities,a=t.errors,n.setState({errors:a,existingActivities:r,isFetchingExistingActivities:!1});case 7:case"end":return e.stop()}}),e,this)})))),lde(ude(ude(n)),"onLinkExistingOptionClick",ade(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({mode:fde.LINK_EXISTING,isFetchingExistingActivities:!0,existingActivities:[]}),e.next=3,n.fetchExistingActivities();case 3:t=e.sent,r=t.existingActivities,a=t.errors,n.setState({errors:a,existingActivities:r,isFetchingExistingActivities:!1});case 7:case"end":return e.stop()}}),e,this)})))),lde(ude(ude(n)),"onChooseExistingAcitivySource",(function(e){n.setState({selectedExistingActivitySource:e})})),lde(ude(ude(n)),"renderNoExternalResourceIdMessage",(function(e){var t=n.props.i18n;return e?null:o.a.createElement(Ee.a,nde({},le.c.message.noResourceLinkId,{type:Ee.a.NOTE_TYPES.ERROR,message:t._("A resource link ID is required in order to associate Bongo content with your LMS platform")}))})),lde(ude(ude(n)),"renderOptionButton",(function(e){var t=e.key,n=tde(e,["key"]);return o.a.createElement(Jse,nde({key:t},n))})),lde(ude(ude(n)),"renderPrimaryOptions",(function(e){var t=n.props.i18n,r=[ode({},le.a.option.individual,{key:"option-content-activity-individual",label:t._("Individual"),className:$le.a.chooseOptionButtonLarge,icon:re.a.PERSON,description:t._("Learners record or upload a video of themselves presenting on a topic or demonstrating a specific skill"),enabled:e,onClick:function(){n.onActivityOptionClick("individual")}}),ode({},le.a.option.qa,{key:"option-content-activity-qa",label:t._("Question & Answer"),className:$le.a.chooseOptionButtonLarge,icon:re.a.QUESTION_ANSWER,description:t._("Learners are presented with video or text prompts and given a set amount of time to respond"),enabled:e,onClick:function(){n.onActivityOptionClick("q-and-a")}}),ode({},le.a.option.group,{key:"option-content-activity-group",label:t._("Group"),className:$le.a.chooseOptionButtonLarge,icon:re.a.GROUP,description:t._("Learners collaborate synchronously and asynchronously to create a video or other deliverable for submission"),enabled:e,onClick:function(){n.onActivityOptionClick("group")}}),ode({},le.a.option.interactiveVideo,{key:"option-content-activity-iv",label:t._("Interactive Video"),className:$le.a.chooseOptionButtonLarge,icon:null,iconClassName:Tf.a.INTERACTIVE_VIDEO,description:t._("Learners watch an instructor-provided video and respond with multiple-choice or video answers at specific points during the video"),enabled:e,onClick:function(){n.onActivityOptionClick("interactive-video")}})],a=O.a.map(r,n.renderOptionButton);return o.a.createElement("div",{className:$le.a.chooseOptionButtonsPrimary},a)})),lde(ude(ude(n)),"renderSecondaryOptions",(function(e){var t=n.props.i18n,r=n.state.isShowingSecondaryOptions,a=[o.a.createElement(we.b,nde({},le.a.showAdvancedOptions,{key:"option-show-advanced",className:$le.a.moreOptionsButton,onClick:n.onShowMoreOptionsClick}),t._("Show Advanced Options"),o.a.createElement(Oe.a,{className:$le.a.moreOptionsIcon},re.a.EXPAND))];if(r){var i=[ode({},le.a.option.copyExisting,{key:"option-content-activity-copy",label:t._("Copy an Existing Assignment"),icon:re.a.CONTENT_COPY,description:t._("Use an existing assignment in this course as a base to create a new assignment"),enabled:e,onClick:n.onCopyExistingOptionClick}),ode({},le.a.option.linkExisting,{key:"option-content-activity-existing",label:t._("Use an Existing Assignment"),icon:re.a.GRADEBOOK,description:t._("Associate this link with an assignment in this course that is currently unlinked"),enabled:e,onClick:n.onLinkExistingOptionClick})];a=O.a.map(i,n.renderOptionButton)}return o.a.createElement("div",{className:$le.a.chooseOptionButtonsSecondary},a)})),lde(ude(ude(n)),"renderBackButton",(function(){var e=n.props.i18n;return o.a.createElement(we.b,nde({},le.a.back,{iconEl:o.a.createElement(Oe.a,null,re.a.BACK),onClick:n.onBackClick}),e._("Back"))})),lde(ude(ude(n)),"renderContinueButton",(function(){var e=n.props.i18n,t=!0,r=null,a=n.validate();return a.isValid||(t=!1,r={label:a.message}),o.a.createElement(we.h,nde({},le.a.continue.q({enabled:t}),{primary:!0,onClick:n.onContinueClick,enabled:t,tooltip:r}),e._("Continue"))})),lde(ude(ude(n)),"renderFooterMessages",(function(){var e=n.state.errors;return O.a.isEmpty(e)?null:o.a.createElement("div",{className:$le.a.footerMessages},o.a.createElement(Ee.a,{type:Ee.a.NOTE_TYPES.ERROR,message:e[0]}))})),lde(ude(ude(n)),"renderFooter",(function(){return o.a.createElement("div",{className:$le.a.footer},n.renderFooterMessages(),o.a.createElement("div",{className:$le.a.footerActions},o.a.createElement("div",{className:$le.a.footerActionsLeft},n.renderBackButton()),o.a.createElement("div",{className:$le.a.footerActionsCenter}),o.a.createElement("div",{className:$le.a.footerActionsRight},n.renderContinueButton())))})),lde(ude(ude(n)),"renderActivityNameInput",(function(){var e=n.props.i18n,t=n.state,r=t.activityName,a=t.isActivityNameEditable,i=r,c=!1,s={className:$le.a.activityNameInputTooltip,label:e._("This name was supplied by your LMS platform")};return a&&(s=null,c=!0),o.a.createElement(Sa.i,nde({},le.a.activityName.q({value:i,enabled:c}),{id:"activity-name",className:$le.a.activityNameInput,label:e._("New Assignment Name"),tooltip:s,required:!0,maxLength:dde,enabled:c,value:i,onChange:function(e){n.setState({activityName:e})}}))})),lde(ude(ude(n)),"getLabelForType",(function(e){var t=n.props.i18n;switch(e){case Wu.b.INDIVIDUAL_PROJECT:return t._("Individual");case Wu.b.QA_ENHANCED:return t._("Question & Answer");case Wu.b.GROUP_PRESENTATION:return t._("Group");case Wu.b.INTERACTIVE_VIDEO:return t._("Interactive Video")}})),lde(ude(ude(n)),"renderActivityItemTypeIcon",(function(e){var t=null,n=null;switch(e){case Wu.b.INDIVIDUAL_PROJECT:t=re.a.PERSON;break;case Wu.b.QA_ENHANCED:t=re.a.QUESTION_ANSWER;break;case Wu.b.GROUP_PRESENTATION:t=re.a.GROUP;break;case Wu.b.INTERACTIVE_VIDEO:n=Tf.a.INTERACTIVE_VIDEO}return o.a.createElement(Oe.a,{className:E()($le.a.itemTypeIcon,n)},t)})),lde(ude(ude(n)),"renderActivityItem",(function(e,t){var r=n.getLabelForType(e.type);return o.a.createElement("div",{className:$le.a.itemChooserEntry},o.a.createElement("div",{className:$le.a.itemName},o.a.createElement("p",{className:$le.a.itemNameText},e.name)),o.a.createElement("div",{className:$le.a.itemType},o.a.createElement("p",{className:$le.a.itemTypeText},r),n.renderActivityItemTypeIcon(e.type)))})),lde(ude(ude(n)),"renderActivityChooser",(function(e){var t=n.props.i18n,r=n.state,a=r.isFetchingExistingActivities,i=r.existingActivities,c=r.selectedExistingActivitySource,s=[],u="",l={};switch(e){case fde.LINK_EXISTING:l=le.a.linkExistingActivityChooser,u=t._("Link to an existing assignment:"),s=O.a.filter(i,(function(e){return!e.ltiGradeIdentifier}));break;case fde.COPY_EXISTING:l=le.a.copyExistingActivityChooser,u=t._("Create a new assignment based on the selected assignment:"),s=i;break;default:return null}var d=o.a.createElement(xue,nde({},l,{isLoading:a,filterText:t._("Search existing assignments..."),items:s,selectedItem:c,itemIdField:"dbId",itemLabelField:"name",onChoose:n.onChooseExistingAcitivySource,itemRenderer:n.renderActivityItem}));return o.a.createElement("div",{className:$le.a.chooseContainer},o.a.createElement("p",{className:$le.a.chooseMessage},u),d,n.renderFooter())})),lde(ude(ude(n)),"renderOptions",(function(){var e=n.props,t=e.i18n,r=e.externalResourceId,a=Boolean(r);return o.a.createElement("div",{className:$le.a.chooseContainer},n.renderNoExternalResourceIdMessage(a),o.a.createElement("p",{className:$le.a.chooseMessage},t._("What type of Bongo assignment would you like associated with the link you clicked?")),n.renderPrimaryOptions(a),n.renderSecondaryOptions(a))})),lde(ude(ude(n)),"renderContent",(function(){var e=n.state.mode;switch(e){case fde.LINK_EXISTING:case fde.COPY_EXISTING:return n.renderActivityChooser(e);case fde.INITIAL_CHOOSER:return n.renderOptions()}})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sde(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.resetState()}},{key:"render",value:function(){var e=this.props.i18n,t=this.state.isLoading;return o.a.createElement(dle,{className:$le.a.page,contentClassName:$le.a.content,header:e._("Add an Assignment"),isLoading:t},this.renderContent())}}])&&ide(n.prototype,r),a&&ide(n,a),t}(o.a.PureComponent);mde.defaultProps={},mde.propTypes={i18n:c.a.any.isRequired,match:c.a.any.isRequired,history:c.a.any.isRequired,launchView:c.a.string,externalResourceId:c.a.string,externalResourceName:c.a.string};var bde=Object(U.withI18n)()(Object(y.k)(Object(s.b)((function(e){var t=de.e(e);return{launchView:de.c(e),viewParameters:t,externalResourceId:t[ne.e.PARAMS_EXTERNAL_RESOURCE_ID],externalResourceName:t[ne.e.PARAMS_EXTERNAL_RESOURCE_NAME]}}))(mde)));function yde(){return o.a.createElement(y.d,null,o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_COURSE_CONTENT_CREATE,component:qle}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_COURSE_CONTENT_ACTIVITY_CREATE,component:bde}))}function vde(e){return(vde="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hde(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gde(e,t){return!t||"object"!==vde(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ede(e){return(Ede=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wde(e,t){return(wde=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ode=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gde(this,Ede(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wde(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.match,t={userType:Br.a.EDUCATOR,courseId:e.params.classId,meetingId:e.params.meetingId};return o.a.createElement(ni,t)}}])&&hde(n.prototype,r),a&&hde(n,a),t}(o.a.PureComponent);Ode.defaultProps={},Ode.propTypes={match:c.a.any.isRequired};var Sde=Object(y.k)(Ode);function Cde(){return o.a.createElement(y.d,null,o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_COURSE_MEETING,component:Sde}))}function _de(e){return(_de="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ide(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Tde(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rde(e){return(Rde=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pde(e,t){return(Pde=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ade(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Nde=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,n=!(a=(e=Rde(t)).call.apply(e,[this].concat(i)))||"object"!==_de(a)&&"function"!==typeof a?Ade(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ade(Ade(n)),"loadCourse",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.a.dispatch(qe.A(!0)),e.next=3,nue.fetchCourseById(t,Br.a.EDUCATOR);case 3:n=e.sent,r=n.course,a=n.errors,O.a.isEmpty(a)&&m.a.dispatch(qe.C(r)),m.a.dispatch(qe.A(!1));case 8:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ide(o,r,a,i,c,"next",e)}function c(e){Ide(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pde(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,n=e.termClass,r=e.isTermClassLoading;if(O.a.isEmpty(n)&&!r){var a=O.a.get(t,"params.classId");this.loadCourse(+a)}}},{key:"render",value:function(){var e=this.props,t=e.termClass;return e.isTermClassLoading||!t?o.a.createElement(te.a,{loading:!0}):o.a.createElement(y.d,null,o.a.createElement(y.b,{path:Ct.h.EDUCATOR_COURSE_CONTENT_BASE,component:yde}),o.a.createElement(y.b,{path:Ct.h.EDUCATOR_COURSE_MEETING_BASE,component:Cde}))}}])&&Tde(n.prototype,r),a&&Tde(n,a),t}(o.a.PureComponent);Nde.propTypes={isTermClassLoading:c.a.bool.isRequired,termClass:c.a.object,match:c.a.object.isRequired};var jde=Object(y.k)(Object(s.b)((function(e){return{isTermClassLoading:Ye.z(e),termClass:Ye.m(e)}}))(Nde));function kde(){return o.a.createElement(y.d,null,o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_COURSE_CREATE,component:$ue}),o.a.createElement(y.b,{path:Ct.h.EDUCATOR_COURSE,component:jde}))}function Dde(e){return(Dde="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lde(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mde(e,t){return!t||"object"!==Dde(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xde(e){return(xde=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fde(e,t){return(Fde=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ude=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mde(this,xde(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fde(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.match,t={userType:Br.a.STUDENT,courseId:e.params.classId,meetingId:e.params.meetingId};return o.a.createElement(ni,t)}}])&&Lde(n.prototype,r),a&&Lde(n,a),t}(o.a.PureComponent);Ude.defaultProps={},Ude.propTypes={match:c.a.any.isRequired};var Vde=Object(y.k)(Ude);function Gde(){return o.a.createElement(y.d,null,o.a.createElement(y.b,{exact:!0,path:Ct.h.STUDENT_COURSE_ACTIVITY_MEETING,component:Vde}))}function qde(){return o.a.createElement(y.d,null,o.a.createElement(y.b,{path:Ct.h.STUDENT_COURSE_ACTIVITY_MEETING_BASE,component:Gde}))}function Bde(e){return(Bde="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wde(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qde(e,t){return!t||"object"!==Bde(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yde(e){return(Yde=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hde(e,t){return(Hde=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zde=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qde(this,Yde(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hde(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.match,t={userType:Br.a.STUDENT,courseId:e.params.classId,meetingId:e.params.meetingId};return o.a.createElement(ni,t)}}])&&Wde(n.prototype,r),a&&Wde(n,a),t}(o.a.PureComponent);zde.defaultProps={},zde.propTypes={match:c.a.any.isRequired};var Kde=Object(y.k)(zde);function Xde(){return o.a.createElement(y.d,null,o.a.createElement(y.b,{exact:!0,path:Ct.h.STUDENT_COURSE_MEETING,component:Kde}))}function Jde(e){return(Jde="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zde(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function $de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function efe(e){return(efe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tfe(e,t){return(tfe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nfe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var rfe=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,n=!(a=(e=efe(t)).call.apply(e,[this].concat(i)))||"object"!==Jde(a)&&"function"!==typeof a?nfe(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(nfe(nfe(n)),"loadCourse",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.a.dispatch(qe.A(!0)),e.next=3,nue.fetchCourseById(t,Br.a.STUDENT);case 3:n=e.sent,r=n.course,a=n.errors,O.a.isEmpty(a)&&m.a.dispatch(qe.C(r)),m.a.dispatch(qe.A(!1));case 8:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Zde(o,r,a,i,c,"next",e)}function c(e){Zde(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tfe(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,n=e.termClass,r=e.isTermClassLoading;if(O.a.isEmpty(n)&&!r){var a=O.a.get(t,"params.classId");this.loadCourse(+a)}}},{key:"render",value:function(){var e=this.props,t=e.termClass;return e.isTermClassLoading||!t?o.a.createElement(te.a,{loading:!0}):o.a.createElement(y.d,null,o.a.createElement(y.b,{path:Ct.h.STUDENT_COURSE_ACTIVITY_BASE,component:qde}),o.a.createElement(y.b,{path:Ct.h.STUDENT_COURSE_MEETING_BASE,component:Xde}))}}])&&$de(n.prototype,r),a&&$de(n,a),t}(o.a.PureComponent);rfe.propTypes={isTermClassLoading:c.a.bool.isRequired,termClass:c.a.object,match:c.a.object.isRequired};var afe=Object(y.k)(Object(s.b)((function(e){return{isTermClassLoading:Ye.z(e),termClass:Ye.m(e)}}))(rfe));function ofe(){return o.a.createElement(y.d,null,o.a.createElement(y.b,{path:Ct.h.STUDENT_COURSE,component:afe}))}function ife(e){return(ife="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sfe(e,t){return!t||"object"!==ife(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ufe(e){return(ufe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lfe(e,t){return(lfe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dfe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=sfe(this,ufe(t).call(this,e)),Ec.getUserData(),Oc.a.initialize(),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lfe(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.institution,r=t.dispatch,a=e.trialExpirationDate;if(Cc.a.isTrialExpired(a)){var o=e.location,i=e.history;Cc.a.isTrialPath(o.pathname)||Cc.a.rerouteToTrialsPage(o.pathname,i)}var c=e.institution;c&&n!==c&&(Object(Sc.i)(c)||Object(Sc.h)(c))&&(r(qe.D(_.c)),pt.a.applyTheme(_.c))}},{key:"render",value:function(){var e=this.props,t=e.isFetchingCurrentUser,n=e.currentUser;if(!n)return t?o.a.createElement(te.a,{loading:!0}):null;if(n.showTermsAndConditions||!n.isNameSet)return o.a.createElement(ps,{currentUser:n});var r=this.props,a=r.trialExpirationDate,i=r.location;if(Cc.a.isTrialExpired(a)&&!Cc.a.isTrialPath(i.pathname))return null;var c=this.props,s=c.institution,u=c.integrationMode;if(Object(Sc.i)(s)&&!u){var l=Object(y.g)(i.pathname,{path:Ct.b,exact:!1});if(l){var d=l.params.classId;if(d=d?+d:null,O.a.isNumber(d))return wc.a.getClassData(+d),o.a.createElement(te.a,{loading:!0})}}return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.b,{path:Ct.h.EDUCATOR_ACTIVITY,component:Vse}),o.a.createElement(y.b,{path:Ct.h.EDUCATOR_COURSE_BASE,component:kde}),o.a.createElement(y.b,{path:Ct.h.STUDENT_COURSE_BASE,component:ofe}),o.a.createElement(y.b,{path:Ct.d.STUDENT_ACTIVITY,component:WA}),o.a.createElement(y.b,{path:Ct.d.STUDENT_ACTIVITY_LIST,component:VZ}),o.a.createElement(y.b,{exact:!0,path:Ct.d.EDUCATOR_ACTIVITY_SETTINGS,component:$q}),o.a.createElement(y.b,{exact:!0,path:Ct.d.EDUCATOR_ACTIVITY_GROUP_FORMATION,component:iB}),o.a.createElement(y.b,{exact:!0,path:Ct.d.EDUCATOR_ACTIVITY_LIST,component:cY}),o.a.createElement(y.b,{exact:!0,path:Ct.d.EDUCATOR_GRADEBOOK,render:function(){return o.a.createElement(_c.a,{destinationPath:Ct.h.EDUCATOR_ACTIVITY_OVERVIEW})}}),o.a.createElement(y.b,{exact:!0,path:Ct.d.EDUCATOR_ACTIVITY_GRADING,render:function(){return o.a.createElement(_c.a,{destinationPath:Ct.h.EDUCATOR_ACTIVITY_STUDENT_DETAILS})}}),o.a.createElement(y.b,{exact:!0,path:Ct.d.EDUCATOR_ACTIVITY_STUDENT_PROGRESS,render:function(){return o.a.createElement(_c.a,{destinationPath:Ct.h.EDUCATOR_ACTIVITY_STUDENT_DETAILS})}}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_GRADEBOOK,render:function(){return o.a.createElement(_c.a,{destinationPath:Ct.h.EDUCATOR_ACTIVITY_OVERVIEW})}}),o.a.createElement(y.b,{path:Ct.h.STUDENT_RESOURCE_ERROR,component:Es}),o.a.createElement(y.b,{path:Ct.h.STUDENT_ACTIVITY,component:WA}),o.a.createElement(y.b,{exact:!0,path:Ct.h.STUDENT_ACTIVITY_LIST,component:VZ}),o.a.createElement(y.b,{path:Ct.h.STUDENT_MEETINGS_LIST,component:C$}),o.a.createElement(y.b,{exact:!0,path:Ct.h.GROUP_FORMATION_NOT_IN_GROUP,component:WI}),o.a.createElement(y.b,{exact:!0,path:Ct.h.GROUP_FORMATION_SYSTEM,component:k5}),o.a.createElement(y.b,{path:Ct.h.STUDENT_STANDALONE_RECORDER,component:D$}),o.a.createElement(y.b,{path:Ct.h.EDUCATOR_STANDALONE_RECORDER,component:D$}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_ACTIVITY_SETTINGS,component:$q}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_ACTIVITY_GROUP_FORMATION,component:iB}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_CREATE_GROUP_ACTIVITY,component:hB}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_CREATE_INDIVIDUAL_ACTIVITY,component:RB}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_CREATE_QA_ACTIVITY,component:nW}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_CREATE_INTERACTIVE_VIDEO_ACTIVITY,component:UB}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_LIBRARY,component:uQ}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_ACTIVITY_LIST,component:cY}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_RUBRICS_LIST,component:ZY}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_RUBRIC_CREATE,component:OH}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_RUBRIC_EDIT,component:DH}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_RUBRIC_COPY,component:YH}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_RUBRIC_IMPORT,component:bz}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_MEETINGS,component:pZ}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_HELP,component:L8}),o.a.createElement(y.b,{exact:!0,path:Ct.h.STUDENT_HELP,component:J8}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_MEETING_PREVIEW,component:g2}),o.a.createElement(y.b,{exact:!0,path:Ct.h.STUDENT_MEETING_PREVIEW,component:g2}),o.a.createElement(y.b,{exact:!0,path:Ct.h.STUDENT_SETTINGS,component:S7}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_SETTINGS,component:M7}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_NOTIFICATIONS,component:y3}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_TEMPLATE_SETTINGS,component:c4}),o.a.createElement(y.b,{exact:!0,path:Ct.h.EDUCATOR_TRIAL,component:E4}),o.a.createElement(y.b,{exact:!0,path:Ct.h.STUDENT_TRIAL,component:D4}),o.a.createElement(y.b,{exact:!0,path:Ct.h.STUDENT_NOTIFICATIONS,component:k3}),o.a.createElement(y.b,{path:"/educator/class/:classId",component:jc}),o.a.createElement(y.b,{path:"/student/class/:classId",component:jc}))}}])&&cfe(n.prototype,r),a&&cfe(n,a),t}(o.a.PureComponent);dfe.defaultProps={isFetchingCurrentUser:!0},dfe.propTypes={isFetchingCurrentUser:c.a.bool,currentUser:c.a.object,institution:c.a.object,integrationMode:c.a.string,trialExpirationDate:c.a.any,history:c.a.any,location:c.a.any,dispatch:c.a.any};var ffe=Object(y.k)(Object(s.b)((function(e){return{isFetchingCurrentUser:Qe.d(e),currentUser:Qe.h(e),institution:Ye.i(e),integrationMode:Ye.j(e),trialExpirationDate:Ye.s(e)}}))(dfe));function pfe(e){return(pfe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bfe(e,t){return!t||"object"!==pfe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yfe(e){return(yfe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vfe(e,t){return(vfe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hfe=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bfe(this,yfe(t).call(this,e))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vfe(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.location,t=_t.isAnonymousPath(e.pathname);return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.b,{path:"/",component:St}),o.a.createElement(zi,null),t?null:o.a.createElement(ffe,null))}}])&&mfe(n.prototype,r),a&&mfe(n,a),t}(o.a.PureComponent);hfe.propTypes={location:c.a.any};var gfe=Object(y.k)(hfe);n("tPwa");function Efe(e){return(Efe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ofe(e){return(Ofe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sfe(e,t){return(Sfe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cfe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ife={GLOBAL:{TOGGLE_BUBBLES:"command+ctrl+b",TOGGLE_ENVIRONMENT_INFO:["alt+`","alt+i"],TOGGLE_THEME_INFO:"alt+t",TOGGLE_DEBUG_OUTLINE:["alt+shift+`","alt+o"]}},Tfe=new h.ShortcutManager(Ife);Tfe.setKeymap(Ife);var Rfe=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Ofe(t).call(this,e),n=!a||"object"!==Efe(a)&&"function"!==typeof a?Cfe(r):a,_fe(Cfe(Cfe(n)),"onRouteChange",(function(e){(0,n.props.dispatch)(S.b(e)),dt.a.closeModal(),ft.a.removeAllOfType(ft.a.TYPES.ERROR)})),_fe(Cfe(Cfe(n)),"closeUnsupportedDialog",(function(){(0,n.props.dispatch)(C.b()),n.setState({showUnsupportedBrowserDialog:!1})})),_fe(Cfe(Cfe(n)),"checkForUnsupportedDialogMessage",(function(){var e=n.props.hasUnsupportedBrowserMessageBeenDismissed;bt.b()||e||mt.a.isRecorderSupported()||n.setState({showUnsupportedBrowserDialog:!0})})),_fe(Cfe(Cfe(n)),"handleShortcuts",(function(e){var t=n.state,r=t.showBubbles,a=t.showDebugOutline;switch(e){case"TOGGLE_BUBBLES":n.setState({showBubbles:!r});break;case"TOGGLE_ENVIRONMENT_INFO":dt.a.showModal(o.a.createElement(L.a,{onHide:dt.a.closeModal}));break;case"TOGGLE_DEBUG_OUTLINE":n.setState({showDebugOutline:!a});break;case"TOGGLE_THEME_INFO":dt.a.showModal(o.a.createElement(M.a,{onHide:dt.a.closeModal}))}})),_fe(Cfe(Cfe(n)),"renderContent",(function(){var e=n.props,t=e.isEnvironmentConfigLoading,r=e.environmentConfigErrors,a=e.currentModal;if(t)return o.a.createElement(te.a,{loading:!0});if(!O.a.isEmpty(r))return o.a.createElement(Me,{details:O.a.join(r,"; ")});var i=n.state,c=i.showBubbles,s=i.showUnsupportedBrowserDialog;return o.a.createElement(o.a.Fragment,null,o.a.createElement(gfe,null),a,s&&o.a.createElement(ee,{onClose:n.closeUnsupportedDialog}),o.a.createElement(v.ToastContainer,{bodyClassName:"notification-item-body",className:"notification-container",toastClassName:"notification-item",autoClose:!1,closeButton:!1,draggable:!1,position:v.toast.POSITION.TOP_RIGHT,hideProgressBar:!0}),c&&o.a.createElement(D,null))}));var i=e.dispatch,c=e.history;return bt.b()&&document.body.classList.add("bongo-ios"),pt.a.applyTheme(_.b),at.a.initialize(),rt.initialize(),yt.a.monitorWindowChanges(),i(S.b(c.location)),c.listen(n.onRouteChange),n.state={showBubbles:!1,showDebugOutline:!1,showUnsupportedBrowserDialog:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sfe(e,t)}(t,e),n=t,(r=[{key:"componentDidCatch",value:function(e,t){l.b.warn(e,t)}},{key:"componentDidMount",value:function(){this.checkForUnsupportedDialogMessage()}},{key:"getChildContext",value:function(){return{shortcuts:Tfe}}},{key:"render",value:function(){var e=this.props.transferConfig,t=this.state.showDebugOutline;return o.a.createElement("div",{className:E()("bongo-app")},o.a.createElement(b.Helmet,null,e&&o.a.createElement("script",{type:"text/javascript",src:"https://www.dropbox.com/static/api/2/dropins.js",id:"dropboxjs","data-app-key":e.dropbox.appKey})),o.a.createElement(h.Shortcuts,{name:"GLOBAL",handler:this.handleShortcuts,global:!0,isolate:!0,className:E()("page-debug-outline",t&&"page-debug-outline--active")},this.renderContent()))}}])&&wfe(n.prototype,r),a&&wfe(n,a),t}(o.a.PureComponent);Rfe.defaultProps={},Rfe.propTypes={transferConfig:c.a.object,currentModal:c.a.object,hasUnsupportedBrowserMessageBeenDismissed:c.a.bool,customizations:c.a.object,isEnvironmentConfigLoading:c.a.bool,environmentConfigErrors:c.a.array,featureConfig:c.a.object,history:c.a.any,location:c.a.any,dispatch:c.a.any},Rfe.childContextTypes={shortcuts:c.a.object.isRequired};var Pfe=Object(y.k)(Object(s.b)((function(e){return{transferConfig:Ye.o(e),currentModal:st(e),hasUnsupportedBrowserMessageBeenDismissed:lt(e),customizations:de.a(e),isEnvironmentConfigLoading:Ye.k(e),environmentConfigErrors:Ye.c(e),featureConfig:Ye.d(e)}}))(Rfe));function Afe(e){return(Afe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jfe(e){return(jfe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kfe(e,t){return(kfe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dfe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Lfe="application/xml",Mfe=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,n=!(a=(e=jfe(t)).call.apply(e,[this].concat(i)))||"object"!==Afe(a)&&"function"!==typeof a?Dfe(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Dfe(Dfe(n)),"state",{cursorSrc:void 0,zoomsSrc:void 0,chatSrc:void 0,shapesSrc:void 0,videoSrc:void 0,captionSrc:void 0,slaveVideoSrc:void 0,eventsSrc:void 0,showPlayer:!1}),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kfe(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.setup()}},{key:"setup",value:function(){var e=document.querySelector('[data-path="video"]'),t=document.querySelector('[data-path="slave-video"]'),n=e.innerHTML,r=document.querySelector('[data-path="caption.vtt"]'),a=null,o=null;t&&(a=t.innerHTML),r&&(o=this.getLink(r,"text/vtt"));var i=document.querySelector('[data-path="cursor.xml"]'),c=document.querySelector('[data-path="panzooms.xml"]'),s=document.querySelector('[data-path="slides_new.xml"]'),u=document.querySelector('[data-path="shapes.svg"]'),l=document.querySelector('[data-path="events.xml"]'),d=this.getLink(i,Lfe),f=this.getLink(c,Lfe),p=this.getLink(s,Lfe),m=this.getLink(l,Lfe),b=this.getLink(u,"image/svg+xml");this.setState({cursorSrc:d,zoomsSrc:f,chatSrc:p,shapesSrc:b,videoSrc:n,slaveVideoSrc:a,captionSrc:o,eventsSrc:m,showPlayer:!0})}},{key:"getLink",value:function(e,t){var n=new Blob([e.innerHTML],{type:t});return URL.createObjectURL(n)}},{key:"render",value:function(){var e=this.state,t=e.cursorSrc,n=e.zoomsSrc,r=e.chatSrc,a=e.shapesSrc,i=e.videoSrc,c=e.slaveVideoSrc,s=e.showPlayer,u=e.captionSrc,l=e.eventsSrc;if(!s)return o.a.createElement("span",null);var d=null;return u&&(d={src:u,label:"En",kind:"captions"}),o.a.createElement("div",null,o.a.createElement(Ir.a,{svgUrl:a,cursorUrl:t,zoomsUrl:n,caption:d,chatMessagesUrl:r,eventsUrl:l,playerId:"Downloaded bbb player",mainStreamUrl:i,slaveStreamUrl:c}))}}])&&Nfe(n.prototype,r),a&&Nfe(n,a),t}(a.Component),xfe=n("5Lwc");function Ffe(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    mutation editUserLocale($input: EditUserLocaleInput!) {\n        editUserLocale(input: $input) {\n            user {\n                dbId\n            }\n        }\n    }\n"]);return Ffe=function(){return e},e}var Ufe=function(e){return new Promise((function(){xe.a.mutate({mutation:Vfe,variables:{input:{locale:e}}})})).catch((function(e){return l.b.debug(e)}))},Vfe=Ue()(Ffe()),Gfe=n("8OJ3");function qfe(e){return(qfe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bfe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Kfe(e,t,n[t])}))}return e}function Wfe(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Qfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yfe(e){return(Yfe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hfe(e,t){return(Hfe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zfe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kfe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xfe=function(e){function t(){var e,r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return a=this,o=(e=Yfe(t)).call.apply(e,[this].concat(c)),r=!o||"object"!==qfe(o)&&"function"!==typeof o?zfe(a):o,Kfe(zfe(zfe(r)),"state",{catalogs:{}}),Kfe(zfe(zfe(r)),"loadMessages",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.loadMomentMessages(t),r.loadVideoJsMessages(t),a=Object(Zi.b)(t),l.b.debug("Attempting to load locale message bundle for '".concat(a,"' (","locale/".concat(a,"/messages"),")...")),e.next=6,n("pX12")("./".concat(a,"/messages"));case 6:o=e.sent,l.b.debug("Message bundle loaded (".concat("locale/".concat(a,"/messages"),")")),i=r.state.catalogs,r.setState({catalogs:Bfe({},i,Kfe({},t,o))});case 10:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Wfe(o,r,a,i,c,"next",e)}function c(e){Wfe(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),Kfe(zfe(zfe(r)),"loadVideoJsMessages",(function(e){window.videojs=Gfe.a;var t=Object(Zi.h)(e);t&&(l.b.debug("Attempting to load videojs locale message bundle for '".concat(t,"' (","video.js/dist/lang/".concat(t),")...")),n("mqCC")("./".concat(t)).then((function(){l.b.debug("videojs message bundle loaded (".concat("video.js/dist/lang/".concat(t),")"))})).catch((function(e){l.b.debug("Unable to load videojs locale message bundle for '".concat(t,"'"),e)})))})),Kfe(zfe(zfe(r)),"loadMomentMessages",(function(e){var t=Object(Zi.d)(e);t&&(l.b.debug("Attempting to load moment locale message bundle for '".concat(t,"' (","locale/".concat(t,"/messages"),")...")),n("mLCR")("./".concat(t)).then((function(){l.b.debug("Moment message bundle loaded (".concat("moment/locale/".concat(t),")")),Ea.a.locale(t)})).catch((function(e){l.b.debug("Unable to load moment locale message bundle for '".concat(t,"'"),e)})))})),Kfe(zfe(zfe(r)),"getLanguage",(function(e){var t=e?e.frontend:"en-US";return Object(Zi.g)(t)})),r}var r,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hfe(e,t)}(t,e),r=t,(a=[{key:"componentDidMount",value:function(){var e=this.props.locale,t=this.getLanguage(e);this.loadMessages(t),Object(Zi.j)(e)&&Ufe(Object(Zi.c)(t))}},{key:"shouldComponentUpdate",value:function(e,t){var n=e.locale,r=t.catalogs,a=this.getLanguage(n);return!!r[a]||(Object(Zi.j)(n)&&Ufe(Object(Zi.c)(a)),l.b.debug("Locale has changed to '".concat(a,"'")),this.loadMessages(a),!1)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.locale,r=this.state.catalogs,a=this.getLanguage(n);return o.a.createElement(U.I18nProvider,{catalogs:r,language:a},t)}}])&&Qfe(r.prototype,a),i&&Qfe(r,i),t}(o.a.Component),Jfe=Object(s.b)((function(e){return{locale:jS.a(e)}}))(Xfe);n("9XMF");function Zfe(e){return(Zfe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function epe(e,t){return!t||"object"!==Zfe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tpe(e){return(tpe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function npe(e,t){return(npe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rpe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),epe(this,tpe(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&npe(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){xfe.b(),f()}},{key:"render",value:function(){var e=this.props.basename,t=o.a.createElement(u.a,{basename:e},o.a.createElement(Pfe,null));return Object(Se.b)()&&(t=o.a.createElement(Mfe,null)),o.a.createElement(s.a,{store:m.a},o.a.createElement(Jfe,null,t))}}])&&$fe(n.prototype,r),a&&$fe(n,a),t}(o.a.PureComponent);rpe.defaultProps={basename:"/spa"},rpe.propTypes={basename:c.a.string};t.default=rpe},"+psP":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("AsxP"),u=n.n(s),l=n("C721"),d=n("LvDl"),f=n.n(d),p=n("8bCP"),m=n("LMP5");function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E="[eventname='RecordStatusEvent']",w=new RegExp(/^(image\d+-)?text\d+/),O=new RegExp(/^image\d+-poll\d+/),S=function(){function e(t){var n=this,r=t.svgUrl,a=t.cursorUrl,o=t.zoomsUrl,i=t.chatMessagesUrl,c=t.eventsUrl;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"parseRecordingIntervals",(function(){var e=[],t=[];n.eventsDocument(E).each((function(n,r){var a=+r.attribs.timestamp;r.children.forEach((function(n){"status"===n.name&&"true"===n.children[0].data&&e.push(a),"status"===n.name&&"false"===n.children[0].data&&t.push(a)}))})),t.sort((function(e,t){return e-t})),e.sort((function(e,t){return e-t}));var r=[];return e.forEach((function(e,n){var a=0,o=r[n-1];o&&(a=o.gap+(e-o.end));var i=t[n]||1/0;r.push({start:e,end:i,gap:a})})),r})),g(this,"calculateNormalizedTimestamp",(function(e){var t,r;return n.recordingIntervals.forEach((function(a,o){if(e>=a.start&&e<=a.end)t=a;else{var i=n.recordingIntervals[o-1];e<a.start&&(!i||i.end<e)&&(r=a)}})),t||r?t?(e-n.recordingIntervals[0].start-t.gap)/1e3:(r.start-n.recordingIntervals[0].start-r.gap)/1e3:1/0})),this.svgUrl=r,this.cursorUrl=a,this.zoomsUrl=o,this.chatMessagesUrl=i,this.eventsUrl=c,this.parsedData={}}var t,n,r;return t=e,(n=[{key:"parse",value:function(){var e=this;return Promise.all([this.parseSvg(),this.parseCursor(),this.parseZooms(),this.parseMessages(),this.parseDeskshareAppearance()]).then((function(){return e.parsedData}))}},{key:"parseDeskshareAppearance",value:function(){var e=this;return l.a.get(this.eventsUrl).then((function(t){e.eventsDocument=u.a.load(t.data,{xmlMode:!0,normalizeWhitespace:!0}),e.recordingIntervals=e.parseRecordingIntervals(),e.parsedData.deskshareShowTimes=e.parseDeskshareShowTimes(),p.b.debug(e.parsedData.deskshareShowTimes,e.parsedData.whiteboardShowTimes)}))}},{key:"parseDeskshareShowTimes",value:function(){var e=this;try{var t=[];this.eventsDocument("[eventname='StartDeskshareEvent']").toArray().concat(this.eventsDocument("[eventname='ShowDeskshareEvent']").toArray()).forEach((function(e){return t.push({timestamp:+e.attribs.timestamp,type:"[eventname='StartDeskshareEvent']"})})),this.eventsDocument("[eventname='StopDeskshareEvent']").toArray().concat(this.eventsDocument("[eventname='HideDeskshareEvent']").toArray()).forEach((function(e){return t.push({timestamp:+e.attribs.timestamp,type:"[eventname='StopDeskshareEvent']"})})),t.sort((function(e,t){return e.timestamp-t.timestamp})),t=t.map((function(t){return v({},t,{timestamp:e.calculateNormalizedTimestamp(t.timestamp)})}));var n=[],r=!1,a=0;return t.forEach((function(e){"[eventname='StartDeskshareEvent']"!==e.type||r?"[eventname='StopDeskshareEvent']"===e.type&&r&&(r=!1,n.push({in:a,out:e.timestamp})):(r=!0,a=e.timestamp)})),r&&n.push({in:a,out:1/0}),n}catch(o){p.b.warn("Presentation parser::parseDeskshareShowTimes",o)}}},{key:"parseSvg",value:function(){var e=this;return l.a.get(this.svgUrl).then((function(t){e.svgDocument=u.a.load(t.data,{xmlMode:!0,normalizeWhitespace:!0}),e.parsedData.slides=e.getSlidesData(),e.parsedData.shapes=e.getShapes()}))}},{key:"parseCursor",value:function(){var e=this;return l.a.get(this.cursorUrl).then((function(t){e.cursorEventsDocument=u.a.load(t.data,{xmlMode:!0,normalizeWhitespace:!0}),e.parsedData.cursor=e.getCursorData()}))}},{key:"parseZooms",value:function(){var e=this;return l.a.get(this.zoomsUrl).then((function(t){e.zoomEventsDocument=u.a.load(t.data,{xmlMode:!0,normalizeWhitespace:!0}),e.parsedData.zooms=e.getZoomData()}))}},{key:"parseMessages",value:function(){var e=this;return l.a.get(this.chatMessagesUrl).then((function(t){e.chatMessagesDocument=u.a.load(t.data,{xmlMode:!0,normalizeWhitespace:!0});var n=e.getMessagesData(),r=n.messages,a=n.files;e.parsedData.messages=r,e.parsedData.files=a,e.parsedData.chatLogFile=e.createChatLogFile()}))}},{key:"getMessagesData",value:function(){var e=[],t=[];return this.chatMessagesDocument("chattimeline").map((function(n,r){try{if("chat"!==r.attribs.target)return null;var a={timestamp:+r.attribs.in,senderName:r.attribs.name,messageText:r.attribs.message.trim()},o=a.messageText.match(/<\s*a\s+[^\s]*\s?href\s*=\s*["']([^'"]*?)['"].*?>([^>]+)<\s*\/a\s*>/);if(o){var i=y(o,3),c=i[0],s=i[1],u=i[2];if(c&&s&&u)return a.fileSrc=s,a.fileName=u,t.push(a)}e.push(a)}catch(l){p.b.warn("Presentation parser::getMessagesData",l)}return null})),{messages:e,files:t}}},{key:"createChatLogFile",value:function(){var e=this,t=[].concat(b(this.parsedData.messages),b(this.parsedData.files));if(0!==t.length){t=f.a.sortBy(t,["timestamp"]);var n="";return t.forEach((function(t){var r=m.c(t.timestamp),a=r.hours,o=r.minutes,i=r.seconds,c="";c+=(a=m.a(a))+":"+(o=m.a(o))+":"+(i=m.a(i)),c+=" ",c+=t.senderName+": \n",c+=e.repeatString(" ",6),t.fileName?c+=t.fileName:c+=f.a.unescape(t.messageText),c+="\n",c+=e.repeatString(" ",4),n+=c+="\n"})),new Blob([n],{type:"data:application/octet-stream"})}}},{key:"repeatString",value:function(e,t){return new Array(t+1).join(e)}},{key:"getZoomData",value:function(){var e=this,t=[];return this.zoomEventsDocument("event").map((function(n,r){try{var a=+r.attribs.timestamp;if(a<5)return null;var o=e.zoomEventsDocument(r).find("viewBox")[0].children[0].data;t.push({viewBox:o,timestamp:a})}catch(i){p.b.warn("Presentation parser::getZoomData",i)}return null})),t}},{key:"getCursorData",value:function(){var e=this,t=[];return this.cursorEventsDocument("event").map((function(n,r){try{var a=+r.attribs.timestamp,o=e.cursorEventsDocument(r).find("cursor")[0].children[0].data.split(" ");t.push({timestamp:a,x:+o[0]/800*100,y:+o[1]/600*100})}catch(i){p.b.warn("Presentation parser::getCursorData",i)}return null})),t}},{key:"getSlidesData",value:function(){var e=this.svgDocument("image.slide").map((function(e,t){try{var n,r=t.attribs["xlink:href"];return r?(n=t.attribs.out.split(" ").map((function(e){return+e})),{src:r,showTimes:t.attribs.in.split(" ").map((function(e,t){return{showAt:+e,hideAt:n[t]}})),height:t.attribs.height,width:t.attribs.width,id:t.attribs.id}):null}catch(a){p.b.warn("Presentation parser::getSlidesData",a)}return null}));return f.a.compact(e)}},{key:"getShapes",value:function(){var e=this,t=this.svgDocument(".shape");return t=t.map((function(t,n){try{var r=e.svgDocument(n).find("path")[0],a=e.svgDocument(n).find("polyline")[0],o=e.svgDocument(n).find("polygon")[0],i=e.svgDocument(n).find("line")[0],c=e.svgDocument(n).find("circle")[0],s=e.svgDocument(n).find("foreignObject")[0],u=null,l=e.svgDocument(n).is("g[shape*='poll_result']"),d=n.attribs.shape;l||(l=O.test(d));var m=n.parent.attribs.image,b=w.test(d);if(b&&((u=e.svgDocument(s).find("p")[0])||(u=e.svgDocument(n).find("div")[0])),!r&&!a&&!o&&!i&&!c&&!b&&!l)return null;var y={style:n.attribs.style.replace(/visibility:hidden;?/,""),showTimes:[{showAt:+n.attribs.timestamp,hideAt:e.getShapeHideTime(n)}],slideId:m};if(l){var h=e.svgDocument(n).find("rect")[0],g=e.svgDocument(n).find("image")[0];y.rect={width:+h.attribs.width,height:+h.attribs.height,x:+h.attribs.x,y:+h.attribs.y},y.image={href:g.attribs["xlink:href"],width:+g.attribs.width,height:+g.attribs.height,x:+g.attribs.x,y:+g.attribs.y,transform:g.attribs.transform},y.isPath=!1,y.isPolyline=!1,y.isPolygon=!1,y.isLine=!1,y.isCircle=!1,y.isText=!1,y.isPolling=!0}if(r&&(y.points=r.attribs.d,y.isPath=!0,y.isPolyline=!1,y.isPolygon=!1,y.isLine=!1,y.isCircle=!1,y.isText=!1),a&&(y.points=a.attribs.points,y.isPath=!1,y.isPolyline=!0,y.isPolygon=!1,y.isLine=!1,y.isCircle=!1,y.isText=!1),o&&(y.points=o.attribs.points,y.isPath=!1,y.isPolyline=!1,y.isPolygon=!0,y.isLine=!1,y.isCircle=!1,y.isText=!1),i&&(y.points=[i.attribs.x1,i.attribs.y1,i.attribs.x2,i.attribs.y2],y.isPath=!1,y.isPolyline=!1,y.isPolygon=!1,y.isLine=!0,y.isCircle=!1,y.isText=!1),c&&(y.points=v({},c.attribs||{}),y.isPath=!1,y.isPolyline=!1,y.isPolygon=!1,y.isLine=!1,y.isCircle=!0,y.isText=!1),b&&u){var E=[];u.children&&(E=f.a.map(u.children,(function(e){return"text"===e.type?e.data:null})),E=f.a.compact(E)),y.textParams={color:s.attribs.color,width:s.attribs.width,height:s.attribs.height,x:s.attribs.x,y:s.attribs.y,text:E.join("\n")},y.isPath=!1,y.isPolyline=!1,y.isPolygon=!1,y.isLine=!1,y.isText=!0}return y}catch(S){p.b.warn("Presentation parser::getShapes",S)}return null})),f.a.compact(t)}},{key:"getShapeHideTime",value:function(e){for(var t=-1===+e.attribs.undo?1/0:+e.attribs.undo,n=e.attribs.shape,r=e.next;r;)try{if(r.attribs&&r.attribs.shape===n){t=+r.attribs.timestamp;break}if(r.attribs&&r.attribs.shape&&r.attribs.shape!==n)break;r=r.next}catch(a){p.b.warn("Presentation parser::getShapeHideTime",a)}return t}},{key:"inlineStyleToObject",value:function(e){var t={};return e.split("; ").forEach((function(e){if(e){var n=e.split(":");t[n[0].trim()]=n[1].trim()}})),delete t.visibility,t}}])&&h(t.prototype,n),r&&h(t,r),e}(),C=(n("yScL"),n("/MKj")),_=n("RMfM"),I=n("TSYQ"),T=n.n(I),R=(n("C8y4"),n("q8N1"));function P(e){return(P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==P(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N(this,j(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(r=[{key:"renderThumbnails",value:function(){var e=this,t=this.props.slides,n=[];return t.forEach((function(e){e.showTimes.forEach((function(t){n.push({id:e.id,src:e.src,showAt:t.showAt,hideAt:t.hideAt})}))})),n.sort((function(e,t){return e.showAt-t.showAt})),n.map((function(t,n){return e.renderThumbnail(t,n)}))}},{key:"renderThumbnail",value:function(e,t){var n=this.props,r=n.currentPlaybackTime,o=n.currentSlide,i=n.i18n,c=n.seekPlayer,s=o&&o.id===e.id;(r<e.showAt||r>=e.hideAt)&&(s=!1);var u,l,d,f=m.c(e.showAt),p=f.hours,b=f.minutes,y=f.seconds;return a.a.createElement("div",{key:e.id+t,role:"button",tabIndex:0,"aria-label":i._("Slide started at {hours} hours, {minutes} minutes, {seconds} seconds of presentation",{hours:p,minutes:b,seconds:y}),className:T()("c-bbb-player__thumbnail",(u={},l="c-bbb-player__thumbnail--active",d=s,l in u?Object.defineProperty(u,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[l]=d,u)),onKeyDown:Object(R.b)((function(){c(e.showAt)})),onClick:function(){c(e.showAt)}},a.a.createElement("img",{src:e.src,alt:i._("Thumbnail"),onDragStart:function(e){return e.preventDefault()},className:"c-bbb-player__thumbnail-image"}),a.a.createElement("p",{className:"c-bbb-player__thumbnail-time"},this.formatTime(e.showAt)))}},{key:"formatTime",value:function(e){var t=m.c(e),n=t.seconds,r=t.minutes,a=t.hours;return n=m.a(n),r=m.a(r),a=m.a(a),"".concat(a,":").concat(r,":").concat(n)}},{key:"render",value:function(){return a.a.createElement("div",{className:"c-bbb-player__thumbnails_holder"},a.a.createElement("div",{className:"c-bbb-player__thumbnails"},this.renderThumbnails()))}}])&&A(n.prototype,r),o&&A(n,o),t}(r.Component);D.propTypes={slides:i.a.array,currentPlaybackTime:i.a.number,currentSlide:i.a.object,seekPlayer:i.a.func};var L=Object(c.withI18n)()(D);n("oUO/");function M(e){return(M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return!t||"object"!==M(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F(this,U(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,e),n=t,(r=[{key:"getViewBox",value:function(){var e=this.props.currentSlide,t=this.getCurrentZoom(),n=[0,0,0,0].join(" ");return e&&(n=[0,0,e.width,e.height].join(" ")),t&&(n=t.viewBox),n}},{key:"getCurrentZoom",value:function(){for(var e=this.props,t=e.currentPlaybackTime,n=e.zooms,r=null,a=0;a<n.length;a++){var o=n[a],i=n[a+1];if(t>=o.timestamp&&(!i||t<i.timestamp)){r=o;break}}return r}},{key:"renderCurrentSlide",value:function(){var e=this.props.currentSlide;if(!e)return null;var t=e.src,n=e.height,r=e.width;return a.a.createElement("image",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",key:t,xlinkHref:t,height:n,width:r,x:"0"})}},{key:"renderShapes",value:function(){var e=this,t=this.props,n=t.shapes,r=t.currentSlide,o=n.map((function(t,n){var o=t.style,i=t.showTimes,c=t.points,s=t.isPath,u=t.isPolyline,l=t.isPolygon,d=t.isLine,f=t.isCircle,p=t.isText,m=t.textParams,b=t.isPolling;return e.props.canShowNow(i)&&r&&t.slideId===r.id?a.a.createElement("g",{key:n,ref:function(e){return e&&e.setAttribute("style",o)}},s&&a.a.createElement("path",{d:c}),u&&a.a.createElement("polyline",{points:c}),l&&a.a.createElement("polygon",{points:c}),d&&a.a.createElement("line",{x1:c[0],y1:c[1],x2:c[2],y2:c[3]}),f&&a.a.createElement("circle",c),p&&a.a.createElement("switch",{xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("foreignObject",{color:m.color,width:m.width,height:m.height,x:m.x,y:m.y},a.a.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{whiteSpace:"pre-wrap"}},m.text))),b&&a.a.createElement("g",null,a.a.createElement("rect",{x:t.rect.x,y:t.rect.y,width:t.rect.width,height:t.rect.height,fill:"white",stroke:"black",strokeWidth:"4"}),a.a.createElement("image",{xlinkHref:t.image.href,height:t.image.height,width:t.image.width,x:t.image.x,y:t.image.y,transform:t.image.transform}))):null}));return a.a.createElement("g",null,o)}},{key:"renderCursor",value:function(){var e=this.getCurrentCursor();return e||(e={x:0,y:0}),a.a.createElement("div",{className:"c-bbb-player__cursor",style:{left:e.x+"%",top:e.y+"%"}})}},{key:"getCurrentCursor",value:function(){for(var e=this.props,t=e.currentPlaybackTime,n=e.cursor,r=null,a=0;a<n.length;a++){var o=n[a],i=n[a+1];if(t>=o.timestamp&&(!i||t<i.timestamp)){r=o;break}}return r}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"c-bbb-player__presentation"},a.a.createElement("div",{className:"c-bbb-player__slides"},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",ref:function(t){return e.svg=t},xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",viewBox:this.getViewBox()},this.renderCurrentSlide(),this.renderShapes()),this.renderCursor()))}}])&&x(n.prototype,r),o&&x(n,o),t}(r.Component);G.propTypes={currentSlide:i.a.object,currentPlaybackTime:i.a.number,zooms:i.a.array,shapes:i.a.array,cursor:i.a.array,canShowNow:i.a.func};n("lDEH");var q=n("8For"),B=n("LFYD"),W=n("jpbM"),Q=n.n(W),Y=n("Iab2"),H=n.n(Y),z=n("Onr9");function K(e){return(K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=J(t).call(this,e),n=!o||"object"!==K(o)&&"function"!==typeof o?$(r):o,ee($($(n)),"handleScrollChange",(function(e){var t=e.target,r=Math.ceil(t.scrollTop+t.offsetHeight)>=t.scrollHeight;n.setState({isTailing:r})})),ee($($(n)),"downloadChatLog",(function(){H.a.saveAs(n.props.chatLogFile,"chatlog.txt")})),n.state={showMessages:!0,showFiles:!1,isTailing:!0},n.chatId=Q()(5)+"chatTab",n.filesId=Q()(5)+"filesTab",n.messageListElement=a.a.createRef(),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.messageListElement.current.addEventListener("scroll",f.a.throttle(this.handleScrollChange,250))}},{key:"componentDidUpdate",value:function(){if(this.state.isTailing&&this.messageListElement.current){var e=this.messageListElement.current;e.scrollTop=e.scrollHeight-e.clientHeight}}},{key:"showMessages",value:function(){this.setState({showMessages:!0,showFiles:!1})}},{key:"showFiles",value:function(){this.setState({showFiles:!0,showMessages:!1})}},{key:"getCurrentMessages",value:function(){var e=this.props,t=e.currentPlaybackTime;return e.messages.filter((function(e){return e.timestamp<=t}))}},{key:"renderMessages",value:function(){return this.getCurrentMessages().map((function(e,t){return a.a.createElement("div",{className:"c-bbb-player__chat-message",key:"message-list-item[".concat(t,"]")},a.a.createElement("span",{className:"c-bbb-player__chat-message-name"},e.senderName),a.a.createElement("p",{className:"c-bbb-player__chat-message-text",dangerouslySetInnerHTML:{__html:e.messageText}}))}))}},{key:"renderFiles",value:function(){return this.props.files.map((function(e){var t=e.fileName,n=e.fileSrc;return a.a.createElement("div",{className:"c-bbb-player__chat-message",key:e.messageText+e.timestamp},a.a.createElement("a",{className:"c-bbb-player__chat-message-link",href:n,target:"_blank"},t))}))}},{key:"render",value:function(){var e=this.state,t=e.showMessages,n=e.showFiles,r=this.props,o=r.i18n,i=r.chatLogFile,s=this.renderMessages(),u=this.renderFiles();return a.a.createElement("div",{className:"c-bbb-player__chat"},a.a.createElement("div",{className:"c-bbb-player__chat-wrapper"},a.a.createElement("div",{className:"c-bbb-player__chat-actions",role:"tablist"},a.a.createElement("div",{className:T()("c-bbb-player__chat-action",ee({},"c-bbb-player__chat-action--active",t)),role:"tab","aria-label":o._("Chat Messages"),tabIndex:0,"aria-controls":this.chatId,"aria-selected":t,onKeyDown:Object(R.b)(this.showMessages.bind(this)),onClick:this.showMessages.bind(this),title:o._("Chat Messages")},a.a.createElement(q.a,{ariaLabel:o._("Chat Messages, icon"),className:"c-bbb-player__chat-action-icon"},B.a.CHAT_ORIGINAL)),a.a.createElement("div",{className:T()("c-bbb-player__chat-action",ee({},"c-bbb-player__chat-action--active",n)),onClick:this.showFiles.bind(this),onKeyDown:Object(R.b)(this.showFiles.bind(this)),role:"tab","aria-label":o._("Uploaded Files"),tabIndex:0,"aria-selected":n,"aria-controls":this.filesId,title:o._("Uploaded Files")},a.a.createElement(q.a,{ariaLabel:o._("Uploaded Files, icon"),className:"c-bbb-player__chat-action-icon"},B.a.ATTACH_FILE))),t&&a.a.createElement("div",{className:"c-bbb-player__chat-list",role:"tabpanel",id:this.chatId},a.a.createElement("div",{ref:this.messageListElement,className:"c-bbb-player__chat-messages-holder"},s,0===s.length&&a.a.createElement("div",{className:"c-bbb-player__chat-no-data"},a.a.createElement(c.Trans,{id:"No chat messages"})),i&&a.a.createElement(z.a,{id:"button-download-chat-log",onClick:this.downloadChatLog,className:"c-bbb-player__download-chat-log",title:o._("Download chat log"),ariaLabel:o._("Download chat log")},B.a.DOWNLOAD))),n&&a.a.createElement("div",{className:"c-bbb-player__chat-list",role:"tabpanel",id:this.filesId},a.a.createElement("div",{className:"c-bbb-player__chat-messages-holder"},u,0===u.length&&a.a.createElement("div",{className:"c-bbb-player__chat-no-data"},a.a.createElement(c.Trans,{id:"No files"}))))))}}])&&X(n.prototype,r),o&&X(n,o),t}(r.Component);te.defaultProps={messages:[],files:[]},te.propTypes={currentPlaybackTime:i.a.number,messages:i.a.array,files:i.a.array,chatLogFile:i.a.object};var ne=Object(c.withI18n)()(te),re=n("kbsL"),ae=n("6ZeI"),oe=n("rOOD"),ie=n("h15y"),ce=function(e,t){var n=oe.e(e,t);return n||t},se=function(e,t){var n=ce(e,t);return ie.c(n,e)},ue=n("A2tp"),le=n("k7+O"),de=n.n(le),fe=n("EISf"),pe=n("K2Ti");function me(e){return(me="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ye(t).call(this,e),n=!a||"object"!==me(a)&&"function"!==typeof a?he(r):a,ge(he(he(n)),"setFullScreen",(function(e){n.setState({inFullScreen:e})})),ge(he(he(n)),"toggleFullScreen",(function(){n.presentationWrapper&&de.a&&de.a.enabled&&de.a.toggle(n.presentationWrapper)})),ge(he(he(n)),"loadAndParseData",(function(){n.setState({hasError:!1}),new S({svgUrl:n.props.svgUrl,cursorUrl:n.props.cursorUrl,zoomsUrl:n.props.zoomsUrl,chatMessagesUrl:n.props.chatMessagesUrl,eventsUrl:n.props.eventsUrl}).parse().then((function(e){n.setState({presentationData:e})})).catch((function(e){p.b.warn("BBB Assets parse error",e),n.setState({hasError:!0})}))})),ge(he(he(n)),"seekPlayer",(function(e){var t=n.props,r=t.dispatch,a=t.actualPlayerId;r(_.F(a,e))})),n.state={presentationData:null,hasError:!1,showDeskshare:!1,inFullScreen:!1},n.emitter=new pe.a,n.throttledCheckPlayerSync=f.a.throttle(n.checkPlayerSync,500,{leading:!0,trailing:!0}),n.mainMediaDbId=e.media&&e.media.dbId?n.props.media.dbId:Q()(5),n.canEditCaptions=e.media&&e.media.canEditCaptions,n.slaveMediaDbId=e.media&&e.media.slaveMedia&&e.media.slaveMedia.dbId?e.media.slaveMedia.dbId:Q()(5),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,e),n=t,o=[{key:"getDesksharePlayerId",value:function(e){return e+"___deskshare"}}],(r=[{key:"componentDidMount",value:function(){de.a&&de.a.enabled&&de.a.on("change",function(){if(this.presentationWrapper){var e=de.a.isFullscreen;e||this.setFullScreen(!1),e&&this.presentationWrapper===de.a.element&&this.setFullScreen(!0)}}.bind(this)),this.props.logMediaWatching&&this.initEmitterListeners()}},{key:"UNSAFE_componentWillMount",value:function(){this.loadAndParseData()}},{key:"componentDidUpdate",value:function(e){var t=!!this.props.slaveStreamUrl,n=this.props.currentPlaybackTime;if(this.props.currentPlaybackTime!==e.currentPlaybackTime&&t){var r=!1;this.state.presentationData.deskshareShowTimes.forEach((function(e){n>=e.in&&n<e.out&&(r=!0)})),this.state.showDeskshare!==r&&this.setState({showDeskshare:r})}}},{key:"initEmitterListeners",value:function(){var e=this,n=this.props.actualPlayerId,r=t.getDesksharePlayerId(this.props.playerId),a=function(t){return function(n){e.state.showDeskshare&&t(n)}};this.unsubscribers=[this.emitter.onPlay(n,a((function(t){e.emitter.play({playerId:r,startTime:t.startTime})}))),this.emitter.onPause(n,a((function(t){e.emitter.pause({playerId:r,startTime:t.startTime})}))),this.emitter.onSeek(n,a((function(t){e.emitter.seek({playerId:r,startTime:t.startTime,endTime:t.endTime})})))]}},{key:"componentWillUnmount",value:function(){this.unsubscribers&&this.unsubscribers.length&&this.unsubscribers.forEach((function(e){return e()}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var n=this.props,r=n.playerId,a=n.mainPlayerState,o=n.desksharePlayerState,i=n.dispatch,c=t.getDesksharePlayerId(this.props.playerId),s=e.desksharePlayerState,u=e.mainPlayerState;u&&s&&o&&a&&(u.state.isPlaying&&!a.state.isPlaying&&i(_.u(c)),u.state.isPaused&&!a.state.isPaused&&i(_.t(c)),u.state.isWaiting&&!a.state.isWaiting&&i(_.t(r)),s.state.isWaiting&&!o.state.isWaiting&&i(_.t(r)),!u.state.isWaiting&&a.state.isWaiting&&i(_.u(r)),!s.state.isWaiting&&o.state.isWaiting&&i(_.u(r)),this.throttledCheckPlayerSync())}},{key:"checkPlayerSync",value:function(){var e=this.props.mainPlayerState.state.time,t=this.props.desksharePlayerState.state.time;Math.abs(e-t)>=.5&&this.syncPlayers()}},{key:"syncPlayers",value:function(){var e=this.props,n=e.dispatch,r=e.playerId,a=e.mainPlayerState,o=e.desksharePlayerState,i=t.getDesksharePlayerId(r),c=a.state.time;n(_.F(i,c));var s=a.state.isPlaying;s!==o.state.isPlaying&&(s?(n(_.u(i)),this.emitter.play({playerId:i,startTime:c})):(n(_.t(i)),this.emitter.pause({playerId:i,startTime:c})))}},{key:"getCurrentSlide",value:function(){for(var e=this.state.presentationData.slides,t=null,n=0;n<e.length;n++)if(this.canShowNow(e[n].showTimes)){t=e[n];break}return t}},{key:"canShowNow",value:function(e){var t=this.props.currentPlaybackTime,n=!1;return e.forEach((function(e){var r=e.showAt,a=e.hideAt;t>=r&&t<=a&&(n=!0)})),n}},{key:"getTimelineMarks",value:function(){var e=this.state.presentationData,t=e.messages,n=e.files,r=[];return t.forEach((function(e){r.push({timestamp:e.timestamp})})),n.forEach((function(e){r.push({timestamp:e.timestamp})})),r.sort((function(e,t){return e.timestamp-t.timestamp}))}},{key:"render",value:function(){var e=this,n=this.props,r=n.playerId,o=n.currentPlaybackTime,i=n.i18n,s=n.mainPlayerState,u=n.dispatch,l=n.actualPlayerId,d=n.onPlay,p=n.onMediaChange,m=this.state,b=m.presentationData,y=m.hasError,v=m.inFullScreen;if(s=s?s.state:{},y)return a.a.createElement("div",{className:"c-bbb-player__error-block"},a.a.createElement("span",{className:"u-mr-5px"},a.a.createElement(c.Trans,{id:"Failed to load meeting data"})),a.a.createElement(re.h,{id:"button-bbb-player-error-reload",onClick:this.loadAndParseData},a.a.createElement(c.Trans,{id:"Try again"})));if(!b)return a.a.createElement("p",null,a.a.createElement(c.Trans,{id:"Loading..."}));var h,g={dbId:this.mainMediaDbId,srcUrl:this.props.mainStreamUrl,canEditCaptions:this.canEditCaptions,autoCaptionsEnabled:f.a.get(this.props,"media.caption.isAutoGenerated",!1),duration:f.a.get(this.props,"media.duration")};g.caption=this.props.caption,this.props.slaveStreamUrl&&(h={autoplay:!1,controls:!1,sources:[{src:this.props.slaveStreamUrl,type:"video/mp4"}]}),this.state.presentationData.deskshareShowTimes&&0!==this.state.presentationData.deskshareShowTimes.length||!this.props.slaveStreamUrl||(g.slaveMedia={dbId:this.slaveMediaDbId,srcUrl:this.props.slaveStreamUrl},h=null);var E=h&&this.state.showDeskshare;return a.a.createElement("div",{className:"c-bbb-player"},a.a.createElement("div",{className:"c-bbb-player__top"},a.a.createElement("div",{className:T()("c-bbb-player__presentation-wrapper",ge({},"c-bbb-player__presentation-wrapper--fullscreen",v)),ref:function(t){t&&(e.presentationWrapper=t)}},h&&a.a.createElement("div",{className:T()("c-bbb-player__deskshare-player",ge({},"c-bbb-player__deskshare-player--fullscreen",v)),style:{display:E?"block":"none"}},a.a.createElement(ue.a,{id:"bbb-player-deskshare-player",options:h,playerId:t.getDesksharePlayerId(r),termClassId:this.props.termClassId,activityId:this.props.activityId,usageContext:this.props.usageContext,logMediaWatching:this.props.logMediaWatching&&this.props.logDeskshareMediaWatching,mediaId:this.slaveMediaDbId,inFullScreenView:v})),a.a.createElement(G,{currentSlide:this.getCurrentSlide(),currentPlaybackTime:o,zooms:b.zooms,shapes:b.shapes,cursor:b.cursor,canShowNow:this.canShowNow.bind(this)}),v&&a.a.createElement("div",{className:"c-bbb-player__deskshare-player-controls"},a.a.createElement(fe.a,{isPlaying:s.isPlaying,time:o,seek:function(t){e.emitter.seek({playerId:l,startTime:o,endTime:t}),e.seekPlayer(t)},duration:s.duration,volume:s.volume,toggleFullScreen:this.toggleFullScreen,changeVolume:function(e){u(_.E(l,e))},play:function(){e.emitter.play({playerId:l,startTime:o}),u(_.u(l))},pause:function(){e.emitter.pause({playerId:l,startTime:o}),u(_.t(l))},marks:this.getTimelineMarks(),isFullScreen:v})),!v&&de.a&&de.a.enabled&&a.a.createElement(z.a,{id:"button-full-screen",className:"c-bbb-player__fullscreen-button",tabIndex:0,title:i._("Full screen"),onClick:this.toggleFullScreen,ariaLabel:i._("Full screen, icon")},B.a.FULLSCREEN)),a.a.createElement("div",{className:"c-bbb-player__player"},a.a.createElement(ae.a,{id:"bbb-player-media",isMeeting:!0,onPlay:d,playerId:r,termClassId:this.props.termClassId,activityId:this.props.activityId,usageContext:this.props.usageContext,mediaId:this.props.mediaId,logMediaWatching:this.props.logMediaWatching,media:g,onMediaChange:p,marks:this.getTimelineMarks()}))),a.a.createElement("div",{className:"c-bbb-player__bottom"},a.a.createElement(L,{slides:this.state.presentationData?this.state.presentationData.slides:[],currentPlaybackTime:o,currentSlide:this.getCurrentSlide(),seekPlayer:function(t){e.emitter.seek({playerId:l,startTime:o,endTime:t}),e.seekPlayer(t)}}),a.a.createElement(ne,{currentPlaybackTime:o,messages:b.messages,files:b.files,chatLogFile:b.chatLogFile})))}}])&&be(n.prototype,r),o&&be(n,o),t}(r.Component);Ee.propTypes={onPlay:i.a.func,onMediaChange:i.a.func,logMediaWatching:i.a.bool,logDeskshareMediaWatching:i.a.bool},Ee.defaultProps={onPlay:function(){},logMediaWatching:!0,logDeskshareMediaWatching:!1};t.a=Object(C.b)((function(e,t){var n=t.playerId,r=ce(e,n);return{currentPlaybackTime:se(e,n),actualPlayerId:r,mainPlayerState:ie.a(r,e),desksharePlayerState:ie.a(Ee.getDesksharePlayerId(n),e)}}))(Object(c.withI18n)()(Ee))},"+y5T":function(e,t,n){"use strict";t.a={CAMERA_ONLY:"CAMERA_ONLY",CAMERA_WITH_DESKTOP:"CAMERA_WITH_DESKTOP",DESKTOP_ONLY:"DESKTOP_ONLY"}},"+ytj":function(e,t,n){e.exports={statusFilterContainer:"b_6QJwlH0I",dropDownMenu:"b_wrtCnsZs",dropDownButtonContainer:"b_hn6HD45L",dropDownLabel:"b_9tYpZ6CR"}},"+zm6":function(e,t,n){},"/0q4":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return v}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("8For"),u=n("LFYD"),l=n("TSYQ"),d=n.n(l),f=n("LvDl"),p=n.n(f);n("8+7o");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y="correct",v="incorrect",h=[y,v,"unknown"];function g(e){return p.a.pick(e,Object.keys(E.componentProps))}var E=function(e){var t=e.i18n,n=e.type,r=u.a.HELP,o="correct-icon--undefined",i=t._("Unknown");switch(n){case y:i=t._("Correct"),o="correct-icon--correct",r=u.a.CHECK_CIRCLE;break;case v:i=t._("Incorrect"),o="correct-icon--incorrect",r=u.a.CANCEL}var c=e.tooltip||{};c.label||(c.label=i);var l=d()("correct-icon",e.className,o);return a.a.createElement(s.a,b({},g(e),{className:l,tooltip:c}),p.a.has(e,"children")?e.children:r)};E.componentProps={className:i.a.string,iconClassName:i.a.string,primary:i.a.bool,secondary:i.a.bool,title:i.a.string,enabled:i.a.bool,ariaLabel:i.a.string,role:i.a.string},E.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}({},E.componentProps,{type:i.a.oneOf(h),tooltip:i.a.any}),E.defaultProps={type:"unknown"},t.c=Object(c.withI18n)()(E)},"/DTu":function(e,t,n){},"/E09":function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"u",(function(){return s})),n.d(t,"v",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"n",(function(){return f})),n.d(t,"r",(function(){return p})),n.d(t,"q",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"o",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"w",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return E})),n.d(t,"t",(function(){return w})),n.d(t,"s",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"k",(function(){return C})),n.d(t,"m",(function(){return _}));var r=[n("7n1V").b.INDIVIDUAL_PROJECT],a={A:{minValue:85,level:"a"},B:{minValue:70,level:"b"},C:{minValue:0,level:"c"},UNKNOWN:{minValue:Number.NEGATIVE_INFINITY,level:"unknown"}},o=[a.A,a.B,a.C],i=70,c=160,s=2,u=.8,l=[".","?"],d=128,f="auto-analysis-transcript-fragment--filler",p="auto-analysis-transcript-fragment--unclear",m="auto-analysis-transcript-fragment--topn",b="auto-analysis-transcript-fragment--selected",y="auto-analysis-transcript-fragment--key-term",v=10,h=10,g={NOT_SUBMITTED:"NOT_SUBMITTED",SUBMITTED:"SUBMITTED",ANALYZING:"ANALYZING",REANALYZING:"REANALYZING",TRANSCRIBING:"TRANSCRIBING",COMPLETE:"COMPLETE",ERROR:"ERROR"},E={ANALYSIS_FAILED:"ANALYSIS_FAILED",AUDIO_EXCEEDS_MAX:"BAD_REQUEST_AUDIO_TOO_LONG",BAD_REQUEST:"BAD_REQUEST",FILESIZE_EXCEEDS_MAX:"BAD_REQUEST_FILE_SIZE_TOO_LARGE"},w="data-word",O="data-id",S={CLARITY:"CLARITY",FILLERS:"FILLERS",KEY_TERMS:"KEY_TERMS",TOP_N:"TOP_N"},C={WORD:"WORD",MARK:"MARK",TERM:"TERM"},_={WORD:"AnnotatedWord",TERM:"AnnotatedTerm",MARK:"AnnotatedMark"}},"/I3q":function(e,t,n){},"/KNH":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("lTCR"),a=n.n(r),o=n("O+79"),i=n("09Br"),c=n("jlV6");function s(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    fragment ReviewedResult on ReviewedResult {\n        __typename\n        result {\n          submitter {\n            dbId\n            firstName\n            lastName\n          }\n        }\n        viewedEvaluation {\n          value\n        }\n        comments {\n          ...Comment\n          ...AnonymousComment\n        }\n        rubricEvaluation {\n          ...StudentReviewRubric\n        }\n        fivestarEvaluation {\n          ...FiveStarRating\n        }\n        isReviewCompleted\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return s=function(){return e},e}var u=a()(s(),o.b,o.a,i.e,c.c)},"/V82":function(e,t,n){},"/Vro":function(e,t,n){e.exports={overlayContainer:"b_eCa938PA",messageContainer:"b_icx7cRfz",message:"b_shwNGJuF"}},"/W66":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("TSYQ"),u=n.n(s),l=n("LvDl"),d=n.n(l);n("CG28");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){return a.a.createElement(c.o,p({},function(e){return d.a.pick(e,Object.keys(m.componentProps))}(e),{className:u()("divider",e.className)}),e.children)};m.componentProps={className:i.a.string,inset:i.a.bool,style:i.a.any,vertical:i.a.bool},m.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},m.componentProps),m.defaultProps={inset:!1,vertical:!1};var b=m;n.d(t,"a",(function(){return b}))},"/iAH":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("TSYQ"),u=n.n(s),l=n("Uu12"),d=n("giI2"),f=n("LFYD"),p={ERROR:"error",WARNING:"warning",INFO:"info"},m=n("D2y2"),b=n.n(m);function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,E(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.className,r=e.message,o=e.title,i=e.type,c=f.a.STATUS_UNKNOWN,s="bongo-note--unknown",m="";switch(i){case p.INFO:c=f.a.STATUS_INFO,s="bongo-note--info",m=t._("Info Message");break;case p.WARNING:c=f.a.STATUS_WARNING,s="bongo-note--warning",m=t._("Warning Message");break;case p.ERROR:c=f.a.STATUS_ERROR,s="bongo-note--error",m=t._("Error Message")}return a.a.createElement("div",v({},Object(l.j)(this.props),{className:u()(b.a["bongo-note-container"],b.a[s],n)}),a.a.createElement("div",{className:b.a["bongo-note-content"]},a.a.createElement("div",{className:b.a["bongo-note-title-icon"]},a.a.createElement(d.a,{ariaLabel:m},c)),a.a.createElement("div",{className:b.a["bongo-note-text-container"]},a.a.createElement("div",{className:b.a["bongo-note-text-title"]},o),a.a.createElement("div",{className:b.a["bongo-note-text-message"]},r))))}}])&&h(n.prototype,r),o&&h(n,o),t}(a.a.PureComponent);O.defaultProps={type:p.INFO},O.propTypes={i18n:i.a.object.isRequired,className:i.a.string,message:i.a.node,title:i.a.string,type:i.a.oneOf(Object.values(p))},O.NOTE_TYPES=p;var S=Object(c.withI18n)()(O),C=n("RzTb"),_=n.n(C);function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==I(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(this,A(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.className,r=e.icon,o=e.messageContainerClassName,i=e.message,c=e.title,s=e.type,m=f.a.STATUS_UNKNOWN,b="bongo-note--unknown",y="";switch(s){case p.INFO:m=f.a.STATUS_INFO,b="bongo-note--info",y=t._("Info Message");break;case p.WARNING:m=f.a.STATUS_WARNING,b="bongo-note--warning",y=t._("Warning Message");break;case p.ERROR:m=f.a.STATUS_ERROR,b="bongo-note--error",y=t._("Error Message")}return r&&(m=r),a.a.createElement("div",T({},Object(l.j)(this.props),{className:u()(_.a["bongo-note-container"],_.a[b],n)}),a.a.createElement("div",{className:_.a["bongo-note-content"]},a.a.createElement("div",{className:_.a["bongo-note-title-icon-container"]},a.a.createElement(d.a,{className:_.a["bongo-note-title-icon"],ariaLabel:y},m)),a.a.createElement("div",{className:_.a["bongo-note-text-container"]},a.a.createElement("div",{className:_.a["bongo-note-text-title"]},c),i?a.a.createElement("div",{className:u()(_.a["bongo-note-text-message"],o)},i):null)))}}])&&R(n.prototype,r),o&&R(n,o),t}(a.a.PureComponent);j.defaultProps={type:p.INFO},j.propTypes={i18n:i.a.object.isRequired,className:i.a.string,icon:i.a.string,messageContainerClassName:i.a.string,message:i.a.node,title:i.a.string,type:i.a.oneOf(Object.values(p))},j.NOTE_TYPES=p;var k=Object(c.withI18n)()(j);n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return k}))},"03gT":function(e,t,n){},"06YE":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("/MKj"),s=n("TSYQ"),u=n.n(s),l=n("LvDl"),d=n.n(l),f=n("kNkO"),p=n.n(f),m=n("5id7"),b=n("VQIj"),y=n("J3bt"),v=n("PwM7"),h=n("HNnK"),g=n("UyA7"),E=n("8bCP"),w=n("Wme0"),O=n("7dPE");n("YMWq");function S(e){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}function _(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,c,"next",e)}function c(e){_(o,r,a,i,c,"throw",e)}i(void 0)}))}}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j="env-dialog",k={selectedTabIndex:0,stickyLogLevels:{},buildInfo:{}},D=!1,L=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=R(t).call(this,e),n=!o||"object"!==S(o)&&"function"!==typeof o?A(r):o,N(A(A(n)),"tabs",[]),N(A(A(n)),"fetchBuildInfo",I(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=2;break}return e.abrupt("return");case 2:return E.b.debug(">>> Fetching build info"),e.prev=3,e.next=6,fetch(p.a,{method:"GET",cache:"no-cache"});case 6:return t=e.sent,e.next=9,t.json();case 9:r=e.sent,D=!0,k.buildInfo=r,n.setState({buildInfo:r}),E.b.debug("<<< Fetched build info:",r),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),E.b.warn("Failed to fetch build info",e.t0);case 19:case"end":return e.stop()}}),e,this,[[3,16]])})))),N(A(A(n)),"copyText",(function(e){for(var t="[Environment Info]",n=0;n<e.length;n++)t+="\n"+e[n][0]+": "+e[n][1];t+="\n==================",Object(v.a)(t)})),N(A(A(n)),"getEntry",(function(e,t,n){return a.a.createElement("div",{className:j+"-entry",key:"env-info-"+e},a.a.createElement("span",{className:j+"-entry-label"},t+":"),a.a.createElement("span",{className:j+"-entry-value"},n))})),N(A(A(n)),"onTabClick",(function(e){n.setState({selectedTabIndex:e})})),N(A(A(n)),"getTabs",(function(){var e=n.state.selectedTabIndex;return a.a.createElement("div",{className:j+"-tabs"},n.tabs.map((function(t,r){var o=e===r;return a.a.createElement(m.a,{id:"button-info-dialog-tab["+r+"]",swapTheming:o,primary:o,key:"tab-"+r,className:j+"-tab",onClick:function(){return n.onTabClick(r)}},t.label)})))})),N(A(A(n)),"getSelectedTabContent",(function(){var e=n.state.selectedTabIndex;return n.tabs[e].contentFunction()})),N(A(A(n)),"getDiagTabContent",(function(){return a.a.createElement("div",{className:j+"-tab-content"},a.a.createElement("div",{className:j+"-loglevels"},n.getModuleLoggers()))})),N(A(A(n)),"getInfoTabContent",(function(){var e=n.props,t=e.trialExpirationDate,r=e.userId,o=e.userLocale,i=e.userTimezone,c=n.state.buildInfo,s="Unknown";try{s=window.location!==window.parent.location?document.referrer:"N/A"}catch(h){E.b.warn("Could not get Parent URL:",h)}var u="Unknown";try{u=window.navigator.userAgent}catch(h){E.b.warn("Could not get User Agent:",h)}var l="Unknown";try{l="".concat(d.a.get(o,"frontend")," (frontend) / ").concat(d.a.get(o,"backend")," (backend)")}catch(h){E.b.warn("Could not get User Locale:",h)}var f="Unknown";try{f=window.innerWidth+"x"+window.innerHeight}catch(h){E.b.warn("Could not get Frame Viewport:",h)}var p="Unknown";try{p=100*window.devicePixelRatio+"%"}catch(h){E.b.warn("Could not get Display Scale:",h)}var b="N/A";try{t&&(b=new Date(t).toString())}catch(h){E.b.warn("Could not get Trial Expiration Date:",h)}var y=(new Date).toString(),v=[["Branch",c.branch],["Build Date",new Date(+c.buildDate).toLocaleString()],["Build SHA",c.buildSHA],["Build Number",c.buildNumber],["User ID",r],["Frame URL",window.location.href],["Parent URL",s],["Trial Exp",b],["Frame Viewport",f],["Display Scale",p],["User Agent",u],["User Locale",l],["User Clock",y],["User Timezone",i]];return a.a.createElement("div",{className:j+"-tab-content"},a.a.createElement("div",{className:j+"-entries"},v.map((function(e,t){return n.getEntry(t,e[0],e[1])}))),a.a.createElement("div",{className:j+"-actions"},a.a.createElement(m.a,{id:"button-info-dialog-copy",ariaLabel:"Copy to clipboard",onClick:function(){n.copyText(v)}},"Copy to clipboard")))})),N(A(A(n)),"onLogLevelChange",(function(e,t){var r=Object(E.d)();r&&r[e]&&r[e].setLevel(t),n.onStickyChange(e,null,!1)})),N(A(A(n)),"onStickyChange",(function(e,t,r){var a=C({},n.state.stickyLogLevels);r?a[e]=t:delete a[e],n.setState({stickyLogLevels:a},n.updateLocalStorage)})),N(A(A(n)),"updateLocalStorage",(function(){var e=n.state.stickyLogLevels;Object(E.f)(e)})),N(A(A(n)),"getLoggerSelectField",(function(e,t){var r=n.state.stickyLogLevels,o=e.name,i=d.a.has(r,e.name);return a.a.createElement("div",{className:j+"-loglevel",key:"loglevel-"+t},a.a.createElement(y.b,{label:o,ariaLabel:o,id:"loglevel-"+t,name:"loglevel-"+t,onChange:function(e){n.onLogLevelChange(o,e)},value:e.getLevel(),menuItems:E.a}),a.a.createElement(b.a,{id:"loglevel-checkbox-"+t,name:"loglevel-checkbox-"+t,label:"Sticky",ariaLabel:"Sticky",checked:i,onChange:function(t){n.onStickyChange(o,e.getLevel(),t)}}))})),N(A(A(n)),"getModuleLoggers",(function(){var e=Object(E.d)();if(e)return d.a.values(e).map(n.getLoggerSelectField)})),n.state=C({},k,{stickyLogLevels:Object(E.e)()}),n.tabs=[{label:"INFO",contentFunction:n.getInfoTabContent},{label:"DIAG",contentFunction:n.getDiagTabContent}],n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.className,r=e.onHide;return this.fetchBuildInfo(),a.a.createElement(O.a,{"aria-describedby":"env-dialog",actions:t,className:u()(j,n),id:"env-dialog",title:"Environment",onHide:r},this.getTabs(),this.getSelectedTabContent())}}])&&T(n.prototype,r),o&&T(n,o),t}(r.Component);L.propTypes={actions:i.a.any,className:i.a.string,title:i.a.string,titleClassName:i.a.string,userId:i.a.number,onHide:i.a.func.isRequired};t.a=Object(c.b)((function(e){return{trialExpirationDate:g.s(e),userId:h.i(e),userTimezone:h.g(e),userLocale:w.a(e)}}))(L)},"09Br":function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return h}));var r=n("lTCR"),a=n.n(r),o=n("mxsA");function i(){var e=f(["\n    fragment RubricEvaluation on RubricEvaluation{\n        date\n        user {\n            ...GeneralUser\n        }\n        rubric {\n           ...Rubric\n        }\n        cells {\n            ...RubricCell\n        }\n        points\n    }\n    ","\n    ","\n    ","\n"]);return i=function(){return e},e}function c(){var e=f(["\n    fragment GroupReviewRubricAnonymous on ActivityStudentGroupReviewRubricEvaluationAnonymous {\n        date\n        rubric {\n            ...Rubric\n        }\n        cells {\n            ...RubricCell\n        }\n        points\n        comment\n    }\n    ","\n    ","\n"]);return c=function(){return e},e}function s(){var e=f(["\n    fragment GroupReviewRubricWithUser on ActivityStudentGroupReviewRubricEvaluationWithUser {\n        date\n        user {\n            dbId\n            firstName\n            lastName\n            roles\n        }\n        rubric {\n            ...Rubric\n        }\n        cells {\n            ...RubricCell\n        }\n        points\n        comment\n    }\n    ","\n    ","\n"]);return s=function(){return e},e}function u(){var e=f(["\n    fragment StudentReviewRubric on ActivityResultStudentReviewRubricEvaluation {\n        date\n        user {\n            dbId\n            firstName\n            lastName\n        }\n        rubric {\n           ...Rubric\n        }\n        cells {\n            ...RubricCell\n        }\n        points\n    }\n    ","\n    ","\n"]);return u=function(){return e},e}function l(){var e=f(["\n    fragment Rubric on Rubric {\n        dbId\n        name\n        rows {\n            dbId\n            cells {\n                ...RubricCell\n            }\n        }\n        maxValue\n    }\n    ","\n"]);return l=function(){return e},e}function d(){var e=f(["\n    fragment RubricCell on RubricCell {\n        dbId\n        description\n        points\n    }\n"]);return d=function(){return e},e}function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p=a()(d()),m=a()(l(),p),b=a()(u(),m,p),y=a()(s(),m,p),v=a()(c(),m,p),h=a()(i(),m,p,o.e)},"0TIy":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return $}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("/MKj"),s=n("uy2z"),u=n("ZD0w"),l=n("LvDl"),d=n.n(l),f=n("Pqrc"),p=n.n(f),m=n("szwm"),b=n("1xro"),y=n("TDYo"),v=n("8ewv"),h=n("vCeT"),g=n("8bCP"),E=n("GkKD"),w=n("0zen"),O=n("Vy55"),S=n("RaGr"),C=n("V+cX"),_=n("cK1Q"),I=n("HmrS"),T=n("Ftzw"),R=n("na1x"),P=n("+y5T"),A=n("VmXB"),N=n("IF/7"),j=n("fcFR"),k=n("f2lN"),D=n("aU7/"),L=n("wR0W"),M=n("HNnK"),x=n("VhdU"),F=n("a7RV"),U=n("UyA7"),V=n("ok3h");function G(e){return(G="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function W(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,c,"next",e)}function c(e){W(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),e}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z="commands",$=function(t){function n(t){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,o=Y(n).call(this,t),r=!o||"object"!==G(o)&&"function"!==typeof o?X(a):o,J(X(X(r)),"cleanupLocalStreams",(function(){Object.values(r.localStreams).forEach((function(e){return e.destroy()}))})),J(X(X(r)),"checkForDevicesAvailability",(function(){b.a.getMediaDevices().then((function(e){var t=0!==e.audio.length,a=0!==e.video.length;r.executeAction(y.B,!t),r.executeAction(y.C,!a),t&&a||(n.doWeNeedWindowedRecorder()&&r.props.onRecordingIsNotSupported(),r.executeAction(y.w,!0))})).catch((function(e){g.b.error(e),r.executeAction(y.C,!0),r.executeAction(y.C,!0)}))})),J(X(X(r)),"getSettings",(function(){var t={mediaType:r.props.mediaType,activityDbId:r.props.activityId,questionDbId:r.props.questionId};if(r.props.isStandaloneMode)return e(r.initUploader);v.a.getSettings(t).then((function(e){r.executeAction(y.M,e),r.executeAction(y.y,!1),r.initUploader()})).catch((function(){r.executeAction(y.y,!0)}))})),J(X(X(r)),"initUploader",(function(){r.uploader&&r.uploader.destroy();var e=r.getUploadStrategy();r.uploader=new e({settings:r.props.settingsFromStore||r.props.settings,recorderType:r.props.recorderType,i18n:r.props.i18n}),r.uploader.init().catch(),r.uploader.on(h.a.INITIALIZED,(function(){r.initStreams().catch()})),r.uploader.on(h.a.STREAM_ADDED,(function(e){switch(e.getName()){case E.a.CAMERA:r.executeAction(y.r,e);break;case E.a.DESKTOP:r.executeAction(y.u,e);break;case E.a.MICROPHONE:r.executeAction(y.A,e)}})),r.uploader.on(h.a.NOTIFICATION,(function(){r.updateNotifications()})),r.uploader.on(h.a.RESET_STREAMS,(function(){r.executeAction(y.r,void 0),r.executeAction(y.A,void 0),r.executeAction(y.u,void 0)})),r.uploader.on(h.a.REQUEST_NEW_STREAMS,(function(){r.executeAction(y.r,void 0),r.executeAction(y.A,void 0),r.executeAction(y.u,void 0),r.initStreams().catch()})),r.uploader.on(h.a.RECORDING_PAUSED,(function(){r.timer.pause(),r.executeAction(y.K,!0)})),r.uploader.on(h.a.RECORDING_RESUMED,(function(){r.timer.resume(),r.executeAction(y.K,!1)})),r.uploader.on(h.a.RECORDING_STARTED,(function(){r.executeAction(y.R,C.a.RECORDING),r.timer=new T.a,r.timer.onTick((function(e){r.unmounted||(r.executeAction(y.L,e),e/1e3>=r.props.maxRecordLengthSeconds&&r.stopRecord())})),r.timer.start()})),r.uploader.on(h.a.PREVIEW_IS_READY,(function(e){var t=e[E.a.CAMERA],n=e[E.a.DESKTOP],a=e[E.a.MICROPHONE];t&&r.executeAction(y.G,t),n&&r.executeAction(y.H,n),a&&r.executeAction(y.I,a),r.executeAction(y.R,C.a.PREVIEW)})),r.uploader.on(h.a.RECORDING_STOPPED,(function(){r.props.autoSubmit&&r.submit()})),r.uploader.on(h.a.UPLOAD_FINISHED,(function(){r.props.submitting&&r.finalize()})),r.uploader.on(h.a.UPLOADING_PROGRESS,(function(e){r.executeAction(y.P,e)})),r.updateNotifications()})),J(X(X(r)),"notifyRecordingHasEnded",(function(){!r.recordingFinishedAudio||!document.isHidden&&document.hasFocus()||r.recordingFinishedAudio.play()})),J(X(X(r)),"getDesktopStream",Q(regeneratorRuntime.mark((function e(){var t,a,o,i,c,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]&&s[0],a=r.props.i18n,e.prev=2,t){e.next=7;break}if(!((o=r.localStreams[E.a.DESKTOP])&&o.stream&&o.stream.active)){e.next=7;break}return e.abrupt("return",r.uploader.addStream(o));case 7:return r.props.desktopStream&&r.props.desktopStream.destroy(),r.localStreams[E.a.DESKTOP]&&(r.localStreams[E.a.DESKTOP].destroy(),delete r.localStreams[E.a.DESKTOP]),r.executeAction(y.u,void 0),e.next=12,b.a.getDesktopStream();case 12:i=e.sent,r.executeAction(y.x,!1),i=new _.a({stream:i,streamName:E.a.DESKTOP}),r.uploader.addStream(i),r.localStreams[E.a.DESKTOP]=i,i.onVideoEnd(r.handleEndOfDesktopStream),e.next=26;break;case 20:e.prev=20,e.t0=e.catch(2),g.b.error(e.t0),n.doWeNeedWindowedRecorder(e.t0)&&(r.props.isStandaloneModeAllowed&&r.openWindowedRecorder().catch(),r.props.onRecordingIsNotSupported()),r.executeAction(y.x,!0),e.t0===R.a.NOT_INSTALLED&&(c=a._("Browser extension is required for screen share. Do you want to install it? (You will need to reload the page after installation)"),window.confirm(c)&&window.open("https://chrome.google.com/webstore/detail/screen-capturing/".concat(R.b),"_blank"));case 26:case"end":return e.stop()}}),e,this,[[2,20]])})))),J(X(X(r)),"handleEndOfDesktopStream",(function(){switch(delete r.localStreams[E.a.DESKTOP],r.executeAction(y.u,void 0),r.props.viewState){case C.a.INITIAL:return r.getDesktopStream().catch();case C.a.RECORDING:return r.stopRecord()}})),J(X(X(r)),"closeStandaloneRecorder",(function(){r.props.isStandaloneMode&&(window.close(),requestAnimationFrame((function(){r.closeStandaloneRecorder()})))})),J(X(X(r)),"openWindowedRecorder",Q(regeneratorRuntime.mark((function e(){var t,n,a,o,i,c,s,u,l,d,f,p,m,b,y,v,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.recorderWindow||r.recorderWindow.closed){e.next=2;break}return e.abrupt("return");case 2:t=r.props,n=t.i18n,a=t.autoSubmit,o=t.showControls,i=t.canShareDesktop,c=t.showRecordButton,s=t.onlyDesktopMode,u=t.recorderId,l=t.mediaType,d=t.activityId,f=t.questionId,p=t.currentUser,m=t.showSubmitButton,b=t.recorderType,y=t.settingsFromStore,v=t.termClass,h={autoSubmit:a,showControls:o,showRecordButton:c,recorderId:u,mediaType:l,activityId:d,questionId:f,recorderType:b,settings:y,showSubmitButton:m,termClassId:v.dbId},g=A.b.STUDENT_STANDALONE_RECORDER,Object(N.c)(p)&&(g=A.b.EDUCATOR_STANDALONE_RECORDER),r.setState({isListenWindowMode:!0,listenWindowModeState:D.a.INITIALIZATION},Q(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.cleanupLocalStreams(),t="width=640,height=540",i&&(t="width=1165,height=510"),s&&(t="width=1165,height=730"),r.recorderWindow=window.open(Object(j.b)(g),1e20*Math.random(),t),r.recorderWindow&&!r.recorderWindow.closed){e.next=8;break}return r.setState({listenWindowModeState:D.a.WINDOW_IS_BLOCKED}),e.abrupt("return");case 8:return r.addRecorderWindowListeners(),e.next=11,Object(k.a)(r.recorderWindow,L.a.WINDOWED_RECORDER_LOADED);case 11:Object(k.b)(r.recorderWindow,L.a.SET_PARAMS,{options:h}),r.setState({listenWindowModeState:D.a.INITED}),r.recorderWindow.onbeforeunload=function(){r.setState({listenWindowModeState:D.a.WINDOW_CLOSED},(function(){r.recorderWindow=null,r.reset()}))},r.recorderWindow.document.title=r.props.recorderWindowTitle||n._("Standalone Recorder");case 15:case"end":return e.stop()}}),e,this)}))));case 7:case"end":return e.stop()}}),e,this)})))),J(X(X(r)),"onChooseScreenContent",(function(){r.getDesktopStream(!0)})),Object(s.enableCalls)(X(X(r)),t.recorderId,Z),r.localStreams={},r.state={uploaderNotifications:[],isListenWindowMode:!1,listenWindowModeState:null},r.recordingFinishedAudio=new Audio(p.a),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(n,t),z(n,null,[{key:"isRecorderSupported",value:function(){return V.a.isRecorderSupported()}},{key:"isAudioAnalyzeSupported",value:function(){return V.a.isAudioAnalyzeSupported()}},{key:"isStreamRecordingSupported",value:function(){return V.a.isStreamRecordingSupported()}},{key:"isWebRtcSupported",value:function(){return V.a.isWebRtcSupported()}},{key:"isGetDisplayMediaSupported",value:function(){return V.a.isGetDisplayMediaSupported()}},{key:"isScreenCapturingSupported",value:function(){return V.a.isScreenCapturingSupported()}},{key:"isWebRtcCapableIosSafari",value:function(){return V.a.isWebRtcCapableIosSafari()}}]),z(n,[{key:"componentDidMount",value:function(){var e=this;this.initializeRecorderState(),this.checkForDevicesAvailability(),this.getSettings(),this.props.isStandaloneMode&&(Object(k.a)(window,L.a.START_RECORD,(function(){e.startRecord()})),Object(k.a)(window,L.a.STOP_RECORD,(function(){e.stopRecord()})),Object(k.a)(window,L.a.RESET,(function(){e.reset()})),Object(k.a)(window,L.a.SUBMIT,(function(){e.submit()})),Object(k.a)(window,L.a.CLOSE_STANDALONE_WINDOW,(function(){e.closeStandaloneRecorder()})))}},{key:"componentWillUnmount",value:function(){this.unmounted=!0,this.executeAction(y.k),this.cleanupLocalStreams(),this.props.cameraStream&&this.props.cameraStream.destroy(),this.props.desktopStream&&this.props.desktopStream.destroy(),this.props.microphoneStream&&this.props.microphoneStream.destroy(),this.audioAnalyzer&&this.audioAnalyzer.destroy(),this.timer&&this.timer.stop(),this.uploader&&this.uploader.destroy()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.viewState!==this.props.viewState&&this.sendCommandToOpener(L.a.SET_VIEW_STATE,e.viewState),e.showRecordButtonFromStore!==this.props.showRecordButtonFromStore&&this.sendCommandToWindowedRecorder(L.a.SET_SHOW_RECORD_BUTTON,e.showRecordButtonFromStore),e.showRecordButton!==this.props.showRecordButton&&this.sendCommandToWindowedRecorder(L.a.SET_SHOW_RECORD_BUTTON,e.showRecordButton),e.autoSubmitFromStore!==this.props.autoSubmitFromStore&&this.sendCommandToWindowedRecorder(L.a.SET_AUTO_SUBMIT,e.showRecordButtonFromStore),e.autoSubmit!==this.props.autoSubmit&&this.sendCommandToWindowedRecorder(L.a.SET_AUTO_SUBMIT,e.autoSubmit)}},{key:"initializeRecorderState",value:function(){this.executeAction(y.l),this.executeAction(y.N,this.props.showRecordButton),this.props.isStandaloneMode&&this.executeAction(y.M,this.props.settings)}},{key:"getUploadStrategy",value:function(){var e;if(n.isStreamRecordingSupported())e=F.a;else{if(!n.isWebRtcSupported())throw this.executeAction(y.J,!0),new Error("Recorder is not supported in current browser");e=x.a}return e}},{key:"downloadRecords",value:function(){var e=this.props,t=e.recordedMicrophoneStream,n=e.recordedDesktopStream,r=e.recordedCameraStream;t&&t.download(),n&&n.download(),r&&r.download()}},{key:"updateNotifications",value:function(){this.setState({uploaderNotifications:this.uploader.getNotifications()})}},{key:"initStreams",value:function(){var e=Q(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDevicesList();case 3:r=e.sent,t=r.cameraId,n=r.microphoneId,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g.b.error("Recorder::initStreams Failed to prefetch devices list",e.t0);case 11:e.prev=11,e.t1=this.props.recorderType,e.next=e.t1===P.a.CAMERA_ONLY?15:e.t1===P.a.CAMERA_WITH_DESKTOP?18:e.t1===P.a.DESKTOP_ONLY?23:28;break;case 15:return e.next=17,this.getCameraStream({cameraId:t,microphoneId:n});case 17:return e.abrupt("break",28);case 18:return e.next=20,this.getCameraStream({cameraId:t,microphoneId:n});case 20:return e.next=22,this.getDesktopStream();case 22:return e.abrupt("break",28);case 23:return e.next=25,this.getMicrophoneStream({microphoneId:n});case 25:return e.next=27,this.getDesktopStream();case 27:return e.abrupt("break",28);case 28:e.next=33;break;case 30:e.prev=30,e.t2=e.catch(11),g.b.error("Error during streams initialization",e.t2);case 33:case"end":return e.stop()}}),e,this,[[0,8],[11,30]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCameraStream",value:function(){var e=Q(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c,s,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},r=t.cameraId,a=void 0===r?this.props.currentCameraId:r,o=t.microphoneId,i=void 0===o?this.props.currentMicrophoneId:o,e.prev=1,!this.unmounted){e.next=4;break}return e.abrupt("return");case 4:if(!((c=this.localStreams[E.a.CAMERA])&&c.stream&&c.stream.active&&c.cameraDeviceId===a&&c.microphoneDeviceId===i)){e.next=7;break}return e.abrupt("return",this.uploader.addStream(c));case 7:return this.props.cameraStream&&this.props.cameraStream.destroy(),this.localStreams[E.a.CAMERA]&&this.localStreams[E.a.CAMERA].destroy(),e.next=11,b.a.getCameraStream({cameraId:a,microphoneId:i});case 11:if(s=e.sent,!this.unmounted){e.next=14;break}return e.abrupt("return");case 14:this.executeAction(y.w,!1),s=new _.a({stream:s,streamName:E.a.CAMERA}),this.uploader.addStream(s),this.localStreams[E.a.CAMERA]=s,this.getDevicesList().catch(),this.initAudioAnalyzer(),e.next=28;break;case 22:throw e.prev=22,e.t0=e.catch(1),g.b.error(e.t0),n.doWeNeedWindowedRecorder(e.t0)&&(this.props.isStandaloneModeAllowed&&this.openWindowedRecorder().catch(),this.props.onRecordingIsNotSupported()),this.executeAction(y.w,!0),new Error("Failed to get camera stream");case 28:case"end":return e.stop()}}),e,this,[[1,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMicrophoneStream",value:function(){var e=Q(regeneratorRuntime.mark((function e(){var t,r,a,o,i,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},r=t.microphoneId,a=void 0===r?this.props.currentMicrophoneId:r,e.prev=1,!((o=this.localStreams[E.a.MICROPHONE])&&o.stream&&o.stream.active&&o.microphoneDeviceId===a)){e.next=5;break}return e.abrupt("return",this.uploader.addStream(o));case 5:return this.props.microphoneStream&&this.props.microphoneStream.destroy(),this.localStreams[E.a.MICROPHONE]&&this.localStreams[E.a.MICROPHONE].destroy(),e.next=9,b.a.getAudioStream({microphoneId:a});case 9:i=e.sent,this.executeAction(y.v,!1),i=new _.a({stream:i,streamName:E.a.MICROPHONE}),this.uploader.addStream(i),this.localStreams[E.a.MICROPHONE]=i,this.getDevicesList().catch(),this.initAudioAnalyzer(),e.next=24;break;case 18:throw e.prev=18,e.t0=e.catch(1),g.b.error(e.t0),n.doWeNeedWindowedRecorder(e.t0)&&(this.props.isStandaloneModeAllowed&&this.openWindowedRecorder().catch(),this.props.onRecordingIsNotSupported()),this.executeAction(y.v,!0),new Error("Failed to get microphone stream");case 24:case"end":return e.stop()}}),e,this,[[1,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"initAudioAnalyzer",value:function(){var e,t=this;this.audioAnalyzer&&this.audioAnalyzer.destroy(),this.localStreams[E.a.MICROPHONE]&&(e=this.localStreams[E.a.MICROPHONE]),this.localStreams[E.a.CAMERA]&&(e=this.localStreams[E.a.CAMERA]),e&&(this.audioAnalyzer=new I.b(e.stream),this.audioAnalyzer.onAudioLevelInfo((function(e){if(!t.unmounted&&(t.props.cameraStream||t.props.microphoneStream)){var n=e>=t.props.audioActivityThreshold;t.executeAction(y.p,e),!t.props.audioIsNormal&&n&&(t.executeAction(y.o,n),t.sendCommandToOpener(L.a.SET_AUDIO_IS_NORMAL))}})),this.audioAnalyzer.onStateChange((function(e){t.executeAction(y.m,e)})))}},{key:"onCameraChange",value:function(e){this.executeAction(y.o,!1),this.executeAction(y.r,void 0),this.getCameraStream({cameraId:e}).catch()}},{key:"onMicrophoneChange",value:function(e){this.executeAction(y.o,!1),this.props.recorderType!==P.a.CAMERA_ONLY&&this.props.recorderType!==P.a.CAMERA_WITH_DESKTOP||(this.executeAction(y.r,void 0),this.getCameraStream({microphoneId:e}).catch()),this.props.recorderType===P.a.DESKTOP_ONLY&&(this.executeAction(y.A,void 0),this.getMicrophoneStream({microphoneId:e}).catch())}},{key:"getDevicesList",value:function(){var e=Q(regeneratorRuntime.mark((function e(){var t,n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.getMediaDevices();case 3:return t=e.sent,n=this.localStreams[E.a.CAMERA],r=this.localStreams[E.a.MICROPHONE],n&&(a=n.getMicrophoneId(t.audio),o=n.getCameraId(t.video)),r&&(a=r.getMicrophoneId(t.audio)),this.executeAction(y.n,t.audio),this.executeAction(y.Q,t.video),this.executeAction(y.s,o),this.executeAction(y.t,a),e.abrupt("return",{cameraId:o,microphoneId:a});case 15:e.prev=15,e.t0=e.catch(0),g.b.error(e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"startRecord",value:function(){this.sendCommandToOpener(L.a.RECORDING_RECORD),this.sendCommandToWindowedRecorder(L.a.START_RECORD),this.state.isListenWindowMode||this.uploader.startRecording(),this.props.onRecord()}},{key:"stopRecord",value:function(){this.timer&&this.timer.stop(),this.uploader.stopRecording(),this.sendCommandToOpener(L.a.RECORDING_STOPPED),this.sendCommandToWindowedRecorder(L.a.STOP_RECORD),this.props.onStop(),this.notifyRecordingHasEnded()}},{key:"reset",value:function(){this.sendCommandToOpener(L.a.RECORDING_RESET),this.sendCommandToWindowedRecorder(L.a.RESET),this.state.isListenWindowMode||(this.executeAction(y.R,C.a.INITIAL),this.executeAction(y.E,!1),this.executeAction(y.r,void 0),this.executeAction(y.A,void 0),this.executeAction(y.u,void 0),this.executeAction(y.G,void 0),this.executeAction(y.H,void 0),this.executeAction(y.I,void 0),this.executeAction(y.F,0),this.executeAction(y.O,!1),this.initUploader()),this.props.onReset()}},{key:"submit",value:function(){this.sendCommandToWindowedRecorder(L.a.SUBMIT),this.state.isListenWindowMode||(this.executeAction(y.O,!0),this.uploader.isUploadFinished()&&this.finalize())}},{key:"finalize",value:function(){var e=this,t=this.props,n=t.termClass,r=t.termClassId,a=(this.timer.getTime()/1e3).toFixed(2),o={finalizeUrl:this.props.settingsFromStore.finalizeUrl,audioOnly:!1,token:this.props.settingsFromStore.token,notificationParams:this.props.settingsFromStore.notificationParams,classId:n&&n.dbId?n.dbId:r,filesize:1,filename:this.props.webcamFileName,duration:a};this.props.recorderType!==P.a.DESKTOP_ONLY&&this.props.recorderType!==P.a.CAMERA_WITH_DESKTOP||(o.slaveFilesize=1,o.slaveFilename=this.props.deskShareFileName,o.slaveDuration=a);var i=this.uploader.getFinalizeOptions();o=d.a.merge(o,i),this.executeAction(y.z,!1),v.a.finalizeRecording(o).then((function(t){e.props.onFinish(t.data,t.status),e.sendCommandToOpener(L.a.RECORDING_FINISHED,[t.data,t.status])})).catch((function(t){e.executeAction(y.z,!0),e.props.onError(t)}))}},{key:"executeAction",value:function(e){for(var t=this.props,n=t.recorderId,r=t.dispatch,a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];var c=e.apply(void 0,[n].concat(o));r(c)}},{key:"sendCommandToOpener",value:function(e,t){this.props.isStandaloneMode&&Object(k.b)(window,e,t)}},{key:"sendCommandToWindowedRecorder",value:function(e,t){this.state.isListenWindowMode&&this.recorderWindow&&Object(k.b)(this.recorderWindow,e,t)}},{key:"addRecorderWindowListeners",value:function(){var e=this;Object(k.a)(this.recorderWindow,L.a.RECORDING_FINISHED,(function(t){var n=B(t,2),r=n[0],a=n[1];e.sendCommandToWindowedRecorder(L.a.CLOSE_STANDALONE_WINDOW),e.props.onFinish(r,a)})),Object(k.a)(this.recorderWindow,L.a.RECORDING_STOPPED,(function(){e.props.onStop()})),Object(k.a)(this.recorderWindow,L.a.RECORDING_RECORD,(function(){e.props.onRecord()})),Object(k.a)(this.recorderWindow,L.a.RECORDING_RESET,(function(){e.props.onReset()})),Object(k.a)(this.recorderWindow,L.a.SET_AUDIO_IS_NORMAL,(function(){e.executeAction(y.o,!0)})),Object(k.a)(this.recorderWindow,L.a.SET_VIEW_STATE,(function(t){e.executeAction(y.R,t)}))}},{key:"getNotifications",value:function(){var e=this,t=this.props,n=t.i18n,r=t.noAudioDevicesError,a=t.noVideoDevicesError,o=t.failedToGetSettingsError,i=t.failedToGetCameraStreamError,c=t.failedToGetDesktopStreamError,s=t.failedToGetAudioStreamError,u=t.recorderIsNotSupportedError,l=t.audioAnalyzerState,d=t.finalizeFailedError,f=Date.now(),p=q(this.state.uploaderNotifications.filter((function(e){return!(e.showTime&&e.showTime>f)}))),m=this.props.recorderType===P.a.CAMERA_ONLY||this.props.recorderType===P.a.CAMERA_WITH_DESKTOP,b=this.props.recorderType===P.a.CAMERA_WITH_DESKTOP||this.props.recorderType===P.a.DESKTOP_ONLY;return u&&p.push(new O.a({id:"RECORDER IS NOT SUPPORTED",message:n._("Recorder is not supported in your browser."),i18n:n})),r&&!a&&p.push(new O.a({id:"NO AUDIO DEVICES",message:n._("No audio devices detected."),clickHandler:this.checkForDevicesAvailability,i18n:n})),a&&!r&&p.push(new O.a({id:"NO VIDEO DEVICES",message:n._("No video devices detected."),clickHandler:this.checkForDevicesAvailability,i18n:n})),a&&r&&p.push(new O.a({id:"NO MEDIA DEVICES",message:n._("No media devices detected."),clickHandler:this.checkForDevicesAvailability,i18n:n})),o&&p.push(new O.a({id:"SETTINGS FAILED",message:n._("Failed to fetch recorder configuration."),clickHandler:this.getSettings,i18n:n})),s?p.push(new O.a({id:"MICROPHONE FAILED",message:n._("Unable to access your microphone."),clickHandler:this.getMicrophoneStream.bind(this),i18n:n})):this.props.audioIsNormal||!this.props.cameraStream&&!this.props.microphoneStream||p.push(new O.a({id:"PLEASE MAKE SOUND",type:O.a.TYPES.WARN,message:n._("Accessing your microphone, please make a normal sound..."),i18n:n})),i?p.push(new O.a({id:"CAMERA FAILED",message:n._("Unable to access your camera."),clickHandler:function(){var t=Q(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getDevicesList();case 3:a=t.sent,n=a.cameraId,r=a.microphoneId,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),g.b.error(t.t0);case 11:e.getCameraStream({cameraId:n,microphoneId:r}).catch();case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),i18n:n})):this.props.viewState===C.a.INITIAL&&m&&!this.props.cameraStream&&p.push(new O.a({id:"WAITING FOR WEBCAM",type:O.a.TYPES.WARN,message:n._("Accessing your camera..."),i18n:n})),c?p.push(new O.a({id:"DESKTOP FAILED",message:n._("Unable to access your screen or application."),clickHandler:this.getDesktopStream.bind(this),i18n:n})):this.props.viewState===C.a.INITIAL&&b&&!this.props.desktopStream&&p.push(new O.a({id:"WAITING FOR DESKTOP",type:O.a.TYPES.WARN,message:n._("Accessing your screen or application..."),i18n:n})),!l||l===I.a.RUNNING||this.props.viewState!==C.a.INITIAL&&this.props.viewState!==C.a.RECORDING||p.push(new O.a({id:"CANT ANALYZE STREAM",type:O.a.TYPES.ERROR,message:n._("Unable to analyze microphone audio."),clickHandler:function(){e.audioAnalyzer.resume()},i18n:n})),d&&p.push(new O.a({id:"FINALIZE FAIL",type:O.a.TYPES.ERROR,message:n._("Failed to finalize recording."),clickHandler:function(){e.finalize()},i18n:n})),p.sort((function(e,t){var n,r=(J(n={},O.a.TYPES.ERROR,3),J(n,O.a.TYPES.WARN,2),J(n,O.a.TYPES.INFO,1),n);return r[t.type]-r[e.type]})),p}},{key:"render",value:function(){return a.a.createElement(S.a,{isListenWindowMode:this.state.isListenWindowMode,listenWindowModeState:this.state.listenWindowModeState,recorderId:this.props.recorderId,viewState:this.props.viewState,recorderType:this.props.recorderType,showRecordButton:this.props.showRecordButtonFromStore,showSubmitButton:this.props.showSubmitButton,autoSubmit:this.props.autoSubmit,submitting:this.props.submitting,notifications:this.getNotifications(),overlay:this.props.overlay,openWindowedRecorder:this.openWindowedRecorder,isStandaloneModeAllowed:this.props.isStandaloneModeAllowed,isStandaloneMode:this.props.isStandaloneMode,onChooseScreenContent:this.props.isChooseScreenContentAllowed?this.onChooseScreenContent:null,isMaxRecordingLengthVisible:this.props.isMaxRecordingLengthVisible})}}],[{key:"doWeNeedWindowedRecorder",value:function(e){var t=!1;try{t=window.self!==window.top}catch(n){t=!0}return!!t&&(!!V.a.isChromeVersionRequiringPermissions()||(!!V.a.isWebRtcCapableIosSafari()||!!V.a.isPermissionBasedError(e)))}}]),n}(a.a.Component);$.defaultProps={recorderType:P.a.CAMERA_ONLY,showRecordButton:!0,showSubmitButton:!0,isStandaloneModeAllowed:!0,isStandaloneMode:!1,audioActivityThreshold:.04,overlay:null,isChooseScreenContentAllowed:!0,onRecordingIsNotSupported:function(){},onFinish:function(){},onStop:function(){},onError:function(){},onRecord:function(){},onReset:function(){}},$.propTypes={recorderType:i.a.oneOf(Object.values(P.a)).isRequired,recorderId:i.a.oneOfType([i.a.string,i.a.number]).isRequired,mediaType:i.a.oneOf(Object.values(m.a)).isRequired,onRecordingIsNotSupported:i.a.func,activityId:i.a.number,questionId:i.a.number,onFinish:i.a.func,onStop:i.a.func,onRecord:i.a.func,onError:i.a.func,onReset:i.a.func,showRecordButton:i.a.bool,showSubmitButton:i.a.bool,autoSubmit:i.a.bool,isStandaloneModeAllowed:i.a.bool,recorderWindowTitle:i.a.string,overlay:i.a.node,isChooseScreenContentAllowed:i.a.bool,isMaxRecordingLengthVisible:i.a.bool,dispatch:i.a.func.isRequired,audioActivityThreshold:i.a.number,maxRecordLengthSeconds:i.a.number,playbackDuration:i.a.number,isStandaloneMode:i.a.bool,audioIsNormal:i.a.bool,noAudioDevicesError:i.a.bool,autoSubmitFromStore:i.a.bool,noVideoDevicesError:i.a.bool,showRecordButtonFromStore:i.a.bool,failedToGetSettingsError:i.a.bool,failedToGetCameraStreamError:i.a.bool,failedToGetDesktopStreamError:i.a.bool,failedToGetAudioStreamError:i.a.bool,recorderIsNotSupportedError:i.a.bool,finalizeFailedError:i.a.bool,submitting:i.a.bool,settingsFromStore:i.a.object,settings:i.a.object,match:i.a.object,commands:i.a.object,termClass:i.a.object,i18n:i.a.object,currentUser:i.a.object,viewState:i.a.oneOf(Object.values(C.a)),cameraStream:i.a.instanceOf(_.a),desktopStream:i.a.instanceOf(_.a),microphoneStream:i.a.instanceOf(_.a),recordedMicrophoneStream:i.a.instanceOf(_.a),recordedDesktopStream:i.a.instanceOf(_.a),recordedCameraStream:i.a.instanceOf(_.a),currentCameraId:i.a.string,currentMicrophoneId:i.a.string,webcamFileName:i.a.string,deskShareFileName:i.a.string,audioAnalyzerState:i.a.string,termClassId:i.a.number};t.b=Object(u.withI18n)()(Object(c.b)((function(e,t){return{settingsFromStore:w.F(e,t.recorderId),cameraStream:w.f(e,t.recorderId),desktopStream:w.j(e,t.recorderId),microphoneStream:w.q(e,t.recorderId),commands:e.common.commands,viewState:w.J(e,t.recorderId),currentCameraId:w.g(e,t.recorderId),currentMicrophoneId:w.h(e,t.recorderId),audioIsNormal:w.c(e,t.recorderId),noAudioDevicesError:w.s(e,t.recorderId),noVideoDevicesError:w.t(e,t.recorderId),failedToGetSettingsError:w.n(e,t.recorderId),failedToGetCameraStreamError:w.l(e,t.recorderId),failedToGetDesktopStreamError:w.m(e,t.recorderId),failedToGetAudioStreamError:w.k(e,t.recorderId),recorderIsNotSupportedError:w.A(e,t.recorderId),finalizeFailedError:w.o(e,t.recorderId),currentUser:M.h(e,t.recorderId),showRecordButtonFromStore:w.E(e,t.recorderId),recordedMicrophoneStream:w.z(e,t.recorderId),recordedDesktopStream:w.y(e,t.recorderId),recordedCameraStream:w.x(e,t.recorderId),maxRecordLengthSeconds:w.p(e,t.recorderId),submitting:w.G(e,t.recorderId),audioAnalyzerState:w.a(e,t.recorderId),autoSubmitFromStore:w.e(e,t.recorderId),webcamFileName:w.K(e,t.recorderId),deskShareFileName:w.i(e,t.recorderId),termClass:U.m(e)}}))($))}).call(this,n("URgk").setImmediate)},"0b8y":function(e,t,n){},"0hpU":function(e,t,n){},"0l2v":function(e,t,n){},"0mBp":function(e,t,n){e.exports={dashboardContainer:"b_xgI4Nxcv",dashboardContents:"b_jS3yhznh",previousButton:"b_s0lUNGft",dashboardItems:"b_2KlXyvBL",nextButton:"b_54OuOxQz"}},"0xZJ":function(e,t,n){e.exports={detailsHeader:"b_7xoL19Vg",headerInfo:"b_c7DiaBY4",headerTitle:"b_hEobZay9",detailsContainer:"b_bDz3gyrp",activityInfo:"b_xOY0Eq3J",infoItem:"b_hCYlJDVU"}},"0zen":function(e,t,n){"use strict";n.d(t,"B",(function(){return s})),n.d(t,"F",(function(){return l})),n.d(t,"s",(function(){return d})),n.d(t,"t",(function(){return f})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"k",(function(){return y})),n.d(t,"A",(function(){return v})),n.d(t,"o",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"j",(function(){return E})),n.d(t,"J",(function(){return w})),n.d(t,"b",(function(){return O})),n.d(t,"I",(function(){return S})),n.d(t,"g",(function(){return C})),n.d(t,"h",(function(){return _})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return T})),n.d(t,"x",(function(){return R})),n.d(t,"y",(function(){return P})),n.d(t,"D",(function(){return A})),n.d(t,"r",(function(){return N})),n.d(t,"p",(function(){return j})),n.d(t,"u",(function(){return k})),n.d(t,"w",(function(){return D})),n.d(t,"v",(function(){return L})),n.d(t,"q",(function(){return M})),n.d(t,"z",(function(){return x})),n.d(t,"E",(function(){return F})),n.d(t,"G",(function(){return U})),n.d(t,"H",(function(){return V})),n.d(t,"a",(function(){return G})),n.d(t,"e",(function(){return q})),n.d(t,"K",(function(){return B})),n.d(t,"i",(function(){return W})),n.d(t,"C",(function(){return Q}));var r=n("G4qV"),a=n("upk1"),o=n("LvDl"),i=n.n(o),c=Object(r.a)(a.a,(function(e){return e.recorder})),s=function(e,t){return c(e)[t]};function u(e,t,n){var r=s(e,t);if(r)return i.a.get(r,n)}var l=function(e,t){return u(e,t,"settings")},d=function(e,t){return u(e,t,"errors.noAudioDevices")},f=function(e,t){return u(e,t,"errors.noVideoDevices")},p=function(e,t){return u(e,t,"errors.failedToGetSettings")},m=function(e,t){return u(e,t,"errors.failedToGetCameraStream")},b=function(e,t){return u(e,t,"errors.failedToGetDesktopStream")},y=function(e,t){return u(e,t,"errors.failedToGetAudioStream")},v=function(e,t){return u(e,t,"errors.recorderIsNotSupported")},h=function(e,t){return u(e,t,"errors.finalizeFailed")},g=function(e,t){return u(e,t,"cameraStream")},E=function(e,t){return u(e,t,"desktopStream")},w=function(e,t){return u(e,t,"viewState")},O=function(e,t){return u(e,t,"audioDevices")},S=function(e,t){return u(e,t,"videoDevices")},C=function(e,t){return u(e,t,"currentCameraId")},_=function(e,t){return u(e,t,"currentMicrophoneId")},I=function(e,t){return u(e,t,"audioLevel")},T=function(e,t){return u(e,t,"audioIsNormal")},R=function(e,t){return u(e,t,"recordedCameraStream")},P=function(e,t){return u(e,t,"recordedDesktopStream")},A=function(e,t){return u(e,t,"recordingTime")},N=function(e,t){return u(e,t,"settings.minRecordLengthSeconds")},j=function(e,t){return u(e,t,"settings.maxRecordLengthSeconds")},k=function(e,t){return u(e,t,"playbackDuration")},D=function(e,t){return u(e,t,"playbackTime")},L=function(e,t){return u(e,t,"playbackPlaying")},M=function(e,t){return u(e,t,"microphoneStream")},x=function(e,t){return u(e,t,"recordedMicrophoneStream")},F=function(e,t){return u(e,t,"showRecordButton")},U=function(e,t){return u(e,t,"submitting")},V=function(e,t){return u(e,t,"uploadingProgressPercent")},G=function(e,t){return u(e,t,"audioAnalyzerState")},q=function(e,t){return u(e,t,"autoSubmit")},B=function(e,t){return u(e,t,"settings.webCamFileName")},W=function(e,t){return u(e,t,"settings.deskShareFileName")},Q=function(e,t){return u(e,t,"recordingPaused")}},1:function(e,t){},"1AfR":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("TSYQ"),u=n.n(s),l=n("Uu12");n("slDY");function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,b(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.ariaLabel,r=e.className,o=e.isLoading,i=t._("Loading...");return void 0!==n&&(i=n),a.a.createElement("div",f({},Object(l.j)(this.props),{className:u()("embedded-loader",r)}),this.props.children,o?a.a.createElement("div",{className:"embedded-loader-spinner","aria-label":i}):null)}}])&&p(n.prototype,r),o&&p(n,o),t}(r.Component);v.propTypes={children:i.a.node,ariaLabel:i.a.string,className:i.a.string,isLoading:i.a.bool.isRequired},t.a=Object(c.withI18n)()(v)},"1CkY":function(e,t,n){},"1IXb":function(e,t,n){},"1OwP":function(e,t,n){},"1VlW":function(e,t,n){e.exports={overviewSummary:"b_arLJ4SGZ",overviewToolbar:"b_vZsGvvBc",exportButton:"b_pggNf07w",contentContainer:"b_cXuTbrkU"}},"1h2I":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("/MKj"),i=n("TfV7"),c=n("Wtf/"),s=n("HCbP");function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityId,n=e.dueDate;return t&&s.a.isDueDateVisible()&&n?a.a.createElement("div",{className:"dashboard-container"},a.a.createElement(i.a,null)):null}}])&&l(n.prototype,r),o&&l(n,o),t}(r.Component),b=Object(o.b)((function(e){return{activityId:c.getActivityId(e),dueDate:c.getDueDate(e)}}))(m),y=n("CvxL"),v=n("d98y"),h=n("xHcp"),g=n("zyHd");function E(e){return(E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=O(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==E(a)&&"function"!==typeof a?C(r):a,_(C(C(n)),"getInProgressCount",(function(){var e=n.props.resultPartials;return g.a.getInProgressPartials(e).length})),_(C(C(n)),"getSubmittedCount",(function(){var e=n.props.resultPartials;return g.a.getReadyToSubmitPartials(e).length})),_(C(C(n)),"onRemoveSubmission",(function(){var e=n.props.activityId;e=+e,h.a.deleteSubmission(e)})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityId,n=e.result,r=e.removeSubmissionIsLoading;return t?a.a.createElement("div",{className:"dashboard-container"},a.a.createElement(y.a,null),a.a.createElement(v.b,{result:n,removeSubmissionIsLoading:r,onRemoveSubmission:this.onRemoveSubmission})):null}}])&&w(n.prototype,r),o&&w(n,o),t}(r.Component),T=Object(o.b)((function(e){return{activityId:c.getActivityId(e),result:c.getActivityResult(e)}}))(I);n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return T}))},"1mi+":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("qj80"),s=n.n(c),u=n("kbsL"),l=n("7fh3"),d=n("kKdm"),f=n("7GeL"),p=n("TSYQ"),m=n.n(p),b=n("LvDl"),y=n.n(b);n("t6et");function v(e){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=g(t).call(this,e),n=!a||"object"!==v(a)&&"function"!==typeof a?w(r):a,O(w(w(n)),"onRatingSummaryClick",(function(){n.setState({summaryDialogVisible:!0})})),O(w(w(n)),"onSummaryClose",(function(){n.setState({summaryDialogVisible:!1})})),n.state={summaryDialogVisible:!1},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state.summaryDialogVisible,t=y.a.clone(this.props),n=0;return t.viewType&&t.viewType===d.a.SUMMARY&&(t.enabled=!1,t.value=Object(l.a)(t.ratingSummaryItems),t.ratingSummaryItems&&(n=t.ratingSummaryItems.length)),a.a.createElement("div",{"aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,className:m()("input-rating",t.className)},a.a.createElement(s.a,{name:t.name,starCount:5,value:t.value,editing:t.enabled,onStarClick:t.onChange}),t.viewType&&t.viewType===d.a.SUMMARY?a.a.createElement(u.b,{id:"button-ratings-summary",primary:!0,className:"rating-summary-button",enabled:n>0,onClick:this.onRatingSummaryClick},"(",n,")"):null,t.viewType&&t.viewType===d.a.SUMMARY?a.a.createElement(f.a,{onClose:this.onSummaryClose,isAnonymous:this.props.isAnonymous,visible:e,ratingItems:t.ratingSummaryItems}):null)}}])&&h(n.prototype,r),o&&h(n,o),t}(r.Component);S.componentProps={className:i.a.string,name:i.a.string.isRequired,onChange:i.a.func,style:i.a.object,value:i.a.number},S.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}({},S.componentProps,{ariaLabel:i.a.string,ariaLabelledby:i.a.string,enabled:i.a.bool,isAnonymous:i.a.bool,ratingSummaryItems:i.a.array,viewType:i.a.string}),S.defaultProps={value:0,enabled:!0},t.a=S},"1pdk":function(e,t,n){},"1xro":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("mmiR");var r=n("LvDl"),a=n.n(r),o=n("2Gxn"),i=n("na1x");function c(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l,d,f,p="audioinput",m="videoinput",b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getMediaDevices",value:function(){try{return navigator.mediaDevices.enumerateDevices().then((function(e){var t={audio:[],video:[]};return e.forEach((function(e){e.kind===p&&t.audio.push(e),e.kind===m&&t.video.push(e)})),Promise.resolve(t)}))}catch(e){return Promise.reject(e)}}},{key:"getCameraStream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cameraId,n=e.microphoneId,r={video:{height:{max:720},frameRate:{max:60}},audio:!0};return t&&(r.video.deviceId={exact:t}),n&&(r.audio=a.a.merge({},r.audio,{deviceId:{exact:n}})),o.b()&&(r.audio=a.a.merge({},r.audio,{sampleRate:32e3})),navigator.mediaDevices.getUserMedia(r)}},{key:"getAudioStream",value:function(e){var t=e.microphoneId,n={video:!1,audio:!0};return t&&(n.audio=a.a.merge({},n.audio,{deviceId:{exact:t}})),o.b()&&(n.audio=a.a.merge({},n.audio,{sampleRate:{min:8e3,max:32e3}})),navigator.mediaDevices.getUserMedia(n)}}],(n=null)&&u(t.prototype,n),r&&u(t,r),e}();l=b,d="getDesktopStream",f=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices.getDisplayMedia){e.next=6;break}return e.next=3,navigator.mediaDevices.getDisplayMedia({video:!0});case 3:return e.abrupt("return",e.sent);case 6:if(!navigator.getDisplayMedia){e.next=12;break}return e.next=9,navigator.getDisplayMedia({video:!0});case 9:return e.abrupt("return",e.sent);case 12:return e.next=14,Object(i.c)(function(){var e=s(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}throw t;case 2:return e.next=4,navigator.mediaDevices.getUserMedia(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}());case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,this)}))),d in l?Object.defineProperty(l,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[d]=f},"1zCZ":function(e,t,n){"use strict";t.a={COMPLETION:"TYPE__COMPLETION",FIVESTAR:"TYPE__FIVESTAR",GRADE:"TYPE__GRADE",PASS_FAIL:"TYPE__PASS_FAIL",RUBRIC:"TYPE__RUBRIC",AUTO_ANALYSIS:"PSEUDO_TYPE__AUTO_ANALYSIS"}},2:function(e,t){},"212x":function(e,t,n){},"24ZJ":function(e,t,n){e.exports={captionsGenerator:"b_sXSQHVqX",captionsGeneratorBody:"b_lPUvnNts",captionsGeneratorFooter:"b_er0QJs6b",captionsGeneratorLeft:"b_qTqwvdTq",captionsGeneratorRight:"b_8gIeLKJC",spinner:"b_fkeh8okX",title:"b_8ksMCU9j",details:"b_6eVOJcmI"}},"25rm":function(e,t,n){},"28FC":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={ENABLED:"TYPE__ENABLED",DISABLED:"TYPE__DISABLED",NOT_APPLICABLE:"TYPE__NOT_APPLICABLE"}},"2Gxn":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return f}));var r=n("xsZ3"),a=n.n(r),o=n("LvDl"),i=n.n(o),c=function(){return s()},s=function(){var e=new a.a(window.navigator.userAgent);return e.is("iPhone")||e.is("iPad")},u=function(){return new a.a(window.navigator.userAgent).is("AndroidOS")},l=function(){return new a.a(window.navigator.userAgent).is("Chrome")},d=function(){return s()||u()},f=function(){return i.a.get(navigator,"platform","").toLowerCase().indexOf("mac")>=0}},"2HZR":function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"n",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return v}));var r="[Export user data requests] ",a=r+"Set is loading",o=r+"Set create is loading",i=r+"Set has error",c=r+"Set create has error",s=r+"Set list",u=r+"Add request",l=r+"Cancel request",d=function(e){return{type:a,payload:e}},f=function(e){return{type:o,payload:e}},p=function(e){return{type:i,payload:e}},m=function(e){return{type:c,payload:e}},b=function(e){return{type:s,payload:e}},y=function(e){return{type:u,payload:e}},v=function(e){return{type:l,payload:e}}},"2bAp":function(e,t,n){"use strict";t.a={CALENDAR:"icon bongo-calendar",CLOSE:"icon bongo-close",DOT_6:"icon bongo-dot-6",DOT_8:"icon bongo-dot-8",DOT_9:"icon bongo-dot-9",DOT_10:"icon bongo-dot-10",FILE:"icon bongo-file",GRADE:"icon bongo-grade",INTERACTIVE_VIDEO:"icon bongo-interactive-video",PLUS:"icon bongo-plus",QUESTION:"icon bongo-question",STAR_FULL:"icon bongo-star-full"}},3:function(e,t){},"3/zm":function(e,t,n){},"3Hpt":function(e,t,n){},"3JS6":function(e,t,n){},"3Tiu":function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"q",(function(){return p})),n.d(t,"p",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return v})),n.d(t,"o",(function(){return h})),n.d(t,"n",(function(){return g}));var r="[Activity-QA] Set question is loading",a="[Activity-QA] Set active question",o="[Activity-QA] Set question being withdrawn",i="[Activity-QA] Set answer is deleting",c="[Activity-QA] Set practice data",s="[Activity-QA] Set submitting",u="[Activity-QA] Set background refresh is loading",l="[Activity-QA] Set refreshed data",d="[Activity-QA] Set activity page state",f="[Activity-QA] Set active question media src",p=function(e){return{type:r,payload:e}},m=function(e){return{type:o,payload:e}},b=function(e){return{type:a,payload:e}},y=function(e){return{type:f,payload:e}},v=function(e){return{type:i,payload:e}},h=function(e){return{type:c,payload:e}},g=function(e){return{type:d,payload:e}}},"3UYF":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("TSYQ"),s=n.n(c);n("e+aV");function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.link;return a.a.createElement("div",{className:s()("c-preview-url",t)},a.a.createElement("iframe",{title:n,src:n,className:"c-preview-url__iframe",frameBorder:"0"}))}}])&&l(n.prototype,r),o&&l(n,o),t}(r.Component);m.propTypes={className:i.a.string,link:i.a.string},t.a=m},"3dGR":function(e,t,n){},"3fhg":function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return p}));var r,a=n("vGZo");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={SS_LAUNCHPOINT_SETTINGS:"bongo-launchpoint-settings",VIEW:"view",CONTEXT:"context",CONTEXT_USER_TYPE:"userType",CONTEXT_COURSE_ID:"courseId",CONTEXT_ACTIVITY_ID:"activityId",CONTEXT_MEETING_ID:"meetingId",CONTEXT_LEARNER_ID:"learnerId",CONTEXT_ERROR_CODE:"errorCode",PARAMS:"parameters",PARAMS_TYPE:"type",PARAMS_MEETING_TOKEN:"meetingToken",PARAMS_EXTERNAL_COURSE_ID:"externalCourseId",PARAMS_EXTERNAL_COURSE_NAME:"externalCourseName",PARAMS_EXTERNAL_RESOURCE_ID:"externalResourceId",PARAMS_EXTERNAL_RESOURCE_NAME:"externalResourceName",PARAMS_LEARNER_ID:"learnerId",PARAMS_RETURN_PATH:"returnPath",PARAMS_ERROR_MESSAGE:"errorMessage",PARAMS_ERROR_TIME:"errorTime"},c={EDUCATOR:a.a.EDUCATOR,STUDENT:a.a.STUDENT,ANON:a.a.ANON},s={individual:"individual",group:"group","q-and-a":"q-and-a","interactive-video":"interactive-video"},u={ACTIVITIES:"activities",ACTIVITY:"activity",ACTIVITY_LEARNER:"activity-learner",ACTIVITY_SETTINGS:"activity-settings",LIBRARY:"library",MEETINGS:"meetings",MEETING:"meeting",RUBRICS:"rubrics",COURSE_CREATE:"course-create",RESOURCE_CREATE:"resource-create",ACTIVITY_CREATE:"activity-create",ERROR:"error"},l={GENERIC_ERROR:"generic-error",CONTACT_ADMINISTRATOR:"contact-administrator",USER_ACCOUNT_CONFLICT:"user-account-conflict",UNKNOWN_CLASS:"unknown-class",CLASS_CLOSED:"class-closed",INVALID_DATA:"invalid-data",LTI_CONFIGURATION_ERROR:"lti-configuration-error",UNKNOWN_MEETING:"meeting-load-failure"},d=(o(r={},i.CONTEXT_COURSE_ID,"classId"),o(r,i.CONTEXT_LEARNER_ID,"studentId"),r),f={classId:[i.CONTEXT_COURSE_ID]},p={}},"3psO":function(e,t,n){e.exports={button:"b_zvCBYLjF",optionButton:"b_i1gXpyU1",optionButtonTop:"b_aYnJf0Ua",optionButtonBottom:"b_mvC47xBd",optionButtonIcon:"b_p4I34HUH",optionButtonLabel:"b_y0MuheWG",optionButtonDescription:"b_s3oxYIBk"}},4:function(e,t){},"4/mv":function(e,t,n){},"45tj":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"j",(function(){return E}));var r=n("6zxP");function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=["ar","de","en","es","fr","fr-CA","nl","pt-BR"],c=["ar","de","en","es","fr","nl","pt-BR"],s=/([a-zA-Z]{2,3})(?:-[a-zA-Z]{3})?(?:-[a-zA-Z]{4})?(?:[-_]([a-zA-Z]{2}|[0-9]{3}))?/;function u(e){return l(e).map((function(e){return e.startsWith("ar")?e.concat("-u-nu-latn"):e}))}function l(e){var t=[];return e&&e.frontend&&t.push(e.frontend),t.push("en-US"),t}function d(e){if(!e)return[];var t=s.exec(e);if(t&&t[1]){var n=t[1].toLowerCase();return t[2]?[n,t[2].toUpperCase()]:[n]}return[]}function f(e){if("en"===e||"en-US"===e)return null;var t=o(d(e),2),n=t[0],r=t[1];if(n&&r){var a=r.toLowerCase();return n===a?n:"".concat(n,"-").concat(a)}return n||null}function p(e){return b(e,void 0,c)}function m(e){return b(e).replace("-","_")}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,r=void 0===t?"en":t,a=o(d(e),2),c=a[0],s=a[1];if(!c)return r;if(s){var u="".concat(c,"-").concat(s);if(n.includes(u))return u}return n.includes(c)?c:r}function y(e){return null!==b(e,null)}function v(e){var t=e.find(y);return t&&(t=t.replace("_","-")),t}function h(e){if(!e)return{frontend:v([].concat(a(Object(r.a)()),["en-US"]))};var t=[e.ltiLocale].concat(a(Object(r.a)()));return e.institution&&t.push(e.institution.locale),t.push("en-US"),{backend:e.locale,frontend:v(t)}}function g(e){return b(e).replace("-","_")}function E(e){return!!(e&&e.frontend&&e.backend)&&g(e.frontend)!==e.backend}},"491w":function(e,t,n){},"4WYY":function(e,t,n){},"4XMt":function(e,t,n){"use strict";var r=n("wRmV"),a=n("q1tI"),o=n.n(a),i=n("17x9"),c=n.n(i),s=n("691o");function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),b(this,y(n).apply(this,arguments))}var a,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(n,t),a=n,(i=[{key:"render",value:function(){var t=this.props,n=t.forwardedRef,a=p(t,["forwardedRef"]);return o.a.createElement(r.b,a.tooltip,o.a.createElement(e,f({ref:n},a)))}}])&&m(a.prototype,i),c&&m(a,c),n}(a.Component);return t.displayName="WithTooltip(".concat(Object(s.a)(e),")"),t.propTypes=l({},e.propTypes,{tooltip:c.a.shape(l({},r.b.propTypes))}),o.a.forwardRef((function(e,n){return o.a.createElement(t,f({},e,{forwardedRef:n}))}))}n.d(t,"b",(function(){return r.b})),n.d(t,"a",(function(){return r.a})),n.d(t,"c",(function(){return h}))},"4Z3x":function(e,t,n){e.exports={page:"b_aurgQQeT",content:"b_qzyJbbYb",note:"b_s33LltWq",chooseContainer:"b_w7FlbX8d",chooseMessage:"b_4oWVxQ16",chooseOptionButtonsPrimary:"b_rjX9IzNm",chooseOptionButtonsSecondary:"b_yxP6PN34",chooseOptionButton:"b_1YxoairV"}},"4pH6":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("G4qV"),a=n("upk1"),o=Object(r.a)(a.a,(function(e){return e.navigation})),i=Object(r.a)(o,(function(e){return e.navigation})),c=Object(r.a)(o,(function(e){return e.isLoading}))},"5F5Z":function(e,t,n){},"5LeV":function(e,t,n){},"5Lwc":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("8bCP"),a="rootHost";function o(){try{if(!c())return void localStorage.removeItem(a);var e=function(){var e=function(e){var t=document.createElement("a");return t.href=e,t}(document.referrer);if(!c()||window.location.host===e.host)return;return e}();if(!e)return;var t=i(),n=e.origin;t&&t===n||(o=n,localStorage.setItem(a,o))}catch(s){r.b.error(s)}var o}function i(){return localStorage.getItem(a)}function c(){return window.self!==window.top}},"5THG":function(e,t,n){},"5U9+":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("GhmD"),s=n.n(c),u=n("TSYQ"),l=n.n(u),d=n("q8N1");function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,b(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e,t,n,r=this.props,o=r.title,i=r.onClick,c=r.logo,s=r.disabled,u=r.onRef;return a.a.createElement("div",{className:l()("c-cloud-transfer__button",(e={},t="c-cloud-transfer__button--disabled",n=s,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),tabIndex:0,role:"button","aria-label":o,"aria-atomic":!0,ref:u,onKeyDown:Object(d.b)(i),onClick:i},a.a.createElement("img",{className:"c-cloud-transfer__image",src:c,alt:o}),a.a.createElement("a",{className:"c-cloud-transfer__name"},o),this.props.children)}}])&&p(n.prototype,r),o&&p(n,o),t}(r.Component);v.propTypes={logo:i.a.string,title:i.a.string,onClick:i.a.func,disabled:i.a.bool};var h=n("fcFR"),g=n("VmXB"),E=n("J1aS");function w(e){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var I=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=S(t).call(this,e))||"object"!==w(a)&&"function"!==typeof a?_(r):a).state={isLoading:!0},n.onIframeMountHandler=n.onIframeMountHandler.bind(_(_(n))),n.onIframeSuccessHandler=n.onIframeSuccessHandler.bind(_(_(n))),n.onIframeErrorHandler=n.onIframeErrorHandler.bind(_(_(n))),n.onIframeCloseHandler=n.onIframeCloseHandler.bind(_(_(n))),n.onIframeLoadedHandler=n.onIframeLoadedHandler.bind(_(_(n))),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener(E.a.MOUNTED,this.onIframeMountHandler),document.addEventListener(E.a.SUCCESS,this.onIframeSuccessHandler),document.addEventListener(E.a.ERROR,this.onIframeErrorHandler),document.addEventListener(E.a.CLOSE,this.onIframeCloseHandler),document.addEventListener(E.a.LOADED,this.onIframeLoadedHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener(E.a.MOUNTED,this.onIframeMountHandler),document.removeEventListener(E.a.SUCCESS,this.onIframeSuccessHandler),document.removeEventListener(E.a.ERROR,this.onIframeErrorHandler),document.removeEventListener(E.a.CLOSE,this.onIframeCloseHandler),document.removeEventListener(E.a.LOADED,this.onIframeLoadedHandler)}},{key:"onIframeMountHandler",value:function(){var e=new CustomEvent(E.a.SET_CONFIG,{detail:{mediaType:this.props.mediaType,multiselect:this.props.multiselect,config:this.props.config}});this.iframeElem.contentDocument.dispatchEvent(e)}},{key:"onIframeSuccessHandler",value:function(e){var t=e.detail;this.onSuccess(t)}},{key:"onIframeErrorHandler",value:function(e){var t=e.detail;this.onError(t)}},{key:"onIframeCloseHandler",value:function(){this.onCancel()}},{key:"onIframeLoadedHandler",value:function(){this.setState({isLoading:!1})}},{key:"onSuccess",value:function(e){var t={cloudService:"microsoft_one_drive",files:e.values.map((function(e){return{fileId:e.link,fileName:e.fileName,sizeBytes:e.size}}))};this.props.onSuccess(t)}},{key:"onError",value:function(e){this.props.onError(e)}},{key:"onCancel",value:function(){this.props.onCancel()}},{key:"openDialog",value:function(){var e=new CustomEvent(E.a.OPEN_DIALOG);this.iframeElem.contentDocument.dispatchEvent(e)}},{key:"render",value:function(){var e=this;return a.a.createElement(v,{onClick:this.openDialog.bind(this),disabled:this.state.isLoading,title:"OneDrive",logo:s.a},a.a.createElement("iframe",{src:Object(h.b)(g.b.ONEDRIVE_PROXY),title:"OneDrive",style:{display:"none"},ref:function(t){return e.iframeElem=t},className:"c-cloud-transfer__onedrive-iframe"}))}}])&&O(n.prototype,r),o&&O(n,o),t}(r.Component);I.propTypes={onSuccess:i.a.func,onError:i.a.func,onCancel:i.a.func,mediaType:i.a.string};var T=n("gRfE"),R=n.n(T),P=n("MuZe"),A=n.n(P),N=n("C721"),j=n("Qyje"),k=n.n(j),D=n("NlSD"),L=n("lTCR"),M=n.n(L),x=n("wNa6"),F=n("MOhp"),U=n("8bCP");function V(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    query getFileTransferSettings ($mediaType: MediaType!, $activityDbId: Int, $questionDbId: Int) {\n        fileTransferSettings(mediaType: $mediaType, activityDbId: $activityDbId, questionDbId: $questionDbId) {\n            googleDrive {\n                clientId\n                apiKey\n                tokenExists\n                authUrl\n                authCallbackUrl\n            }\n            dropbox {\n                appKey\n            }\n            oneDrive {\n                appKey\n            }\n            saveUrl\n            multiSelection\n            allowedFileExtensions\n            maxAllowedFileSizeMegabytes\n            requestParams\n        }\n    }\n"]);return V=function(){return e},e}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){q(e,t,n[t])}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"upload",value:function(e,t,n){var r=G({},e,{fileUploaderRequestParameters:G({},t)});return N.a.post(n,k.a.stringify(r))}},{key:"clearSettings",value:function(){x.a.dispatch(F.p(null))}},{key:"getSettings",value:function(e,t,n){var r={mediaType:e};t&&(r.activityDbId=t),n&&(r.questionDbId=n),x.a.dispatch(F.v(!0)),x.a.dispatch(F.u(!1)),D.a.query({query:Q,variables:r,fetchPolicy:"network-only"}).then((function(e){var t=e.data.fileTransferSettings;x.a.dispatch(F.p(t)),x.a.dispatch(F.v(!1)),x.a.dispatch(F.u(!1))})).catch((function(e){U.b.error("CloudTransferService --\x3e getSettings. Error: ",e),x.a.dispatch(F.v(!1)),x.a.dispatch(F.u(!0))}))}},{key:"sendGoogleAuthCallbackUrl",value:function(e,t){var n={url:t};return N.a.post(e,k.a.stringify(n)).then((function(e){return"error"===e.data.status?Promise.reject(e.data):Promise.resolve(e.data)}))}}])&&B(t.prototype,n),r&&B(t,r),e}()),Q=M()(V()),Y=n("5Lwc");function H(e){return(H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Z=["https://www.googleapis.com/auth/drive.readonly"],$=[],ee=!1,te=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=K(t).call(this,e))||"object"!==H(a)&&"function"!==typeof a?J(r):a).onApiLoad=n.onApiLoad.bind(J(J(n))),n.authToken=null,n.tokenExists=e.config.tokenExists,n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.isGoogleReady()?this.onApiLoad():ee||(ee=!0,A()("https://apis.google.com/js/api.js",this.onApiLoad))}},{key:"isGoogleReady",value:function(){return!!window.gapi}},{key:"isGoogleAuthReady",value:function(){return!!window.gapi.auth}},{key:"isGooglePickerReady",value:function(){return!!window.google.picker}},{key:"onApiLoad",value:function(){window.gapi.load("auth"),window.gapi.load("picker")}},{key:"doAuth",value:function(e){var t=this.props.config;window.gapi.auth.authorize({client_id:t.clientId,scope:Z,immediate:!1},e)}},{key:"handleClick",value:function(){var e=this,t=this.props.config,n=t.authUrl,r=t.authCallbackUrl;if(this.tokenExists)return this.openDialog();var a=window.open(n,"popup","width=700, height=500, menubar=no, location=no, directories=no, toolbar=no, resizable=no, scrollbars=no, status=no, copyhistory=no");document.addEventListener("googleOauthCallback",(function(t){var n=t.customValue;a.close(),W.sendGoogleAuthCallbackUrl(r,n).then((function(){e.tokenExists=!0,e.simulateTransferButtonClick()}))}))}},{key:"openDialog",value:function(){var e=this;if(!this.isGoogleReady()||!this.isGoogleAuthReady()||!this.isGooglePickerReady()||this.props.disabled)return null;this.authToken?this.createPicker(this.authToken):this.doAuth((function(t){var n=t.access_token;e.authToken=n,e.simulateTransferButtonClick()}))}},{key:"simulateTransferButtonClick",value:function(){this.buttonElement.click()}},{key:"createPicker",value:function(e){var t=this.props.config;if(this.props.createPicker)return this.props.createPicker(window.google,e);var n=window.google.picker.ViewId.DOCS,r=new window.google.picker.View(n);if(this.props.mimeTypes&&r.setMimeTypes($),!r)throw new Error("Can't find view by viewId");var a=(new window.google.picker.PickerBuilder).addView(r).setOAuthToken(e).setDeveloperKey(t.apiKey).setCallback(this.onChange.bind(this)),o=Y.a();a.setOrigin(o||window.location.origin),a.enableFeature(window.google.picker.Feature.NAV_HIDDEN),this.props.multiselect&&a.enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED),a.build().setVisible(!0)}},{key:"onChange",value:function(e){switch(e.action){case window.google.picker.Action.PICKED:var t={cloudService:"google_drive",files:e.docs.map((function(e){return{fileId:e.id,fileName:e.name,sizeBytes:e.sizeBytes}}))};this.props.onSuccess(t);break;case window.google.picker.Action.CANCEL:this.props.onCancel();break;default:U.b.debug("Unhandled google picker action",e)}}},{key:"render",value:function(){var e=this;return a.a.createElement(v,{onClick:this.handleClick.bind(this),onRef:function(t){t&&(e.buttonElement=t)},title:"Google Drive",logo:R.a})}}])&&z(n.prototype,r),o&&z(n,o),t}(r.Component);te.propTypes={onSuccess:i.a.func,onError:i.a.func,onCancel:i.a.func};var ne=n("WLvO"),re=n.n(ne);function ae(e){return(ae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ue=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=ie(t).call(this,e))||"object"!==ae(a)&&"function"!==typeof a?se(r):a).options={success:n.onSuccess.bind(se(se(n))),cancel:n.onCancel.bind(se(se(n))),linkType:"direct",multiselect:n.props.multiselect,extensions:["video","audio"]},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),n=t,(r=[{key:"onSuccess",value:function(e){var t={cloudService:"dropbox",files:e.map((function(e){return{fileId:e.link,fileName:e.name,sizeBytes:e.bytes}}))};this.props.onSuccess(t)}},{key:"onError",value:function(e){this.props.onError(e)}},{key:"onCancel",value:function(){this.props.onCancel()}},{key:"openDialog",value:function(){window.Dropbox.choose(this.options)}},{key:"render",value:function(){return a.a.createElement(v,{onClick:this.openDialog.bind(this),title:"Dropbox",logo:re.a})}}])&&oe(n.prototype,r),o&&oe(n,o),t}(r.Component);ue.propTypes={onSuccess:i.a.func,onError:i.a.func,onCancel:i.a.func};n("PhW7");var le=n("/MKj"),de=n("UyA7"),fe=n("hvs/"),pe=n("kbsL"),me=n("ZD0w"),be=n("Gxhl");function ye(e){return(ye="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return!t||"object"!==ye(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ge(this,Ee(t).call(this,e))).state={isLoading:!1,hasError:!1},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.reloadConfig()}},{key:"componentWillUnmount",value:function(){W.clearSettings()}},{key:"onSuccess",value:function(e){var t=this,n=this.props.i18n,r=e.files;if(0!==(r=r.filter((function(e){var r=e.fileName,a=e.sizeBytes,o=!0,i="";return t.isFileExtensionAllowed(r)||(i=n._("{fileName} has a file extension that is not supported, and won't be transferred. Supported extensions: {0}",{0:t.props.config.allowedFileExtensions.join(", "),fileName:r}),o=!1),t.isFileSizeAllowed(a)||(i=n._("{fileName} exceeds maximum size and won't be transferred. Maximum file size is: {0} MB.",{0:t.props.config.maxAllowedFileSizeMegabytes,fileName:r}),o=!1),o||t.setState({dialogMessage:i}),o}))).length){e.files=r;var a=this.props,o=a.submit,i=a.onSubmitSuccess,c=a.onSubmitError,s=a.postData,u=a.config;o||(o=W.upload),this.setState({isLoading:!0,hasError:!1}),o(e,s,u.saveUrl).then((function(e){t.setState({isLoading:!1}),i&&i(e)})).catch((function(e){t.setState({isLoading:!1,hasError:!0}),c&&c(e)}))}}},{key:"isFileExtensionAllowed",value:function(e){var t=e.split(".").pop().toLowerCase();return this.props.config.allowedFileExtensions.includes(t)}},{key:"isFileSizeAllowed",value:function(e){return e/1048576<=this.props.config.maxAllowedFileSizeMegabytes}},{key:"onError",value:function(e){U.b.debug("Transfer files error:",e),this.setState({isLoading:!1,hasError:!0})}},{key:"onCancel",value:function(){U.b.debug("Transfer files modal closed")}},{key:"reloadConfig",value:function(){W.getSettings(this.props.mediaType,this.props.activityId,this.props.questionId)}},{key:"render",value:function(){var e=this.props,t=e.configIsLoading,n=e.configLoadingError,r=e.config,o=e.i18n,i={onSuccess:this.onSuccess.bind(this),onError:this.onError.bind(this),onCancel:this.onCancel.bind(this),multiselect:!!this.props.config&&!!this.props.config.multiselect,mediaType:this.props.mediaType};if(n)return a.a.createElement("div",{className:"u-text-center"},a.a.createElement(me.Trans,{id:"Error during transfer initialization"}),a.a.createElement(pe.h,{id:"button-cloud-transfer-try-again",ariaLabel:o._("Try again"),onClick:this.reloadConfig.bind(this)},a.a.createElement(me.Trans,{id:"Try again"})));var c=t||this.state.isLoading;return a.a.createElement(fe.b,{loading:c},r&&a.a.createElement("div",{className:"c-cloud-transfer"},this.state.hasError&&a.a.createElement("p",null,a.a.createElement(me.Trans,{id:"Failed to upload. Please try again"})),a.a.createElement(te,ve({config:r.googleDrive},i)),a.a.createElement(ue,i),a.a.createElement(I,ve({config:r.oneDrive},i)),a.a.createElement(be.a,{id:"cloud-transfer-message-dialog",message:this.state.dialogMessage})),!r&&a.a.createElement("div",{className:"u-minh-100px"}))}}])&&he(n.prototype,r),o&&he(n,o),t}(r.Component);Oe.defaultProps={multiselect:!1,postData:{}},Oe.propTypes={postData:i.a.object,submit:i.a.func,onSubmitSuccess:i.a.func,onSubmitError:i.a.func,mediaType:i.a.string.isRequired,activityId:i.a.number,questionId:i.a.number};t.a=Object(me.withI18n)()(Object(le.b)((function(e){return{config:de.o(e),configIsLoading:de.q(e),configLoadingError:de.p(e),postData:de.r(e)}}))(Oe))},"5id7":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("Uu12"),s=n("qSfp"),u=n("QMWu"),l=n("LvDl"),d=n.n(l);n("rZyJ");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){return d.a.pick(e,Object.keys(b.componentProps))}var b=function(e){return a.a.createElement(s.b,p({},Object(c.j)(e),m(e),{className:e.className,flat:!0}),e.isLoading?a.a.createElement(u.a,{id:"button-flat-progress",className:"button-flat-progress"}):e.children)};b.componentProps=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},s.b.propTypes),b.propTypes={className:i.a.string,children:i.a.node,isLoading:i.a.bool},b.defaultProps={isLoading:!1},t.a=b},"5jRi":function(e,t,n){},"5nXI":function(e,t,n){e.exports={"status-not-viewed":"#9E9E9E","status-not-viewed-hover":"#757575","status-viewed":"#BA68C8","status-viewed-hover":"#ab47bc","status-progress":"#8e24aa","status-progress-hover":"#7b1fa2","status-submitted":"#6A1B9A","status-submitted-hover":"#4a148c","status-needs-evaluation":"#2196F3","status-needs-evaluation-hover":"#1e88e5","status-evaluated":"#1976d2","status-evaluated-hover":"#1565c0","status-published":"#0d47a1","status-published-hover":"#0d47a1","status-not-submitted":"#ddd","status-not-submitted-hover":"#ccc","status-progress-bar":"#43A047",overviewContainer:"b_r4krz1D8",overviewProgress:"b_4XGYxeJX"}},"5sx6":function(e,t,n){},"5ux5":function(e,t,n){"use strict";t.a={LINK:"ActivityResultPartialLink",DOCUMENT:"ActivityResultPartialDocument",MEDIA:"ActivityResultPartialMedia",MEETING:"ActivityResultPartialMeeting",REFLECTION_ANSWERS:"ActivityResultPartialReflectionAnswers"}},"691o":function(e,t,n){"use strict";function r(e){return e.displayName||e.name||"Component"}n.d(t,"a",(function(){return r}))},"6Byh":function(e,t,n){},"6SRB":function(e,t,n){"use strict";var r=n("LvDl"),a=n.n(r),o=n("wNa6"),i=n("r9GM"),c=n("hApM"),s=n("e33A"),u=n("8bCP");function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"detectViewportDimensions",(function(){try{return{width:window.innerWidth,height:window.innerHeight}}catch(e){u.b.debug("Unable to detect viewport dimensions",e)}return{width:null,height:null}})),d(this,"detectViewportSize",(function(){var e="N/A";try{var n=t.detectViewportDimensions();a.a.forEach(c.a,(function(t){if(n.width<=t.max)return e=t.name,!1}))}catch(r){u.b.debug("Unable to detect viewport size",r)}return e})),d(this,"onWindowResize",(function(){var e=t.detectViewportSize();e!==Object(s.c)(o.a.getState())&&o.a.dispatch(i.f(e));var n=t.detectViewportDimensions();o.a.dispatch(i.d(n)),t.onWindowOrientationChange()})),d(this,"detectViewportOrientation",(function(){try{return window.matchMedia("(orientation: portrait)").matches?c.b.PORTRAIT:c.b.LANDSCAPE}catch(e){u.b.debug("Unable to detect window orientation",e)}return c.b.NA})),d(this,"onWindowOrientationChange",(function(){var e=t.detectViewportOrientation();e!==Object(s.b)(o.a.getState())&&o.a.dispatch(i.e(e))}))}var t,n,r;return t=e,(n=[{key:"monitorWindowChanges",value:function(){window.addEventListener("resize",this.onWindowResize),window.addEventListener("orientationchange",this.onWindowOrientationChange),this.onWindowResize()}},{key:"isPageInsideIframe",value:function(){return window.self!==window.top}}])&&l(t.prototype,n),r&&l(t,r),e}();t.a=new f},"6Swy":function(e,t,n){},"6WCH":function(e,t,n){e.exports={workItems:"b_2QDv598l"}},"6ZeI":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("J4sO"),s=n("A2tp"),u=n("T1zh"),l=n("+psP"),d=n("v6po"),f=n("Y7ox"),p=n("EiE3"),m=n("QccL"),b=n("LvDl"),y=n.n(b);function v(e){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,o=(e=g(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==v(o)&&"function"!==typeof o?w(r):o,O(w(w(n)),"onMediaChange",(function(e){Object(m.d)(e.dbId,e.caption);var t=n.props.onMediaChange;t?t(e):n.forceUpdate()})),O(w(w(n)),"onManageCaptions",(function(){var e=n.props,t=e.media,r=e.isMeeting,o=!0;e.usageContext===d.a.DIRECT_LIBRARY&&r&&(o=!1),f.a.showModal(a.a.createElement(p.a,{allowAutomaticCaptioningOption:o,media:t,onMediaChange:n.onMediaChange}))})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.autoplay,n=e.autoplayStartTime,r=e.media,o=e.marks,i=e.onPlay,c=e.termClassId,d=e.activityId,f=e.usageContext,p=e.id,b=e.isManageCaptionsAllowed,v=e.onMediaChange,h=y.a.get(r,"transcript.src"),g={autoplay:t,autoplayStartTime:n,sources:[{src:r.srcUrl,type:"video/mp4"}],transcriptUrl:h,autoCaptionsEnabled:!1},E=Object(m.c)(r);E?(g.autoCaptionsEnabled=E.isAutoGenerated,g.tracks=[E]):g.tracks=[];var w=null;b&&r.canEditCaptions&&(w=this.onManageCaptions);var O=r.slaveMedia;if(r.meetingAssets){var S=null;return r.slaveMedia&&(S=r.slaveMedia.srcUrl),a.a.createElement(l.a,{playerId:this.props.playerId,onPlay:i,mainStreamUrl:r.srcUrl,slaveStreamUrl:S,caption:E,termClassId:c,activityId:d,usageContext:f,media:r,mediaId:r.dbId,onMediaChange:v,logMediaWatching:this.props.logMediaWatching,svgUrl:r.meetingAssets.svgUrl,cursorUrl:r.meetingAssets.cursorUrl,zoomsUrl:r.meetingAssets.zoomsUrl,eventsUrl:r.meetingAssets.eventsUrl,chatMessagesUrl:r.meetingAssets.chatMessagesUrl})}return O?a.a.createElement(u.a,{autoplay:t,autoplayStartTime:n,caption:E,transcriptUrl:h,deskshareSrc:r.slaveMedia.srcUrl,marks:o,onManageCaptions:w,autoCaptionsEnabled:g.autoCaptionsEnabled,onPlay:i,playerId:this.props.playerId,webcamSrc:r.srcUrl,termClassId:c,activityId:d,usageContext:f,mainMediaId:r.dbId,logMediaWatching:this.props.logMediaWatching,slaveMediaId:r.slaveMedia.dbId}):a.a.createElement(s.a,{id:"".concat(p,"--media-container-video-player"),marks:o,onManageCaptions:w,onPlay:i,options:g,termClassId:c,activityId:d,usageContext:f,mediaId:r.dbId,logMediaWatching:this.props.logMediaWatching,playerId:this.props.playerId})}}])&&h(n.prototype,r),o&&h(n,o),t}(r.Component);S.defaultProps={autoplay:!1,autoplayStartTime:null,logMediaWatching:!0,isManageCaptionsAllowed:!0,marks:[],onPlay:function(){}},S.propTypes={autoplay:i.a.bool,autoplayStartTime:i.a.number,logMediaWatching:i.a.bool,isManageCaptionsAllowed:i.a.bool,onPlay:i.a.func,onMediaChange:i.a.func,id:i.a.string.isRequired,playerId:i.a.string,media:i.a.shape({allowExternalPlay:i.a.bool,processingStatus:i.a.oneOf([c.a.READY,c.a.PROGRESS,c.a.ERROR]),downloadUrl:i.a.string,externalPlayUrl:i.a.string}),marks:i.a.arrayOf(i.a.shape({timestamp:i.a.number})),termClassId:i.a.number,activityId:i.a.number,usageContext:i.a.oneOf([d.a.ACTIVITY_COMMENTARY,d.a.ACTIVITY_OVERVIEW,d.a.COMMENT,d.a.DIRECT_LIBRARY,d.a.FEEDBACK,d.a.INTERACTIVE_VIDEO,d.a.PROFILE,d.a.QA_QUESTION,d.a.STUDENT_RESULT,d.a.STUDENT_RESULT_PARTIAL]).isRequired}},"6puI":function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return w}));var r=n("q1tI"),a=n.n(r),o=n("giI2"),i=n("2bAp"),c=n("LFYD"),s=n("5ux5"),u=n("zyHd"),l=n("7n1V"),d=n("oDFA"),f=n.n(d),p=n("28FC"),m=n("LvDl"),b=n.n(m);function y(e,t){if(e&&e.__typename){if(u.a.isMediaInProcessingProgress(e))return a.a.createElement(o.a,{className:"wip-type-icon",ariaLabel:t._("Video Processing, icon"),tooltip:{label:t._("Video processing")}},c.a.HOURGLASS_EMPTY);if(u.a.isMediaInProcessingError(e))return a.a.createElement(o.a,{className:"wip-type-icon error-status-icon",ariaLabel:t._("Video processing error, icon"),tooltip:{label:t._("Video processing error")}},c.a.ERROR);switch(e.__typename){case s.a.LINK:return a.a.createElement(o.a,{className:"wip-type-icon",ariaLabel:t._("Link, icon")},c.a.LINK);case s.a.MEDIA:return a.a.createElement(o.a,{className:"wip-type-icon",ariaLabel:t._("Video, icon")},c.a.VIDEOCAM);case s.a.MEETING:return a.a.createElement(o.a,{className:"wip-type-icon",ariaLabel:t._("Meeting, icon"),iconClassName:i.a.CALENDAR});case s.a.REFLECTION_ANSWERS:return a.a.createElement(o.a,{className:"wip-type-icon",ariaLabel:t._("Reflection Answers, icon")},c.a.LIST_NUMBERED);default:return a.a.createElement(o.a,{className:"wip-type-icon",ariaLabel:t._("File, icon"),iconClassName:i.a.FILE})}}}function v(e){if(e){if(e.myData)return e.myData;if(e.dataForOneStudent)return e.dataForOneStudent}return null}var h=function(e){return[l.b.CONVERSATION,l.b.TEXT_DISCUSSION,l.b.ROLE_PLAY,l.b.IN_CLASSROOM].includes(e.type)},g=function(e){if(!e)return null;var t=/^\[\[([^\]]+)\]\]$/;e=e.replace("www.","");var n=null;if(t.test(e)){var r=t.exec(e)[1];f()({strict:!0}).test(r)&&(n=r)}return n};function E(e){return b.a.get(e,"autoAnalysisEnabled")===p.a.ENABLED}function w(e){return b.a.get(e,"termClass.dbId")}},"6ru4":function(e,t,n){},"6vFL":function(e,t,n){},"6zxP":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("LvDl"),a=n.n(r);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(){var e=[];return a.a.isEmpty(navigator.languages)?e.push(navigator.language):e=o(navigator.languages),e.push(window.Intl&&"function"===typeof window.Intl.DateTimeFormat?window.Intl.DateTimeFormat().resolvedOptions().locale:null),a.a.compact(e)}},"7D+u":function(e,t,n){"use strict";var r=n("zL4/"),a=n("RWpT"),o=n("q1tI"),i=n.n(o),c=n("ZD0w"),s=n("17x9"),u=n.n(s),l=n("TSYQ"),d=n.n(l),f=n("xrVw"),p=n("giI2"),m=n("LFYD"),b=(n("i5n6"),"column-menu-button"),y="icon-container-label";function v(e){var t=e.i18n;return i.a.createElement(f.r,{key:e.key,menuItems:e.menuItems,className:d()(b,e.className),anchor:{x:f.r.HorizontalAnchors.CENTER,y:f.r.VerticalAnchors.OVERLAP},position:f.r.Positions.TOP_LEFT,animationPosition:"below"},i.a.createElement(f.a,{disabled:!e.enabled,component:f.w,iconBefore:!0,label:i.a.createElement(f.w,{className:"icon-container",labelClassName:d()(y,e.labelClassName),label:e.label},i.a.createElement(p.a,{ariaLabel:t._("Drop Down Arrow"),className:"drop-down-arrow-icon"},m.a.ARROW_DOWN))},e.selectedItem))}v.propTypes={enabled:u.a.bool,label:u.a.string,labelClassName:u.a.string},v.defaultProps={enabled:!0};var h=Object(c.withI18n)()(v),g=n("Md0H"),E=n("LvDl"),w=n.n(E);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=function(e){return i.a.createElement(f.H,S({icon:!0},function(e){return w.a.pick(e,Object.keys(C.componentProps))}(e),{className:d()("column-select-field",e.className)}),e.children)};C.componentProps={className:u.a.string,menuItems:u.a.array},C.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}({},C.passThroughProps);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g.a}))},"7FdR":function(e,t,n){},"7GeL":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZtzG"),s=n("hHKf"),u=n("kbsL"),l=n("s/Ur"),d=n.n(l),f=n("yG+V"),p=n("TEiA"),m=n("ZD0w"),b=n("LvDl"),y=n.n(b),v=n("uaEo");function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=this,o=(e=E(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==h(o)&&"function"!==typeof o?O(r):o,S(O(O(n)),"getUserInfo",(function(e,t){var r=n.props,o=r.i18n,i=r.isAnonymous,s=y.a.merge({},e);s.user||(s.user={dbId:t});var u=Object(v.c)(o,s.user,i);return a.a.createElement("div",{className:"member-avatar-container"},a.a.createElement(c.a,{className:"member-avatar",value:u}),a.a.createElement("span",{className:"member-name-label"},u))})),S(O(O(n)),"getRatingComponent",(function(e){return a.a.createElement("div",{className:"rating-column-renderer"},a.a.createElement(f.a,{name:"group-member-rating",value:e.value,enabled:!1}))})),S(O(O(n)),"createColumns",(function(){var e=n.props.i18n;return[{accessor:"user",className:"member-name",label:e._("User"),renderer:function(e,t){var r=Number(t.split("_")[0])+1;return n.getUserInfo(e,r)}},{accessor:"",className:"rating-column",label:e._("Rating"),renderer:function(e){return n.getRatingComponent(e)}},{accessor:"comment",grow:!0,className:"rating-comment-column",label:e._("Comment")}]})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.visible,r=t.onClose,o=t.ratingItems,i=t.i18n,c=[a.a.createElement(u.b,{id:"button-ratings-summary-dialog-close",secondary:!0,ariaLabel:i._("Close"),onClick:r},a.a.createElement(m.Trans,{id:"Close"}))];return a.a.createElement(s.a,{actions:c,contentStyle:{width:"100%"},dialogClassName:"rating-summary-dialog",id:"rating-summary-dialog",modal:!0,title:i._("Ratings"),visible:n},a.a.createElement(d.a,{query:"(min-width: 701px)"},a.a.createElement(p.a,{columns:this.createColumns(),hasMobileListView:!1,className:"rating-summary-table",data:o||[],listAccessor:"title"})),a.a.createElement(d.a,{query:"(max-width: 700px)"},a.a.createElement("div",{className:"rating-results-container"},o.map((function(t,n){return a.a.createElement("div",{key:"rating_ele_"+n},a.a.createElement("div",{className:"rating-user-info"},e.getUserInfo(t)),a.a.createElement("div",{className:"rating-rating-component"},e.getRatingComponent(t)),a.a.createElement("div",{className:"rating-comments-container"},t.comment))})))))}}])&&g(n.prototype,r),o&&g(n,o),t}(r.Component);C.propTypes={onClose:i.a.func,visible:i.a.bool,ratingItems:i.a.array,isAnonymous:i.a.bool,i18n:i.a.object},t.a=Object(m.withI18n)()(C)},"7H7w":function(e,t,n){},"7Yj1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="[Locale] Set locale",a=function(e){return{type:r,payload:e}}},"7dPE":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("/MKj"),u=n("ZD0w"),l=n("TSYQ"),d=n.n(l),f=n("LvDl"),p=n.n(f),m=n("kbsL"),b=n("hu4m"),y=n("etP2"),v=n("hApM"),h=n("LFYD"),g=n("e33A");n("MRtt");function E(e){return(E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=27,R="closeable-dialog",P="".concat(R,"--full"),A="".concat(R,"-underlay"),N="".concat(R,"-overlay"),j="".concat(R,"-overlay-content"),k="".concat(R,"-header"),D="".concat(k,"-title"),L="".concat(k,"-actions"),M="".concat(R,"-content"),x="".concat(R,"-footer"),F="".concat(R,"-children-container"),U="".concat(R,"-close"),V="".concat(R,"-toolbar");function G(e){return p.a.pick(e,Object.keys(q.componentProps))}var q=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,o=(e=S(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==E(o)&&"function"!==typeof o?_(r):o,I(_(_(n)),"state",{containFocusOverride:!0}),I(_(_(n)),"recalculateFocusables",(function(){var e=n.state.containFocusOverride;n.setState({containFocusOverride:!1},(function(){n.setState({containFocusOverride:e})}))})),I(_(_(n)),"onKeyDown",(function(e){var t=n.props.onHide;(e.which||e.keyCode)===T&&t(e)})),I(_(_(n)),"getCloseButton",(function(){var e=n.props,t=e.i18n,r=e.onHide;return a.a.createElement(m.d,{id:U,className:U,onClick:r,ariaLabel:t._("Close")},h.a.CLOSE)})),I(_(_(n)),"getFullPageContent",(function(){var e=n.props,t=e.title,r=e.children,o=e.headerActions,i=e.footerActions,c=n.props,s=c.childrenContainerClassName,u=c.fullPageToolbarClassName,l=c.footerClassName,f=p.a.compact(o);return f.push(n.getCloseButton()),a.a.createElement("div",{className:d()(M)},a.a.createElement(y.a,{className:d()(V,u),title:a.a.createElement("h2",{id:D},t),actions:f}),a.a.createElement("div",{className:d()(F,s),tabIndex:0},r),!p.a.isEmpty(i)&&a.a.createElement(b.a,{zDepth:1,className:d()(x,l)},i))})),I(_(_(n)),"getContent",(function(){var e=n.props,t=e.title,r=e.children,o=e.footerActions,i=n.props,c=i.headerClassName,s=i.childrenContainerClassName,u=i.footerClassName;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:d()(k,c)},a.a.createElement("h2",{id:D,className:D},t),a.a.createElement("div",{className:L},n.getCloseButton())),a.a.createElement("div",{className:d()(F,s)},r),!p.a.isEmpty(o)&&a.a.createElement("div",{className:d()(x,u)},o))})),I(_(_(n)),"getOverlay",(function(){var e=n.props,t=e.overlay,r=e.overlayClassName,o=e.overlayContentClassName;return a.a.createElement("div",{className:d()(N,r)},a.a.createElement("div",{className:d()(j,o)},t))})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.props.closeOnEsc&&window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){this.props.closeOnEsc&&window.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.containFocus,n=e.fullPage,r=e.visible,o=e.overlay,i=this.props,s=i.className,u=i.contentClassName,l=i.dialogClassName,f=i.footerClassName,p=this.state.containFocusOverride,m=w({},G(this.props),{className:d()(A,s,{"md-overlay--active":r}),contentClassName:d()(M,u),dialogClassName:d()(R,I({},P,n),l),footerClassName:d()(x,f),"aria-labelledby":D,containFocus:p&&t});return a.a.createElement(c.n,m,n?this.getFullPageContent():this.getContent(),o?this.getOverlay():null)}}])&&O(n.prototype,r),o&&O(n,o),t}(a.a.PureComponent);q.componentProps={autosizeContent:i.a.bool,autopadContent:i.a.bool,className:i.a.string,closeOnEsc:i.a.bool,containFocus:i.a.bool,contentClassName:i.a.string,contentStyle:i.a.any,dialogClassName:i.a.string,dialogStyle:i.a.any,disableScrollLocking:i.a.bool,footerClassName:i.a.string,fullPage:i.a.bool,height:i.a.oneOfType([i.a.string,i.a.number]),id:i.a.string.isRequired,initialFocus:i.a.string,lastChild:i.a.bool,modal:i.a.bool,onHide:i.a.func,portal:i.a.bool,renderNode:i.a.object,style:i.a.any,visible:i.a.bool.isRequired,width:i.a.oneOfType([i.a.string,i.a.number])},q.propTypes=w({},q.componentProps,{childrenContainerClassName:i.a.string,headerActions:i.a.array,headerClassName:i.a.string,footerActions:i.a.oneOfType([i.a.node,i.a.array]),fullPageMaxWidth:i.a.number,fullPageToolbarClassName:i.a.string,title:i.a.any,overlay:i.a.node,overlayClassName:i.a.string,overlayContentClassName:i.a.string}),q.defaultProps={autopadContent:!1,autosizeContent:!1,closeOnEsc:!0,containFocus:!0,fullPageMaxWidth:v.a.XSMALL.max,initialFocus:U,onHide:function(){},modal:!0,visible:!0};t.a=Object(u.withI18n)({withRef:!0})(Object(s.b)((function(e,t){var n=t.fullPage;if(!p.a.isBoolean(n)){var r=t.fullPageMaxWidth||q.defaultProps.fullPageMaxWidth;n=g.d(e)<=r}return{fullPage:n}}),null,null,{forwardRef:!0})(q))},"7fh3":function(e,t,n){"use strict";function r(e){var t=0;if(e){for(var n=0,r=0;r<e.length;r++)n+=e[r].value;n>0&&(t=n/e.length)}return Math.floor(t)}function a(e){var t=0;if(e){for(var n=0,r=0;r<e.length;r++)n+=e[r].points;n>0&&(t=n/e.length)}return Math.ceil(t)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))},"7hjy":function(e,t,n){e.exports={bongoShape:"b_2M545y4A",bongoShapeFilled:"b_80khVbh8",bongoShapeOutlined:"b_6tW0DV81"}},"7n1V":function(e,t,n){"use strict";var r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o}));var o=(a(r={},"TYPE__INDIVIDUAL_PROJECT","INDIVIDUAL"),a(r,"TYPE__QA_ENHANCED","QA"),a(r,"TYPE__GROUP_PRESENTATION","GROUP"),a(r,"TYPE__INTERACTIVE_VIDEO","INTERACTIVE_VIDEO"),r),i={CONVERSATION:"TYPE__CONVERSATION",GROUP_PRESENTATION:"TYPE__GROUP_PRESENTATION",HELPER_STUDIO:"TYPE__HELPER_STUDIO",IN_CLASSROOM:"TYPE__IN_CLASSROOM",INTERACTIVE_VIDEO:"TYPE__INTERACTIVE_VIDEO",INDIVIDUAL_PROJECT:"TYPE__INDIVIDUAL_PROJECT",ROLE_PLAY:"TYPE__ROLE_PLAY",TEXT_DISCUSSION:"TYPE__TEXT_DISCUSSION",QA_ENHANCED:"TYPE__QA_ENHANCED"};t.b=i},"7rMt":function(e,t,n){},"7vKE":function(e,t,n){e.exports={userListSortContainer:"b_yihDguGv",sortDirectionButton:"b_3n5cyKRM",asc:"b_n4eYW1Er",dropDownMenu:"b_26Fgh8j3",dropDownButtonContainer:"b_4fjM4jWV",dropDownLabel:"b_tOJHCjoF"}},"8+7o":function(e,t,n){},"8DtX":function(e,t,n){"use strict";var r=n("lTCR"),a=n.n(r),o=n("09Br"),i=n("jlV6");function c(){var e=u(["\n    fragment EducatorActivityGroupMember on ActivityStudentGroupMember {\n        dbId\n        firstName\n        lastName\n        fiveStarRatings {\n            ...FiveStarRatingWithUser\n            ...FiveStarRatingAnonymous\n        }\n        rubricEvaluations {\n            ...GroupReviewRubricWithUser\n            ...GroupReviewRubricAnonymous\n        }\n        isLocked\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return c=function(){return e},e}function s(){var e=u(["\n    fragment StudentActivityGroupMember on ActivityStudentGroupMember {\n        dbId\n        firstName\n        lastName\n        fiveStarRatings {\n            ...FiveStarRatingWithUser\n            ...FiveStarRatingAnonymous\n        }\n        myFiveStarRating {\n            ...FiveStarRatingWithUser\n            ...FiveStarRatingAnonymous\n        }\n        rubricEvaluations {\n            ...GroupReviewRubricWithUser\n            ...GroupReviewRubricAnonymous\n        }\n        myRubricEvaluation {\n            ...GroupReviewRubricWithUser\n            ...GroupReviewRubricAnonymous\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return s=function(){return e},e}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=a()(s(),o.b,o.a,i.b,i.a),d=a()(c(),o.b,o.a,i.b,i.a),f=n("eDl9"),p=n("92Bf"),m=n("O+79"),b=n("svEP"),y=n("mxsA"),v=n("/KNH");function h(){var e=_(["\n    query getActivityData($activityId: Int!, $studentId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            submitDueAt\n            groupReviewType\n            type\n            termClass {\n                dbId\n            }\n            instructionsText\n            instructionsMedia {\n                ...MediaFull\n            }\n            gradeType\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            rubricPeerAllowed\n            rubricSelfAllowed\n            studentFivestarValuationEnabled\n            rubric {\n                ...Rubric\n            }\n            groupReviewRubric {\n                ...Rubric\n            }\n            dataForOneStudent(studentDbId: $studentId) {\n                ...EducatorGroupActivityStudentData\n            }\n        }\n    }\n    ","\n    ","\n    ","\n"]);return h=function(){return e},e}function g(){var e=_(["\n    query getActivityData($activityId: Int!, $studentId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            submitDueAt\n            type\n            termClass {\n                dbId\n            }\n            gradeType\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            rubricPeerAllowed\n            rubricSelfAllowed\n            studentFivestarValuationEnabled\n            rubric {\n                ...Rubric\n            }\n            groupReviewType\n            groupReviewRubric {\n                ...Rubric\n            }\n            dataForAllStudents {\n                student {\n                    dbId\n                    firstName\n                    lastName\n                }\n                studentGroup {\n                    dbId\n                    name\n                }\n                activity {\n                    dbId\n                }\n                educatorGrade {\n                    ...EducatorGrade\n                }\n            }\n            dataForOneStudent(studentDbId: $studentId) {\n                ...ActivityStudentData\n            }\n        }\n    }\n    ","\n    ","\n    ","\n"]);return g=function(){return e},e}function E(){var e=_(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            submitDueAt\n            allowGroupsForming\n            deletable\n            type\n            termClass {\n                dbId\n            }\n            allowViewOthersResultsWithoutOwn\n            isCommentingAnonymous\n            peerReviewSubmitterAnonymous\n            commentaryText\n            commentaryMedia {\n                ...MediaFull\n            }\n            gradeType\n            instructionsText\n            instructionsMedia {\n                ...MediaFull\n            }\n            isVideoToolEnabled\n            isDocumentToolEnabled\n            isMeetingToolEnabled\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            studentFivestarValuationEnabled\n            rubric {\n                ...Rubric\n            }\n            rubricPeerAllowed\n            rubricSelfAllowed\n            ltiDeepLinking\n            ltiGradeIdentifier\n            ltiGradeSyncEnabled\n            groupReviewType\n            groupReviewRubric {\n                ...Rubric\n            }\n            studentGroups {\n                dbId\n            }\n            groupsFormationFinalizeAt\n            minStudentsAmountInGroup\n            maxStudentsAmountInGroup\n            executorsType\n            cengageSettings {\n                countTowardsFinalGrade\n                score\n                locked\n                inPath\n            }\n            dataForAllStudents {\n                student {\n                    dbId\n                }\n                result {\n                    submitter {\n                        roles\n                    }\n                }\n                rubricEvaluations {\n                    user {\n                        ...GeneralUser\n                    }\n                    rubric {\n                        ...Rubric\n                    }\n                    points\n                }\n                educatorGrade {\n                    ...EducatorGrade\n                }\n                studentGroup {\n                    members {\n                        ...on ActivityStudentGroupMember {\n                            rubricEvaluations {\n                                ...on ActivityStudentGroupReviewRubricEvaluationAnonymous {\n                                    points\n                                }\n                                ...on ActivityStudentGroupReviewRubricEvaluationWithUser {\n                                    points\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return E=function(){return e},e}function w(){var e=_(["\n    fragment EducatorGroupActivityStudentData on ActivityStudentData {\n        student {\n            ...EducatorUser\n        }\n        resultPartials {\n            ... on ActivityResultPartialDocument {\n                ...Document\n            }\n            ... on ActivityResultPartialLink {\n                ...Link\n            }\n            ... on ActivityResultPartialMedia {\n                ...MediaPartial\n            }\n            ... on ActivityResultPartialMeeting {\n                ...MeetingPartial\n            }\n        }\n        reviewedResults {\n            ...ReviewedResult\n        }\n        studentGroup {\n            ...EducatorStudentGroupWithProgress\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return w=function(){return e},e}function O(){var e=_(["\n    fragment ActivityStudentData on ActivityStudentData {\n        student {\n            ...EducatorUser\n        }\n        resultPartialsCreatedCount\n        resultPartials {\n            ... on ActivityResultPartialDocument {\n                ...Document\n            }\n            ... on ActivityResultPartialLink {\n                ...Link\n            }\n            ... on ActivityResultPartialMedia {\n                ...MediaPartial\n            }\n            ... on ActivityResultPartialMeeting {\n                ...MeetingPartial\n            }\n        }\n        educatorGrade {\n            ...EducatorGrade\n        }\n        peerReview {\n            fiveStarValue\n            fiveStarRatesAmount\n            rubricGrade\n        }\n        rubricEvaluations {\n            ...RubricEvaluation\n        }\n        studentGroup {\n            ...EducatorStudentGroupWithProgress\n        }\n        reviewedResults {\n            ...ReviewedResult\n        }\n        result {\n            ...EducatorGroupProjectResult\n        }\n        isGradeDraftAllowed\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return O=function(){return e},e}function S(){var e=_(["\n    fragment EducatorGroupProjectResult on ActivityResultGroupProject {\n        activityStudentGroup {\n            dbId\n            name\n        }\n        submitter {\n            ...EducatorUser\n        }\n        submittedAt\n        media {\n            ...MediaFull\n        }\n        documents {\n            ...Document\n        }\n        links {\n            ...Link\n        }\n        deletable\n        comments {\n          ...Comment\n          ...AnonymousComment\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    "]);return S=function(){return e},e}function C(){var e=_(["\n    fragment EducatorStudentGroupWithProgress on ActivityStudentGroupWithProgress {\n        dbId\n        name\n        members {\n            ...EducatorActivityGroupMember\n        }\n        milestones {\n            dbId\n            description\n            assignedTo {\n                dbId\n                firstName\n                lastName\n            }\n            status\n            dueDate\n        }\n        comments {\n            dbId\n            text\n            isSystem\n            user {\n                dbId\n                firstName\n                lastName\n            }\n            createdAt\n        }\n        reviewReleasedAt\n        isReviewAnonymous\n    }\n    ","\n"]);return C=function(){return e},e}function _(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var I=a()(C(),d),T=a()(S(),f.b,m.b,m.a,f.a,p.b,p.d,y.c),R=a()(O(),T,p.b,p.d,f.b,f.a,f.c,f.d,b.a,o.d,I,y.c,o.c,v.a),P=a()(w(),f.b,f.a,f.c,f.d,y.c,I,v.a),A=a()(E(),b.a,y.e,p.d,o.d),N=a()(g(),o.d,b.a,R),j=a()(h(),o.d,p.d,P),k=n("x1nL");function D(){var e=B(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            lmsLocked\n            className\n            submitDueAt\n            type\n            groupReviewType\n            termClass {\n                dbId\n            }\n            executorsType\n            availableResults {\n                ...StudentGroupProjectResult        \n            }\n            reviewedResults {\n                ...StudentGroupProjectResult\n            }\n            commentaryText\n            commentaryMedia {\n                ...MediaFull\n            }\n            gradeType\n            instructionsText\n            instructionsMedia {\n                ...MediaFull\n            }\n            isVideoToolEnabled\n            isDocumentToolEnabled\n            isMeetingToolEnabled\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            studentFivestarValuationEnabled\n            rubric {\n                ...Rubric\n            }\n            rubricPeerAllowed\n            rubricSelfAllowed\n            myData {\n                ...StudentRefreshGroupActivityStudentData\n            }\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return D=function(){return e},e}function L(){var e=B(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            ...GroupActivity\n            availableResults {\n                ...StudentGroupProjectResult        \n            }\n            reviewedResults {\n                ...StudentGroupProjectResult\n            }\n        }\n    }\n    ","\n    ","\n"]);return L=function(){return e},e}function M(){var e=B(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            type\n            executorsType\n            termClass {\n                dbId\n                students {\n                    ...GeneralUser\n                }\n            }\n            groupsFormationFinalizeAt\n            groupsFormedAt\n            allowGroupsForming\n            minStudentsAmountInGroup\n            maxStudentsAmountInGroup\n            studentGroupsToJoin {\n                dbId\n                name\n                members {\n                    ...GeneralUser\n                }\n            }\n        }\n    }\n    ","\n"]);return M=function(){return e},e}function x(){var e=B(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            type\n            executorsType\n            groupsFormationFinalizeAt\n            groupsFormedAt\n            allowGroupsForming\n            termClass {\n                dbId\n            }\n            myData {\n                studentGroup {\n                    dbId\n                }\n            }\n        }\n    }\n"]);return x=function(){return e},e}function F(){var e=B(["\n    fragment GroupActivity on Activity {\n        dbId\n        name\n        lmsLocked\n        className\n        submitDueAt\n        type\n        allowViewOthersResultsWithoutOwn\n        allowGroupsForming\n        groupReviewType\n        termClass {\n            ...TermClassBasic\n        }\n        groupsFormedAt\n        executorsType\n        commentaryText\n        commentaryMedia {\n            ...MediaFull\n        }\n        gradeType\n        instructionsText\n        instructionsMedia {\n            ...MediaFull\n        }\n        isVideoToolEnabled\n        isDocumentToolEnabled\n        isMeetingToolEnabled\n        isCommentingAnonymous\n        peerReviewSubmitterAnonymous\n        peerReviewType\n        peerReviewAmount\n        peerReviewGradeEnabled\n        peerReviewGradeWeight\n        peerReviewDueAt\n        studentFivestarValuationEnabled\n        rubric {\n            ...Rubric\n        }\n        groupReviewRubric {\n            ...Rubric\n        }\n        rubricPeerAllowed\n        rubricSelfAllowed\n        submittable\n        myData {\n            ...StudentGroupActivityStudentData\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return F=function(){return e},e}function U(){var e=B(["\n    fragment StudentRefreshGroupActivityStudentData on ActivityStudentData {\n        student {\n            ...StudentUser\n        }\n        resultPartials {\n            ... on ActivityResultPartialDocument {\n                ...Document\n            }\n            ... on ActivityResultPartialLink {\n                ...Link\n            }\n            ... on ActivityResultPartialMedia {\n                ...MediaPartial\n            }\n            ... on ActivityResultPartialMeeting {\n                ...MeetingPartial\n            }\n        }\n        educatorGrade {\n            ...StudentEducatorGrade\n        }\n        rubricEvaluations {\n            ...RubricEvaluation\n        }\n        peerReview {\n            fiveStarValue\n            fiveStarRatesAmount\n            rubricGrade\n        }\n        studentGroup {\n            ...StudentGroupWithProgress\n        }\n        result {\n            ...StudentGroupProjectResult\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return U=function(){return e},e}function V(){var e=B(["\n    fragment StudentGroupActivityStudentData on ActivityStudentData {\n        student {\n            ...StudentUser\n        }\n        resultPartials {\n            ... on ActivityResultPartialDocument {\n                ...Document\n            }\n            ... on ActivityResultPartialLink {\n                ...Link\n            }\n            ... on ActivityResultPartialMedia {\n                ...MediaPartial\n            }\n            ... on ActivityResultPartialMeeting {\n                ...MeetingPartial\n            }\n        }\n        educatorGrade {\n            ...StudentEducatorGrade\n        }\n        rubricEvaluations {\n            ...RubricEvaluation\n        }\n        peerReview {\n            fiveStarValue\n            fiveStarRatesAmount\n            rubricGrade\n        }\n        studentGroup {\n            ...StudentGroupWithProgress\n        }\n        result {\n            ...StudentGroupProjectResult\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return V=function(){return e},e}function G(){var e=B(["\n    fragment StudentGroupProjectResult on ActivityResultGroupProject {\n        activityStudentGroup {\n            dbId\n            name\n        }\n        submitter {\n            ...StudentUser\n        }\n        submittedAt\n        media {\n            ...MediaFull\n        }\n        documents {\n            ...Document\n        }\n        links {\n            ...Link\n        }\n        deletable\n        isViewed {\n            value\n        }\n        comments {\n           ...Comment\n           ...AnonymousComment\n        }\n        myFiveStarRating {\n            value\n        }\n        myRubricEvaluation {\n            ...StudentReviewRubric\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return G=function(){return e},e}function q(){var e=B(["\n    fragment StudentGroupWithProgress on ActivityStudentGroupWithProgress {\n        dbId\n        name\n        members {\n            ...StudentActivityGroupMember\n        }\n        milestones {\n            dbId\n            description\n            assignedTo {\n                dbId\n                firstName\n                lastName\n            }\n            status\n            dueDate\n        }\n        comments {\n            dbId\n            text\n            isSystem\n            user {\n                dbId\n                firstName\n                lastName\n            }\n            createdAt\n        }\n        reviewReleasedAt\n        isReviewAnonymous\n    }\n    ","\n"]);return q=function(){return e},e}function B(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var W=a()(q(),l),Q=a()(G(),f.b,m.b,m.a,o.e,f.a,p.d,p.b,y.d),Y=a()(V(),Q,p.d,p.b,f.b,f.a,f.c,f.d,b.b,o.d,y.d,W,o.c),H=a()(U(),Q,f.b,f.a,f.c,f.d,y.d,W,b.b,o.c),z=a()(F(),p.d,o.d,Y,k.e),K=a()(x()),X=a()(M(),y.e),J=a()(L(),z,Q),Z=J,$=a()(D(),p.d,Q,o.d,H);n.d(t,"c",(function(){return A})),n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return j})),n.d(t,"i",(function(){return Q})),n.d(t,"g",(function(){return K})),n.d(t,"f",(function(){return X})),n.d(t,"d",(function(){return J})),n.d(t,"h",(function(){return Z})),n.d(t,"e",(function(){return $}))},"8For":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("4XMt"),s=n("xrVw"),u=n("TSYQ"),l=n.n(u),d=n("LvDl"),f=n.n(d);n("8+7o");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return f.a.pick(e,Object.keys(y.componentProps))}var y=function(e){var t=["font-icon"];e.tooltip&&t.push("font-icon-wrapped"),t.push(e.className);var n=e.ariaHidden;return e.ariaLabel||f.a.isBoolean(n)||(n=!0),a.a.createElement(s.v,m({},b(e),{className:l()(t),disabled:!e.enabled,"aria-hidden":n,"aria-label":e.ariaLabel,role:e.role}),e.children)};y.componentProps={className:i.a.string,iconClassName:i.a.string,primary:i.a.bool,secondary:i.a.bool,title:i.a.string},y.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},y.componentProps,{enabled:i.a.bool,ariaHidden:i.a.bool,ariaLabel:i.a.string,role:i.a.string,tooltip:i.a.any}),y.defaultProps={enabled:!0},t.a=Object(c.c)(y)},"8L3I":function(e,t,n){},"8Qij":function(e,t,n){e.exports=n.p+"static/media/rubrictemplate.54d4931f.csv"},"8bCP":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return p}));var r=n("XH0y"),a=n.n(r),o=n("LvDl"),i=n.n(o),c=a.a.noConflict(),s="stickyLogLevels",u=i.a.keys(c.levels).map((function(e){return{label:e,value:c.levels[e]}}));function l(){return c.getLoggers()}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.levels.WARN,n=c.getLogger(e),r=t,a=f();return i.a.has(a,e)&&(r=a[e]),n.setLevel(r),n}function f(){var e=window.localStorage;if(e)try{return JSON.parse(e.getItem(s))||{}}catch(t){m.debug('Could not read "'+s+'" from localStorage.',t)}return{}}function p(e){window.localStorage.setItem(s,JSON.stringify(e))}u=i.a.sortBy(u,["value"]);var m=d("bongo-ui");t.b=m},"8eDJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={CAMERA_ONLY:"CAMERA_ONLY",CAMERA_AND_SCREENSHARE:"CAMERA_AND_SCREENSHARE"}},"8ewv":function(e,t,n){"use strict";var r=n("NlSD"),a=n("lTCR"),o=n.n(a),i=n("C721");function c(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    query getRecorderSettings($mediaType: MediaType!, $activityDbId: Int, $qaQuestionDbId: Int, $questionDbId: Int) {\n        mediaRecorderSettings(mediaType: $mediaType, activityDbId: $activityDbId, qaQuestionDbId: $qaQuestionDbId, questionDbId: $questionDbId) {\n            token\n            webCamFileName\n            deskShareFileName\n            uploadUrl\n            finalizeUrl\n            minRecordLengthSeconds\n            maxRecordLengthSeconds\n            notificationParams\n            canShareDesktop\n        }\n    }\n"]);return c=function(){return e},e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"getSettings",value:function(e){var t=e.mediaType,n=e.activityDbId,a=e.questionDbId;return r.a.query({query:l,variables:{mediaType:t,activityDbId:n,questionDbId:a},fetchPolicy:"network-only"}).then((function(e){var t=e.data.mediaRecorderSettings;return Promise.resolve(t)}))}},{key:"finalizeRecording",value:function(e){var t=e.finalizeUrl,n=e.filesize,r=e.filename,a=e.duration,o=e.token,c=e.notificationParams,s=e.slaveFilename,u=e.slaveFilesize,l=e.slaveDuration,d=e.webcamResult,f=new FormData;return f.append("filename",r),f.append("filesize",n),f.append("duration",a),f.append("encodedToMp4",0),f.append("audioOnly",0),f.append("webrtc",1),f.append("token",o),s&&u&&l&&(f.append("slaveFilename",s),f.append("slaveFilesize",u),f.append("slaveDuration",l)),d&&f.append("webcamResult",d),(c=JSON.parse(JSON.parse(c.replace(/'/g,'"')))).params.forEach((function(e){for(var t in e)e.hasOwnProperty(t)&&f.append(t,e[t])})),Object(i.a)({url:t,method:"POST",data:f})}}],(n=null)&&s(t.prototype,n),a&&s(t,a),e}();t.a=u;var l=o()(c())},"8uzE":function(e,t,n){e.exports=n.p+"static/media/rubricinstructions.8ab16844.pdf"},"92Bf":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return p}));var r=n("lTCR"),a=n.n(r);function o(){var e=u(["\n    fragment LibraryMedia on Media {\n        ...MediaFull\n        title\n        createdAt\n        deletable\n        meetingDownloadUrl \n    }\n    ","\n"]);return o=function(){return e},e}function i(){var e=u(["\n    fragment MediaFull on Media {\n        dbId\n        allowExternalPlay\n        processingStatus\n        downloadUrl\n        externalPlayUrl\n        srcUrl\n        title\n        duration\n        recordingAvailability\n        autoCaptionsEnabled\n        canEditCaptions\n        caption {\n            ...MediaCaption\n        }\n        transcript {\n            src\n            fileSizeBytes\n        }\n        slaveMedia {\n            dbId\n            allowExternalPlay\n            processingStatus\n            srcUrl\n            downloadUrl\n        }\n        meetingAssets {\n            svgUrl\n            cursorUrl\n            zoomsUrl\n            chatMessagesUrl\n            eventsUrl\n        }\n        autoAnalysisResults {\n            overallScore\n            contentScore\n            deliveryScore\n            clarityScore\n            fillerWordScore\n            speakingRateScore\n            wordsPerMinute\n            fillerWordCount\n            unclearWordCount\n        }\n    }\n    ","\n"]);return i=function(){return e},e}function c(){var e=u(["\n    fragment MediaBasic on Media {\n        dbId\n        allowExternalPlay\n        externalPlayUrl\n        processingStatus\n        downloadUrl\n        srcUrl\n        title\n        duration\n        autoCaptionsEnabled\n        canEditCaptions\n        caption {\n            ...MediaCaption\n        }\n        transcript {\n            src\n            fileSizeBytes\n        }\n    }\n    ","\n"]);return c=function(){return e},e}function s(){var e=u(["\n  fragment MediaCaption on Caption {\n    src\n    kind\n    label\n    updatedAt\n    isAutoGenerated\n  }\n"]);return s=function(){return e},e}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=a()(s()),d=a()(c(),l),f=a()(i(),l),p=a()(o(),f)},"9N6j":function(e,t,n){},"9OVz":function(e,t,n){e.exports={activityStatusLegend:"b_hdXAjNJ6",activityStatusLegendHalf:"b_cm3lleH0",legendItem:"b_cnbzXvCp",legendItemFirst:"b_dM75lg3Z",legendItemArrowTail:"b_5YZis6Wi",legendItemLast:"b_jenR6ZtX",legendItemArrowHead:"b_vD1CihCg",legendItemNotViewed:"b_p7Nyiolk",legendItemViewed:"b_bWHPbxgS",legendItemInProgress:"b_s12fytWf",legendItemNeedsEvaluation:"b_kis4zixn",legendItemEvaluated:"b_tT1pRu3I",legendItemPublished:"b_cEtdUKVW",legendItemArrow:"b_82AW0RNP",legendItemArrowCenter:"b_b6l95XZL",legendItemLabel:"b_kyjhJ3bY"}},"9WWN":function(e,t,n){},"9XMF":function(e,t,n){},"9j7p":function(e,t,n){e.exports={loadingOverlay:"b_68zNxlPe"}},"9mqd":function(e,t,n){"use strict";var r=n("wNa6"),a=n("7cfX"),o=n.n(a),i=n("LvDl"),c=n.n(i),s=n("7n1V"),u=n("N90w"),l=n("BA0I"),d=n("UyA7"),f=n("HNnK"),p=n("6SRB"),m=n("h4t+"),b=n("IF/7"),y=n("8bCP"),v=n("hIiU");function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=Object(y.c)("tracking"),w=["externalTrackingUuid","locale"],O=["externalTrackingUuid","name","name","integrationType"],S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"initialize",value:function(){var e=this;if(!this.isTrackingServiceInitialized){E.debug("Initializing TrackingService...");var t=o()((function(){return Object(f.h)(r.a.getState())}));r.a.subscribe(t((function(){e.identifyUser()})));var n=o()((function(){return Object(d.b)(r.a.getState())}));r.a.subscribe(n((function(){e.aptrinsicApiKey=Object(d.a)(r.a.getState()),e.isAptrinsicEnabled=Boolean(e.aptrinsicApiKey),E.debug("EnvironmentConfig changed, Aptrinsic API key: "+e.aptrinsicApiKey),e.isAptrinsicEnabled&&(E.debug("Aptrinsic is enabled"),e.identifyUser())}))),this.isTrackingServiceInitialized=!0,E.debug("... initialized.")}}},{key:"initializeAptrinsic",value:function(){var e;this.isAptrinsicInitialized||(E.debug("Initializing Aptrinsic..."),e=this.aptrinsicApiKey,function(e,t,n,r,a){var o="aptrinsic";e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].p=r,e[o].c={iframeModeEnabled:!1};var i=t.createElement("script");i.async=!0,i.src="https://web-sdk.aptrinsic.com/api/aptrinsic.js?a="+r;var c=t.getElementsByTagName("script")[0];c.parentNode.insertBefore(i,c)}(window,document,0,e),this.isAptrinsicInitialized=!0,E.debug("... initialized."))}},{key:"sendMessage",value:function(){if(!this.isAptrinsicEnabled)return!1;try{var e;this.initializeAptrinsic();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E.debug.apply(E,["Sending aptrinsic message:"].concat(n)),(e=window).aptrinsic.apply(e,n),!0}catch(a){this.isAptrinsicEnabled=!1,E.warn("Error sending message to Aptrinsic...",a)}return!1}},{key:"createUserAttributes",value:function(e){var t=p.a.detectViewportDimensions();return{id:e.externalTrackingUuid,firstName:e.firstName,lastName:e.lastName,locale:e.locale,viewportSize:p.a.detectViewportSize(),viewportWidth:t.width,viewportHeight:t.height,viewportOrientation:p.a.detectViewportOrientation(),iframe:p.a.isPageInsideIframe(),userType:"EDUCATOR"}}},{key:"createInstitutionAttributes",value:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}({id:e.externalTrackingUuid,name:e.name,integrationType:this.getIntegrationTypes(e),allowedActivityTypes:this.getAllowedActivityTypes(e),allowedFeatures:this.getAllowedFeatures(e)},this.getTrialInfo(e),this.getEnvironmentInfo())}},{key:"getIntegrationTypes",value:function(e){var t=c.a.get(e,"integrationType",[]),n=[];return c.a.forEach(t,(function(e){var t=l.a[e];t&&n.push(t)})),c.a.join(n,",")}},{key:"getAllowedActivityTypes",value:function(e){var t=c.a.get(e,"featureToggles.allowedActivitiesTypes",[]),n=[];return c.a.forEach(t,(function(e){var t=s.a[e];t&&n.push(t)})),c.a.join(n,",")}},{key:"getAllowedFeatures",value:function(e){var t=c.a.get(e,"featureToggles",{}),n=[];return c.a.forEach(c.a.keys(u.a),(function(e){c.a.get(t,e,!1)&&n.push(u.a[e])})),c.a.join(n,",")}},{key:"getTrialInfo",value:function(e){try{return{isTrial:v.a.isTrial(e),trialExpirationDate:v.a.getTrialExpirationDate(e)}}catch(t){E.debug("Unable to getTrialInfo:",e,t)}return{}}},{key:"getEnvironmentInfo",value:function(){try{return{region:m.d()}}catch(e){E.debug("Unable to getEnvironmentInfo:",e)}return{}}},{key:"hasAttributes",value:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(!c.a.has(e,r))return!1;var a=c.a.get(e,r);if(null===a||void 0===a)return!1}return!0}},{key:"identifyUser",value:function(){try{if(this.isUserIdentified)return;var e=Object(f.h)(r.a.getState());if(!this.hasAttributes(e,w))return;var t=e.institution;if(!this.hasAttributes(t,O))return;if(b.c(e)||b.h(e)){var n=this.createUserAttributes(e),a=this.createInstitutionAttributes(t),o=this.sendMessage("identify",n,a);o&&(this.isUserIdentified=o)}}catch(i){E.debug("Unable to identify user",i)}}},{key:"pageView",value:function(e){try{if(!this.isUserIdentified)return;var t=Object(f.h)(r.a.getState());if(b.c(t)||b.h(t)){var n={path:e};this.sendMessage("pageView",n)}}catch(a){E.debug("Unable to manually trigger pageView",a)}}}])&&h(t.prototype,n),a&&h(t,a),e}();g(S,"isTrackingServiceInitialized",!1),g(S,"isAptrinsicInitialized",!1),g(S,"isAptrinsicEnabled",!1),g(S,"isUserIdentified",!1),g(S,"aptrinsicApiKey",null);t.a=new S},A2rd:function(e,t,n){},A2tp:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("/MKj"),i=n("UX+v"),c=n("h15y"),s=n("RMfM"),u=n("AEU+"),l=n("LvDl"),d=n.n(l),f=n("17x9"),p=n.n(f),m=n("v6po"),b=n("apGr"),y=n("K2Ti"),v=n("Wme0"),h=n("45tj"),g=n("QccL");function E(e){return(E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=S(t).call(this,e),n=!a||"object"!==E(a)&&"function"!==typeof a?_(r):a,I(_(_(n)),"initEmitterListeners",(function(){var e=n.props.playerId;n.emitter=new y.a,n.unsubscribers=[n.emitter.onPlay(e,(function(e){var t=e.startTime;(e.startTime.toFixed(2)===n.tracker.mediaDuration.toFixed(2)||n.props.playerData.state.isEnded)&&(t=0),n.tracker.setPreviousTime(t),n.tracker.playStatement(t)})),n.emitter.onPause(e,(function(e){n.tracker.pauseStatement(e.startTime),n.tracker.watchStatement(e.startTime)})),n.emitter.onSeek(e,(function(e){var t=e.endTime;t.toFixed(1)===n.props.playerData.state.duration.toFixed(1)&&(t=n.props.playerData.state.duration),d.a.has(n.props,"playerData.state.isPlaying")&&n.props.playerData.state.isPlaying&&n.tracker.watchStatement(e.startTime),n.tracker.setPreviousTime(t),n.tracker.skipStatement(e.startTime,t)})),n.emitter.onComplete(e,(function(e){n.tracker.watchStatement(e.endTime),n.tracker.completeStatement(e.endTime)})),n.emitter.onDurationAvailable(e,(function(e){n.tracker.setMediaDuration(e.duration)}))]})),I(_(_(n)),"getCaptionsList",(function(){return n.playerComponent?n.playerComponent.getCaptionsList():[]})),I(_(_(n)),"onSeek",(function(e,t){})),e.logMediaWatching&&(n.tracker=new b.a({mediaId:e.mediaId,mediaSrc:e.options.sources[0].src,usageContext:e.usageContext,termClassId:e.termClassId,activityId:e.activityId}),n.initEmitterListeners()),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){this.unsubscribers&&this.unsubscribers.length&&this.unsubscribers.forEach((function(e){return e()}));var e=this.props,t=e.dispatch,n=e.playerId;t(s.q(n))}},{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.dispatch,n=e.playerId,r=e.options;t(s.q(n)),t(s.s(n,r))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.dispatch,r=t.playerId,a=t.options,o=e.playerId,i=e.options;r!==o?(n(s.q(r)),n(s.s(o,i))):(Object(g.a)(a.tracks,i.tracks)||n(s.D(r,i.tracks)),a.autoCaptionsEnabled!==i.autoCaptionsEnabled&&n(s.w(r,i.autoCaptionsEnabled)))}},{key:"onPlay",value:function(){var e=this.props,t=e.dispatch,n=e.playerId,r=e.onPlay;r&&r(),t(s.u(n))}},{key:"onPause",value:function(){var e=this.props,t=e.dispatch,n=e.playerId;t(s.t(n))}},{key:"onTimeUpdate",value:function(e){var t=this.props,n=t.dispatch,r=t.playerId,a=t.onTimeUpdate;n(s.F(r,e)),a&&a(e)}},{key:"onReady",value:function(){var e=this.props,t=e.dispatch,n=e.playerId;t(s.v(n)),this.props.options&&this.props.options.autoplay&&this.props.logMediaWatching&&this.emitter.play({playerId:this.props.playerId,startTime:0}),this.props.onReady()}},{key:"setDuration",value:function(e){var t=this.props,n=t.dispatch,r=t.playerId;n(s.z(r,e))}},{key:"setBufferedPercent",value:function(e){var t=this.props,n=t.dispatch,r=t.playerId;n(s.x(r,e))}},{key:"onEnded",value:function(){var e=this.props,t=e.dispatch,n=e.playerId,r=e.onEnded;t(s.r(n)),r&&r()}},{key:"setVolume",value:function(e){var t=this.props,n=t.dispatch,r=t.playerId;n(s.E(r,e))}},{key:"setFullScreen",value:function(e){var t=this.props,n=t.dispatch,r=t.playerId;n(s.A(r,e))}},{key:"setIsSeeking",value:function(e){var t=this.props,n=t.dispatch,r=t.playerId;n(s.B(r,e))}},{key:"setIsWaiting",value:function(e){var t=this.props,n=t.dispatch,r=t.playerId;n(s.C(r,e))}},{key:"render",value:function(){var e=this;if(d.a.isEmpty(this.props.playerData)||d.a.isEmpty(this.props.playerData.options.sources))return null;var t=this.props,n=t.playerData,r=t.forceControlsOnLayout,o=t.inFullScreenView,c=t.language,s=t.onManageCaptions;return a.a.createElement(i.b,w({id:this.props.id,language:c,options:n.options,marks:this.props.marks,showControlsBar:this.props.showControlsBar,isFloatingActionsAllowed:this.props.isFloatingActionsAllowed},n.state,{playerId:this.props.playerId,ref:function(t){t&&(e.playerComponent=t,e.props.onPlayerRef(t))},inFullScreenView:o,forceControlsOnLayout:r,onManageCaptions:s,onPlay:this.onPlay.bind(this),onPause:this.onPause.bind(this),setDuration:this.setDuration.bind(this),onTimeUpdate:this.onTimeUpdate.bind(this),onEnded:this.onEnded.bind(this),setVolume:this.setVolume.bind(this),setIsSeeking:this.setIsSeeking.bind(this),setFullScreen:this.setFullScreen.bind(this),setIsWaiting:this.setIsWaiting.bind(this),setBufferedPercent:this.setBufferedPercent.bind(this),onSeek:this.onSeek,onReady:this.onReady.bind(this)}))}}])&&O(n.prototype,r),o&&O(n,o),t}(r.Component);t.a=Object(o.b)((function(e,t){return{playerData:c.a(t.playerId,e),currentTime:c.c(t.playerId,e),language:h.e(v.a(e))[0]}}))(T),T.defaultProps={options:Object.assign({},u.a.options),onEnded:function(){},onPlay:function(){},onReady:function(){},playerData:Object.assign({},u.a),marks:[],forceControlsOnLayout:!1,inFullScreenView:!1,logMediaWatching:!0,showControlsBar:!0,isFloatingActionsAllowed:!0,onPlayerRef:function(){}},T.propTypes={options:i.c,onEnded:p.a.func,logMediaWatching:p.a.bool,onPlay:p.a.func,onTimeUpdate:p.a.func,onReady:p.a.func,playerData:p.a.shape({options:i.c,state:p.a.shape(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}({},i.d))}),id:p.a.string.isRequired,playerId:p.a.string.isRequired,marks:p.a.arrayOf(p.a.shape({timestamp:p.a.number})),termClassId:p.a.number,activityId:p.a.number,mediaId:p.a.number.isRequired,usageContext:p.a.oneOf([m.a.ACTIVITY_COMMENTARY,m.a.ACTIVITY_OVERVIEW,m.a.COMMENT,m.a.DIRECT_LIBRARY,m.a.FEEDBACK,m.a.INTERACTIVE_VIDEO,m.a.PROFILE,m.a.QA_QUESTION,m.a.STUDENT_RESULT,m.a.STUDENT_RESULT_PARTIAL]).isRequired,forceControlsOnLayout:p.a.bool,inFullScreenView:p.a.bool,showControlsBar:p.a.bool,onManageCaptions:p.a.func,isFloatingActionsAllowed:p.a.bool}},ADn3:function(e,t,n){e.exports={"palette--primary":"#2679c7","palette--primary-contrast":"#fff","palette--secondary":"#c92861","palette--secondary-contrast":"#fff","colors--page-loader-background":"palette[primary-contrast]","colors--page-loader-contrast":"palette[primary]","colors--page-overlay-background":"rgba(0,0,0,0.4)","colors--page-toolbar-background":"palette[primary]","colors--page-toolbar-contrast":"palette[primary-contrast]","colors--page-toolbar-button-background":"rgba(0,0,0,0)","colors--page-toolbar-button-contrast":"palette[primary-contrast]","colors--page-toolbar-button-disabled-background":"rgba(0,0,0,0)","colors--page-toolbar-button-disabled-contrast":"#9e9e9e","colors--page-background":"#f2f3f5","colors--page-contrast":"#485054","colors--page-h1":"#485054","colors--surface-background":"#fff","colors--surface-border":"#ccc","colors--surface-border-focused":"palette[primary]","colors--surface-contrast":"#757575","colors--surface-h2":"#000","colors--surface-h3":"#000","colors--button-raised-base-background":"#fff","colors--button-raised-base-contrast":"#212121","colors--button-raised-primary-background":"palette[primary]","colors--button-raised-primary-contrast":"palette[primary-contrast]","colors--button-raised-secondary-background":"palette[secondary]","colors--button-raised-secondary-contrast":"palette[secondary-contrast]","colors--button-raised-disabled-background":"#e0e0e0","colors--button-raised-disabled-contrast":"#757575","colors--button-flat-base-background":"rgba(0,0,0,0)","colors--button-flat-base-contrast":"#595959","colors--button-flat-primary-background":"rgba(0,0,0,0)","colors--button-flat-primary-contrast":"palette[primary]","colors--button-flat-secondary-background":"rgba(0,0,0,0)","colors--button-flat-secondary-contrast":"palette[secondary]","colors--button-flat-disabled-background":"rgba(0,0,0,0)","colors--button-flat-disabled-contrast":"#9e9e9e","colors--selection-control-selected":"palette[secondary]","colors--selection-control-unselected":"#757575","colors--selection-control-disabled":"#9e9e9e","colors--status-info":"#1565c0","colors--status-warning":"#bf360c","colors--status-error":"#b71c1c","colors--status-success":"#6eac52","colors--status-unknown":"#485054","colors--status-restricted":"#485054","colors--status-completed":"#1d2515","colors--status-open":"#005e8a","colors--tooltip-background":"#333","colors--tooltip-contrast":"#fff","colors--tooltip-button-background":"rgba(0,0,0,0)","colors--tooltip-button-contrast":"#fff","colors--tooltip-button-disabled-background":"rgba(0,0,0,0)","colors--tooltip-button-disabled-contrast":"#9e9e9e","typography--page-font-family":"Roboto, sans-serif","typography--page-h1-font-size":"34px","typography--page-h1-font-weight":"normal","typography--page-h1-line-height":"40px","typography--surface-h2-font-size":"24px","typography--surface-h2-font-weight":"normal","typography--surface-h2-line-height":"32px","typography--surface-h3-font-size":"20px","typography--surface-h3-font-weight":"normal","typography--surface-h3-line-height":"28px"}},"AEU+":function(e,t,n){"use strict";var r=n("RMfM"),a=n("LvDl"),o=n.n(a);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={state:{isPlaying:!1,isPaused:!1,isIdle:!0,isEnded:!1,isReady:!1,isFullScreen:!1,isSeeking:!1,isWaiting:!1,time:0,duration:0,buffered:0,volume:1},options:{sources:[],tracks:[],transcriptUrl:null,autoplay:!1,controls:!0,aspectRatio:"4:3",preload:"auto",autoCaptionsEnabled:!0}};function u(e,t){if(o.a.isArray(e))return t}t.a=function(){var e,t,n,a,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1?arguments[1]:void 0;switch(d.type){case r.c:if(l[e=d.payload.playerId])return l;var f=o.a.merge({},s.options,d.payload.options);return t=o.a.merge({},s,{options:f}),o.a.merge({},l,c({},e,t));case r.a:return l[e=d.payload.playerId]?o.a.omit(l,e):l;case r.e:return l[e=d.payload.playerId]?(t=o.a.merge({},l[e],{state:{isPlaying:!0,isPaused:!1,isIdle:!1,isEnded:!1}}),o.a.merge({},l,c({},e,t))):l;case r.d:return l[e=d.payload.playerId]?(t=o.a.merge({},l[e],{state:{isPlaying:!1,isPaused:!0,isIdle:!1,isEnded:!1}}),o.a.merge({},l,c({},e,t))):l;case r.p:return(a=l[e=d.payload.playerId])?((n=a.state.isEnded)&&d.payload.time!==a.state.duration&&(n=!1),t=o.a.merge({},l[e],{state:{time:d.payload.time,isEnded:n}}),o.a.merge({},l,c({},e,t))):l;case r.f:return l[e=d.payload.playerId]?(t=o.a.merge({},l[e],{state:{isReady:!0}}),o.a.merge({},l,c({},e,t))):l;case r.j:return l[e=d.payload.playerId]?(t=o.a.merge({},l[e],{state:{duration:d.payload.duration}}),o.a.merge({},l,c({},e,t))):l;case r.h:return l[e=d.payload.playerId]?(t=o.a.merge({},l[e],{state:{buffered:d.payload.buffered}}),o.a.merge({},l,c({},e,t))):l;case r.b:return l[e=d.payload.playerId]?(t=o.a.merge({},l[e],{state:{isEnded:!0}}),o.a.merge({},l,c({},e,t))):l;case r.o:return l[e=d.payload.playerId]?(t=o.a.merge({},l[e],{state:{volume:d.payload.volume}}),o.a.merge({},l,c({},e,t))):l;case r.k:return l[e=d.payload.playerId]?(t=o.a.merge({},l[e],{state:{isFullScreen:d.payload.isFullScreen}}),o.a.merge({},l,c({},e,t))):l;case r.l:return l[e=d.payload.playerId]?(t=o.a.merge({},l[e],{state:{isSeeking:d.payload.isSeeking}}),o.a.merge({},l,c({},e,t))):l;case r.m:return l[e=d.payload.playerId]?(t=o.a.merge({},l[e],{state:{isWaiting:d.payload.isWaiting}}),o.a.merge({},l,c({},e,t))):l;case r.i:if(!l[e=d.payload.playerId])return;return t=o.a.merge({},l[e],{options:{controls:d.payload.controls}}),o.a.merge({},l,c({},e,t));case r.n:if(!l[e=d.payload.playerId])return;return i({},l,c({},e,t=o.a.mergeWith({},l[e],{options:{tracks:d.payload.tracks}},u)));case r.g:if(!l[e=d.payload.playerId])return;return t=o.a.merge({},l[e],{options:{autoCaptionsEnabled:d.payload.autoCaptionsEnabled}}),o.a.merge({},l,c({},e,t));default:return l}}},AVXr:function(e,t,n){},ArDN:function(e,t,n){"use strict";t.a={EDUCATOR_FORMED:"TYPE__EDUCATOR_FORMED",STUDENT_FORMED:"TYPE__STUDENT_FORMED",SYSTEM_FORMED:"TYPE__SYSTEM_FORMED",WHOLE_CLASS:"TYPE__WHOLE_CLASS"}},At0y:function(e,t,n){e.exports={captionsImporter:"b_b6Lro5OY",captionsFileChooser:"b_A9q0QU4t"}},AuRu:function(e,t,n){"use strict";var r=n("lTCR"),a=n.n(r),o=n("O+79"),i=n("92Bf"),c=n("mxsA"),s=n("svEP"),u=n("09Br"),l=n("io3D"),d=n("/KNH");function f(){var e=v(["\n    query getActivityData($activityId: Int!, $studentId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            termClass {\n                dbId\n            }\n            instructionsText\n            instructionsMedia {\n                ...MediaFull\n            }\n            allowViewOthersResultsWithoutOwn\n            isCommentingAnonymous\n            peerReviewSubmitterAnonymous\n            submitDueAt\n            type\n            gradeType\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            studentFivestarValuationEnabled\n            rubric {\n                ...Rubric\n            }\n            reflectStageSettings {\n                ...ReflectionSettings\n            }\n            qaSettings {\n                delay\n                isStartedImmediately\n                answerMinLength\n                answerMaxLength\n                isStudentRetakeAllowed\n                isRandomQuestionsModeEnabled\n                amountOfRandomQuestionsPerStudent\n                recordingMode\n            }\n            qaQuestionsAmount\n            rubricPeerAllowed\n            rubricSelfAllowed\n            dataForOneStudent(studentDbId: $studentId) {\n                ...EducatorQAActivityStudentData\n            }\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return f=function(){return e},e}function p(){var e=v(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            allowViewOthersResultsWithoutOwn\n            isCommentingAnonymous\n            peerReviewSubmitterAnonymous\n            submitDueAt\n            type\n            termClass {\n                dbId\n            }\n            commentaryText\n            commentaryMedia {\n                ...MediaFull\n            }\n            gradeType\n            instructionsText\n            instructionsMedia {\n                ...MediaFull\n            }\n            isVideoToolEnabled\n            isDocumentToolEnabled\n            isMeetingToolEnabled\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            studentFivestarValuationEnabled\n            rubric {\n                ...Rubric\n            }\n            reflectStageSettings {\n                ...ReflectionSettings\n            }\n            rubricPeerAllowed\n            rubricSelfAllowed\n            ltiDeepLinking\n            ltiGradeIdentifier\n            ltiGradeSyncEnabled\n            cengageSettings {\n                countTowardsFinalGrade\n                score\n                locked\n                inPath\n            }\n            qaSettings {\n                delay\n                isStartedImmediately\n                answerMinLength\n                answerMaxLength\n                isStudentRetakeAllowed\n                isRandomQuestionsModeEnabled\n                amountOfRandomQuestionsPerStudent\n                recordingMode\n            }\n            qaQuestions{\n                dbId\n                media {\n                    ...MediaBasic\n                }\n                questionText\n                isUsed\n                orderNumber\n            }\n            isQaQuestionsLocked\n            dataForAllStudents {\n                student {\n                    dbId\n                }\n                result {\n                    submitter {\n                        roles\n                    }\n                }\n                educatorGrade {\n                    ...EducatorGrade\n                }\n                rubricEvaluations {\n                    user {\n                        ...GeneralUser\n                    }\n                    rubric {\n                        ...Rubric\n                    }\n                    points\n                }\n                reflectAnswers {\n                    ...ReflectionAnswersMinimal\n                }\n            }\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return p=function(){return e},e}function m(){var e=v(["\n    query getActivityData($activityId: Int!, $studentId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            termClass {\n                dbId\n            }\n            allowViewOthersResultsWithoutOwn\n            isCommentingAnonymous\n            peerReviewSubmitterAnonymous\n            submitDueAt\n            type\n            gradeType\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            studentFivestarValuationEnabled\n            rubric {\n                ...Rubric\n            }\n            reflectStageSettings {\n                ...ReflectionSettings\n            }\n            rubricPeerAllowed\n            rubricSelfAllowed\n            dataForAllStudents {\n                student {\n                    dbId\n                    firstName\n                    lastName\n                }\n                activity {\n                    dbId\n                }\n                educatorGrade {\n                    ...EducatorGrade\n                }\n                reflectAnswers {\n                    ...ReflectionAnswersMinimal\n                }\n            }\n            dataForOneStudent(studentDbId: $studentId) {\n                ...EducatorQAActivityStudentData\n            }\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return m=function(){return e},e}function b(){var e=v(["\n    fragment EducatorQAActivityStudentData on ActivityStudentData {\n        student {\n            ...EducatorUser\n        }\n        educatorGrade {\n            ...EducatorGrade\n        }\n        peerReview {\n            fiveStarValue\n            fiveStarRatesAmount\n            rubricGrade\n        }\n        qaSubmitRequestedAt\n        qaAnswers {\n            dbId\n            qaQuestion {\n                dbId\n            }\n            isWithdrawn\n            withdrawComment\n            isCrashed\n            startedAt\n            submitter {\n                ...EducatorUser\n            }\n            media {\n                ...MediaFull\n            }\n        }\n        rubricEvaluations {\n            ...RubricEvaluation\n        }\n        reflectAnswers {\n            ...ReflectionAnswers\n        }\n        reviewedResults {\n            ...ReviewedResult\n        }\n        result {\n            ...EducatorQAProjectResult\n        }\n        isGradeDraftAllowed\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return b=function(){return e},e}function y(){var e=v(["\n    fragment EducatorQAProjectResult on ActivityResultQa {\n        submitter {\n            ...EducatorUser\n        }\n        submittedAt\n        requiredMedia: media {\n            ...MediaFull\n        }\n        deletable\n        comments {\n            ...Comment\n            ...AnonymousComment\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return y=function(){return e},e}function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h=a()(y(),i.d,o.b,o.a,c.c),g=a()(b(),s.a,i.d,h,c.c,u.c,l.b,d.a),E=a()(m(),u.d,l.c,s.a,l.a,g),w=a()(p(),c.e,i.d,s.a,i.b,u.d,l.a,l.c),O=a()(f(),i.d,u.d,l.c,g),S=n("x1nL");function C(){var e=P(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            ...QAActivity\n            qaQuestion {\n                dbId\n            }\n            availableResults {\n                ...StudentQAProjectResult\n            }\n            reviewedResults {\n                ...StudentQAProjectResult\n            }\n            myData {\n                ...StudentQAActivityStudentData\n            }\n        }\n    }\n    ","\n    ","\n"]);return C=function(){return e},e}function _(){var e=P(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            ...QAActivity\n            availableResults {\n                ...StudentQAProjectResult\n            }\n            reviewedResults {\n                ...StudentQAProjectResult\n            }\n            myData {\n                ...StudentQAActivityStudentData\n            }\n        }\n    }\n    ","\n    ","\n"]);return _=function(){return e},e}function I(){var e=P(["\n    fragment QAActivity on Activity {\n        dbId\n        name\n        lmsLocked\n        className\n        submitDueAt\n        type\n        allowViewOthersResultsWithoutOwn\n        termClass {\n            ...TermClassBasic\n        }\n        commentaryText\n        commentaryMedia {\n            ...MediaFull\n        }\n        availableResults {\n            ...StudentQAProjectResult\n        }\n        reviewedResults {\n            ...StudentQAProjectResult\n        }\n        gradeType\n        instructionsText\n        instructionsMedia {\n            ...MediaFull\n        }\n        peerReviewType\n        peerReviewAmount\n        peerReviewGradeEnabled\n        peerReviewGradeWeight\n        peerReviewDueAt\n        isCommentingAnonymous\n        peerReviewSubmitterAnonymous\n        studentFivestarValuationEnabled\n        rubricPeerAllowed\n        rubricSelfAllowed\n        rubric {\n            ...Rubric\n        }\n        reflectStageSettings {\n            ...ReflectionSettings\n        }\n        qaSettings {\n            delay\n            isStartedImmediately\n            answerMinLength\n            answerMaxLength\n            isStudentRetakeAllowed\n            isRandomQuestionsModeEnabled\n            amountOfRandomQuestionsPerStudent\n            recordingMode\n        }\n        qaQuestionsAmount\n        submittable\n        myData {\n            ...StudentQAActivityStudentData\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return I=function(){return e},e}function T(){var e=P(["\n    fragment StudentQAActivityStudentData on ActivityStudentData {\n        student {\n            ...StudentUser\n        }\n        educatorGrade {\n            ...StudentEducatorGrade\n        }\n        peerReview {\n            fiveStarValue\n            fiveStarRatesAmount\n            rubricGrade\n        }\n        qaSubmitRequestedAt\n        qaAnswers {\n            dbId\n            qaQuestion {\n                dbId\n            }\n            isWithdrawn\n            withdrawComment\n            isCrashed\n            startedAt\n            media {\n                ...MediaFull\n            }\n        }\n        rubricEvaluations {\n            ...RubricEvaluation\n        }\n        reflectAnswers {\n            ...ReflectionAnswers\n        }\n        result {\n            ...StudentQAProjectResult\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return T=function(){return e},e}function R(){var e=P(["\n    fragment StudentQAProjectResult on ActivityResultQa {\n        submitter {\n            ...StudentUser\n        }\n        submittedAt\n        requiredMedia: media {\n            ...MediaFull\n        }\n        isViewed {\n            value\n        }\n        comments {\n            ...Comment\n            ...AnonymousComment\n        }\n        myFiveStarRating {\n            value\n        }\n        myRubricEvaluation {\n            ...StudentReviewRubric\n        }\n        reflectAnswers {\n            ...ReflectionAnswers\n        }\n        deletable\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return R=function(){return e},e}function P(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var A=a()(R(),i.d,o.a,o.b,u.e,c.d),N=a()(T(),u.c,A,l.b,c.d,s.b),j=a()(I(),i.d,A,N,l.c,S.e),k=a()(_(),j,N),D=a()(C(),j,N);n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return O})),n.d(t,"f",(function(){return A})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return D}))},BA0I:function(e,t,n){"use strict";var r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o}));var o=(a(r={},"TYPE__STANDARD","STANDARD"),a(r,"TYPE__CENGAGE","CENGAGE"),a(r,"TYPE__D2L_PREMIUM","D2L_PREMIUM"),a(r,"TYPE__D2L_FREEMIUM","D2L_FREEMIUM"),a(r,"TYPE__TOPHAT","TOP_HAT"),a(r,"TYPE__KAPLAN","KAPLAN"),r),i={STANDARD:"TYPE__STANDARD",CENGAGE:"TYPE__CENGAGE",D2L_PREMIUM:"TYPE__D2L_PREMIUM",D2L_FREEMIUM:"TYPE__D2L_FREEMIUM",TOP_HAT:"TYPE__TOPHAT",KAPLAN:"TYPE__KAPLAN"};t.b=i},BJep:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("xrVw"),i=n("17x9"),c=n.n(i),s=n("LvDl"),u=n.n(s),l=n("TSYQ"),d=n.n(l);n("y54d");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){return u.a.pick(e,Object.keys(b.componentProps))}var b=function(e){return a.a.createElement(o.y,p({},m(e),{className:d()("list",e.className)}),e.children)};b.componentProps={className:c.a.string,inline:c.a.bool,ordered:c.a.bool,onClick:c.a.func},b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},b.passThroughProps),t.a=b},BKYJ:function(e,t,n){},BNXS:function(e,t,n){},BPUB:function(e,t,n){},BkCb:function(e,t,n){"use strict";var r=n("LvDl"),a=n.n(r),o=n("C721"),i=n("NlSD"),c=n("lTCR"),s=n.n(c),u=n("MOhp"),l=n("wNa6"),d=n("DozO");function f(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    query getFileUploaderSettings($mediaType: MediaType!, $activityDbId: Int, $questionDbId: Int){\n        fileUploaderSettings(mediaType: $mediaType, activityDbId: $activityDbId, questionDbId: $questionDbId) {\n            handleUploadUrl\n            processUploadUrl\n            token\n            uid\n            multiSelection\n            maxBatchedFiles\n            minFileSizeBytes\n            maxFileSizeMegabytes\n            allowedExtensions\n            requestParams\n        }\n    }\n"]);return f=function(){return e},e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"processFile",value:function(e){var t=e.processUploadUrl,n=e.fileName,r=e.uid,i=e.requestParams,c=e.fileId,s=new URLSearchParams;return s.append("filename",n),s.append("uid",r),a.a.keys(i).forEach((function(e){s.append("fileUploaderRequestParameters[".concat(e,"]"),i[e])})),l.a.dispatch(d.o(c,!1)),l.a.dispatch(d.n(c,!1)),o.a.post(t,s).then((function(e){if("success"!==e.data.status)return Promise.reject(e);var t=e.data.uploadedFileId;return l.a.dispatch(d.m(c,t)),l.a.dispatch(d.o(c,!0)),Promise.resolve(e)})).catch((function(e){return l.a.dispatch(d.n(c,!0)),Promise.reject(e)}))}},{key:"getCredentials",value:function(e,t,n){var r={mediaType:e};return t&&(r.activityDbId=t),n&&(r.questionDbId=n),l.a.dispatch(u.w(!1)),l.a.dispatch(u.x(!0)),i.a.query({query:b,variables:r}).then((function(e){var t=e.data.fileUploaderSettings;return l.a.dispatch(u.x(!1)),l.a.dispatch(u.q(t)),Promise.resolve(t)})).catch((function(e){return l.a.dispatch(u.w(!0)),l.a.dispatch(u.x(!1)),Promise.reject(e)}))}},{key:"reset",value:function(){l.a.dispatch(u.r()),l.a.dispatch(d.l())}}])&&p(t.prototype,n),r&&p(t,r),e}();t.a=new m;var b=s()(f())},BulX:function(e,t,n){"use strict";var r=n("nseW");n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.c})),n.d(t,"c",(function(){return r.e})),n.d(t,"d",(function(){return r.f})),n.d(t,"e",(function(){return r.g})),n.d(t,"f",(function(){return r.h})),n.d(t,"g",(function(){return r.i})),n.d(t,"h",(function(){return r.j})),n.d(t,"i",(function(){return r.k}))},C721:function(e,t,n){"use strict";var r=n("vDqi"),a=n.n(r);a.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",t.a=a.a},C8y4:function(e,t,n){},CG28:function(e,t,n){},CNUB:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("ZD0w"),i=n("Y7ox"),c=n("kbsL"),s=(n("GIPs"),n("IF/7")),u=n("LvDl"),l=n.n(u),d=n("17x9"),f=n.n(d),p=n("wpyS"),m=n("MzIV"),b=n("Wqtl"),y=n("fpsG"),v=n("uaEo");function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return r=this,o=(e=E(t)).call.apply(e,[this].concat(u)),n=!o||"object"!==h(o)&&"function"!==typeof o?O(r):o,S(O(O(n)),"getTableData",(function(){var e=n.props.rubricEvaluations;(e=l.a.merge([],e)).sort((function(e,t){var n=0,r=0;return s.c(e.user)&&(n=1),s.c(t.user)&&(r=1),r-n}));var t=e[0].rubric,r={rows:[]};e.forEach((function(e){e.user||(e.user={dbId:e.date,firstName:"Anonymous",lastName:"",roles:[y.a.STUDENT]});var n=s.g(e.user),a=s.c(e.user),o={completedBy:e.user,isEducator:a,isStudent:n,cells:e.cells,rubric:e.rubric,timestamp:e.date,totalPoints:e.points,totalPercent:(100*e.points/e.rubric.maxValue).toFixed(1)},i=[];t.rows.forEach((function(n,r){if(0!==r){var a={dbId:n.cells[0].dbId,description:n.cells[0].description,points:0};e.cells.map((function(e){var r=l.a.findIndex(n.cells,{dbId:e.dbId});if(-1!==r){var o=e.points;e.points||(o=t.rows[0].cells[r].points),a.points=o}return null})),i.push(a)}})),o.rubricDetails=i,r.rows.push(o)}));var a=r.rows.filter((function(e){return e.isEducator})),o=r.rows.filter((function(e){return e.isStudent}));return r.educatorsAverage=n.getAverageResults(a),r.peersAverage=n.getAverageResults(o),r})),S(O(O(n)),"showRubric",(function(e,t,n){i.a.showNextModal(a.a.createElement(p.a,{rubric:e,grade:t.map((function(e){return e.dbId})),mode:b.a.VIEW,rubricPoints:n,onCancel:i.a.showPreviousModal}))})),n}var n,r,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(r=[{key:"getAverageResults",value:function(e){e=l.a.merge([],e);var t=0,n=0,r=void 0;return e.forEach((function(e){t+=+e.totalPoints,n+=+e.totalPercent,r?e.rubricDetails.forEach((function(e,t){r[t].points+=e.points})):r=e.rubricDetails})),t=(t/e.length).toFixed(1),n=(n/e.length).toFixed(1),r&&(r=r.map((function(t){return t.points=(t.points/e.length).toFixed(1),t}))),{totalPoints:t,totalPercent:n,rubricDetails:r}}},{key:"render",value:function(){var e=this,t=this.getTableData(),n=t.rows[0].rubricDetails,r=this.props,i=r.i18n,c=r.isAnonymous;return a.a.createElement("div",{className:"c-rubric-evaluation-dialog"},a.a.createElement("table",{className:"c-rubric-evaluations-table",summary:i._("Summary Report")},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(o.Trans,{id:"Completed By"})),a.a.createElement("th",null,a.a.createElement(o.Trans,{id:"Role"})),a.a.createElement("th",null,a.a.createElement(o.Trans,{id:"Date"})),n.map((function(e){return a.a.createElement("th",{key:e.dbId},e.description)})),a.a.createElement("th",null,a.a.createElement(o.Trans,{id:"Total Points"})),a.a.createElement("th",null,a.a.createElement(o.Trans,{id:"Percentage"})))),a.a.createElement("tbody",null,t.rows.map((function(t){var n=t.isStudent,r=t.isEducator,o="-";return n&&(o=i._("Learner")),r&&(o=i._("Educator")),a.a.createElement("tr",{key:t.completedBy.dbId,title:i._("Show Rubric"),className:"c-rubric-evaluations-table__evaluation-row",onClick:e.showRubric.bind(null,t.rubric,t.cells,t.totalPoints)},a.a.createElement("td",null,l.a.isBoolean(c)?Object(v.e)(t,c,i):Object(v.d)(t,i)),a.a.createElement("td",null,o),a.a.createElement("td",null,a.a.createElement(m.a,{unixTime:t.timestamp})),t.rubricDetails.map((function(e){return a.a.createElement("td",{key:e.dbId},e.points)})),a.a.createElement("td",null,t.totalPoints),a.a.createElement("td",null,t.totalPercent+"%"))})),t.educatorsAverage.rubricDetails&&a.a.createElement("tr",{className:"c-rubric-evaluations-table__average-row"},a.a.createElement("td",{colSpan:3,className:"c-rubric-evaluations-table__average-cell"},a.a.createElement("b",null,a.a.createElement(o.Trans,{id:"Educator Average"}))),t.educatorsAverage.rubricDetails.map((function(e){return a.a.createElement("td",{key:e.dbId},a.a.createElement("b",null,e.points))})),a.a.createElement("td",null,a.a.createElement("b",null,t.educatorsAverage.totalPoints)),a.a.createElement("td",null,a.a.createElement("b",null,t.educatorsAverage.totalPercent+"%"))),t.peersAverage.rubricDetails&&a.a.createElement("tr",{className:"c-rubric-evaluations-table__average-row"},a.a.createElement("td",{colSpan:3,className:"c-rubric-evaluations-table__average-cell"},a.a.createElement("b",null,a.a.createElement(o.Trans,{id:"Peer Average"}))),t.peersAverage.rubricDetails&&t.peersAverage.rubricDetails.map((function(e){return a.a.createElement("td",{key:e.dbId},a.a.createElement("b",null,e.points))})),a.a.createElement("td",null,a.a.createElement("b",null,t.peersAverage.totalPoints)),a.a.createElement("td",null,a.a.createElement("b",null,t.peersAverage.totalPercent+"%"))))))}}])&&g(n.prototype,r),c&&g(n,c),t}(r.Component);C.propTypes={rubricEvaluations:f.a.arrayOf(f.a.object),isAnonymous:f.a.any};var _=Object(o.withI18n)()(C),I=n("YSsg");function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==T(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(this,A(t).apply(this,arguments))}var n,r,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n,t=[];return t.push(a.a.createElement(c.b,{id:"button-rurbic-evaluations-dialog-close",secondary:!0,ariaLabel:e._("Close"),onClick:i.a.closeModal},a.a.createElement(o.Trans,{id:"Close"}))),a.a.createElement(I.a,{actions:t,dialogClassName:"c-rubric-evaluation-dialog",id:"rubric-evaluation-dialog",title:this.props.title||e._("My Rubric Evaluations"),modal:!0,visible:!0},a.a.createElement(_,{rubricEvaluations:this.props.rubricEvaluations,isAnonymous:this.props.isAnonymous}))}}])&&R(n.prototype,r),s&&R(n,s),t}(r.Component);j.propTypes={title:f.a.string,rubricEvaluations:f.a.arrayOf(f.a.object),isAnonymous:f.a.any};t.a=Object(o.withI18n)()(j)},CPhW:function(e,t,n){},CT7t:function(e,t,n){"use strict";var r=n("LvDl"),a=n.n(r),o=n("8bCP");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"lastServerTime",a.a.now()),c(this,"clockSkewSeconds",0),c(this,"now",(function(){return a.a.now()-1e3*t.clockSkewSeconds})),c(this,"calculateSecondsUntilTime",(function(e){return Math.floor((e-t.now())/1e3)})),c(this,"updateServerTime",(function(e){if(e<16094592e5)o.b.debug('[TimeUtils.updateServerTime] Invalid currentServerTime provided "'.concat(e,'"'));else{t.lastServerTime=e;var n=a.a.now();t.clockSkewSeconds=Math.floor((n-e)/1e3),o.b.debug("[TimeUtils.updateServerTime] clockSkew=".concat(t.clockSkewSeconds,"s [client=").concat(new Date(n).toISOString()," server=").concat(new Date(e).toISOString(),"]"))}})),c(this,"updateServerDate",(function(e){t.isValidDate(e)?t.updateServerTime(e.getTime()):o.b.debug('[TimeUtils.updateServerDate] Invalid currentServerDate provided "'.concat(e,'"'))}))}var t,n,r;return t=e,(n=[{key:"isValidDate",value:function(e){return e instanceof Date&&!isNaN(e)}}])&&i(t.prototype,n),r&&i(t,r),e}());t.a=s},ChKr:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("wNa6"),i=n("LvDl"),c=n.n(i),s=n("838P"),u=n("Yo20"),l=n("17x9"),d=n.n(l),f=n("TSYQ"),p=n.n(f),m=n("giI2"),b=n("LFYD"),y=(n("N+US"),{ERROR:s.toast.TYPE.ERROR,SUCCESS:s.toast.TYPE.SUCCESS,ANNOUNCEMENT:"NOTIFICATION_TYPE_ANNOUNCEMENT"}),v=function(e){var t=b.a.INFO_OUTLINE,n=["notification-item-indicator"];switch(e.type){case y.ERROR:t=b.a.CANCEL,n.push("notification-item-indicator--error");break;case y.SUCCESS:t=b.a.CHECK_CIRCLE,n.push("notification-item-indicator--success");break;case y.ANNOUNCEMENT:t=b.a.ANNOUNCEMENT,n.push("notification-item-indicator--announcement")}return a.a.createElement("div",{className:"notification-item-container"},a.a.createElement("div",{className:p()(n)},a.a.createElement(m.a,{className:"notification-item-icon"},t)),a.a.createElement("div",{className:"notification-item-content"},e.children))};v.componentProps={type:d.a.oneOf(Object.keys(y.ERROR,y.SUCCESS))};var h=v,g=n("ZD0w"),E={CREATE_ACTIVITY_SUCCESS:Object(g.i18nMark)("Assignment was successfully created:"),EDIT_ACTIVITY_SUCCESS:Object(g.i18nMark)("Assignment was successfully saved:"),DELETE_ACTIVITY_SUCCESS:Object(g.i18nMark)("Assignment was successfully deleted:"),DELETE_ACTIVITY_FAILED:Object(g.i18nMark)("Unable to delete assignment:")},w=function(e){var t=e.i18n,n=e.className,r=e.messageType,o=e.children;return a.a.createElement("div",{className:p()("notification-content",n)},r?a.a.createElement("div",null,t._(r)):null,o)};w.defaultProps={},w.componentProps={className:d.a.string,messageType:d.a.oneOf(Object.keys(E))};var O=Object(g.withI18n)()(w),S=n("G4qV"),C=n("upk1"),_=Object(S.a)(C.a,(function(e){return e.notification})),I=Object(S.a)(_,(function(e){return e.items})),T=n("8bCP");function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getCreatedAssignmentNotificationContent",value:function(e){return this.getAssignmentNotificationContent(E.CREATE_ACTIVITY_SUCCESS,e)}},{key:"getEditedAssignmentNotificationContent",value:function(e){return this.getAssignmentNotificationContent(E.EDIT_ACTIVITY_SUCCESS,e)}},{key:"getDeletedAssignmentNotificationContent",value:function(e){return this.getAssignmentNotificationContent(E.DELETE_ACTIVITY_SUCCESS,e)}},{key:"getDeletedAssignmentFailedNotificationContent",value:function(e){return this.getAssignmentNotificationContent(E.DELETE_ACTIVITY_FAILED,e)}},{key:"getAssignmentNotificationContent",value:function(e,t){return a.a.createElement(O,{messageType:e},a.a.createElement("div",{style:{fontWeight:"bold"}},t))}},{key:"removeInactive",value:function(){var e=R({},I(o.a.getState())),t=[];return c.a.forOwn(e,(function(e,n){n&&!s.toast.isActive(n)&&t.push(n)})),o.a.dispatch(u.f(t))}},{key:"add",value:function(e,t,n,r){var i=this,c=arguments,l=a.a.createElement(h,{type:e},t),d=Object(s.toast)(l,R({},n,{autoClose:!1,onClose:function(){i.removeInactive(),n.onClose&&n.onClose(c)}}));if(e===this.TYPES.SUCCESS){var f=5e3;n&&n.hasOwnProperty("autoClose")&&(f=n.autoClose),f&&setTimeout(this.remove,f,d)}if(r)try{r(d)}catch(p){T.b.debug(p)}return o.a.dispatch(u.e(d,e))}},{key:"addError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this.add(this.TYPES.ERROR,e,t,n)}},{key:"addSuccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this.add(this.TYPES.SUCCESS,e,t,n)}},{key:"addAnnouncement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this.add(this.TYPES.ANNOUNCEMENT,e,R({position:s.toast.POSITION.TOP_CENTER},t),n)}},{key:"update",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(s.toast.isActive(e)){var i={render:a.a.createElement(h,{type:t},n)};Object.assign(i,r);var c=s.toast.update(e,i);return o.a.dispatch(u.h(c,t))}}},{key:"remove",value:function(e){if(s.toast.isActive(e))return s.toast.dismiss(e),o.a.dispatch(u.f([e]))}},{key:"removeAllOfType",value:function(e){var t=R({},I(o.a.getState())),n=[];return c.a.forOwn(t,(function(t,r){t&&t.type===e&&(s.toast.dismiss(r),n.push(r))})),o.a.dispatch(u.f(n))}},{key:"removeAll",value:function(){return s.toast.dismiss(),o.a.dispatch(u.g())}}],(n=null)&&P(t.prototype,n),r&&P(t,r),e}();A(N,"TYPES",y);t.a=N},CmP4:function(e,t,n){},CvxL:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("Ty5D"),i=n("/MKj"),c=n("d98y"),s=n("yG+V"),u=n("PJr8"),l=n("Wtf/"),d=n("xyD6"),f=n("2bAp"),p=n("1zCZ"),m=n("7n1V"),b=n("ppB1"),y=n("ZD0w"),v=(n("zAaz"),n("IF/7")),h=n("CNUB"),g=n("Y7ox"),E=n("TSYQ"),w=n.n(E),O=n("LvDl"),S=n.n(O);function C(e){return(C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=this,o=(e=I(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==C(o)&&"function"!==typeof o?R(r):o,P(R(R(n)),"isEducatorGradeEmpty",(function(){var e=n.props,t=e.educatorGrade,r=e.gradeType,a=e.rubricEvaluations;if(!t)return!0;if(r===p.a.RUBRIC&&!(a&&a.length>0))return!0;for(var o=S.a.pick(t,["completion","fiveStarValue","gradeValue","passFail","rubricGrade"]),i=S.a.values(o),c=0;c<i.length;c++){if(null!==i[c])return!1}return!0})),P(R(R(n)),"getGradeResult",(function(e,t,r,o){var i=n.props,c=i.i18n,l=i.activityType,d=i.interactiveVideoQuestions,f=i.isPeerReviewGradingEnabled,h=i.peerReviewGradePart,g=i.peerReviewGradeWeight,E=n.getNoGradeLabel();if(n.isEducatorGradeEmpty())return E;if(l===m.b.INTERACTIVE_VIDEO){for(var O=!1,S=!1,C=0;d&&C<d.length;C++){var _=d[C];_&&_.__typename&&(_.__typename===b.o?S=!0:_.__typename===b.n&&(O=!0))}if(O&&S){if(null===e.overallValue)return E;var I=e.overallValue;return c._("{percentage}%",{percentage:I})}}var T=null;switch(t){case p.a.COMPLETION:T=e.completion?a.a.createElement(y.Trans,{id:"Pass"}):a.a.createElement(y.Trans,{id:"Fail"});break;case p.a.FIVESTAR:T=a.a.createElement(s.a,{name:"fivestar-rating",value:+e.fiveStarValue,enabled:!1});break;case p.a.GRADE:T=e.gradeValue+"%";break;case p.a.PASS_FAIL:T=e.passFail?a.a.createElement(y.Trans,{id:"Pass"}):a.a.createElement(y.Trans,{id:"Fail"});break;case p.a.RUBRIC:o=o.filter((function(e){return v.c(e.user)})),T=a.a.createElement("a",{onClick:function(){return n.showRubricReport(o)}},a.a.createElement(u.c,{points:e.rubricGrade,max:r.maxValue}));break;default:T=n.getGradeTypeErrorLabel()+t}if(f){var R=100-g,P=h.partValue,A=e.overallValue,N="grade-composite";return a.a.createElement("div",{className:N+"-container"},a.a.createElement("div",{className:N+"-row"},a.a.createElement("div",{className:N+"-label"},a.a.createElement("h4",null,n.getSubmissionGradeLabel())),a.a.createElement("div",{className:N+"-value"},T,a.a.createElement("div",{className:N+"-value-footer"},c._("(Weight: {mainGradeWeight}%)",{mainGradeWeight:R})))),a.a.createElement("div",{className:N+"-row"},a.a.createElement("div",{className:N+"-label"},a.a.createElement("h4",null,n.getPeerReviewGradeLabel())),a.a.createElement("div",{className:N+"-value"},c._("{peerReviewGradeValue}%",{peerReviewGradeValue:P}),a.a.createElement("div",{className:N+"-value-footer"},c._("(Weight: {peerReviewGradeWeight}%)",{peerReviewGradeWeight:g})))),a.a.createElement("div",{className:w()(N+"-row",N+"-row-separator")}),a.a.createElement("div",{className:w()(N+"-row",N+"-row-overall")},a.a.createElement("div",{className:N+"-label"},a.a.createElement("h3",null,n.getOverallGradeLabel())),a.a.createElement("div",{className:N+"-value"},c._("{overallGradeValue}%",{overallGradeValue:A}))))}return T})),P(R(R(n)),"showRubricReport",(function(e){var t=n.props.i18n;g.a.showModal(a.a.createElement(h.a,{title:t._("Scores"),rubricEvaluations:e}))})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),n=t,(r=[{key:"getSubmissionGradeLabel",value:function(){return this.props.i18n._("Submission Score:")}},{key:"getPeerReviewGradeLabel",value:function(){return this.props.i18n._("Peer Review Score:")}},{key:"getOverallGradeLabel",value:function(){return this.props.i18n._("Overall Score:")}},{key:"getNoGradeLabel",value:function(){return this.props.i18n._("No Score")}},{key:"getGradeTypeErrorLabel",value:function(){return this.props.i18n._("ERROR: score type")}},{key:"getGradeLabel",value:function(){return this.props.i18n._("Score")}},{key:"render",value:function(){var e=this.props,t=e.educatorGrade,n=e.gradeType,r=e.rubric,o=e.rubricEvaluations,i=this.getGradeResult(t,n,r,o);return a.a.createElement(c.a,{title:this.getGradeLabel(),iconClassName:f.a.GRADE,className:"dashboard-card-grade",contentsClassName:"dashboard-card-grade-contents"},a.a.createElement("div",{className:"dashboard-contents"},i))}}])&&_(n.prototype,r),o&&_(n,o),t}(r.Component),N=Object(y.withI18n)()(Object(o.k)(Object(i.b)((function(e){return{activityType:l.getActivityType(e),educatorGrade:l.getEducatorGrade(e),gradeType:l.getGradeType(e),interactiveVideoQuestions:d.a(e),isPeerReviewGradingEnabled:l.isPeerReviewGradingEnabled(e),peerReviewGradePart:l.getPeerReviewGradePart(e),peerReviewGradeWeight:l.getGradedPeerReviewWeight(e),rubric:l.getRubric(e),rubricEvaluations:l.getOthersRubricEvaluations(e)}}))(A)));n.d(t,"a",(function(){return N}))},D2y2:function(e,t,n){e.exports={"bongo-note-container":"b_kss6DIEz","bongo-note--info":"b_gwmMnKw7","bongo-note--warning":"b_5t5LrOoV","bongo-note--error":"b_yAlYucIu","bongo-note-content":"b_eF0P91Nh","bongo-note-title-icon":"b_jLAGiVWL","bongo-note-text-container":"b_t0jJTsaa","bongo-note-text-title":"b_tBbux0TN","bongo-note-text-message":"b_meyekROR"}},"DQM/":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a="video/webm",o="recording",i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaStream=t,this._allChunks=[],this._chunksQueue=[],this._currentChunkNumber=-1,this._init()}var t,n,i;return t=e,(n=[{key:"_init",value:function(){var e=this;if(!window.MediaRecorder)throw new Error("MediaRecorder is not supported in this browser");this.chunkRecorder=new MediaRecorder(this.mediaStream,{mimeType:a}),this.chunkRecorder.ondataavailable=function(t){0!==t.data.size&&e._onChunkAvailable(t.data)},this.chunkRecorder.onstop=function(){e._onChunkAvailable(null,!0),"function"===typeof e.onStopHandler&&e.onStopHandler(),"function"===typeof e.__lastChunkCallback&&e.__lastChunkCallback()}}},{key:"_onChunkAvailable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&this._chunksQueue.push(e),this._getQueueSize()>5242880||t){var n=this._buildChunkFromQueue();this._allChunks.push(n),this._currentChunkNumber++,"function"===typeof this.onChunkHandler&&this.onChunkHandler({blob:n,index:this._currentChunkNumber})}}},{key:"_getQueueSize",value:function(){var e=0;return this._chunksQueue.map((function(t){e+=t.size})),e}},{key:"_buildChunkFromQueue",value:function(){var e=new Blob(this._chunksQueue,{type:a});return this._chunksQueue=[],e}},{key:"startCapturing",value:function(){this.chunkRecorder.state!==o&&(this.__startTimeMilliseconds=(new Date).getTime(),this.chunkRecorder.start(1e3))}},{key:"stopCapturing",value:function(){var e=this;return this.capturingIsStopped?Promise.resolve():new Promise((function(t){e.chunkRecorder.state===o&&(e.__endTimeMilliseconds=(new Date).getTime(),e.__lastChunkCallback=t,e.capturingIsStopped=!0,e.chunkRecorder.requestData&&e.chunkRecorder.requestData(),e.chunkRecorder.stop())}))}},{key:"getRecordingLengthMilliseconds",value:function(){return this.__endTimeMilliseconds-this.__startTimeMilliseconds}},{key:"getAllChunks",value:function(){return this._allChunks}},{key:"onChunk",value:function(e){this.onChunkHandler=e}},{key:"onStop",value:function(e){this.onStopHandler=e}}])&&r(t.prototype,n),i&&r(t,i),e}()},DbOS:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("wNa6"),a=n("UyA7"),o=function(){return e="d2l-activity-add",window.location.search.includes("lti-scope="+e);var e},i=function(e){if(!e)return e;var t=a.l(r.a.getState()),n=document.createElement("a");n.href=e;var o=n.search&&n.search.includes("lti-scope=");return!t||o?e:"".concat(e,"?lti-scope=").concat(t)}},Dl6w:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var r={label:"Default (Bongo)",value:"theme-bongo"},a={label:"White",value:"theme-white"},o=[r,a]},DozO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"o",(function(){return y})),n.d(t,"n",(function(){return v})),n.d(t,"m",(function(){return h})),n.d(t,"q",(function(){return g})),n.d(t,"s",(function(){return w})),n.d(t,"u",(function(){return O})),n.d(t,"v",(function(){return S})),n.d(t,"t",(function(){return C})),n.d(t,"z",(function(){return _})),n.d(t,"A",(function(){return I})),n.d(t,"y",(function(){return T})),n.d(t,"x",(function(){return R})),n.d(t,"w",(function(){return P})),n.d(t,"r",(function(){return A}));var r="[File uploader] Add file",a="[File uploader] Reset",o="[File uploader] Remove file",i="[File uploader] Set file status",c="[File uploader] Set file uploading percent",s="[File uploader] Set file is processed",u="[File uploader] Set file has error",l="[File uploader] Set file db id",d="[File uploader] Set prop",f=function(e){return{type:r,payload:e}},p=function(){return{type:a}},m=function(e){return{type:o,payload:e}},b=function(e,t){return{type:i,payload:{fileId:e,status:t}}},y=function(e,t){return{type:s,payload:{fileId:e,isProcessed:t}}},v=function(e,t){return{type:u,payload:{fileId:e,hasError:t}}},h=function(e,t){return{type:l,payload:{fileId:e,dbId:t}}},g=function(e,t){return{type:c,payload:{fileId:e,uploadingPercent:t}}},E=function(e,t){return{type:d,payload:{prop:e,value:t}}},w=function(e){return E("isInitialState",e)},O=function(e){return E("isUploadReadyState",e)},S=function(e){return E("isUploadingState",e)},C=function(e){return E("isPausedState",e)},_=function(e){return E("uploadedFilesCount",e)},I=function(e){return E("uploadedPercent",e)},T=function(e){return E("uploadSpeedBps",e)},R=function(e){return E("secondsLeft",e)},P=function(e){return E("minutesLeft",e)},A=function(e){return E("hoursLeft",e)}},DrJT:function(e,t,n){e.exports={content:"b_68MxwdFi",linkIcon:"b_wjyJ8xE7",finalMessage:"b_iYfXfYNL"}},EISf:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=(n("+3pQ"),n("TbpH"),n("LFYD")),s=n("8For"),u=n("q8N1"),l=n("ZD0w");function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,m(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isPlaying,r=e.play,o=e.pause,i=t._("Play Video"),l=r,d=c.a.PLAY_ARROW;return n&&(i=t._("Pause Video"),l=o,d=c.a.PAUSE),a.a.createElement("div",{className:"c-player__play-button",onClick:l,onKeyDown:Object(u.b)(l),role:"button","aria-label":i,tabIndex:0},a.a.createElement("span",null,a.a.createElement(s.a,{className:"c-player__play-button-icon"},d)))}}])&&f(n.prototype,r),o&&f(n,o),t}(r.Component),v=Object(l.withI18n)()(y),h=n("LMP5"),g=(n("oRYB"),n("TSYQ")),E=n.n(g);function w(e){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==w(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,_(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e,t,n,r,o=this.props,i=o.vertical,c=o.onThumbRef,s=o.onStripRef,u=o.progressPercent,l=o.min,d=o.max,f=o.value,p=o.onStripMouseMove,m=o.onStripMouseLeave,b=o.mainTooltipValue,y=o.onStripClick,v=o.hoverPercent,h=o.seekTooltipValue,g=o.withTooltips,w=o.markers,S=o.showSeekTooltip,C=o.onThumbKeyDown;return i?(e={height:u+"%"},t={bottom:u+"%"},n={bottom:u+"%"},r={bottom:v+"%"}):(e={width:u+"%"},t={left:u+"%"},n={left:u+"%"},r={left:v+"%"}),a.a.createElement("div",{className:E()("c-slider",O({},"c-slider--vertical",i)),onMouseMove:p,onMouseLeave:m,onClick:y},a.a.createElement("div",{className:E()("c-slider__strip","c-slider__strip--background"),ref:s}),a.a.createElement("div",{className:E()("c-slider__strip","c-slider__strip--progress"),style:e}),a.a.createElement("div",{className:"c-slider__markers"},w.map((function(e){var t,n=e.label,r=e.className,o=e.value,c=e.percent;return t=i?{bottom:c+"%"}:{left:c+"%"},a.a.createElement("div",{key:n+r+o,className:E()("c-slider__marker",r),style:t},n)}))),a.a.createElement("div",{className:"c-slider__thumb",onDragStart:function(e){return e.preventDefault()},ref:c,onKeyDown:C,style:t,role:"slider",tabIndex:0,"aria-valuemin":l,"aria-valuemax":d,"aria-valuenow":f,"aria-disabled":"false"}),g&&a.a.createElement("div",{className:"c-slider__tooltip",style:n},b),g&&S&&a.a.createElement("div",{className:"c-slider__tooltip",style:r},h))}}])&&S(n.prototype,r),o&&S(n,o),t}(r.Component),R=n("LvDl"),P=n.n(R);function A(e){return(A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=100,x=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=j(t).call(this,e),n=!a||"object"!==A(a)&&"function"!==typeof a?D(r):a,L(D(D(n)),"state",{tempProgressPercent:0,tempProgressEnabled:!1,hoverPercent:0,showTooltips:!1}),L(D(D(n)),"onThumbRef",(function(e){e&&(n.thumbElement=e,e.addEventListener("mousedown",(function(){var e=function(e){var t=n.getCursorPercent(e);n.setState({tempProgressEnabled:!0,tempProgressPercent:t})};document.addEventListener("mouseup",(function t(){document.removeEventListener("mouseup",t),document.removeEventListener("mousemove",e);var r=n.state.hoverPercent||n.state.tempProgressPercent;n.onChangeHandler(r*n.props.max/100),n.setState({tempProgressEnabled:!1,tempProgressPercent:0})})),document.addEventListener("mousemove",e)})))})),L(D(D(n)),"onStripRef",(function(e){e&&(n.stripElement=e)})),L(D(D(n)),"onStripMouseMove",(function(e){var t=n.getCursorPercent(e);n.setState({hoverPercent:t,showTooltips:n.props.withTooltips})})),L(D(D(n)),"onStripMouseLeave",(function(){n.setState({hoverPercent:0,showTooltips:!1})})),L(D(D(n)),"onStripClick",(function(){n.onChangeHandler(n.state.hoverPercent*n.props.max/100)})),L(D(D(n)),"getMainTooltipValue",(function(){var e=n.state,t=e.tempProgressPercent,r=e.tempProgressEnabled,a=n.props,o=a.max,i=a.value;return r?n.props.tipFormatter(t/100*o):n.props.tipFormatter(i)})),L(D(D(n)),"getSeekTooltipValue",(function(){var e=n.state.hoverPercent,t=n.props.max;return n.props.tipFormatter(e/100*t)})),L(D(D(n)),"onThumbKeyDown",(function(e){var t=n.props,r=t.value,a=t.step,o=t.min,i=t.max,c=e.keyCode;[u.a.ARROW_LEFT,u.a.ARROW_RIGHT,u.a.ARROW_UP,u.a.ARROW_DOWN,u.a.PLUS,u.a.MINUS].includes(c)&&(e.preventDefault(),[u.a.ARROW_LEFT,u.a.ARROW_DOWN,u.a.MINUS].includes(c)&&(r-=a),[u.a.ARROW_RIGHT,u.a.ARROW_UP,u.a.PLUS].includes(c)&&(r+=a),r<o&&(r=o),r>i&&(r=i),n.onChangeHandler(r))})),n.onChangeHandler=P.a.throttle((function(e){n.props.onChange(e)}),M,{trailing:!1}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(r=[{key:"getPercentsPerStep",value:function(){var e=this.props,t=e.min,n=e.max;return(n-t)/n*100/((n-t)/e.step)}},{key:"getProgressPercent",value:function(){var e=this.state,t=e.tempProgressPercent,n=e.tempProgressEnabled,r=this.props,a=r.value,o=r.max;if(n)return t;var i=this.getPercentsPerStep(),c=a/o*100;return c>100&&(c=100),c<0&&(c=0),0!==c&&100!==c&&(c=Math.floor(c/i)*i),c}},{key:"getCursorPercent",value:function(e){var t,n,r=this.props.vertical,a=this.stripElement.getBoundingClientRect(),o=this.getPercentsPerStep();return(t=r?a.top+a.height-e.clientY:e.clientX-a.left)<0&&(t=0),(n=0===t?0:r?100*t/a.height:100*t/a.width)>100&&(n=100),100!==n&&n%o!==0&&(n=Math.floor(n/o)*o),n}},{key:"getMarkers",value:function(){var e=this.props,t=e.markers,n=e.max;return(t=t.filter((function(e){return P.a.isNumber(e.value)}))).map((function(e){var t={};t.value=e.value;var r=100*e.value/n;return r<0&&(r=0),r>100&&(r=100),t.percent=r,t.label=P.a.isUndefined(e.label)?"":e.label,t.className=e.className,t}))}},{key:"render",value:function(){var e=this.props,t=e.vertical,n=e.min,r=e.max,o=e.value,i=e.withTooltips;return a.a.createElement(T,{vertical:t,onThumbRef:this.onThumbRef,onStripRef:this.onStripRef,onThumbKeyDown:this.onThumbKeyDown,progressPercent:this.getProgressPercent(),hoverPercent:this.state.hoverPercent,showSeekTooltip:!this.state.tempProgressEnabled,onStripMouseMove:this.onStripMouseMove,onStripMouseLeave:this.onStripMouseLeave,mainTooltipValue:this.getMainTooltipValue(),seekTooltipValue:this.getSeekTooltipValue(),onStripClick:this.onStripClick,withTooltips:i,markers:this.getMarkers(),min:n,max:r,value:o})}}])&&N(n.prototype,r),o&&N(n,o),t}(r.Component);x.defaultProps={onChange:function(){},tipFormatter:function(e){return e},markers:[]},x.propTypes={vertical:i.a.bool,min:i.a.number,max:i.a.number,value:i.a.number,step:i.a.number,onChange:i.a.func,tipFormatter:i.a.func,withTooltips:i.a.bool,markers:i.a.arrayOf(i.a.shape({value:i.a.number.isRequired,label:i.a.oneOfType([i.a.string,i.a.number]),className:i.a.string}))};n("jI2F");function F(e){return(F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return!t||"object"!==F(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=V(this,G(t).call(this,e))).state={pixelDuration:1},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.calculatePixelDuration(),this.pixelDurationInterval=setInterval(this.calculatePixelDuration.bind(this),2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.pixelDurationInterval)}},{key:"calculatePixelDuration",value:function(){var e=this.props.duration;if(e&&this.containerElem){var t=e/(this.containerElem.clientWidth-20);this.setState({pixelDuration:t})}}},{key:"formatTipContent",value:function(e){var t=h.c(e),n=t.seconds,r=t.minutes,a=t.hours;return n=h.a(n),r=h.a(r),a=h.a(a),"".concat(a,":").concat(r,":").concat(n)}},{key:"getMarks",value:function(){var e=this,t=this.props.marks,n=[],r=[];return t.forEach((function(t){for(var n=!0,a=0;a<r.length;a++){var o=r[a],i=Math.abs(t.timestamp-o.value);if(i>=0&&i<=16*e.state.pixelDuration){o.label++,n=!1;break}}n&&r.push({value:t.timestamp,label:1})})),r.forEach((function(e){n.push({value:e.value,className:e.label>1?"c-player__many-comments-mark":"",label:e.label>1?e.label:null})})),n}},{key:"render",value:function(){var e=this,t=this.props,n=t.duration,r=t.time,o=t.seek;return n||(n=1),n=+n.toFixed(1),r&&(r=+r.toFixed(1)),a.a.createElement("div",{className:"c-player__timeline",ref:function(t){t&&(e.containerElem=t)}},a.a.createElement(x,{min:0,max:n,value:r,step:.1,onChange:o,markers:this.getMarks(),withTooltips:!0,tipFormatter:this.formatTipContent}))}}])&&U(n.prototype,r),o&&U(n,o),t}(r.Component);n("sJ7f");function W(e){return(W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return!t||"object"!==W(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Y(this,H(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"c-player__volume-slider-holder",tabIndex:-1},a.a.createElement(x,{vertical:!0,step:.05,min:0,max:1,value:this.props.volume,onChange:this.props.onChange}))}}])&&Q(n.prototype,r),o&&Q(n,o),t}(r.Component);function X(e){return(X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=.1,re=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Z(t).call(this,e),n=!a||"object"!==X(a)&&"function"!==typeof a?ee(r):a,te(ee(ee(n)),"hideVolume",(function(){n.setState({showSlider:!1})})),te(ee(ee(n)),"showVolume",(function(){n.setState({showSlider:!0})})),te(ee(ee(n)),"toggleVolume",(function(){if(n.showSlider)return n.hideVolume();n.showVolume()})),te(ee(ee(n)),"toggleMute",(function(){(n.muted||0!==n.props.volume)&&(n.muted?(n.muted=!1,n.props.changeVolume(n.previousVolume)):(n.previousVolume=n.props.volume,n.muted=!0,n.props.changeVolume(0)))})),te(ee(ee(n)),"onChange",(function(e){n.props.changeVolume(e)})),n.state={showSlider:!1},n.muted=!1,n.onArrowUp=Object(u.c)([u.a.ARROW_RIGHT,u.a.ARROW_UP],(function(){n.props.changeVolume(n.props.volume+ne)})),n.onArrowDown=Object(u.c)([u.a.ARROW_LEFT,u.a.ARROW_DOWN],(function(){n.props.changeVolume(n.props.volume-ne)})),n.onKeyDown=function(e){n.onArrowUp(e),n.onArrowDown(e)},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state.showSlider,t=this.props,n=t.volume,r=t.i18n,o=c.a.VOLUME_DOWN;return n<=.2&&(o=c.a.VOLUME_MUTE),0===n&&(o=c.a.VOLUME_OFF),1===n&&(o=c.a.VOLUME_UP),a.a.createElement("div",{className:"c-player__volume-changer",role:"slider","aria-label":r._("Volume"),"aria-valuemin":"0","aria-valuenow":100*n,"aria-valuemax":"100",tabIndex:"0",onKeyDown:this.onKeyDown,onMouseEnter:this.showVolume,onClick:this.toggleVolume,onMouseLeave:this.hideVolume},a.a.createElement("span",{onClick:this.toggleMute},a.a.createElement(s.a,{className:E()("c-player__volume-icon",te({},"c-player__volume-icon--active",e)),icon:!0},o)),e&&a.a.createElement(K,{volume:n,onChange:this.onChange}))}}])&&J(n.prototype,r),o&&J(n,o),t}(r.Component),ae=Object(l.withI18n)()(re);n("A2rd");function oe(e){return(oe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return!t||"object"!==oe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ce(this,se(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=c.a.FULLSCREEN,t=this.props.i18n;return this.props.isFullScreen&&(e=c.a.FULLSCREEN_EXIT),a.a.createElement("div",{className:"c-player__full-screen-button",role:"button","aria-label":t._("Enable/Disable Fullscreen"),onClick:this.props.toggleFullScreen,onKeyDown:Object(u.b)(this.props.toggleFullScreen),tabIndex:0},a.a.createElement("span",null,a.a.createElement(s.a,{className:"c-player__full-screen-icon",ariaLabel:t._("Enable/Disable Fullscreen, icon")},e)))}}])&&ie(n.prototype,r),o&&ie(n,o),t}(r.Component),de=Object(l.withI18n)()(le),fe=n("jpbM"),pe=n.n(fe),me=n("2bAp"),be=n("4XMt"),ye=n("fcFR");n("T5Sw");function ve(e){return(ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Oe=function(e){function t(e){var n,r,a,o,i,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ge(t).call(this,e),n=!a||"object"!==ve(a)&&"function"!==typeof a?we(r):a,o=we(we(n)),c=function(){var e=n.props.transcriptUrl;Object(ye.a)(e)},(i="onClick")in o?Object.defineProperty(o,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[i]=c,n.state={},n.id=pe()(5),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.transcriptUrl,n=e.i18n;return t?a.a.createElement("div",{className:"c-player__transcript-button",role:"button",tabIndex:0,"aria-label":n._("Download Transcript"),"aria-controls":this.id,onKeyDown:Object(u.b)(this.onClick),onClick:this.onClick},a.a.createElement(s.a,{ariaLabel:n._("Download Transcript, icon"),className:"c-player__transcript-icon",iconClassName:me.a.FILE,tooltip:{label:n._("Download Transcript"),position:be.a.BOTTOM,arrow:!1}})):null}}])&&he(n.prototype,r),o&&he(n,o),t}(r.Component),Se=Object(l.withI18n)()(Oe),Ce=(n("Y+Fw"),n("UX+v"));function _e(e){return(_e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne="c-player__captions-list-item",je=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Te(t).call(this,e),n=!o||"object"!==_e(o)&&"function"!==typeof o?Pe(r):o,Ae(Pe(Pe(n)),"show",(function(){n.setState({isOpen:!0},(function(){n.menu&&n.menu.focus()}))})),Ae(Pe(Pe(n)),"hide",(function(){n.setState({isOpen:!1})})),Ae(Pe(Pe(n)),"toggle",(function(){if(n.state.isOpen)return n.hide();n.show()})),Ae(Pe(Pe(n)),"onManageCaptions",(function(){n.hide(),n.anchorEl.focus();var e=n.props.onManageCaptions;e&&e()})),Ae(Pe(Pe(n)),"setCaptionAndHide",(function(e){n.props.setCurrentCaption(e),n.hide(),n.anchorEl.focus()})),Ae(Pe(Pe(n)),"renderManageCaptionsItem",(function(){var e=n.props.i18n;return n.props.onManageCaptions?a.a.createElement("div",{className:E()(Ne),role:"menuitem",tabIndex:0,onKeyDown:Object(u.b)(n.onManageCaptions),onClick:n.onManageCaptions},e._("Manage")):null})),Ae(Pe(Pe(n)),"renderToggleItems",(function(){var e=[],t=n.props,r=t.captions,o=t.setCurrentCaption,i=t.i18n;return P.a.isEmpty(r)||(e=n.isNoCaptionShowing()?r.map((function(e,t){return a.a.createElement("div",{className:E()(Ne),key:"caption-menu-item[on-".concat(t,"]"),role:"menuitem",onKeyDown:Object(u.b)(n.setCaptionAndHide.bind(null,e)),tabIndex:0,onClick:o.bind(null,e)},i._("On"))})):[a.a.createElement("div",{className:E()(Ne),key:"caption-menu-item[off]",role:"menuitem",tabIndex:0,onKeyDown:Object(u.b)(n.setCaptionAndHide.bind(null,null)),onClick:o.bind(null,null)},i._("Off"))]),P.a.compact(e)})),n.state={isOpen:!1},n.id=pe()(5),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(t,e),n=t,(r=[{key:"isNoCaptionShowing",value:function(){var e=this.props.captions;if(!e||0===e.length)return!0;var t=!0;return e.forEach((function(e){e.mode===Ce.a.SHOWING&&(t=!1)})),t}},{key:"render",value:function(){var e=this,t=this.state.isOpen,n=this.props,r=n.captions,o=n.i18n,i=n.onManageCaptions;return P.a.isEmpty(r)&&!i?null:a.a.createElement("div",{className:"c-player__captions-button",ref:function(t){return e.anchorEl=t},role:"button",tabIndex:0,"aria-label":o._("Show Captions"),"aria-haspopup":"true","aria-controls":this.id,onKeyDown:Object(u.b)(this.toggle),onClick:this.toggle,onMouseEnter:this.show,onMouseLeave:this.hide},a.a.createElement("span",null,a.a.createElement(s.a,{ariaLabel:o._("Show Captions, icon"),className:E()("c-player__captions-icon",Ae({},"c-player__captions-icon--active",t))},c.a.CLOSED_CAPTION)),t&&a.a.createElement("div",{className:"c-player__captions-list",ref:function(t){t&&(e.menu=t)},id:this.id,role:"menu"},this.renderManageCaptionsItem(),this.renderToggleItems()))}}])&&Ie(n.prototype,r),o&&Ie(n,o),t}(r.Component),ke=Object(l.withI18n)()(je);n("xp71");function De(e){return(De="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return!t||"object"!==De(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Me(this,xe(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,e),n=t,(r=[{key:"getPreviousComment",value:function(){var e=this.props,t=e.marks,n=e.time;t=P.a.sortBy(t,["timestamp"]);for(var r=null,a=0;a<t.length;a++){var o=t[a],i=t[a+1],c=!i||n<=i.timestamp;o.timestamp<n&&c&&(r=o)}return r}},{key:"handleClick",value:function(){var e=this.props.seek,t=this.getPreviousComment();t&&e(t.timestamp-.5)}},{key:"render",value:function(){var e=this.props,t=e.marks,n=e.i18n;if(0===t.length)return null;var r,o,i,l=!this.getPreviousComment();return a.a.createElement("div",{className:"c-player__prev-button",onClick:l?null:this.handleClick.bind(this),onKeyDown:l?null:Object(u.b)(this.handleClick.bind(this)),role:"button","aria-label":n._("Rewind"),"aria-disabled":l,tabIndex:0},a.a.createElement("span",null,a.a.createElement(s.a,{ariaLabel:n._("Rewind, icon"),className:E()("c-player__prev-button-icon",(r={},o="c-player__prev-button-icon--disabled",i=l,o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r))},c.a.FAST_REWIND)))}}])&&Le(n.prototype,r),o&&Le(n,o),t}(r.Component),Ve=Object(l.withI18n)()(Ue);n("03gT");function Ge(e){return(Ge="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return!t||"object"!==Ge(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ye=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,We(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,e),n=t,(r=[{key:"getNextComment",value:function(){var e=this.props,t=e.marks,n=e.time,r=null;t=P.a.sortBy(t,["timestamp"]);for(var a=0;a<t.length;a++){var o=t[a],i=t[a+1],c=!!i&&n<i.timestamp;if((!o||n>=o.timestamp)&&c){r=i;break}if(o.timestamp>n){r=o;break}}return r}},{key:"handleClick",value:function(){var e=this.props.seek,t=this.getNextComment();t&&e(t.timestamp)}},{key:"render",value:function(){var e=this.props,t=e.marks,n=e.i18n;if(0===t.length)return null;var r,o,i,l=!this.getNextComment();return a.a.createElement("div",{className:"c-player__next-button",onClick:l?null:this.handleClick.bind(this),onKeyDown:l?null:Object(u.b)(this.handleClick.bind(this)),role:"button","aria-label":n._("Fast Forward"),"aria-disabled":l,tabIndex:0},a.a.createElement("span",null,a.a.createElement(s.a,{ariaLabel:n._("Fast Forward, icon"),className:E()("c-player__next-button-icon",(r={},o="c-player__next-button-icon--disabled",i=l,o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r))},c.a.FAST_FORWARD)))}}])&&qe(n.prototype,r),o&&qe(n,o),t}(r.Component),He=Object(l.withI18n)()(Ye);n("NEnp");function ze(e){return(ze="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return!t||"object"!==ze(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xe(this,Je(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.time,n=e.duration;return a.a.createElement("div",{className:"c-player__current-time"},a.a.createElement("span",{className:"c-player__current-time-value"},h.f(t)),a.a.createElement("span",{className:"c-player__time-delimiter"},"/"),a.a.createElement("span",{className:"c-player__duration"},h.f(n)))}}])&&Ke(n.prototype,r),o&&Ke(n,o),t}(r.Component),et=n("k7+O"),tt=n.n(et);function nt(e){return(nt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t){return!t||"object"!==nt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return ct}));var ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),at(this,ot(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.isPlaying,n=e.play,r=e.pause,o=e.duration,i=e.time,c=e.seek,s=e.volume,u=e.changeVolume,l=e.isFullScreen,d=e.toggleFullScreen,f=e.captions,p=e.setCurrentCaption,m=e.onManageCaptions,b=e.marks,y=e.customActions,h=e.transcriptUrl;return a.a.createElement("div",{className:"c-player__controls"},a.a.createElement(Ve,{marks:b,seek:c,time:i}),a.a.createElement(v,{play:n,pause:r,isPlaying:t}),a.a.createElement(He,{marks:b,seek:c,time:i}),a.a.createElement($e,{time:i,duration:o}),a.a.createElement(B,{duration:o,time:i,seek:c,marks:b}),a.a.createElement(ae,{volume:s,changeVolume:u}),y.map((function(e){return a.a.createElement("div",{className:"c-player__custom-action",key:e.id},e.component)})),a.a.createElement(ke,{captions:f,setCurrentCaption:p,onManageCaptions:m}),a.a.createElement(Se,{transcriptUrl:h}),tt.a&&tt.a.enabled&&a.a.createElement(de,{isFullScreen:l,toggleFullScreen:d}))}}])&&rt(n.prototype,r),o&&rt(n,o),t}(r.Component);ct.propTypes={customActions:i.a.arrayOf(i.a.shape({id:i.a.string.isRequired,component:i.a.object}))},ct.defaultProps={marks:[],customActions:[]}},ERI2:function(e,t,n){"use strict";var r=n("NlSD"),a=n("lTCR"),o=n.n(a),i=n("wNa6"),c=n("3Tiu"),s=n("pElA"),u=n("AuRu"),l=n("92Bf");function d(){var e=g(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            qaQuestion {\n                dbId\n            }\n            myData {\n                qaAnswers {\n                    dbId\n                    qaQuestion {\n                        dbId\n                    }\n                    isWithdrawn\n                    withdrawComment\n                    isCrashed\n                    startedAt\n                    media {\n                        ...MediaBasic\n                    }\n                }\n                result {\n                    ... on ActivityResultQa {\n                        submitter {\n                            dbId\n                            firstName\n                            lastName\n                        }\n                        submittedAt\n                        media {\n                            ...MediaBasic\n                        }\n                        deletable\n                    }\n                }\n            }\n        }\n    }\n    ","\n"]);return d=function(){return e},e}function f(){var e=g(["\n    mutation withdrawQaAnswer($input: WithdrawQaAnswerInput!){\n        withdrawQaAnswer(input: $input) {\n            answer {\n                dbId        \n                isCrashed\n                isWithdrawn\n                withdrawComment\n                startedAt        \n                qaQuestion {\n                    media {\n                       ...MediaBasic\n                    }\n                    questionText\n                }\n            }\n        }\n    }\n    ","\n"]);return f=function(){return e},e}function p(){var e=g(["\n    mutation deleteQaAnswer($input: QaAnswerInput!){\n        deleteQaAnswer(input: $input) {\n            removedId\n        }\n    }\n"]);return p=function(){return e},e}function m(){var e=g(["\n   {\n        practiceQaRecorderSettings {\n            qaSettings {\n                delay\n                isStartedImmediately\n                answerMinLength\n                answerMaxLength\n                isStudentRetakeAllowed\n                isRandomQuestionsModeEnabled\n                amountOfRandomQuestionsPerStudent\n                recordingMode\n            }\n            qaQuestion {\n                media {\n                    allowExternalPlay\n                    externalPlayUrl\n                    processingStatus\n                    downloadUrl\n                    srcUrl\n                    canEditCaptions\n                    caption {\n                        ...MediaCaption\n                    }\n                }\n                questionText\n            }\n            webCamFileName\n            minRecordLengthSeconds\n            maxRecordLengthSeconds\n        }\n    }\n    ","\n"]);return m=function(){return e},e}function b(){var e=g(["\n    mutation updateQaAnswerRecordIsStarted($input: QaAnswerInput!){\n        updateQaAnswerRecordIsStarted(input: $input) {\n            answer {\n                dbId                \n                qaQuestion {\n                    media {\n                        ...MediaBasic\n                    }\n                    questionText\n                }\n                startedAt\n            }\n        }\n    }\n    ","\n"]);return b=function(){return e},e}function y(){var e=g(["\n    mutation updateQaAnswerQuestionMediaIsIdling($input: QaAnswerInput!){\n        updateQaAnswerQuestionMediaIsIdling(input: $input) {\n            answer {\n                dbId                \n                qaQuestion {\n                    media {\n                       ...MediaBasic\n                    }\n                    questionText\n                }\n                startedAt\n            }\n        }\n    }\n    ","\n"]);return y=function(){return e},e}function v(){var e=g(["\n    mutation finishQaAnswer($input: QaAnswerInput!){\n        finishQaAnswer(input: $input) {\n            answer {\n                dbId                \n                qaQuestion {\n                    media {\n                        ...MediaBasic\n                    }\n                    questionText\n                }\n                startedAt\n            }\n        }\n    }\n     ","\n"]);return v=function(){return e},e}function h(){var e=g(["\n    mutation startQaAnswer($input: StartQaAnswerInput!){\n        startQaAnswer(input: $input) {\n            answer {\n                dbId                \n                qaQuestion {\n                    media {\n                        ...MediaBasic\n                    }\n                    questionText\n                }\n                startedAt\n            }\n        }\n    }\n    ","\n"]);return h=function(){return e},e}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"getSubmittedActivityData",value:function(e){return new Promise((function(t,n){i.a.dispatch(s.fc(!0)),r.a.query({query:u.d,variables:{activityId:e}}).then((function(e){if(e&&e.data){var r=e.data.activity;i.a.dispatch(s.Vb(r)),t(r)}else n(e);i.a.dispatch(s.fc(!1))})).catch((function(e){n(e),i.a.dispatch(s.fc(!1))}))}))}},{key:"startQuestion",value:function(e,t){return new Promise((function(n,a){i.a.dispatch(c.q(!0)),r.a.mutate({mutation:O,variables:{input:{questionDbId:e,streamName:t}}}).then((function(e){if(e&&e.data){var t=e.data.startQaAnswer.answer;i.a.dispatch(c.k(t)),n(t)}else a(e);i.a.dispatch(c.q(!1))})).catch((function(e){a(e),i.a.dispatch(c.q(!1))}))}))}},{key:"refreshProgressData",value:function(e){return new Promise((function(t,n){i.a.dispatch(s.Xb(!0)),r.a.query({query:u.e,variables:{activityId:e},errorPolicy:"ignore"}).then((function(e){if(e&&e.data){var r=e.data.activity;i.a.dispatch(s.Sb(r)),t(r)}else n(e);i.a.dispatch(s.Xb(!1))})).catch((function(e){n(e),i.a.dispatch(s.fc(!1))}))}))}},{key:"refreshSubmittedData",value:function(e){return new Promise((function(t,n){i.a.dispatch(s.Xb(!0)),r.a.query({query:u.d,variables:{activityId:e},errorPolicy:"ignore"}).then((function(e){if(e&&e.data){var r=e.data.activity;i.a.dispatch(s.Tb(r)),t(r)}else n(e);i.a.dispatch(s.Xb(!1))})).catch((function(e){n(e),i.a.dispatch(s.fc(!1))}))}))}},{key:"getUpdatedState",value:function(e){return new Promise((function(t,n){i.a.dispatch(c.q(!0)),r.a.query({query:P,variables:{activityId:e}}).then((function(e){if(e&&e.data){var r=e.data.activity;i.a.dispatch(s.rc(r)),t(r)}else n(e);i.a.dispatch(c.q(!1))})).catch((function(e){n(e),i.a.dispatch(c.q(!1))}))}))}},{key:"setQuestionIsIdling",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:C,variables:{input:{questionDbId:e}}}).then((function(e){e&&e.data?t(e):n(e)})).catch((function(e){n(e)}))}))}},{key:"setAnswerIsRecording",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:_,variables:{input:{questionDbId:e}}}).then((function(e){e&&e.data?t(e):n(e)})).catch((function(e){n(e)}))}))}},{key:"finishQuestion",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:S,variables:{input:{questionDbId:e}}}).then((function(e){e&&e.data?(i.a.dispatch(c.k(null)),t(e)):n(e)})).catch((function(e){n(e)}))}))}},{key:"loadPracticeRecorderSettings",value:function(){return new Promise((function(e,t){i.a.dispatch(c.q(!0)),r.a.query({query:I}).then((function(n){n&&n.data?(i.a.dispatch(c.o(n.data.practiceQaRecorderSettings)),e(n)):t(n),i.a.dispatch(c.q(!1))})).catch((function(e){t(e),i.a.dispatch(c.q(!1))}))}))}},{key:"withdrawAnswer",value:function(e,t){return new Promise((function(n,a){i.a.dispatch(c.p(!0)),r.a.mutate({mutation:R,variables:{input:{questionDbId:e,comment:{withdrawComment:t}}}}).then((function(e){e&&e.data?n(e):a(e),i.a.dispatch(c.p(!1))})).catch((function(e){a(e),i.a.dispatch(c.p(!1))}))}))}},{key:"deleteAnswer",value:function(e){return new Promise((function(t,n){i.a.dispatch(c.m(!0)),r.a.mutate({mutation:T,variables:{input:{questionDbId:e}}}).then((function(e){e&&e.data?t(e):n(e),i.a.dispatch(c.m(!1))})).catch((function(e){n(e),i.a.dispatch(c.m(!1))}))}))}}])&&E(t.prototype,n),a&&E(t,a),e}();t.a=new w;var O=o()(h(),l.b),S=o()(v(),l.b),C=o()(y(),l.b),_=o()(b(),l.b),I=o()(m(),l.c),T=o()(p()),R=o()(f(),l.b),P=o()(d(),l.b)},EZsn:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("4XMt"),u=n("J3bt"),l=n("TSYQ"),d=n.n(l),f=n("LvDl"),p=n.n(f);n("1CkY");function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={value:"UNSET",label:"\u2014"},v={value:0,label:Object(c.i18nMark)("Fail")},h={value:1,label:Object(c.i18nMark)("Pass")},g="passfail-input-select";function E(e){var t,n=e.menuItems;n||(t=e.i18n,v.label=t._(v.label),h.label=t._(h.label),n=[h,v,y]);var r=!1;return e.value!==y.value?p.a.remove(n,{value:y.value}):r=!0,m({},e,{className:d()(g,e.className),menuItems:n,stripActiveItem:r})}var w=function(e){return a.a.createElement(u.b,E(e),e.children)};w.componentProps={anchor:i.a.object,className:i.a.string,error:i.a.bool,errorText:i.a.string,fullWidth:i.a.bool,id:i.a.string,itemLabel:i.a.string,itemValue:i.a.string,label:i.a.string,menuItems:i.a.array,onChange:i.a.func,placeholder:i.a.string,position:i.a.string,sameWidth:i.a.bool,simplifiedMenu:i.a.bool,stripActiveItem:i.a.bool,style:i.a.object,type:i.a.string,value:i.a.any,enabled:i.a.bool,ariaLabel:i.a.string,ariaLabelledby:i.a.string,tooltip:i.a.any},w.propTypes=m({},w.componentProps),w.defaultProps={className:g,menuItems:null},t.b=Object(s.c)(Object(c.withI18n)()(w))},EiE3:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("Iab2"),u=n.n(s),l=n("LvDl"),d=n.n(l),f=n("Uu12"),p=n("kbsL"),m=n("7dPE"),b=n("hvs/"),y=n("Y7ox"),v=n("ChKr"),h=n("QccL"),g=n("LFYD"),E={CHOOSER:"chooser",AUTOMATIC:"automatic",EDITOR:"editor",IMPORTER:"importer"},w={COMMUNICATION:{UNKNOWN:"ERROR_UNKNOWN_COMMUNICATION"},SAVE:{PROCESSING:"ERROR_PROCESSING_CAPTION_STRING",UPLOADING:"ERROR_UPLOADING_TO_S3"},FETCH:{UNKNOWN:"ERROR_UNKNOWN"},AUTO_CAPTIONS:{MEDIA_TOO_LONG:"ERROR_MEDIA_TOO_LONG"}},O=n("TSYQ"),S=n.n(O),C=n("giI2"),_=n("zlvO"),I=n.n(_);function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==T(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,N(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.label,r=e.icon,o=e.iconClassName,i=e.description,c=e.enabled,s=e.onClick,u=e.tooltip,l=a.a.createElement("div",{className:I.a.optionButtonTop},a.a.createElement("div",{className:I.a.optionButtonLabel},n),a.a.createElement(C.a,{className:S()(I.a.optionButtonIcon,o)},r)),d=null;return i&&(d=a.a.createElement("div",{className:I.a.optionButtonBottom},a.a.createElement("div",{className:I.a.optionButtonDescription},i))),a.a.createElement(p.b,R({},Object(f.j)(this.props),{className:S()(I.a.button,I.a.optionButton,t),onClick:s,enabled:c,tooltip:u}),l,d)}}])&&P(n.prototype,r),o&&P(n,o),t}(a.a.PureComponent);k.defaultProps={},k.propTypes={className:i.a.string,label:i.a.string,icon:i.a.string,iconClassName:i.a.string,description:i.a.string,enabled:i.a.bool,onClick:i.a.func,tooltip:i.a.object};var D=k,L=n("yJ9H"),M=n.n(L);function x(e){return(x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,n=!(o=(e=q(t)).call.apply(e,[this].concat(c)))||"object"!==x(o)&&"function"!==typeof o?W(r):o,Q(W(W(n)),"renderOptionButton",(function(e){var t=e.key,n=V(e,["key"]);return a.a.createElement(D,U({key:t},n))})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onChoose,r=e.allowAutomaticCaptioningOption,o=e.automaticCaptioningConfig,i=[];return r&&i.push(F({},f.f.option.automatic,{key:"manage-captions-option-automatic",label:t._("Generate Automatically"),icon:g.a.BRIGHTNESS_AUTO,description:t._("This video will be analyzed and captions will be generated for you. The generated captions can be modified if necessary."),onClick:function(){n(E.AUTOMATIC)}},o)),i.push(F({},f.f.option.importer,{key:"manage-captions-option-import",label:t._("Import from File"),icon:g.a.FILE_UPLOAD,description:t._("Provide a well formatted caption file (SRT or WebVTT)."),onClick:function(){n(E.IMPORTER)}})),i.push(F({},f.f.option.editor,{key:"manage-captions-option-manual",label:t._("Enter Manually"),icon:g.a.DESCRIPTION,description:t._("Use a text editor to manually enter or paste in captions."),onClick:function(){n(E.EDITOR)}})),a.a.createElement("div",{className:M.a.captionsChooser},d.a.map(i,this.renderOptionButton))}}])&&G(n.prototype,r),o&&G(n,o),t}(a.a.PureComponent);Y.defaultProps={},Y.propTypes={onChoose:i.a.func.isRequired,allowAutomaticCaptioningOption:i.a.bool,automaticCaptioningConfig:i.a.object,i18n:i.a.object.isRequired};var H=Object(c.withI18n)()(Y),z=n("24ZJ"),K=n.n(z);function X(e){return(X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return!t||"object"!==X(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$(this,ee(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onCancel;return a.a.createElement("div",{className:K.a.captionsGenerator},a.a.createElement("div",{className:K.a.captionsGeneratorBody},a.a.createElement("div",{className:K.a.captionsGeneratorLeft},a.a.createElement(b.c,{className:K.a.spinner})),a.a.createElement("div",{className:K.a.captionsGeneratorRight},a.a.createElement("h3",{className:K.a.title},t._("Processing...")),a.a.createElement("div",{className:K.a.details},a.a.createElement("p",null,t._("Generating captions typically takes as long as the duration of the video.")),a.a.createElement("p",null,t._("Once finished, you will be able to modify the automatically generated captions.")),a.a.createElement("p",null,t._("You can close this dialog and the processing will continue to run."))))),a.a.createElement("div",{className:K.a.captionsGeneratorFooter},a.a.createElement(p.b,J({},f.f.automatic.cancel,{secondary:!0,className:K.a.cancel,onClick:n}),t._("Cancel Processing"))))}}])&&Z(n.prototype,r),o&&Z(n,o),t}(a.a.PureComponent);ne.defaultProps={},ne.propTypes={onCancel:i.a.func.isRequired,i18n:i.a.object.isRequired};var re=Object(c.withI18n)()(ne),ae=n("/iAH"),oe=n("yzbm"),ie=n("ZYMB"),ce=n.n(ie),se=function(e){var t=e.className,n=e.children,r=e.onFileChooserChange,o=e.supportedMimeTypes;return a.a.createElement(oe.a,{className:S()(ce.a.fileChooser,t),accept:o,multiple:!1,onDrop:function(e,t){r(e,t)},activeClassName:ce.a.fileChooserActive},a.a.createElement("div",{className:ce.a.fileChooserContent},n))};se.defaultProps={},se.propTypes={onFileChooserChange:i.a.func.isRequired,supportedMimeTypes:i.a.array,className:i.a.string,children:i.a.any};var ue=se,le=n("At0y"),de=n.n(le);function fe(e){return(fe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=[".srt",".vtt",".txt","text/plain"],ge=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,o=(e=me(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==fe(o)&&"function"!==typeof o?ye(r):o,ve(ye(ye(n)),"onFileLoaded",(function(e){(0,n.props.onImport)(e.currentTarget.result)})),ve(ye(ye(n)),"onFileChooserChange",(function(e){if(!d.a.isEmpty(e)){var t=new FileReader;t.addEventListener("loadend",n.onFileLoaded),t.readAsText(e[0])}})),ve(ye(ye(n)),"renderFileChooser",(function(){var e=n.props.i18n;return a.a.createElement("div",f.f.importer.fileChooser,a.a.createElement(ue,{className:de.a.captionsFileChooser,onFileChooserChange:n.onFileChooserChange,supportedMimeTypes:he},e._("Drop Caption File or Click Here")))})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n,t=e._("Importing a Caption File"),n=e._("Provide a SRT or WebVTT formatted caption file. Any existing captions for this video will be overwritten.");return a.a.createElement("div",{className:de.a.captionsImporter},a.a.createElement(ae.a,{type:ae.a.NOTE_TYPES.INFO,title:t,message:n}),this.renderFileChooser())}}])&&pe(n.prototype,r),o&&pe(n,o),t}(a.a.PureComponent);ge.defaultProps={},ge.propTypes={onImport:i.a.func.isRequired,i18n:i.a.object.isRequired};var Ee=Object(c.withI18n)()(ge),we=n("ZmiZ"),Oe=n("rdgG"),Se=n.n(Oe);function Ce(e){return(Ce="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne={isEditing:!1},je=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Te(t).call(this,e),n=!o||"object"!==Ce(o)&&"function"!==typeof o?Pe(r):o,Ae(Pe(Pe(n)),"state",Ne),Ae(Pe(Pe(n)),"onCaptionTextChange",(function(e){(0,n.props.onChange)(d.a.trimStart(e))})),Ae(Pe(Pe(n)),"onImportCaptionFileClick",(function(){(0,n.props.onImport)()})),Ae(Pe(Pe(n)),"onDownloadCaptionsClick",(function(){(0,n.props.onDownload)()})),Ae(Pe(Pe(n)),"onEditCaptionsClick",(function(){n.setState({isEditing:!0},(function(){n.captionsTextFieldRef.current.focus()}))})),Ae(Pe(Pe(n)),"onSaveClick",(function(){(0,n.props.onSave)()})),Ae(Pe(Pe(n)),"onDeleteClick",(function(){(0,n.props.onDelete)()})),Ae(Pe(Pe(n)),"renderCaptionTextInput",(function(){var e=n.props,t=e.i18n,r=e.captionText,o=n.state.isEditing;return a.a.createElement("div",{className:Se.a.captionsEditorTextFieldContainer},a.a.createElement(we.b,_e({},f.f.editor.captionText,{id:"captions-editor-text",ref:n.captionsTextFieldRef,className:Se.a.captionsEditorTextField,enabled:o,onChange:n.onCaptionTextChange,placeholder:t._("Enter captions (SRT or WebVTT format)"),rows:2,value:r})))})),Ae(Pe(Pe(n)),"renderActions",(function(){var e=n.props,t=e.i18n,r=e.isDeleteEnabled,o=e.isSaveEnabled,i=t._("Delete"),c=t._("Save");return a.a.createElement("div",{className:Se.a.actions},a.a.createElement(p.b,_e({},f.f.editor.delete,{secondary:!0,id:"captions-editor-delete-button",enabled:r,ariaLabel:i,onClick:n.onDeleteClick}),i),a.a.createElement(p.h,_e({},f.f.editor.save,{primary:!0,id:"captions-editor-save-button",enabled:o,ariaLabel:c,onClick:n.onSaveClick}),c))})),Ae(Pe(Pe(n)),"renderToolbar",(function(){var e=n.props,t=e.i18n,r=e.captionText,o=n.state.isEditing,i=!o,c=o?t._("Editing..."):t._("Edit Captions Text"),s=Boolean(r),u=s?t._("Download Captions Text"):t._("No Captions to Download");return a.a.createElement("div",{className:Se.a.toolbar},a.a.createElement(p.d,_e({},f.f.editor.edit,{primary:!0,id:"captions-editor-edit-button",className:Se.a.toolbarButton,ariaLabel:c,tooltip:{label:c},onClick:n.onEditCaptionsClick,enabled:i,iconEl:a.a.createElement(C.a,null,g.a.EDIT)})),a.a.createElement(p.d,_e({},f.f.editor.download,{primary:!0,id:"captions-editor-download-button",className:Se.a.toolbarButton,ariaLabel:u,tooltip:{label:u},onClick:n.onDownloadCaptionsClick,enabled:s,iconEl:a.a.createElement(C.a,null,g.a.FILE_DOWNLOAD)})),a.a.createElement("div",{className:Se.a.toolbarDivider}),a.a.createElement(p.b,_e({},f.f.editor.import,{primary:!0,id:"captions-editor-import-button",className:Se.a.toolbarButton,ariaLabel:t._("Import New Caption File"),onClick:n.onImportCaptionFileClick,iconEl:a.a.createElement(C.a,null,g.a.FILE_UPLOAD)}),t._("Import New File")))})),n.captionsTextFieldRef=a.a.createRef(),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.props.captionText||this.onEditCaptionsClick()}},{key:"render",value:function(){return a.a.createElement("div",{className:Se.a.captionsEditor},this.renderToolbar(),this.renderCaptionTextInput(),this.renderActions())}}])&&Ie(n.prototype,r),o&&Ie(n,o),t}(a.a.PureComponent);je.defaultProps={captionText:"",isDeleteEnabled:!1,isSaveEnabled:!1},je.propTypes={captionText:i.a.string,isDeleteEnabled:i.a.bool,isSaveEnabled:i.a.bool,onChange:i.a.func.isRequired,onDownload:i.a.func.isRequired,onImport:i.a.func.isRequired,onSave:i.a.func.isRequired,onDelete:i.a.func.isRequired,i18n:i.a.object.isRequired};var ke=Object(c.withI18n)()(je),De=n("lTCR"),Le=n.n(De),Me=n("NlSD"),xe=n("92Bf"),Fe=n("8bCP");function Ue(){var e=qe(["\n  query media($mediaDbId: Int!) {\n    media(dbId: $mediaDbId) {\n      ...MediaFull\n    }\n  }\n  ","\n"]);return Ue=function(){return e},e}function Ve(){var e=qe(["\n  mutation enableAutoCaptionsForMedia($mediaDbId: Int!) {\n    enableAutoCaptionsForMedia(mediaDbId: $mediaDbId) {\n      media {\n        ...MediaFull\n      }\n      errors\n    }\n  }\n  ","\n"]);return Ve=function(){return e},e}function Ge(){var e=qe(["\n  mutation setCaptionsForMedia($mediaDbId: Int!, $captionText: String!) {\n    setCaptionsForMedia(mediaDbId: $mediaDbId, contents: $captionText) {\n      media {\n        ...MediaFull\n      }\n      errors\n    }\n  }\n  ","\n"]);return Ge=function(){return e},e}function qe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Be(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function We(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){We(o,r,a,i,c,"next",e)}function c(e){We(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var He=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchCaptionText",value:function(){var e=Qe(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=[],e.prev=2,Fe.b.debug(">>> Fetching caption file:",t),e.next=6,fetch(t,{method:"GET",cache:"no-cache"});case 6:if((a=e.sent).ok){e.next=9;break}throw new Error("Response Status [".concat(a.status,"]: ").concat(a.statusText));case 9:return e.next=11,a.text();case 11:n=e.sent,Fe.b.debug("<<< Fetched caption file:\n",n),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),Fe.b.error("Error fetching caption file:",e.t0),r.push(w.FETCH.UNKNOWN);case 19:return e.abrupt("return",{captionText:n,errors:r});case 20:case"end":return e.stop()}}),e,this,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"saveCaptionText",value:function(){var e=Qe(regeneratorRuntime.mark((function e(t,n){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,a=[],e.prev=2,e.next=5,Me.a.mutate({mutation:ze,variables:{mediaDbId:t,captionText:n}});case 5:o=e.sent,d.a.isEmpty(o.errors)||(a=Be(o.errors)),i=d.a.get(o,"data.setCaptionsForMedia"),r=i.media,a=d.a.concat(a,d.a.get(i,"errors")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),Fe.b.error("Error saving captions:",e.t0),a.push(w.COMMUNICATION.UNKNOWN);case 16:return a=d.a.compact(a),e.abrupt("return",{media:r,errors:a});case 18:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"enableAutoCaptionsForMedia",value:function(){var e=Qe(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=[],e.prev=2,e.next=5,Me.a.mutate({mutation:Ke,variables:{mediaDbId:t}});case 5:a=e.sent,d.a.isEmpty(a.errors)||(r=Be(a.errors)),o=d.a.get(a,"data.enableAutoCaptionsForMedia"),n=o.media,r=d.a.concat(r,d.a.get(o,"errors")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),Fe.b.error("Error enabling auto captions for media:",e.t0),r.push(w.COMMUNICATION.UNKNOWN);case 16:return r=d.a.compact(r),e.abrupt("return",{media:n,errors:r});case 18:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMedia",value:function(){var e=Qe(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=[],e.prev=2,e.next=5,Me.a.query({query:Xe,variables:{mediaDbId:t}});case 5:a=e.sent,d.a.isEmpty(a.errors)||(r=Be(a.errors)),n=d.a.get(a,"data.media"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),Fe.b.error("Error enabling auto captions for media:",e.t0),r.push(w.COMMUNICATION.UNKNOWN);case 14:return e.abrupt("return",{media:n,errors:r});case 15:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}],n&&Ye(t.prototype,n),r&&Ye(t,r),e}(),ze=Le()(Ge(),xe.d),Ke=Le()(Ve(),xe.d),Xe=Le()(Ue(),xe.d),Je=n("PD9K"),Ze=n.n(Je);function $e(e){return($e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tt(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){tt(o,r,a,i,c,"next",e)}function c(e){tt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=1e4,ut=3600,lt={mode:E.CHOOSER,captionText:null,captionUrl:null,isFetching:!1,isDirty:!1,isValid:!1,isPersisting:!1},dt=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,o=(e=at(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==$e(o)&&"function"!==typeof o?it(r):o,ct(it(it(n)),"state",lt),ct(it(it(n)),"pollForMediaTimeout",null),ct(it(it(n)),"processMedia",(function(e){var t=Object(h.c)(e),r=E.CHOOSER,a=d.a.get(t,"src");a?(r=E.EDITOR,a=t.src,n.fetchCaptionText(a)):e.autoCaptionsEnabled&&(r=E.AUTOMATIC,n.pollForMedia()),n.setState({mode:r,captionUrl:a})})),ct(it(it(n)),"pollForMedia",(function(){clearTimeout(n.pollForMediaTimeout),n.pollForMediaTimeout=setTimeout(n.fetchMedia,st)})),ct(it(it(n)),"fetchCaptionText",function(){var e=nt(regeneratorRuntime.mark((function e(t){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isFetching:!0}),e.next=3,He.fetchCaptionText(t);case 3:r=e.sent,a=r.errors,o=r.captionText,i=o||"",n.setState({captionText:i,isFetching:!1}),n.processErrors(a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),ct(it(it(n)),"fetchMedia",nt(regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.media,e.next=3,He.fetchMedia(t.dbId);case 3:r=e.sent,a=r.errors,(o=r.media)&&(n.onMediaChange(o),n.processMedia(o)),n.processErrors(a);case 7:case"end":return e.stop()}}),e,this)})))),ct(it(it(n)),"enableAutoCaptions",nt(regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.media,e.next=3,He.enableAutoCaptionsForMedia(t.dbId);case 3:r=e.sent,a=r.errors,(o=r.media)&&(n.onMediaChange(o),n.processMedia(o)),n.processErrors(a);case 7:case"end":return e.stop()}}),e,this)})))),ct(it(it(n)),"persistCaptionText",function(){var e=nt(regeneratorRuntime.mark((function e(t,r){var a,o,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isPersisting:!0}),a=n.props,o=a.i18n,i=a.media,e.next=4,He.saveCaptionText(i.dbId,t);case 4:c=e.sent,s=c.errors,u=c.media,d.a.isEmpty(s)?u&&(l=r||o._("Saved caption settings"),v.a.addSuccess(l),n.onMediaChange(u),n.close()):(n.setState({isPersisting:!1}),n.processErrors(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),ct(it(it(n)),"processErrors",(function(e){var t=n.props.i18n;if(!d.a.isEmpty(e)){if(d.a.intersection(e,d.a.values(w.SAVE)).length>0){var r=t._("There was an issue saving the provided captions");return d.a.includes(e,w.SAVE.PROCESSING)&&(r=t._("There was an issue saving the provided captions. This may be due to an invalid caption format.")),void v.a.addError(r)}if(d.a.intersection(e,d.a.values(w.AUTO_CAPTIONS)).length>0){var a=t._("There was an issue automatically generating captions for this video");return d.a.includes(e,w.AUTO_CAPTIONS.MEDIA_TOO_LONG)&&(a=t._("There was an issue automatically generating captions for this video. This video may be too long.")),void v.a.addError(a)}d.a.intersection(e,d.a.values(w.FETCH)).length>0?v.a.addError(t._("There was an issue retrieving captions for this video")):v.a.addError(t._("There was an issue communicating with the server"))}})),ct(it(it(n)),"onSwitchModeAutomatic",nt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isPersisting:!0}),e.next=3,n.enableAutoCaptions();case 3:n.setState({isPersisting:!1});case 4:case"end":return e.stop()}}),e,this)})))),ct(it(it(n)),"onMediaChange",(function(e){Object(h.d)(e.dbId,e.caption);var t=n.props.onMediaChange;t&&t(e)})),ct(it(it(n)),"close",(function(){clearTimeout(n.pollForMediaTimeout),y.a.closeModal()})),ct(it(it(n)),"downloadFile",(function(e,t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});u.a.saveAs(n,e)})),ct(it(it(n)),"onRequestClose",(function(){n.state.isDirty?n.setState({isConfirmationVisible:!0}):n.close()})),ct(it(it(n)),"onConfirmCancelClick",(function(){n.setState({isConfirmationVisible:!1})})),ct(it(it(n)),"onConfirmDiscardClick",(function(){n.setState({isConfirmationVisible:!1},n.close)})),ct(it(it(n)),"onSave",nt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.captionText,e.next=3,n.persistCaptionText(t);case 3:case"end":return e.stop()}}),e,this)})))),ct(it(it(n)),"onDelete",nt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.persistCaptionText("");case 2:case"end":return e.stop()}}),e,this)})))),ct(it(it(n)),"onCaptionTextChange",(function(e){n.setState({captionText:e,isDirty:!0,isValid:!0})})),ct(it(it(n)),"onCaptionsChooser",(function(e){e===E.AUTOMATIC?n.onSwitchModeAutomatic():n.setState({mode:e})})),ct(it(it(n)),"onImporterMode",(function(){n.setState({mode:E.IMPORTER})})),ct(it(it(n)),"onEditorMode",(function(){n.setState({mode:E.EDITOR})})),ct(it(it(n)),"onCaptionGeneratorCancel",nt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(n.pollForMediaTimeout),e.next=3,n.persistCaptionText("");case 3:case"end":return e.stop()}}),e,this)})))),ct(it(it(n)),"onDownloadCaptions",(function(){var e=n.props,t=e.i18n,r=e.media,a=n.state.captionText,o=t._("Captions");r.title&&(o="".concat(o,"_").concat(r.title),o=String(o).substring(0,128)),o="".concat(o,".txt"),n.downloadFile(o,a)})),ct(it(it(n)),"onCaptionsImport",(function(e){n.setState({captionText:e,mode:E.EDITOR,isDirty:!0,isValid:!0})})),ct(it(it(n)),"renderCaptionsEditor",(function(){var e=n.state,t=e.captionText,r=e.isDirty,o=e.isPersisting,i=e.isValid,c=r&&i&&!o,s=!o;return a.a.createElement(ke,{captionText:t,isSaveEnabled:c,isDeleteEnabled:s,onChange:n.onCaptionTextChange,onDownload:n.onDownloadCaptions,onImport:n.onImporterMode,onSave:n.onSave,onDelete:n.onDelete})})),ct(it(it(n)),"renderCaptionsImporter",(function(){return a.a.createElement(Ee,{onImport:n.onCaptionsImport})})),ct(it(it(n)),"renderCaptionsGenerator",(function(){return a.a.createElement(re,{onCancel:n.onCaptionGeneratorCancel})})),ct(it(it(n)),"renderCaptionChooser",(function(){var e=n.props,t=e.i18n,r=e.allowAutomaticCaptioningOption,o={enabled:!0,tooltip:null};return e.media.duration>ut&&(o={enabled:!1,tooltip:{label:t._("This video is too long for automatic caption generation")}}),a.a.createElement(H,{onChoose:n.onCaptionsChooser,allowAutomaticCaptioningOption:r,automaticCaptioningConfig:o})})),ct(it(it(n)),"renderContent",(function(){switch(n.state.mode){case E.CHOOSER:return n.renderCaptionChooser();case E.AUTOMATIC:return n.renderCaptionsGenerator();case E.IMPORTER:return n.renderCaptionsImporter();case E.EDITOR:default:return n.renderCaptionsEditor()}})),ct(it(it(n)),"renderLoaderOverlay",(function(){var e=n.props.i18n;return a.a.createElement("div",et({},f.f.loading,{className:Ze.a.loadingOveralay}),a.a.createElement(b.a,{className:Ze.a.loadingSpinner,isLoading:!0}),a.a.createElement("span",{className:Ze.a.loadingMessage},e._("Loading caption file...")))})),ct(it(it(n)),"renderConfirmationOverlay",(function(){var e=n.props.i18n;if(!n.state.isConfirmationVisible)return null;var t=e._("Cancel"),r=e._("Discard Changes");return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Ze.a.confirmationMessage},e._("Do you want to discard any unsaved changes?")),a.a.createElement("div",{className:Ze.a.confirmationActions},a.a.createElement(p.b,{secondary:!0,id:"manage-captions-dialog-confirmation-cancel",key:"manage-captions-dialog-confirmation-cancel",ariaLabel:t,onClick:n.onConfirmCancelClick},t),a.a.createElement(p.b,{primary:!0,id:"manage-captions-dialog-confirmation-discard",key:"manage-captions-dialog-confirmation-discard",ariaLabel:r,onClick:n.onConfirmDiscardClick},r)))})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.media;this.processMedia(e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.pollForMediaTimeout)}},{key:"render",value:function(){var e=this.props.i18n,t=this.state.isFetching,n=e._("Manage Captions");return a.a.createElement(m.a,{id:"manage-captions-dialog",dialogClassName:Ze.a.manageCaptionsDialog,title:n,onHide:this.onRequestClose,overlay:this.renderConfirmationOverlay()},a.a.createElement("div",et({},f.f.dialog,{className:Ze.a.manageCaptions}),a.a.createElement("div",{className:Ze.a.body},t?this.renderLoaderOverlay():this.renderContent())))}}])&&rt(n.prototype,r),o&&rt(n,o),t}(a.a.PureComponent);dt.defaultProps={allowAutomaticCaptioningOption:!0},dt.propTypes={media:i.a.object.isRequired,onMediaChange:i.a.func,allowAutomaticCaptioningOption:i.a.bool,i18n:i.a.object.isRequired};t.a=Object(c.withI18n)()(dt)},EiwA:function(e,t,n){},Ezck:function(e,t,n){},"F+kV":function(e,t,n){},FC0G:function(e,t,n){},FeSs:function(e,t,n){},Fpq1:function(e,t,n){},Ftzw:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return a}));var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"start",value:function(){this.startTime=Date.now(),this.__startTimer()}},{key:"stop",value:function(){clearInterval(this.interval),this.lastTickTime=void 0,this.startTime=void 0}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"resume",value:function(){var e=Date.now();this.startTime+=e-this.lastTickTime,this.__startTimer()}},{key:"onTick",value:function(e){this.tickHandler=e}},{key:"getTime",value:function(){return this.currentTimeDiff}},{key:"__startTimer",value:function(){var e=this;this.interval=setInterval((function(){e.lastTickTime=Date.now(),e.currentTimeDiff=e.lastTickTime-e.startTime,"function"===typeof e.tickHandler&&e.tickHandler(e.currentTimeDiff)}),300)}}])&&r(t.prototype,n),a&&r(t,a),e}()},"G/cw":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("/MKj"),i=n("17x9"),c=n.n(i),s=n("Wme0"),u=n("45tj"),l=n("LMP5"),d=n("+Ft7"),f=n("Uu12");function p(e){var t=e.dateTimeFormat,n=e.unixTime,r=e.locale;if(!n)return null;var o=new Date(1e3*n);return a.a.createElement("span",Object(f.j)(e),Object(l.e)(o,t,Object(u.e)(r)))}p.propTypes={dateTimeFormat:c.a.oneOf([d.a.SHORT,d.a.MEDIUM,d.a.LONG,d.a.FULL,d.a.NATURAL]),unixTime:c.a.number},p.defaultProps={dateTimeFormat:d.a.SHORT},t.a=Object(o.b)((function(e){return{locale:s.a(e)}}))(p)},G19t:function(e,t,n){"use strict";var r=n("LvDl"),a=n.n(r),o=n("zNLh"),i=n("3fhg"),c=n("Dl6w"),s=n("ADn3"),u=n.n(s),l=n("Hlv8"),d=n.n(l),f=n("8bCP");function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=Object(f.c)("customizations"),y=/^rgb(?:a)?\(\s*([\d]{1,3})\s*,\s*([\d]{1,3})\s*,\s*([\d]{1,3})(?:\s*,\s*([\d.]+))?\s*\)$/,v=/^(palette|colors|typography|assets)--(.*)$/,h=/^palette\[(.*)\]$/,g=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"_currentDefaultTheme",null),m(this,"_currentCustomTheme",null),m(this,"_bongoTheme",{palette:{},colors:{},typography:{},assets:{}}),m(this,"_whiteTheme",{palette:{},colors:{},typography:{},assets:{}}),m(this,"_supportedKeys",{palette:{},colors:{},typography:{},assets:{}}),a.a.forIn(u.a,(function(e,n){var r=n.match(v);if(r&&r.length>=3){var a=r[1],o=r[2];t._bongoTheme[a][o]=e,t._supportedKeys[a][o]=!0}})),a.a.forIn(d.a,(function(e,n){var r=n.match(v);if(r&&r.length>=3){var a=r[1],o=r[2];t._whiteTheme[a][o]=e}}))}var t,n,r;return t=e,(n=[{key:"applyTheme",value:function(e){var t=null;switch(e){case c.c:var n=a.a.merge({},this._bongoTheme,this._whiteTheme);this._currentDefaultTheme=n,t=this.processTheme(n);break;case c.b:default:this._currentDefaultTheme=this._bongoTheme,t=this.processTheme(this._bongoTheme)}t&&this.injectCssVariables(t,"default"),this._currentCustomTheme&&(t=this.processTheme(this._currentCustomTheme),this.injectCssVariables(t))}},{key:"processLaunchpointSettings",value:function(e){var t;return e?(m(t={},i.e.VIEW,e[i.e.VIEW]),m(t,i.e.CONTEXT,a.a.mapKeys(e[i.e.CONTEXT],(function(e,t){return i.c[t]||t}))),m(t,i.e.PARAMS,a.a.mapKeys(e[i.e.PARAMS],(function(e,t){return i.f[t]||t}))),t):{}}},{key:"processCustomizationCapabilities",value:function(e){return e||{}}},{key:"getNormalizedColor",value:function(e,t){var n={rgb:null,opacity:null};e.style.backgroundColor=t;var r=window.getComputedStyle(e).backgroundColor;if(r){var o=r.match(y);o&&(n.rgb=a.a.join([o[1],o[2],o[3]],", "),o[4]&&(n.opacity=o[4]))}return n}},{key:"updateThemeColor",value:function(e,t,n){var r=n.rgb,a=n.opacity;if(r){var o="".concat(t,"-color");e.colors[o]=r,a&&(e.colors["".concat(o,"--opacity")]=a)}}},{key:"processTheme",value:function(e){var t=this,n=(new Date).getTime(),r=this._currentDefaultTheme,o={colors:{},typography:{},assets:{}};if(!e||a.a.isEmpty(e))return o;if(e.error)b.warn("There was an issue parsing the theme provided: ".concat(e.errorMessage));else{b.debug("Attempting to process theme definition:",JSON.stringify(e));var i=document.createElement("div");document.body.appendChild(i);var c=a.a.keys(e.palette),s=a.a.pickBy(r.colors,(function(e){var t=e.match(new RegExp("^palette\\[(".concat(c.join("|"),")\\]$")));return t&&t.length>0})),u=a.a.merge({},s,e.colors);a.a.forEach(u,(function(n,c){if(t._supportedKeys.colors[c]){if(n){var s=n,u=s.match(h);if(u&&u.length>=2){var l=u[1];null===(s=a.a.get(e.palette,l,null))?(b.debug("Palette color referenced by ".concat(c," (palette[").concat(l,"]) is not defined in supplied theme, falling back to default theme palette color...")),null===(s=a.a.get(r.palette,l,null))&&(b.debug("Palette color referenced by ".concat(c," (palette[").concat(l,"]) is not defined in default theme... using fallback value (").concat("#000000",").")),s="#000000")):b.debug("Using palette color for ".concat(c," :: palette[").concat(l,"]:").concat(s))}var d=t.getNormalizedColor(i,s);t.updateThemeColor(o,c,d)}}else b.warn('Ignoring unsupported theme key: colors["'.concat(c,'"]'))})),document.body.removeChild(i),a.a.forEach(e.typography,(function(e,n){t._supportedKeys.typography[n]?e&&(o.typography[n]=e):b.warn('Ignoring unsupported theme key: typography["'.concat(n,'"]'))})),a.a.forEach(e.assets,(function(e,t){e&&(o.assets[t]=e)}));var l=(new Date).getTime()-n;b.debug("Processed theme definition (".concat(l,"ms):"),o)}return o}},{key:"processCustomizationPreferences",value:function(e){if(!e)return o.a;var t=(new Date).getTime(),n=a.a.merge({},o.a,e),r=n.theme;if(!a.a.isEmpty(r)){this._currentCustomTheme=r;var i=this.processTheme(r);this.injectCssVariables(i),n.theme=i;var c=(new Date).getTime()-t;b.debug("Processed preferences (".concat(c,"ms):"),n)}return n}},{key:"processCustomizationSettings",value:function(e){if(this._currentCustomTheme=null,e){var t=e.capabilities,n=e.preferences;return{capabilities:this.processCustomizationCapabilities(t),preferences:this.processCustomizationPreferences(n)}}return{}}},{key:"injectCssVariables",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom",n="theme-variables--".concat(t),r=document.getElementById(n);if(r&&r.parentElement&&r.parentElement.removeChild(r),e){var o=e.assets,i=e.colors,c=e.typography,s=document.createElement("style");s.id=n,s.type="text/css",s.innerHTML="",o&&a.a.forEach(o,(function(e){s.innerHTML+="@import url(".concat(e,");\n")})),s.innerHTML+=":root {\n",i&&a.a.forEach(i,(function(e,n){s.innerHTML+="  --bongo-".concat(n,"__").concat(t,": ").concat(e,";\n")})),c&&a.a.forEach(c,(function(e,n){s.innerHTML+="  --bongo-".concat(n,"__").concat(t,": ").concat(e,";\n")})),s.innerHTML+="}\n",document.head.appendChild(s)}}},{key:"getPreferenceByKey",value:function(e,t){try{var n=e[t];if(a.a.isObject(n))return n}catch(r){b.trace('Unable to get key of "'.concat(t,'" from preferences'),r)}return o.a[t]}},{key:"isPreferenceVisible",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var n=e.visible;if(a.a.isBoolean(n))return n}catch(r){b.trace('Unable to check visibility of preference "'.concat(JSON.stringify(e),'"'),r)}return t}}])&&p(t.prototype,n),r&&p(t,r),e}();t.a=new g},G57k:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("/MKj"),s=n("Ty5D"),u=n("vRGJ"),l=n.n(u),d=n("PWzU"),f=n("UyA7"),p=n("9mqd"),m=n("VmXB");function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return r=this,o=(e=v(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==b(o)&&"function"!==typeof o?g(r):o,E(g(g(n)),"getRedirect",(function(){var e=n.props,t=e.match,r=e.classId,o=e.termClass,i=e.destinationPath,c=null;for(var u in m.a)if(m.a.hasOwnProperty(u)&&t.path===m.a[u]){c=u;break}if(c||i){var d=i||m.b[u],f=l.a.compile(d),b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}({},t.params);if(r?b.classId=r.toString():o&&(b.classId=o.dbId.toString()),!b.classId)return null;var y=f(b)+n.props.location.search;return p.a.pageView(y),a.a.createElement(s.a,{from:m.a[u],to:y})}return null})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.termClass,n=e.classId,r=e.match.params.activityId;t||!r||n||d.a.getClassDataFromActivityId(+r)}},{key:"render",value:function(){var e=this.props,t=e.termClass,n=e.classId;return t||n?a.a.createElement("span",null,this.getRedirect()):null}}])&&y(n.prototype,r),o&&y(n,o),t}(r.Component);w.propTypes={classId:i.a.number,destinationPath:i.a.string};t.a=Object(s.k)(Object(c.b)((function(e){return{termClass:f.m(e)}}))(w))},"GAH+":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("7dPE"),s=n("J3bt"),u=n("/MKj"),l=n("UyA7"),d=n("MOhp"),f=n("Dl6w"),p=n("G19t");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=y(t).call(this,e),n=!a||"object"!==m(a)&&"function"!==typeof a?h(r):a,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(h(h(n)),"onThemeChange",(function(e){var t=n.props.dispatch,r=f.a.find((function(t){return t.value===e}));n.setState({selectedTheme:r}),t(d.D(r)),p.a.applyTheme(r)}));var o=e.theme?e.theme:f.b.value;return n.state={selectedTheme:o},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.onHide,r=this.state.selectedTheme;return a.a.createElement(c.a,{"aria-describedby":"theme-dialog",actions:t,id:"theme-dialog",title:"Theme",onHide:n},a.a.createElement("div",null,a.a.createElement(s.b,{className:"grade-type-selectfield",label:"Theme",ariaLabel:"Theme",id:"theme-select",onChange:this.onThemeChange,value:r.value,menuItems:f.a})))}}])&&b(n.prototype,r),o&&b(n,o),t}(r.Component);g.propTypes={actions:i.a.any,onHide:i.a.func.isRequired};t.a=Object(u.b)((function(e){return{theme:l.n(e)}}))(g)},GIPs:function(e,t,n){},Ga2B:function(e,t,n){e.exports=n.p+"static/media/Firefox_icon.edf69d10.svg"},GhmD:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAAWRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBJbWFnZVJlYWR5PC94bXA6Q3JlYXRvclRvb2w+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpqMDBXAAAJSElEQVR4Ae1Za2wU1xU+987s7syubSDlFQGpICRSIxVUSGhBfVBK7bDGGEgANW1pUtKg0Idof/QlFVD6o1GiVlGr/iBtkqaiSYRLANusCYSCokRpA41aohYpgVQqj6ak4eXHPmbnnn5nbCe2s+tdL8Z2lLnSeD33ce453z2ve4YobCECIQIhAiECIQIhAiECIQIhAiECH0YE1KgK3dASTygz2+T4RrbsGmKjlDGXteZ/xbjzzQttX7lyrfkbFQASdS1zjUXribgezyzSkQgp3S0rGyLjeUTqNBP9ydLqmc7Wvx4m2oaB4W8jCkB1Q8vEPNNPiOle0tE4mTzk9yEVRO3XwJYAom2AkWe8HTLs/zSTanyh37RheBkxACJ1u+ZFItEnWEXnkMlC5oFCF5MGLFoRAGEyivyHuuKZB6hpraA2LG1EAHDq9nxG2XYTKWsKmVxljCuwqqOk8t6TXWRtpLYkULz61mN4V0+oGIVY8tmblWU9BZWuXHghLhrjZ4nt6NdclfsFeobl8ConsiwVc7WZD0YWMvuzNZPLmtoVWf9UrF7uTCX/TmuatNsRfZ5sZ7EwPzxNNMFGwMh9PZNa+cTV0hw6APOPReKTz97NWm+C75oL+wQNISM23fNrvByc20tKqZNM1je6HV0xVmW5rOtpgW8o4R+UhcnmnLKc27qaa8/1Lq3kVyiV3Zza5pn2+I6nIPRmLJoKwVQgHPd4895fuC2Etpmw+fkkfQObeHhxbBrbsw+Hxu14LuLJYKqFdTZZ0Z5VhcBAn+VUk5/x82888/xA8kN57wP94Muc+tZZmk0LW7FbsPHgk4uNBqFNPHruv9DhQ0z6oLbUcZ23TjsRL5PXxsp4keuwzy0QcQkUqoFUZHY3yAMcv2gB+2ftWGJu++6l7xTbslR/WQBMWrOzqqPDOUB2dGHFtgwPjgTnPJN6xM57j3UcWH0+YG5ZqiZm+VMsj6q1rXLM6n+dqfq3grHa5xJuNHMPsf4h7H4a+QMiiBYw8+vSqRU7SwlabLwsAJzk3q2wt20VnzzUmX3vAJzlpmzbqlOxZbtvVKTvUspaCtd+E056PLFy5UjhEJD+6lNMvJ919vfZ1jvfcBqaZyqffguzWPLeAYB12yHlpR/vamvcUEzAUv0lAXBr98ygiH4VjE2E2pai9/5xsWXf25FOZDbQmxc5PmXqFtbWt6DaEFrMXx6xc3nAjjhEMRUlWaB3icn8MiPJz9vkOgn3j8qK1QVr/ByUKXKF2DsCDViFBUJgyA27lGg23YkEZOJ7yJeY33cYas9+ri2TyG6ozrg13hTnD/AhtUEyZAr5EcggYARAw3kqPV7p2BankxbEEvquy0Z/1aXsdoy/qCx9RPl8rtPS0JjKhBdWS2pAPLn3IOvo0iFncIGT4jPE1sI00duO8vbAjG6vyIwsBzJnD0ETGpAGgxxRTd3+6/yIN8P4pkqJ78h7/0m33XFGxobSBgVg/MrD47O5K68hLE0P1G4olCVt9TMbu9pWPQoQt7HlbK1I+N49rRhYyD6mSf8Zx7aOmedgaBIeyBCYzwX8+5oh/XSW1dNIlcu6Sg8KQKxu72yE6r/BLhPlX16EJRtK6Z3oSuTmx9LudCjoMWwk9/1ecSr7Fa0S/xDILLmHCB4Ijy7s0DvO3nFmszmzr/FwqY0GvQtohyV/HRSkghsANYSz34m6asP3Kx29euFlI3GYBqUCuVAFYIrw0vAr7zIWpNzWHKUizW793tXd48X/FhZu6c5x8YizCLl9LST5NpYD+jJbcEKcM2x9PJu3z7p29h84tY8O2YTK3K7oNNEGoou+7y/O7W88Xmxefw1AicpNtnzPjbnH2LJSSGcl5S1PeNkQdopmANqL2dTRk46VvRXC3zDiwgsXoi3anqA1PUjbcJRF2rsDEu9dQ/uQbPwcWj87qNYMzLwKEZETD/J2Pokb2gOK8gvSiWytlLCUNrcBxMJaVojWcPeBf6X0F+OvNM8rRjoAYMKag+PIVk2I94sDTy3oldMkFSW6BLv7Uboz/YnMvhXIGPUZN+2ucJbt2YLsbn1gl+XQuiZz4Bt0xIZ3uL0Y+SARynalv4+08pOUL5ScFFkK4RWbE3A+67tSK4/F63fP5/rW75q8SeKWN0HZQe7frYpFSIxMNxJGIgmZBZsdr9t1PWLqfe+7aBSc3tMpxUo2p3zLX5Ftbjzp1jf/ADe7LbA5FDrFS+MhecZAQ6gEANXFONFkR3BikSHk+SDH7Gn27xfhneTubTCdB9EZD0LQ1cb6YpxW2g9+YAg3ISSuqap9dvJAMspN7j0KT31rd1wdOFzgPbjc5HamU43r3Po9i3AlOwLhI2WvL0DymncFlysJZnwazv1X6elvPUKPbgxUVJxg+cILp8ZnJDePy7+4p38Haj+2hQ/47EmSmGegkvSQe2bqk7RwJ67f8JHdqaX8W0YTJNk/b3HuKC3bUYOXT4+uly+D575TJLpJNct2v+ROcLbIkMYHh9NBHt13YrH/u7Or01eeW3uhSsenYdpH4A+KzR67/VJeV/RNp37XLBypeTgoPpTFLmqgxJdkqvHtKsRBxLoPYINjxF2hWrO9XmsVbUJV5Z3gJlVSFgkpKhBaK9MJGAcU6UoSGDsTEKqhu5u0FCDZ8K+DMnVJ9oKYOpHu2x5RtoWipmov23xK0h7pCRBf6UkSBShTNe5hZIEv9VxminMCJ2IU3+D8e/K09pblKEXz6+VpTnGSozrCJh8AQE2f72DKfxnFy6NSaS1aApCsSsVg++qzmCPub98HFgDJZolb+93UpM6Ws3M/g53fjexOKpqYgxj6bk0EIksilE+/kO6q+YIbvXw9LlGvAgRkkmVeoEb1yPtsriy2lLekHwC9w+7y3QvwGXYtXP0inPYEAALJ+zVm7d+Tbl31ipNsuVdp+zfBJ7Cxlgb3Y7nPS5DNZv+S5ujnCgLQZyoRiiTkpPsDcDmjyZqY7/1GL1dffM7bCvVAXiEZZv/p/eiN9gtusUx+BwSvTbc2vFwagDIZji9vSaIO+GNkCJ/CBwsUBaVoKeYzRlpwHxC7N68bP7cZX6jahLNhAyAQc/Fh263qmMc+12vFjUiaPoZkE05j9DUCn+pPsFLb7bS3o/3QakSwsIUIhAiECIQIhAiECIQIhAiECIQIhAh8iBH4P16ShTKacXylAAAAAElFTkSuQmCC"},GkKD:function(e,t,n){"use strict";t.a={CAMERA:"CAMERA",MICROPHONE:"MICROPHONE",DESKTOP:"DESKTOP"}},Goub:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("xrVw"),i=n("17x9"),c=n.n(i),s=n("LvDl"),u=n.n(s),l=n("TSYQ"),d=n.n(l);n("y54d");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){return u.a.pick(e,Object.keys(b.componentProps))}var b=function(e){return a.a.createElement(o.K,p({},m(e),{className:d()("list-subheader",e.className)}),e.children)};b.componentProps={className:c.a.string,primary:c.a.bool,primaryText:c.a.node},b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},b.passThroughProps),b.defaultProps={primaryText:"",primary:!1},t.a=b},Gxhl:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("ZD0w"),u=n("kbsL"),l=n("TSYQ"),d=n.n(l),f=n("LvDl"),p=n.n(f);n("gnXi");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={hasMessage:!1},S=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=h(t).call(this,e),n=!a||"object"!==m(a)&&"function"!==typeof a?E(r):a,w(E(E(n)),"getComponentProps",(function(e){return p.a.pick(e,Object.keys(t.componentProps))})),w(E(E(n)),"onClose",(function(){n.setState({hasMessage:!1}),n.props.onClose&&n.props.onClose()})),n.state=y({},O,{hasMessage:Boolean(e.message)}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.message?e.message!==this.props.message&&this.setState({hasMessage:!0}):this.setState({hasMessage:!1})}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.contentClassName,r=e.className,o=e.dialogClassName,i=e.message,s=e.ariaLabel;if(this.state.hasMessage){var l=s;l||(l=t._("Message Dialog"));var f=[a.a.createElement(u.b,{id:"button-dialog-simple-message-ok","aria-label":t._("OK"),onClick:this.onClose},t._("OK"))];return a.a.createElement(c.n,b({},this.getComponentProps(this.props),{className:d()("dialog-overlay",r),dialogClassName:d()("dialog",o),contentClassName:d()("dialog-content",n),actions:f,portal:!0,lastChild:!0,disableScrollLocking:!0,renderNode:document.body,"aria-label":l}),a.a.createElement("div",{className:"simple-dialog-message-container"},i))}return null}}])&&v(n.prototype,r),o&&v(n,o),t}(r.Component);S.componentProps={actions:i.a.array,ariaLabel:i.a.string,autosizeContent:i.a.bool,className:i.a.string,containFocus:i.a.bool,contentClassName:i.a.string,contentStyle:i.a.any,dialogClassName:i.a.string,dialogStyle:i.a.any,fullPage:i.a.bool,height:i.a.oneOfType([i.a.string,i.a.number]),id:i.a.string.isRequired,modal:i.a.bool,style:i.a.any,visible:i.a.bool.isRequired,width:i.a.oneOfType([i.a.string,i.a.number]),paddedContent:i.a.bool},S.propTypes=y({},S.componentProps,{onClose:i.a.func,message:i.a.any,isConfirmation:i.a.bool}),S.defaultProps={modal:!0,visible:!0,message:""},t.a=Object(s.withI18n)()(S)},"H+UZ":function(e,t,n){},H3v6:function(e,t,n){},H9kt:function(e,t,n){"use strict";var r=n("ZD0w");t.a={AUTO_ANALYSIS_RESTRICTED:Object(r.i18nMark)("Auto Analysis\u2122 report only available in Premium version"),AUTO_ANALYSIS_CONFIG_OPTION_NOT_EDITABLE:Object(r.i18nMark)("Option cannot be changed when using the Auto Analysis\u2122 evaluation type"),FREEMIUM_CONFIG_OPTION:Object(r.i18nMark)("Option only available in Premium version"),FREEMIUM_CONFIG_NOT_EDITABLE_OPTION:Object(r.i18nMark)("Option can only be changed in Premium version"),COMMENT_DELETED:Object(r.i18nMark)("(Comment Deleted)"),RECORDING_NOT_SUPPORTED:Object(r.i18nMark)("Recording video is not supported by your browser.")}},HCbP:function(e,t,n){"use strict";var r=n("wNa6"),a=n("UyA7"),o=n("MSUi"),i=n("G4qV"),c=n("LvDl"),s=n.n(c),u=n("upk1"),l=Object(i.a)(u.a,(function(e){return e.history})),d=Object(i.a)(l,(function(e){return e.locations})),f=(Object(i.a)(d,(function(e){return s.a.isEmpty(e)?null:e[0]})),n("o41Y")),p=n("7n1V"),m=n("cMfo"),b=n("bjo3"),y=n("csv8"),v=n("BulX"),h=n("L2DV"),g=n("N90w"),E=n("HNnK"),w=n("Ty5D");function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"findMostRecentMatchingLocation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includes:[],excludes:[]};if(!e||e.length<1)return null;for(var n=0;n<e.length;n++){var r=e[n],a=t.includes,o=t.excludes;if((s.a.isEmpty(o)||!this.doesPathnameMatchRoute(r.pathname,o))&&(s.a.isEmpty(a)||this.doesPathnameMatchRoute(r.pathname,a)))return r}return null}},{key:"doesPathnameMatchRoute",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0;n<t.length;n++){var r=t[n],a=Object(w.g)(e,{path:r,exact:!0});if(a)return!0}return!1}}])&&O(t.prototype,n),r&&O(t,r),e}()),C=n("hIiU"),_=n("IF/7"),I=n("H9kt");function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"isHelpVisible",value:function(){var e=P(r.a).institution;return!e||!f.i(e)}},{key:"isEducatorGlobalNavVisible",value:function(){var e=P(r.a),t=e.institution,n=e.ltiScope,a=e.isNavigationMenuVisible;if(t)if(f.b(t)){if(n===m.a.D2L_MEETING_LIST||n===m.a.D2L_ACTIVITY_ADD_SCOPE)return!1}else if(f.i(t))return!1;return a}},{key:"isStudentGlobalNavVisible",value:function(){var e=P(r.a),t=e.institution,n=e.isNavigationMenuVisible;return(!t||!f.b(t)&&!f.i(t))&&n}},{key:"isDeleteAssignmentActionVisible",value:function(){var e=P(r.a).institution;return!e||!f.i(e)}},{key:"isLMSSyncOptionVisible",value:function(){var e=P(r.a).institution;return!e||!(f.b(e)||f.i(e)||f.a(e))}},{key:"isStudentAssignmentNavigationVisible",value:function(){var e=P(r.a),t=e.institution,n=e.isDeepLinkingEnabled,a=e.isNavigationMenuVisible;return!n&&(!t||!f.i(t))&&a}},{key:"isStudentMeetingNavigationVisible",value:function(){return!0}},{key:"isEducatorAssignmentNavigationVisible",value:function(){var e=P(r.a),t=e.institution,n=e.isNavigationMenuVisible;return(!t||!f.i(t))&&n}},{key:"isEducatorMeetingNavigationVisible",value:function(){var e=P(r.a),t=e.institution,n=e.ltiScope;if(t)if(f.b(t)){if(n===m.a.ASSIGNMENT||n===m.a.D2L_ASSIGNMENT_LIST)return!1}else if(f.i(t))return!1;return!0}},{key:"isEducatorRubricNavigationVisible",value:function(){var e=P(r.a).institution;return!e||!f.i(e)}},{key:"isSettingsNavigationVisible",value:function(){var e=P(r.a).institution;return!(!e||!f.a(e))}},{key:"isTemplateSettingsNavigationVisible",value:function(){var e=P(r.a),t=e.termClass,n=e.currentUser,a=!1;return t&&t.students&&t.students.length&&t.students.forEach((function(e){_.i(e)||(a=!0)})),!(!_.b(n)||a)}},{key:"isSupportNavigationVisible",value:function(){var e=P(r.a).institution;return!e||!(f.b(e)||f.i(e)||f.a(e))}},{key:"isNotificationsNavigationVisible",value:function(){var e=P(r.a).institution;return!(!e||!f.a(e))}},{key:"isDueDateVisible",value:function(){var e=P(r.a).institution;return!e||!f.i(e)&&!f.a(e)}},{key:"isAssignmentNameVisible",value:function(){var e=P(r.a).institution;return!e||!f.i(e)}},{key:"isPageTitleVisible",value:function(){var e=P(r.a).institution;return!e||!f.i(e)}},{key:"isPremiumUpgradeMessageVisible",value:function(){return P(r.a).isTopHatFreemium}},{key:"showPoweredByBongoLogo",value:function(){var e=P(r.a).institution;return!(!e||!(f.b(e)||f.i(e)||f.a(e)))}},{key:"showPoweredByBongoTextLogo",value:function(){var e=P(r.a).institution;return!(!e||!f.h(e))}},{key:"isEducatorLibraryAvailable",value:function(){var e=P(r.a).institution;return!e||!f.i(e)}},{key:"shouldNavToGradebookAfterConfigChange",value:function(){var e=P(r.a).institution;return!(!e||!f.i(e))}},{key:"getNavigationPathAfterConfiguration",value:function(){if(this.shouldNavToGradebookAfterConfigChange())return v.d.EDUCATOR_ACTIVITY_OVERVIEW;var e=P(r.a).locations,t=[v.d.EDUCATOR_ACTIVITY_OVERVIEW,v.d.EDUCATOR_ACTIVITY_STUDENT_DETAILS,v.d.EDUCATOR_ACTIVITY_LIST],n=S.findMostRecentMatchingLocation(e,{includes:t});return n?n.pathname:v.d.EDUCATOR_ACTIVITY_OVERVIEW}},{key:"isInclassEnabled",value:function(){var e=P(r.a).institution;return!!(e&&e.featureToggles&&e.featureToggles.allowedActivitiesTypes)&&-1!==e.featureToggles.allowedActivitiesTypes.indexOf(p.b.IN_CLASSROOM)}},{key:"isGroupAssignmentEnabled",value:function(){return!this._isFreemium()}},{key:"isQuestionAndAnswerAssignmentEnabled",value:function(){return!this._isFreemium()}},{key:"isInteractiveVideoAssignmentEnabled",value:function(){return!this._isFreemium()}},{key:"isWebcamRecordingSelectionEnabled",value:function(){return!this._isFreemium()}},{key:"isDesktopRecordingSelectionEnabled",value:function(){return!this._isFreemium()}},{key:"isRubricEnabled",value:function(){return!this._isFreemium()}},{key:"isPeerReviewEnabled",value:function(){return!P(r.a).isTopHatFreemium}},{key:"isPeerReviewDueDateEnabled",value:function(){var e=P(r.a).institution;return!e||!f.i(e)}},{key:"isDocumentUploadEnabled",value:function(){return!P(r.a).isTopHatFreemium}},{key:"isMeetingEnabled",value:function(){return!P(r.a).isTopHatFreemium}},{key:"isDeepLinkingEnabled",value:function(){var e=P(r.a).termClass;return e&&e.isDeepLinkingEnabled}},{key:"isReflectionQuestionsAllowed",value:function(){var e=P(r.a).institution;return!!(e&&e.featureToggles&&Boolean(e.featureToggles[b.b]))}},{key:"canCreateOldActivities",value:function(){var e=P(r.a),t=e.institution,n=e.currentUser;return!!(t&&n&&f.a(t)&&_.h(n))}},{key:"isViewInstructionsLinkAllowed",value:function(){var e=P(r.a).institution;return!(!e||!f.a(e))}},{key:"isHamburgerMenuAllowed",value:function(){var e=P(r.a),t=e.institution,n=e.trialExpirationDate,a=e.currentUser,o=e.ltiScope,i=e.isNavigationMenuVisible;if(C.a.isTrialExpired(n))return!1;if(f.a(t)){if(_.c(a)&&o!==m.a.CENGAGE_EDUCATOR_DOCK)return!1;if(_.g(a)&&o!==m.a.CENGAGE_STUDENT_DOCK)return!1}return i}},{key:"isCopyAssignmentFromTermClasAllowed",value:function(){var e=P(r.a),t=e.institution,n=e.currentUser;return!!(t&&n&&_.h(n)&&f.a(t))}},{key:"getDefaultPeerReviewType",value:function(){var e=P(r.a),t=e.institution,n=e.isD2LFreemium;return t&&f.b(t)&&n?h.a.STUDENT:h.a.SYSTEM}},{key:"isDraftGradingAllowed",value:function(){var e=P(r.a).institution;return!!(e&&e.featureToggles&&Boolean(e.featureToggles.gradeDraftsFeatureAllowed))}},{key:"isGradedPeerReviewAllowed",value:function(){var e=P(r.a).institution;return!!this.isDraftGradingAllowed()&&!!(e&&e.featureToggles&&Boolean(e.featureToggles[y.a]))}},{key:"_isFreemium",value:function(){var e=P(r.a),t=e.isD2LFreemium,n=e.isTopHatFreemium;return t||n}},{key:"isAutoGradingAllowed",value:function(){var e=P(r.a).institution;return!!(e&&e.featureToggles&&Boolean(e.featureToggles[g.b.AUTO_GRADING]))}},{key:"isAutoGradingVisible",value:function(){var e=P(r.a).currentUser;return!!this.isAutoGradingAllowed()&&(!this._isFreemium()||!_.g(e))}},{key:"isAutoGradingRestricted",value:function(){return!(this.isAutoGradingVisible()&&!this._isFreemium())}},{key:"getAutoGradingRestrictedMessage",value:function(){return this.isAutoAnalysisRestricted()&&this._isFreemium()?I.a.AUTO_ANALYSIS_RESTRICTED:""}},{key:"isAutoAnalysisVisible",value:function(){var e=P(r.a).currentUser;return!this._isFreemium()||!_.g(e)}},{key:"isAutoAnalysisRestricted",value:function(){return!(this.isAutoAnalysisVisible()&&!this._isFreemium())}},{key:"getAutoAnalysisRestrictedMessage",value:function(){return this.isAutoAnalysisRestricted()&&this._isFreemium()?I.a.AUTO_ANALYSIS_RESTRICTED:""}},{key:"getAutoAnalysisPermission",value:function(){return{isVisible:this.isAutoAnalysisVisible(),isRestricted:this.isAutoAnalysisRestricted(),restrictedMessage:this.getAutoAnalysisRestrictedMessage()}}},{key:"isMeetingDownloadAllowed",value:function(){var e=P(r.a).institution;return!f.d(e)}},{key:"isMeetingCohortingAllowed",value:function(){var e=P(r.a).institution;return f.d(e)}},{key:"isResetSubmissionVisible",value:function(){return!0}},{key:"isMeetingAttendanceAllowed",value:function(){return!this._isFreemium()}}])&&T(t.prototype,n),a&&T(t,a),e}(),P=function(e){var t=e.getState();return{ltiScope:a.l(t),featureConfig:a.d(t),institution:a.i(t),isD2LFreemium:a.u(t),isTopHatFreemium:a.A(t),trialExpirationDate:a.s(t),termClass:a.m(t),isDeepLinkingEnabled:a.x(t),currentUser:E.h(t),isNavigationMenuVisible:o.i(t),locations:d(t)}};t.a=new R},HNnK:function(e,t,n){"use strict";n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"j",(function(){return v})),n.d(t,"g",(function(){return h}));var r=n("G4qV"),a=n("upk1"),o=n("LvDl"),i=n.n(o),c=Object(r.a)(a.a,(function(e){return e.auth})),s=Object(r.a)(c,(function(e){return e.userData})),u=(Object(r.a)(c,(function(e){return e.hasError})),Object(r.a)(c,(function(e){return e.isLoading}))),l=Object(r.a)(s,(function(e){return e?e.dbId:void 0})),d=(Object(r.a)(s,(function(e){return e?e.externalTrackingUuid:void 0})),Object(r.a)(s,(function(e){return e?e.isMarketingCommunicationAccepted:void 0}))),f=Object(r.a)(s,(function(e){return e?e.isGdprSubject:void 0})),p=Object(r.a)(s,(function(e){return e?e.is508on:void 0})),m=Object(r.a)(s,(function(e){return e.cengageSettings||{}})),b=Object(r.a)(m,(function(e){return e.ssoToken||null})),y=Object(r.a)(c,(function(e){return e.commentPresets})),v=Object(r.a)(c,(function(e){return e.commentPresetIsLoading})),h=Object(r.a)(s,(function(e){return i.a.get(e,"timezone")}))},HR84:function(e,t,n){e.exports={page:"b_xDN8LPEi",content:"b_d5HZovQQ",note:"b_s4ClQ3TP"}},"HUs/":function(e,t,n){e.exports={page:"b_xthWBTkf",pageContent:"b_sPUzwbdW",messageContainer:"b_xUDHlHZE"}},HVOn:function(e,t,n){},Hlv8:function(e,t,n){e.exports={"palette--primary":"#2679c7","palette--primary-contrast":"#fff","palette--secondary":"#2679c7","palette--secondary-contrast":"#fff","colors--page-loader-background":"palette[primary-contrast]","colors--page-loader-contrast":"palette[primary]","colors--page-overlay-background":"rgba(0,0,0,0.4)","colors--page-toolbar-background":"#fff","colors--page-toolbar-contrast":"#38556a","colors--page-toolbar-button-background":"rgba(0,0,0,0)","colors--page-toolbar-button-contrast":"#38556a","colors--page-toolbar-button-disabled-background":"rgba(0,0,0,0)","colors--page-toolbar-button-disabled-contrast":"#9e9e9e","colors--page-background":"#fff","colors--page-contrast":"#485054","colors--page-h1":"#485054","colors--surface-background":"#fff","colors--surface-border":"#ccc","colors--surface-border-focused":"palette[primary]","colors--surface-contrast":"#757575","colors--surface-h2":"#38556a","colors--surface-h3":"#000","colors--button-raised-base-background":"#fff","colors--button-raised-base-contrast":"#212121","colors--button-raised-primary-background":"palette[primary]","colors--button-raised-primary-contrast":"palette[primary-contrast]","colors--button-raised-secondary-background":"palette[secondary]","colors--button-raised-secondary-contrast":"palette[secondary-contrast]","colors--button-raised-disabled-background":"#e0e0e0","colors--button-raised-disabled-contrast":"#757575","colors--button-flat-base-background":"rgba(0,0,0,0)","colors--button-flat-base-contrast":"#595959","colors--button-flat-primary-background":"rgba(0,0,0,0)","colors--button-flat-primary-contrast":"palette[primary]","colors--button-flat-secondary-background":"rgba(0,0,0,0)","colors--button-flat-secondary-contrast":"palette[secondary]","colors--button-flat-disabled-background":"rgba(0,0,0,0)","colors--button-flat-disabled-contrast":"#9e9e9e","colors--selection-control-selected":"palette[secondary]","colors--selection-control-unselected":"#757575","colors--selection-control-disabled":"#9e9e9e","colors--status-info":"#1565c0","colors--status-warning":"#bf360c","colors--status-error":"#b71c1c","colors--status-success":"#6eac52","colors--status-unknown":"#485054","colors--status-restricted":"#485054","colors--status-completed":"#1d2515","colors--status-open":"#005e8a","colors--tooltip-background":"#333","colors--tooltip-contrast":"#fff","colors--tooltip-button-background":"rgba(0,0,0,0)","colors--tooltip-button-contrast":"#fff","colors--tooltip-button-disabled-background":"rgba(0,0,0,0)","colors--tooltip-button-disabled-contrast":"#9e9e9e","typography--page-font-family":'"Source Sans Pro", sans-serif',"typography--page-h1-font-size":"24px","typography--page-h1-font-weight":"normal","typography--page-h1-line-height":"40px","typography--surface-h2-font-size":"15px","typography--surface-h2-font-weight":"bold","typography--surface-h2-line-height":"18px","typography--surface-h3-font-size":"20px","typography--surface-h3-font-weight":"normal","typography--surface-h3-line-height":"28px"}},HmrS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("LvDl"),a=n.n(r);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i={RUNNING:"running",CLOSED:"closed",SUSPENDED:"suspended"},c=function(){function e(t){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(e){if(!i.destroyed){var t=new Uint8Array(e.frequencyBinCount);e.getByteFrequencyData(t);for(var n=0,r=t.length,o=0;o<r;o++)n+=t[o];var c=n/r;c/=200,a.a.isFunction(i.audioInfoHandler)&&i.audioInfoHandler(c,t),requestAnimationFrame((function(){i.checkForAudioInput(e)}))}},(r="checkForAudioInput")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.mediaStream=t,this._init()}var t,n,r;return t=e,(n=[{key:"_init",value:function(){var e=window.AudioContext||window.webkitAudioContext;if(!e)throw new Error("AudioContext is not supported in this browser");this.audioContext=new e;var t=this.audioContext.createMediaStreamSource(this.mediaStream),n=this.audioContext.createAnalyser(),r=this.audioContext.createGain();t.connect(n),n.fftSize=512,n.minDecibels=-75,n.smoothingTimeConstant=.5,n.connect(r),r.gain.value=0,r.connect(this.audioContext.destination),this.checkForAudioInput(n)}},{key:"destroy",value:function(){this.audioContext.onstatechange=null,this.audioContext.audioInfoHandler=null,this.audioContext.close(),this.destroyed=!0}},{key:"onAudioLevelInfo",value:function(e){this.audioInfoHandler=e}},{key:"resume",value:function(){this.audioContext.resume()}},{key:"onStateChange",value:function(e){e(this.audioContext.state),this.audioContext.onstatechange=function(t){e(t.target.state)}}}])&&o(t.prototype,n),r&&o(t,r),e}();t.b=c},HqXl:function(e,t,n){},"IF/7":function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return y}));var r=n("vGZo"),a=n("fpsG"),o=n("LvDl"),i=n.n(o),c=function(e){return e&&e.roles&&e.roles.includes(a.a.STUDENT)},s=function(e){return e&&e.roles&&e.roles.includes(a.a.EDUCATOR)},u=function(e){return e&&e.roles&&e.roles.includes(a.a.SUPER_EDUCATOR)},l=function(e){return e&&e.roles&&e.roles.includes(a.a.TEST_STUDENT)},d=function(e){return e&&e.roles&&e.roles.includes(a.a.CONTENT_DEVELOPER)},f=function(e){return i.a.sortBy(e,["firstName","lastName","dbId"])},p=function(e,t){return e&&t&&e.dbId===t.dbId},m=function(e,t){return c(t)&&!p(e,t)},b=function(e,t,n){return c(t)&&!p(e,t)&&i.a.find(n,{dbId:t.dbId})},y=function(e){return s(e)?r.a.EDUCATOR:c(e)?r.a.STUDENT:r.a.ANON}},"J/33":function(e,t,n){"use strict";var r=n("etP2");n.d(t,"a",(function(){return r.a}));var a=n("sjRd");n.d(t,"b",(function(){return a.a}))},J1aS:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("q1tI");n("PhW7"),n("H3v6");function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={SUCCESS:"[OneDrive iframe] File picker success",ERROR:"[OneDrive iframe] File picker error",CLOSE:"[OneDrive iframe] File picker closed",LOADED:"[OneDrive iframe] File",MOUNTED:"[OneDrive iframe] Mounted",SET_CONFIG:"[OneDrive iframe] Set config",OPEN_DIALOG:"[OneDrive iframe] Open dialog"},d=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=i(t).call(this,e),n=!o||"object"!==a(o)&&"function"!==typeof o?s(r):o,u(s(s(n)),"oneDriveLoaded",(function(){n.broadcastEvent(l.LOADED)})),u(s(s(n)),"initOneDrive",(function(){var e=document.createElement("script");e.type="text/javascript";var t=n.oneDriveLoaded;e.readyState?e.onreadystatechange=function(){"loaded"!==e.readyState&&"complete"!==e.readyState||(e.onreadystatechange=null,t())}:e.onload=function(){t()},e.src="https://js.live.net/v6.0/OneDrive.js",e.setAttribute("client-id",n.state.config.appKey),e.setAttribute("id","onedrive-js"),document.getElementsByTagName("head")[0].appendChild(e)})),n.state={isLoading:!1,hasError:!1,config:null},n}var n,r,d;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;document.addEventListener(l.SET_CONFIG,(function(t){var n=t.detail,r=n.mediaType,a=n.config;e.mediaType=r,e.setConfig(a)})),document.addEventListener(l.OPEN_DIALOG,(function(){e.openDialog()})),setTimeout((function(){e.broadcastEvent(l.MOUNTED)}),0),this.restoreConfig()}},{key:"setConfig",value:function(e){this.config=e,sessionStorage.setItem("MediaType",JSON.stringify(e)),this.setState({config:e},this.initOneDrive)}},{key:"restoreConfig",value:function(){var e=sessionStorage.getItem("MediaType");e&&this.setConfig(JSON.parse(e))}},{key:"openDialog",value:function(){window.OneDrive.open({clientId:this.config.appKey,linkType:"downloadLink",multiSelect:this.multiselect,success:this.onSuccess.bind(this),cancel:this.onCancel.bind(this),error:this.onError.bind(this)})}},{key:"broadcastEvent",value:function(e,t){var n=new CustomEvent(e,{detail:t});window.parent.document.dispatchEvent(n)}},{key:"onSuccess",value:function(e){this.broadcastEvent(l.SUCCESS,e)}},{key:"onError",value:function(e){this.broadcastEvent(l.ERROR,e)}},{key:"onCancel",value:function(){this.broadcastEvent(l.CLOSE)}},{key:"render",value:function(){return null}}])&&o(n.prototype,r),d&&o(n,d),t}(r.Component);t.b=d},J3bt:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("4XMt"),s=n("xrVw"),u=n("TSYQ"),l=n.n(u),d=n("LvDl"),f=n.n(d);n("1CkY");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return f.a.pick(e,Object.keys(w.componentProps))}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,h(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement(s.G,b({},E(this.props),{className:l()("input-select",this.props.className),disabled:!this.props.enabled,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledby}),this.props.children)}}])&&y(n.prototype,r),o&&y(n,o),t}(r.Component),O={TOP_LEFT:s.G.Positions.TOP_LEFT,TOP_RIGHT:s.G.Positions.TOP_RIGHT,BOTTOM_LEFT:s.G.Positions.BOTTOM_LEFT,BOTTOM_RIGHT:s.G.Positions.BOTTOM_RIGHT,BELOW:s.G.Positions.BELOW};w.componentProps={anchor:i.a.object,className:i.a.string,error:i.a.bool,errorText:i.a.string,fullWidth:i.a.bool,getActiveLabel:i.a.func,id:i.a.string,itemLabel:i.a.string,itemValue:i.a.string,label:i.a.string,menuItems:i.a.array,onChange:i.a.func,placeholder:i.a.string,position:i.a.string,sameWidth:i.a.bool,simplifiedMenu:i.a.bool,stripActiveItem:i.a.bool,style:i.a.object,type:i.a.string,value:i.a.any},w.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},w.componentProps,{enabled:i.a.bool,ariaLabel:i.a.string,ariaLabelledby:i.a.string,tooltip:i.a.any}),w.defaultProps={enabled:!0,fullWidth:!0,position:O.TOP_RIGHT,sameWidth:!0,simplifiedMenu:!1,stripActiveItem:!1},t.b=Object(c.c)(w)},J4l3:function(e,t,n){e.exports=n.p+"static/media/bongo.60fa7ade.svg"},J4sO:function(e,t,n){"use strict";t.a={READY:"PROCESSING_STATUS__READY",PROGRESS:"PROCESSING_STATUS__IN_PROGRESS",ERROR:"PROCESSING_STATUS__ERROR",UNREACHABLE:"PROCESSING_STATUS__UNREACHABLE"}},Jwcr:function(e,t,n){},Jxis:function(e,t,n){e.exports=n.p+"static/media/examplerubric.fe7b4107.csv"},K2Ti:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("uhBA"),a=n.n(r),o=n("8bCP"),i=n("LvDl"),c=n.n(i);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?m(e):t}function d(e,t,n){return(d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b=Object(o.c)("video-tracking"),y={PLAY:"PLAY",PAUSE:"PAUSE",SEEK:"SEEK",COMPLETE:"COMPLETE",DURATION_AVAILABLE:"DURATION_AVAILABLE"},v=null,h=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=l(this,f(t).call(this)),v?l(e,v):(v=m(m(e)),e)}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"emit",value:function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];b.debug("Emitting Event [".concat(e,"] for [").concat(n.playerId,"]: ").concat(JSON.stringify(c.a.omit(n,"playerId"))),a),d(f(t.prototype),"emit",this).call(this,e,n)}},{key:"play",value:function(e){this.emit(y.PLAY,e)}},{key:"pause",value:function(e){this.emit(y.PAUSE,e)}},{key:"seek",value:function(e){this.emit(y.SEEK,e)}},{key:"complete",value:function(e){this.emit(y.COMPLETE,e)}},{key:"durationAvailable",value:function(e){this.emit(y.DURATION_AVAILABLE,e)}},{key:"__listenToPlayerEvent",value:function(e,t,n){var r=this,a=function(r){if(r&&r.playerId===e)try{n(r)}catch(a){b.error('GlobalPlayerEventEmitter:: Handler for player(id="'.concat(e,'") event "').concat(t,'" failed with error'),a)}};return this.on(t,a),function(){r.off(t,a)}}},{key:"onPlay",value:function(e,t){return this.__listenToPlayerEvent(e,y.PLAY,t)}},{key:"onPause",value:function(e,t){return this.__listenToPlayerEvent(e,y.PAUSE,t)}},{key:"onSeek",value:function(e,t){return this.__listenToPlayerEvent(e,y.SEEK,t)}},{key:"onComplete",value:function(e,t){return this.__listenToPlayerEvent(e,y.COMPLETE,t)}},{key:"onDurationAvailable",value:function(e,t){return this.__listenToPlayerEvent(e,y.DURATION_AVAILABLE,t)}}])&&u(n.prototype,r),a&&u(n,a),t}(a.a);h.EVENTS=y},KeFY:function(e,t,n){},KhDq:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("TSYQ"),u=n.n(s),l=n("LvDl"),d=n.n(l),f=n("8For"),p=n("LFYD");n("8+7o");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y={ERROR:"error",INFO:"info",SUCCESS:"success",UNKNOWN:"unknown",WARNING:"warning",RESTRICTED:"restricted"};function v(e){return d.a.pick(e,Object.keys(h.componentProps))}var h=function(e){var t=e.i18n,n=e.ariaLabel,r=e.enableTooltip,o=e.tooltip,i=null,c=null,s=null,l=null;switch(e.type){case"error":s=t._("Error"),l=t._("Error, icon"),c="status-icon--error",i=p.a.STATUS_ERROR;break;case"info":s=t._("Info"),l=t._("Info, icon"),c="status-icon--info",i=p.a.STATUS_INFO;break;case"success":s=t._("Success"),l=t._("Success, icon"),c="status-icon--success",i=p.a.STATUS_SUCCESS;break;case"warning":s=t._("Warning"),l=t._("Warning, icon"),c="status-icon--warning",i=p.a.STATUS_WARNING;break;case"restricted":s=t._("Restricted"),l=t._("Restricted, icon"),c="status-icon--restricted",i=p.a.STATUS_RESTRICTED;break;default:s=t._("Unknown"),l=t._("Unknown, icon"),c="status-icon--unknown",i=p.a.STATUS_UNKNOWN}var m={};r&&(o&&(m=o),m.label||(m.label=s),m.style={display:"flex"},m.className=u()("status-icon-tooltip",m.className)),n&&(l=n);var y=u()("status-icon",e.className,c);return a.a.createElement(f.a,b({},v(e),{className:y,ariaLabel:l,tooltip:m}),d.a.has(e,"children")?e.children:i)};h.componentProps={className:i.a.string,iconClassName:i.a.string,primary:i.a.bool,secondary:i.a.bool,title:i.a.string,enabled:i.a.bool,ariaLabel:i.a.string,role:i.a.string},h.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}({},h.componentProps,{enableTooltip:i.a.bool,type:i.a.oneOf(Object.values(y)),tooltip:i.a.any}),h.defaultProps={enableTooltip:!0,type:"unknown"},t.b=Object(c.withI18n)()(h)},L2DV:function(e,t,n){"use strict";t.a={SYSTEM:"TYPE__SYSTEM",STUDENT:"TYPE__STUDENT"}},L9xK:function(e,t,n){},LFYD:function(e,t,n){"use strict";t.a={ACCESS_TIME:"access_time",ACCOUNT:"account_balance",ACTIVITY:"show_chart",ANNOUNCEMENT:"announcement",ASSESSMENT:"assessment",ASSIGNMENTS:"view_list",ADD:"add",ADD_CIRCLE:"add_circle",ADD_PERSON:"person_add",ADD_GROUP:"group_add",ADJUST:"adjust",ALARM_OFF:"alarm_off",APP_WINDOW:"web",ARROW_DOWN:"arrow_drop_down",ARROW_UP:"arrow_drop_up",ATTACH_FILE:"attach_file",BACK:"arrow_back",BIKING:"directions_bike",BRIGHTNESS_AUTO:"brightness_auto",CANCEL:"cancel",CHART:"show_chart",CHAT:"mode_comment",CHECK:"check",CHECK_BOX_CHECKED:"check_box",CHECK_BOX_UNCHECKED:"check_box_outline_blank",CHECK_CIRCLE:"check_circle",CHAT_ORIGINAL:"chat",CLOSE:"close",CLOSED_CAPTION:"closed_caption",COMMENT:"comment",CONFIGURE:"build",CONTENT_COPY:"content_copy",DELETE:"delete",DESCRIPTION:"description",DESKTOP:"desktop_mac",DESKTOP_WINDOWS:"desktop_windows",DONE:"done",DONE_ALL:"done_all",DOWNLOAD:"get_app",DRAG_HANDLE:"drag_handle",EDIT:"mode_edit",ERROR:"error",EVENT:"event",EXIT:"exit_to_app",EXPAND:"expand_more",FAST_FORWARD:"fast_forward",FAST_REWIND:"fast_rewind",FEEDBACK:"feedback",FORWARD:"arrow_forward",FILE:"insert_drive_file",FILE_DOWNLOAD:"file_download",FILE_UPLOAD:"file_upload",FILTER:"filter_list",FULLSCREEN:"fullscreen",FULLSCREEN_EXIT:"fullscreen_exit",GOAT:"goat",GRADE:"assignment_turned_in",GRADEBOOK:"assignment",GROUP:"group",HELP:"help",HELP_OUTLINE:"help_outline",HOT_TUB:"hot_tub",HOURGLASS_EMPTY:"hourglass_empty",INFO_OUTLINE:"info_outline",LEFT:"keyboard_arrow_left",LIBRARY:"local_library",LIBRARY_BOOKS:"library_books",LINK:"link",LIST_ADD:"playlist_add",LIST_NUMBERED:"format_list_numbered",LOCKED:"lock_outline",MENU:"menu",MERGE:"merge_type",MENU_VERT:"more_vert",MIC:"mic",MILESTONE:"room",MILESTONE_ADD:"add_location",MILESTONE_PAST_DUE:"schedule",MILESTONE_COMPLETED:"check",MILESTONE_OPEN:"radio_button_unchecked",NAVIGATE_BEFORE:"navigate_before",NOTE_ADD:"note_add",OPEN_IN_BROWSER:"open_in_browser",OPEN_IN_NEW:"open_in_new",PAUSE:"pause",PEER_REVIEW:"assignment_turned_in",PEOPLE:"people",PERSON:"person",PHONE:"phone",PHOTO:"photo",PICTURE_IN_PICTURE:"picture_in_picture",PLAY:"play_arrow",PLAY_ARROW:"play_arrow",PLAY_CIRCLE_OUTLINE:"play_circle_outline",PREVIEW:"visibility",QUESTION_ANSWER:"question_answer",RECORDING_DOT:"fiber_manual_record",REMOVE:"remove",REORDER:"reorder",REPLAY:"replay",RIGHT:"keyboard_arrow_right",RUBRIC:"grid_on",RUBRIC_INCOMPLETE_WARNING:"warning",SAVE:"save",SEARCH:"search",SETTINGS:"settings",SCHEDULE:"schedule",SEND:"send",SHORT_TEXT:"short_text",SORT:"sort",SPEAKER_NOTES:"speaker_notes",STAR:"star",STAR_EMPTY:"star_border",STAR_HALF:"star_half",STATUS_COMPLETE:"check_circle",STATUS_ERROR:"error",STATUS_INCOMPLETE:"remove_circle",STATUS_INFO:"info",STATUS_RESTRICTED:"lock",STATUS_SUCCESS:"check_circle",STATUS_UNKNOWN:"help",STATUS_WARNING:"warning",SUPPORT:"person_pin",SWAP:"swap_horiz",SWAP_VERT:"swap_vert",TASK_INCOMPLETE:"radio_button_unchecked",TASK_COMPLETE:"check",THUMB_UP:"thumb_up",TIMELAPSE:"timelapse",TIMER:"timer",UNLOCKED:"lock_open",UPDATE:"update",VIDEOCAM:"videocam",VIDEO_ADD:"video_call",VIDEO_PROCESSING:"hourglass_empty",VIDEO_READY:"check",VIDEO_WARNING:"warning",VIDEO_WITHDRAW:"remove_circle",VIEW_COLUMN:"view_column",VIEW_LIST:"view_list",VIEW_MODULE:"view_module",VOLUME_DOWN:"volume_down",VOLUME_MUTE:"volume_mute",VOLUME_OFF:"volume_off",VOLUME_UP:"volume_up",WIFI:"wifi",ZOOM_IN:"zoom_in",DATE_RANGE:"date_range",LIST:"list",COLLECTIONS_BOOKMARK:"collections_bookmark",EMAIL:"email"}},LKel:function(e,t,n){},LMP5:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"m",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return y})),n.d(t,"n",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return g}));var r=n("+Ft7");function a(e,t){return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}function o(e){return Math.floor(e.getTime()/1e3)}function i(e){var t=new Date(e.getTime());return t.setHours(0,0,0,0),t}function c(e){var t=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600);return isFinite(t)||(t=0),isFinite(n)||(n=0),isFinite(r)||(r=0),{seconds:t,minutes:n,hours:r}}function s(e){return e<10?"0"+e:""+e}function u(e,t){return e?new Intl.DateTimeFormat(t,r.a.SHORT).format(new Date(1e3*e)):null}function l(e,t,n){return e?new Intl.DateTimeFormat(n,t).format(e):null}function d(e){if(!e)return null;var t=new Date(1e3*e),n=new Date;if(t<n)return{isPastDue:!0,isToday:!1,days:null,hours:null,minutes:null,totalTimeMillis:t.getTime()-n.getTime()};var r={isPastDue:!1,isToday:i(t)===i(n),days:null,hours:null,minutes:null,totalTimeMillis:null},a=t.getTime()-n.getTime();return r.totalTimeMillis=a,a/=6e4,r.minutes=Math.floor(a%60),a/=60,r.hours=Math.floor(a%24),a/=24,r.days=Math.floor(a),r}function f(e,t,n){if(1===t)switch(e){case"d":return n._("{value} day",{value:t});case"h":return n._("{value} hour",{value:t});case"m":return n._("{value} minute",{value:t});default:return""}else switch(e){case"d":return n._("{value} days",{value:t});case"h":return n._("{value} hours",{value:t});case"m":return n._("{value} minutes",{value:t});default:return""}}function p(e,t,n){var r=f("h",e,n),a=f("m",t,n);return e>0?t>0?n._("{hoursLabel}, {minutesLabel}",{hoursLabel:r,minutesLabel:a}):n._("{hoursLabel}",{hoursLabel:r}):t>0?n._("{minutesLabel}",{minutesLabel:a}):n._("Now")}function m(e,t){if(!e)return null;if(e.isPastDue)return t._("Past due");var n=e.minutes,r=e.hours,a=e.days;return e.isToday?p(r,n,t):a>=1?function(e,t,n){var r=f("d",e,n),a=f("h",t,n);return e>0?e<7&&t>0?n._("{daysLabel}, {hoursLabel}",{daysLabel:r,hoursLabel:a}):n._("{daysLabel}",{daysLabel:r}):n._("{hoursLabel}",{hoursLabel:a})}(a,r,t):p(r,n,t)}function b(e){e<0&&(e=0);var t=c(e),n=t.hours,r=t.minutes,a=t.seconds;return r=60*n+r,a=s(a),r=s(r),"".concat(r,":").concat(a)}function y(e){e<0&&(e=0);var t=c(e),n=t.hours,r=t.minutes,a=t.seconds;return r=60*n+r,a=s(a),r=s(r),"".concat(r,":").concat(a)}var v=function(e){return new Date(1e3*e)},h=function(e){return Math.floor(e.getTime()/1e3)},g=function(e){var t=c(e),n=t.seconds,r=t.minutes,a=t.hours;return n=s(n),r=s(r+60*a),"".concat(r,":").concat(n)}},LcIb:function(e,t,n){},LlgI:function(e,t,n){},LsJI:function(e,t,n){},Luur:function(e,t,n){},"M+Ya":function(e,t,n){},MKu0:function(e,t,n){},MOhp:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return v})),n.d(t,"p",(function(){return h})),n.d(t,"u",(function(){return g})),n.d(t,"v",(function(){return E})),n.d(t,"q",(function(){return w})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return S})),n.d(t,"r",(function(){return C})),n.d(t,"y",(function(){return _})),n.d(t,"B",(function(){return I})),n.d(t,"A",(function(){return T})),n.d(t,"C",(function(){return R})),n.d(t,"D",(function(){return P})),n.d(t,"s",(function(){return A})),n.d(t,"z",(function(){return N})),n.d(t,"t",(function(){return j}));var r="[Config] Add file transfer config",a="[Config] Set file transfer config has error",o="[Config] Set file transfer config is loading",i="[Config] Add file upload config",c="[Config] Set file upload config has error",s="[Config] Set file upload config is loading",u="[Config] Reset file upload config",l="[Config] Set institution",d="[Config] Set LTI scope",f="[Config] Set term class loading",p="[Config] Set term class info",m="[Config] Set theme",b="[Config] Set loading environment configuration",y="[Config] Set environment configuration",v="[Config] Set feature configuration",h=function(e){return{type:r,payload:e}},g=function(e){return{type:a,payload:e}},E=function(e){return{type:o,payload:e}},w=function(e){return{type:i,payload:e}},O=function(e){return{type:c,payload:e}},S=function(e){return{type:s,payload:e}},C=function(){return{type:u}},_=function(e){return{type:l,payload:e}},I=function(e){return{type:d,payload:e}},T=function(e){return{type:f,payload:e}},R=function(e){return{type:p,payload:e}},P=function(e){return{type:m,payload:e}},A=function(e){return{type:y,payload:e}},N=function(e){return{type:b,payload:e}},j=function(e){return{type:v,payload:e}}},MRtt:function(e,t,n){},MSUi:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return O}));var r=n("G4qV"),a=n("upk1"),o=n("zNLh"),i=n("3fhg"),c=n("G19t"),s=n("LvDl"),u=n.n(s),l=Object(r.a)(a.a,(function(e){return e.customization})),d=Object(r.a)(l,(function(e){return e.launchpoint||{}})),f=Object(r.a)(d,(function(e){return Boolean(e)&&!u.a.isEmpty(e)})),p=Object(r.a)(d,(function(e){return u.a.get(e,i.e.VIEW)})),m=Object(r.a)(d,(function(e){return u.a.get(e,i.e.CONTEXT,{})})),b=Object(r.a)(d,(function(e){return u.a.get(e,i.e.PARAMS,{})})),y=Object(r.a)(l,(function(e){return e[o.b.CAPABILITIES]})),v=(Object(r.a)(y,(function(e){return Boolean(e)&&!u.a.isEmpty(e)})),Object(r.a)(y,(function(e){return u.a.memoize((function(t){return u.a.get(e,t)}))})),Object(r.a)(l,(function(e){return e[o.b.PREFERENCES]}))),h=Object(r.a)(v,(function(e){return u.a.memoize((function(t){return c.a.getPreferenceByKey(e,t)}))})),g=function(e,t){return h(e)(t)},E=Object(r.a)((function(e){return g(e,o.c.NAVIGATION_MENU)}),(function(e){return c.a.isPreferenceVisible(e)})),w=Object(r.a)((function(e){return g(e,o.c.NAVIGATION_ACTIVITY_LEARNER_LIST)}),(function(e){return c.a.isPreferenceVisible(e)})),O=Object(r.a)((function(e){return g(e,o.c.LOGO)}),(function(e){return c.a.isPreferenceVisible(e)}))},Md0H:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("ZD0w"),u=n("TSYQ"),l=n.n(u),d=n("LvDl"),f=n.n(d),p=n("qSfp"),m=n("LFYD"),b=n("2Gxn"),y=n("kbsL"),v=n("YSsg"),h=n("iGlQ");function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={isDialogVisible:!1},I=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=w(t).call(this,e),n=!a||"object"!==g(a)&&"function"!==typeof a?S(r):a,C(S(S(n)),"hideDialog",(function(){n.setState({isDialogVisible:!1})})),C(S(S(n)),"showDialog",(function(){n.setState({isDialogVisible:!0})})),n.state=_,n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.className,r=e.menuItems,o=this.state.isDialogVisible;return a.a.createElement(c.N,{className:n},a.a.createElement(y.d,{id:"button-table-menu-options",className:"menu-vert",ariaLabel:t._("Additional Options"),onClick:this.showDialog},m.a.MENU_VERT),o&&a.a.createElement(v.a,{id:"column-menu-dialog",contentClassName:"column-menu-dialog-content",title:t._("Select an Action"),hasCloseButton:!0,onHide:this.hideDialog,onClose:this.hideDialog,visible:o,modal:!1,portal:!0},a.a.createElement(h.b,{className:"column-menu-dialog-list",onClick:this.hideDialog},r)))}}])&&E(n.prototype,r),o&&E(n,o),t}(r.Component);I.componentProps={className:i.a.string,menuItems:i.a.array},I.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}({},I.passThroughProps);var T=Object(s.withI18n)()(I);n("i5n6");function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var P="column-menu-button",A="button-menu";function N(e){var t=e.i18n,n=e.inkContainerClassName,r=b.b(),o=e.ariaLabel;return null===o&&(o=t._("Additional Options")),r?a.a.createElement(T,e):a.a.createElement(c.C,R({},function(e){return f.a.pick(e,Object.keys(N.componentProps))}(e),{className:l()(P,e.className),inkContainerClassName:l()(p.a.INK_OVERLAY,n),menuClassName:Object(p.c)(e,A),disabled:!e.enabled,"aria-label":o}),m.a.MENU_VERT)}N.componentProps={className:i.a.string,icon:i.a.bool,inkContainerClassName:i.a.string,menuItems:i.a.array},N.propTypes={ariaLabel:i.a.string,enabled:i.a.bool},N.defaultProps={ariaLabel:null,enabled:!0,icon:!0};t.a=Object(s.withI18n)()(N)},MgaS:function(e,t,n){},MvlZ:function(e,t,n){},MzIV:function(e,t,n){"use strict";var r=n("G/cw"),a=n("q1tI"),o=n.n(a),i=n("/MKj"),c=n("17x9"),s=n.n(c),u=n("Wme0"),l=n("45tj"),d=n("LMP5");function f(e){var t=e.unixTime,n=e.locale;return t?o.a.createElement("span",null,Object(d.h)(t,Object(l.e)(n))):null}f.propTypes={unixTime:s.a.number};var p=Object(i.b)((function(e){return{locale:u.a(e)}}))(f);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return p}))},"N+US":function(e,t,n){},N90w:function(e,t,n){"use strict";var r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i}));var o=n("csv8").a,i=(a(r={},"gradeDraftsFeatureAllowed","DRAFT_GRADING"),a(r,"reflectQuestionsAllowed","REFLECTION_QUESTIONS"),a(r,o,"PEER_REVIEW_GRADING"),a(r,"showTermsAndConditions","TERMS_AND_CONDITIONS"),a(r,"userNotificationsAllowed","USER_NOTIFICATIONS"),a(r,"isAutoGradingAllowed","AUTO_GRADING"),r),c={DRAFT_GRADING:"gradeDraftsFeatureAllowed",REFLECTION_QUESTIONS:"reflectQuestionsAllowed",PEER_REVIEW_GRADING:o,TERMS_AND_CONDITIONS:"showTermsAndConditions",USER_NOTIFICATIONS:"userNotificationsAllowed",ACTIVITY_TYPES:"allowedActivitiesTypes",LEGACY_FREEMIUM:"isLegacyFreemium",AUTO_GRADING:"isAutoGradingAllowed"};t.b=c},NEnp:function(e,t,n){},NQgo:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("4XMt"),s=n("xrVw"),u=n("LvDl"),l=n.n(u);var d=function(e){return a.a.createElement(s.b,function(e){return l.a.pick(e,Object.keys(d.componentProps))}(e),e.children)};d.componentProps={className:i.a.string,style:i.a.any};var f=Object(c.c)(d),p=n("e/6q"),m=n("wNa6");n("n0/K");function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=[{backgroundColor:"#1A3264",color:"#FFF"},{backgroundColor:"#D5122C",color:"#FFF"},{backgroundColor:"#c9500a",color:"#FFF"},{backgroundColor:"#040503",color:"#FFF"},{backgroundColor:"#D1335B",color:"#FFF"},{backgroundColor:"#4d8234",color:"#FFF"},{backgroundColor:"#008198",color:"#FFF"},{backgroundColor:"#ad57a0",color:"#FFF"},{backgroundColor:"#00856f",color:"#FFF"}],v=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getAvatarStyleForName",value:function(e){var t=m.a.getState().common.avatar,n=t.currentUsers,r=t.currentInitials,a=t.currentColorIndex,o=this.getAvatarInitialsForName(e);if(n[e])return n[e];if(a>y.length-1)return m.a.dispatch(p.d()),this.getAvatarStyleForName(e);if(r[o]){var i=r[o];if(i.indexOf(a)>0){for(var c=0;c<y.length;c++)if(i.indexOf(c)<0)return m.a.dispatch(p.c(e,o,y[c],--a)),y[c];return m.a.dispatch(p.c(e,o,y[0],--a)),y[0]}return m.a.dispatch(p.c(e,o,y[a],a)),y[a]}return m.a.dispatch(p.c(e,o,y[a],a)),y[a]}},{key:"getAvatarInitialsForName",value:function(e){if(!e)return"?";var t=e.split(" ");return 1===t.length?t[0].substring(0,1):t.length>1?t[0].substring(0,1)+t[1].substring(0,1):"?"}}])&&b(t.prototype,n),r&&b(t,r),e}()),h=n("TSYQ"),g=n.n(h),E=function(e){var t=l.a.clone(e),n=t.tooltip||{};return n.label=t.value,n.distance=n.distance||10,a.a.createElement(f,{tooltip:n,className:g()("avatar",t.className),style:v.getAvatarStyleForName(t.value)},t.value?v.getAvatarInitialsForName(t.value):null)};E.propTypes={className:i.a.string,value:i.a.string};t.a=E},NVgV:function(e,t,n){},NWOK:function(e,t,n){},NXr4:function(e,t,n){},Nj73:function(e,t,n){},NlSD:function(e,t,n){"use strict";var r=n("RBRe"),a=n("h4t+"),o=a.a(),i=a.b();t.a=Object(r.a)(o,i)},"O+79":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n("lTCR"),a=n.n(r),o=n("92Bf"),i=n("mxsA");function c(){var e=u(["\n    fragment AnonymousComment on ActivityResultCommentAnonymous {\n        dbId\n        commenter {\n            ...AnonymousUser\n        }\n        submitter {\n            dbId\n            firstName\n            lastName\n        }\n        createdAt\n        updatedAt\n        commentText\n        commentMedia {\n            ...MediaBasic\n        }\n        syncTime\n        isDeleted\n    }\n    ","\n    ","\n"]);return c=function(){return e},e}function s(){var e=u(["\n    fragment Comment on ActivityResultCommentWithCommenter {\n        dbId\n        commenter {\n            dbId\n            firstName\n            lastName\n            roles\n        }\n        submitter {\n            dbId\n            firstName\n            lastName\n        }\n        createdAt\n        updatedAt\n        commentText\n        commentMedia {\n            ...MediaBasic\n        }\n        syncTime\n        isDeleted\n    }\n    ","\n"]);return s=function(){return e},e}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=a()(s(),o.b),d=a()(c(),i.a,o.b)},O7QZ:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("/W66"),s=n("Ty5D"),u=n("/MKj"),l=n("ZD0w"),d=n("hHKf"),f=n("kbsL"),p=n("giI2"),m=n("oe1p"),b=n("J/33"),y=n("xHcp"),v=n("Wtf/"),h=n("LFYD"),g=n("HCbP"),E=n("vRGJ"),w=n.n(E),O=n("VmXB"),S=n("iFdk");function C(e){return(C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}function I(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={resetDialogVisible:!1},k=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=R(t).call(this,e),n=!o||"object"!==C(o)&&"function"!==typeof o?A(r):o,N(A(A(n)),"resetSubmission",(function(){n.props.onResetSubmission?n.props.onResetSubmission():n.setState({resetDialogVisible:!0})})),N(A(A(n)),"onResetDialogSubmit",(function(){var e=n.props,t=e.activityId,r=e.onResetComplete;y.a.deleteSubmission(+t).then((function(){r&&r()}))})),N(A(A(n)),"onResetDialogCancel",(function(){n.setState({resetDialogVisible:!1})})),N(A(A(n)),"defaultRemoveSubmissionCheck",(function(){var e=n.props.result;return e&&e.deletable})),N(A(A(n)),"canRemoveSubmission",(function(){var e=n.props.canRemoveSubmission;return e?e():n.defaultRemoveSubmissionCheck()})),N(A(A(n)),"getMenuItems",(function(){var e=n.props,t=e.menuActions,r=e.hideResetSubmission,o=e.i18n,i=n.canRemoveSubmission(),s=[];return t&&(s=I(t)),!i||r||n.props.lmsLocked||(s.length>0&&s.push(a.a.createElement(c.a,{key:"menu_item_divider[reset]"})),s.push({key:"_reset",onClick:n.resetSubmission,leftIcon:a.a.createElement(p.a,{ariaLabel:o._("Reset Submission, icon")},h.a.REPLAY),primaryText:a.a.createElement(l.Trans,{id:"Reset Submission"})})),s})),N(A(A(n)),"getCompiledPath",(function(e,t){return w.a.compile(e)(t)})),N(A(A(n)),"getQuickNav",(function(){var e=n.props,t=e.activityName,r=e.assignmentName,o=e.match,i=e.i18n,c=[];return g.a.isStudentAssignmentNavigationVisible()&&(o.params.classId&&c.push(a.a.createElement(m.e,{key:"assignment-nav-item",text:i._(S.a.ASSIGNMENTS.label),to:n.getCompiledPath(O.b.STUDENT_ACTIVITY_LIST,_({},o.params))})),(t||r)&&c.push(a.a.createElement(m.e,{key:"activity-name-nav-item",text:t||r}))),a.a.createElement(m.d,{navItems:c})})),n.state=j,n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.removeSubmissionIsLoading,n=e.toolbarActions,r=e.termClass,o=e.i18n,i=this.state.resetDialogVisible,c=this.canRemoveSubmission(),s=[];return n&&(s=I(n)),a.a.createElement("div",null,a.a.createElement(b.b,{classId:r.dbId,actions:s,menuOptions:this.getMenuItems(),title:this.getQuickNav(),navigationDrawerType:m.b.STUDENT}),c&&a.a.createElement(d.a,{id:"remove-submission-dialog",title:o._("Reset Submission"),visible:i,actions:[a.a.createElement(f.b,{id:"button-reset-submission-dialog-cancel",secondary:!0,enabled:!t,onClick:this.onResetDialogCancel,ariaLabel:o._("Cancel")},a.a.createElement(l.Trans,{id:"Cancel"})),a.a.createElement(f.b,{id:"button-reset-submission-dialog-reset",primary:!0,isLoading:t,enabled:!t,onClick:this.onResetDialogSubmit,ariaLabel:o._("Reset")},a.a.createElement(l.Trans,{id:"Reset"}))]},a.a.createElement("p",null,a.a.createElement(l.Trans,{id:"Are you sure you want to reset this submission?"}))))}}])&&T(n.prototype,r),o&&T(n,o),t}(r.Component);k.propTypes={menuActions:i.a.array,toolbarActions:i.a.array,onResetSubmission:i.a.func,onResetComplete:i.a.func,canRemoveSubmission:i.a.func},k.defaultProps={menuActions:[],toolbarActions:[],hideResetSubmission:!1};t.a=Object(l.withI18n)()(Object(s.k)(Object(u.b)((function(e){return{activityId:v.getActivityId(e),lmsLocked:v.getLmsLocked(e),activityName:v.getActivityName(e),result:v.getActivityResult(e),termClass:v.getTermClass(e),removeSubmissionIsLoading:v.getRemoveSubmissionIsLoading(e)}}))(k)))},OKyo:function(e,t,n){e.exports={detailsHeader:"b_4ZguBcNx",headerInfo:"b_tDzXGQju",headerTitle:"b_l5z7WN4G",detailsContainer:"b_pCW7x4AM",activityInfo:"b_qcUfIqoG",infoItem:"b_c6Yr418m"}},OPgC:function(e,t,n){},OS3S:function(e,t,n){e.exports={container:"b_zwSGaInB",header:"b_kBL9P8Yc",headerText:"b_sidNbh4M",footer:"b_yjPQFdHt",footerText:"b_oIA3xse7",list:"b_748bpwW0",emptyList:"b_yeQW8jGP",listMessage:"b_mzHP1bQz",item:"b_jvUHmNHH",itemSelected:"b_jvl9EI5T",filterContainer:"b_5vda2i2H",filterInput:"b_bIfQAThI",filterClearIcon:"b_etMW54zx"}},OWj0:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return l}));var r="[Modal] Show modal",a="[Modal] Close modal",o="[Modal] Sow next modal",i="[Modal] Sow previous modal",c=function(e){return{type:r,payload:e}},s=function(){return{type:a}},u=function(e){return{type:o,payload:e}},l=function(e){return{type:i,payload:e}}},OZTn:function(e,t,n){},OZjV:function(e,t,n){"use strict";var r=n("LvDl"),a=n.n(r),o=n("/E09");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getRating",value:function(e){if(!a.a.isNumber(e)||a.a.isNaN(e))return null;var t=o.g.UNKNOWN;return a.a.forEach(o.h,(function(n){if(e>=n.minValue)return t=n,!1})),t}},{key:"getRatingBackgroundColorClassName",value:function(e){return"auto-analysis-score-rating-background-color--".concat(e.level)}},{key:"getRatingBackgroundColorClassNameForScore",value:function(e){var t=this.getRating(e);return this.getRatingBackgroundColorClassName(t)}},{key:"isActivityTypeSupported",value:function(e){return a.a.includes(o.j,e)}},{key:"getTranscriptText",value:function(e){if(a.a.isEmpty(e))return null;var t=a.a.reduce(e,this.transcriptEntryReducer,"");return t=a.a.trim(t)}},{key:"transcriptEntryReducer",value:function(e,t){switch(t.__typename){case o.m.MARK:return"".concat(e).concat(t.value);default:return"".concat(e," ").concat(t.value)}}},{key:"isAnalysisStatusPending",value:function(e){return a.a.includes([o.c.SUBMITTED,o.c.TRANSCRIBING,o.c.ANALYZING,o.c.REANALYZING],e)}},{key:"isAnalysisStatusNotSubmitted",value:function(e){return e===o.c.NOT_SUBMITTED}},{key:"isAnalysisStatusCompleted",value:function(e){return e===o.c.COMPLETE}},{key:"isAnalysisStatusError",value:function(e){return e===o.c.ERROR}}])&&i(t.prototype,n),r&&i(t,r),e}();t.a=new c},Ondw:function(e,t,n){"use strict";n.d(t,"s",(function(){return r})),n.d(t,"t",(function(){return a})),n.d(t,"C",(function(){return o})),n.d(t,"F",(function(){return i})),n.d(t,"x",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"y",(function(){return u})),n.d(t,"B",(function(){return l})),n.d(t,"r",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"n",(function(){return y})),n.d(t,"v",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"u",(function(){return g})),n.d(t,"m",(function(){return E})),n.d(t,"h",(function(){return w})),n.d(t,"A",(function(){return O})),n.d(t,"G",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"k",(function(){return _})),n.d(t,"c",(function(){return I})),n.d(t,"p",(function(){return T})),n.d(t,"j",(function(){return R})),n.d(t,"i",(function(){return P})),n.d(t,"w",(function(){return A})),n.d(t,"o",(function(){return N})),n.d(t,"E",(function(){return j})),n.d(t,"D",(function(){return k})),n.d(t,"q",(function(){return D})),n.d(t,"z",(function(){return L})),n.d(t,"H",(function(){return M})),n.d(t,"I",(function(){return x})),n.d(t,"ab",(function(){return F})),n.d(t,"bb",(function(){return U})),n.d(t,"kb",(function(){return V})),n.d(t,"ob",(function(){return G})),n.d(t,"gb",(function(){return q})),n.d(t,"fb",(function(){return B})),n.d(t,"M",(function(){return W})),n.d(t,"jb",(function(){return Q})),n.d(t,"Z",(function(){return Y})),n.d(t,"J",(function(){return H})),n.d(t,"O",(function(){return z})),n.d(t,"U",(function(){return K})),n.d(t,"P",(function(){return X})),n.d(t,"ib",(function(){return J})),n.d(t,"W",(function(){return Z})),n.d(t,"cb",(function(){return $})),n.d(t,"K",(function(){return ee})),n.d(t,"db",(function(){return te})),n.d(t,"V",(function(){return ne})),n.d(t,"R",(function(){return re})),n.d(t,"hb",(function(){return ae})),n.d(t,"N",(function(){return oe})),n.d(t,"T",(function(){return ie})),n.d(t,"L",(function(){return ce})),n.d(t,"Y",(function(){return se})),n.d(t,"eb",(function(){return ue})),n.d(t,"S",(function(){return le})),n.d(t,"Q",(function(){return de})),n.d(t,"X",(function(){return fe})),n.d(t,"mb",(function(){return pe})),n.d(t,"pb",(function(){return me})),n.d(t,"qb",(function(){return be})),n.d(t,"nb",(function(){return ve})),n.d(t,"lb",(function(){return he}));var r="[Educator - Activity] Set activity data",a="[Educator - Activity] Set activity data with context",o="[Activity] Set is loading",i="[Activity-Grading] Set is showing group members",c="[Activity-Grading] Set educator grade for group",s="[Activity-Grading] Convert draft to final group grade",u="[Activity-Grading] Set educator grade for student",l="[Activity-Grading] Set is grade draft allowed",d="[Activity] Set activity comment loading",f="[Activity] Add activity comment",p="[Activity] Delete activity comment",m="[Activity] Edit activity comment",b="[Activity] Delete activity result",y="[Activity] Edit group name",v="[Activity] Set comment preset loading",h="[Activity-Grading] Add comment preset",g="[Activity-Grading] Set comment presets",E="[Activity-Grading] Edit comment preset",w="[Activity-Grading] Delete comment preset",O="[Activity] Set group creation loading",S="[Activity] Set student groups",C="[Activity] Add student groups",_="[Activity] Delete student group",I="[Activity] Add students to group",T="[Activity] Remove students from group",R="[Activity] Delete QA answer loading",P="[Activity] Delete QA answer",A="[Activity] Set delete result loading",N="[Activity-Grading] Refresh feedback comments",j="[Activity-Grading] Refresh is loading",k="[Activity] Set property",D="[Activity] Reset all data",L="[Activity-Grading] Set gradebook student data",M="[Activity-Grading] Update result media",x="[Activity-Grading] Update result requiredMedia",F=function(e){return{type:r,payload:e}},U=function(e,t){return{type:a,payload:e,context:t}},V=function(e){return{type:o,payload:e}},G=function(e){return{type:i,payload:e}},q=function(e,t,n){return{type:u,payload:{activityId:e,studentId:t,grade:n}}},B=function(e,t){return{type:c,payload:{groupId:e,grade:t}}},W=function(e){return{type:s,payload:{groupId:e}}},Q=function(e){return{type:l,payload:e}},Y=function(e){return{type:d,payload:e}},H=function(e){return{type:f,payload:e}},z=function(e){return{type:p,payload:e}},K=function(e){return{type:m,payload:e}},X=function(e){return{type:b,payload:e}},J=function(e){return{type:"[Activity] Editing group name",payload:e}},Z=function(e){return{type:y,payload:e}},$=function(e){return{type:v,payload:e}},ee=function(e){return{type:h,payload:e}},te=function(e){return{type:g,payload:e}},ne=function(e){return{type:E,payload:e}},re=function(e){return{type:w,payload:e}},ae=function(e){return{type:O,payload:e}},oe=function(e){return{type:C,payload:e}},ie=function(e){return{type:_,payload:e}},ce=function(e){return{type:I,payload:e}},se=function(e){return{type:T,payload:e}},ue=function(e){return{type:R,payload:e}},le=function(e){return{type:P,payload:e}},de=function(e){return{type:A,payload:e}},fe=function(e){return{type:N,payload:e}},pe=function(e){return{type:j,payload:e}},me=function(e){return{type:M,payload:e}},be=function(e){return{type:x,payload:e}},ye=function(e,t){return{type:k,payload:{propPath:e,value:t}}},ve=function(e){return ye("activityData.dataForOneStudent.studentGroup.reviewReleasedAt",e)},he=function(e){return ye("activityData.dataForOneStudent.studentGroup.isReviewAnonymous",e)}},Onr9:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("Uu12"),s=n("qSfp"),u=n("QMWu"),l=n("TSYQ"),d=n.n(l),f=n("LvDl"),p=n.n(f);n("mFy2");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){return p.a.pick(e,Object.keys(v.componentProps))}var v=function(e){return a.a.createElement(s.b,b({},Object(c.j)(e),y(e),{className:d()(e.className),icon:!0}),e.isLoading?a.a.createElement(u.a,{id:"button-icon-progress",className:"button-icon-progress"}):e.children)};v.componentProps=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}({},s.b.propTypes),v.propTypes={className:i.a.string,children:i.a.node,enabled:i.a.bool,isLoading:i.a.bool},v.defaultProps={isLoading:!1,enabled:!0},t.a=v},Owkc:function(e,t,n){e.exports={detailsHeader:"b_d2peuQiH",headerInfo:"b_hfEw4Edk",headerTitle:"b_wgXLwJWQ",detailsContainer:"b_5Pm24Cs3",activityInfo:"b_5l9lOqKR",infoItem:"b_gxtUnAW8"}},"P/HN":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("yzbm"),u=n("kbsL"),l=n("giI2"),d=n("4XMt"),f=n("TSYQ"),p=n.n(f);n("jEQv");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,v(t).call(this,e))).state={fileName:null},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"onChange",value:function(e,t){var n=this.props.multiple,r=e.concat(t);if(0!==r.length){if(n)return this.props.onFile(e,t);if(this.setState({fileName:r[0].name}),this.props.input){var a=this.props.input.onChange;a(e[0])}else this.props.onFile&&this.props.onFile([e[0]],[t[0]])}}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.text,r=e.multiple,o=e.onFileDialog,i=e.disabled,c=e.input,d=e.showFileName,f=e.accept,m=e.inputProps,b=e.icon,y=(c&&c.value?c.value.name:null)||this.state.fileName;n||(n=t._("Add File"));var v=null;return b&&(v=a.a.createElement(l.a,null,b)),a.a.createElement(s.a,{className:p()("c-file-button",this.props.className),activeClassName:"file-button-drop-area--active",multiple:r,onClick:o,disabled:i,accept:f,inputProps:m,onDrop:this.onChange.bind(this)},a.a.createElement(u.h,{id:"button-file-upload",className:"button-file-upload",ariaLabel:n,enabled:!i},a.a.createElement(a.a.Fragment,null,v,n)),d?a.a.createElement("span",{className:"c-file-button__file-name",title:y},y||t._("No file selected")):null)}}])&&b(n.prototype,r),o&&b(n,o),t}(r.Component);g.defaultProps={multiple:!1,disabled:!1,showFileName:!0,text:null,icon:null,inputProps:{}},g.propTypes={buttonType:i.a.string,icon:i.a.any,inputProps:i.a.object,text:i.a.string,onFile:i.a.func,multiple:i.a.bool,onFileDialog:i.a.func,disabled:i.a.bool,showFileName:i.a.bool,accept:i.a.array,tooltip:i.a.any},t.a=Object(d.c)(Object(c.withI18n)()(g))},"P04+":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("/MKj"),i=n("17x9"),c=n.n(i),s=n("nbG6"),u=n("kbsL"),l=n("giI2"),d=n("s/Ur"),f=n.n(d),p=n("6ZeI"),m=n("PJr8"),b=n("Y7ox"),y=n("TSYQ"),v=n.n(y),h=n("LFYD"),g=n("Wqtl"),E=n("ZD0w"),w=(n("zUuM"),n("HCbP")),O=n("6puI"),S=n("3UYF"),C=n("v6po"),_=n("Ty5D"),I=n("HNnK");function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j=function(e){function t(e){var n,r,o,i,c,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=P(t).call(this,e),n=!o||"object"!==T(o)&&"function"!==typeof o?N(r):o,i=N(N(n)),s=function(){var e=n.props.rubric;e&&b.a.showModal(a.a.createElement(m.b,{rubric:e,mode:g.a.VIEW,onCancel:b.a.closeModal,submitting:!1,showCurrentScore:!1}))},(c="showGradingRubric")in i?Object.defineProperty(i,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[c]=s,n.state={open:!1,instructionsVisible:!0},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.title,r=e.media,o=e.rubric,i=e.text,c=e.i18n,d=e.match.params,m=d.activityId,b=d.classId,y=e.ssoToken;if(!r&&!i)return null;var g=n;g===t.defaultProps.title&&(g=c._(n));var E=[],_=a.a.createElement("p",null,i);if(w.a.isViewInstructionsLinkAllowed()){var I=O.a(i);if(I){var T=new URL(I);y&&T.searchParams.append("token",y),T=T.toString(),_=a.a.createElement(S.a,{link:T,className:"url-instructions"}),E.push(a.a.createElement(u.d,{id:"instructions-card-open-in-tab-button",key:"instructions-card-open-in-tab-button",className:"instructions-card-open-in-tab-button",onClick:function(){return window.open(T)},tooltip:{label:c._("Open instructions in new window")}},h.a.OPEN_IN_NEW))}}return o&&E.push(a.a.createElement(u.b,{id:"button-instructions-show-rubric",key:"instructions-card-show-rubric-button",className:"instructions-card-show-rubric-button",onClick:this.showGradingRubric,ariaLabel:c._("Show Rubric"),tooltip:{label:c._("Show Rubric"),position:"left"},iconBefore:!1,iconEl:a.a.createElement(l.a,null,h.a.RUBRIC),primary:!0},c._("Rubric"))),a.a.createElement("div",null,a.a.createElement(s.a,{className:v()("instructions-card",r?"has-media":null)},a.a.createElement(f.a,{query:"(min-width: 701px)"},a.a.createElement(s.c,{className:"instructions-description"},a.a.createElement("div",{className:"instructions-video"},a.a.createElement("div",{className:"video-wrap-01"},r&&a.a.createElement(p.a,{id:"instructions-media",playerId:"Instructions_player_"+r.dbId,activityId:+m,termClassId:+b,usageContext:C.a.ACTIVITY_OVERVIEW,media:r}))),a.a.createElement("div",{className:"card-contents"},a.a.createElement(s.d,{title:g,className:"instructions-title",actions:E}),a.a.createElement("div",{className:"instructions-detail-container"},_)))),a.a.createElement(f.a,{query:"(max-width: 700px)"},a.a.createElement(s.c,{className:"instructions-description"},a.a.createElement("div",{className:"instructions-video"},a.a.createElement("div",{className:"video-wrap-01"},r&&a.a.createElement(p.a,{id:"instructions-media",playerId:"Instructions_player_"+r.dbId,activityId:+m,termClassId:+b,usageContext:C.a.ACTIVITY_OVERVIEW,media:r}))),a.a.createElement("div",{className:"card-contents"},a.a.createElement(s.d,{title:g,className:"instructions-title",actions:E}),a.a.createElement("div",{className:"instructions-detail-container"},_))))))}}])&&R(n.prototype,r),o&&R(n,o),t}(r.Component);j.propTypes={title:c.a.string,media:c.a.any,text:c.a.any,rubric:c.a.object},j.defaultProps={title:Object(E.i18nMark)("Instructions")};t.a=Object(o.b)((function(e){return{ssoToken:I.f(e)}}))(Object(_.k)(Object(E.withI18n)()(j)))},P5jQ:function(e,t,n){e.exports={page:"b_xdbr2YYh",left:"b_8bCwlrMj",main:"b_y7syPSjA",center:"b_wjHrRPG2",centerContent:"b_maW9KFH7",footer:"b_uNzMKoww"}},PD9K:function(e,t,n){e.exports={manageCaptionsDialog:"b_uO7IqYXQ",manageCaptions:"b_mEO2jLcs",label:"b_5E1B5SZy",header:"b_bKvzHCLI",title:"b_1DY45Tjq",body:"b_nGLBI4ME",loadingOveralay:"b_ihIzfRFN",loadingSpinner:"b_r40SCAa2",loadingMessage:"b_mPwEzqGW",chooserActions:"b_r8GnVVBT",noCaptionsMessage:"b_xmlvbriU",chooserImportButton:"b_lRMR3Ga4",chooserEditButton:"b_lQ2F0wmd",confirmationMessage:"b_9agppKY7"}},PJr8:function(e,t,n){"use strict";var r=n("yBPd"),a=n("wpyS"),o=n("q1tI"),i=n.n(o),c=n("17x9"),s=n.n(c),u=n("ZD0w"),l=n("LvDl"),d=n.n(l);function f(e){var t=e.points,n=e.max,r=i.a.createElement("span",null,"\u2014");d.a.isNaN(parseFloat(t))||(r=i.a.createElement(u.NumberFormat,{value:t,format:{maximumFractionDigits:2}}));var a=i.a.createElement(u.NumberFormat,{value:n,format:{maximumFractionDigits:2}});return i.a.createElement("span",null,r," / ",a)}f.defaultProps={points:null},f.propTypes={points:s.a.number,max:s.a.number.isRequired};var p=f;n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return p}))},PO6j:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r);t.a=function(e){var t=e.children;return a.a.createElement("span",{role:"alert",className:"u-508-only"},t)}},PWzU:function(e,t,n){"use strict";var r=n("NlSD"),a=n("lTCR"),o=n.n(a),i=n("MOhp"),c=n("wNa6"),s=n("8bCP");function u(){var e=d(["\n    query getTermClass($classId: Int!) {\n        termClass(dbId: $classId) {\n            dbId\n            name\n            isDeepLinkingEnabled\n            integrationMode\n            students {\n                roles\n            }\n        }\n    }\n"]);return u=function(){return e},e}function l(){var e=d(["\n    query getTermClass($activityId: Int!) {\n        activity(dbId: $activityId) {\n            termClass {\n                dbId\n                name\n                isDeepLinkingEnabled\n                integrationMode\n            }\n        }\n    }\n"]);return l=function(){return e},e}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"getClassData",value:function(e){return c.a.dispatch(i.A(!0)),r.a.query({query:b,variables:{classId:e},errorPolicy:"ignore"}).then((function(e){var t=e.data.termClass;c.a.dispatch(i.A(!1)),c.a.dispatch(i.C(t))})).catch((function(e){c.a.dispatch(i.A(!1)),s.b.error("ClassService:: Failed to fetch class information",e)}))}},{key:"getClassDataFromActivityId",value:function(e){return c.a.dispatch(i.A(!0)),r.a.query({query:m,variables:{activityId:e},errorPolicy:"ignore"}).then((function(e){var t=e.data.activity.termClass;c.a.dispatch(i.A(!1)),c.a.dispatch(i.C(t))})).catch((function(e){c.a.dispatch(i.A(!1)),s.b.error("ClassService:: Failed to fetch class information",e)}))}}])&&f(t.prototype,n),a&&f(t,a),e}(),m=o()(l()),b=o()(u());t.a=new p},PXE2:function(e,t,n){"use strict";(function(e){var r=n("q1tI"),a=n.n(r),o=n("ZD0w"),i=n("wJfn"),c=n("BkCb"),s=n("kbsL"),u=n("17x9"),l=n.n(u),d=n("UyA7"),f=n("Zv/t"),p=n("DozO"),m=(n("OPgC"),n("lLLA")),b=n.n(m),y=n("/MKj"),v=n("cq5E"),h=n("Gxhl"),g=n("8bCP"),E=n("5U9+");function w(e){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var I=b.a.FineUploaderBasic,T={dialogMessage:""},R=function(t){function n(e){var t,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(a=S(n).call(this,e))||"object"!==w(a)&&"function"!==typeof a?_(r):a).state=T,t.uploadInfoAnalyzer=new v.a,t.uploadInfoAnalyzer.on(v.a.EVENTS.NEW_INFO,t.onUploadInfo.bind(_(_(t)))),t}var r,u,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,t),r=n,(u=[{key:"onUploadInfo",value:function(e){var t=e.time,n=t.seconds,r=t.minutes,a=t.hours,o=e.uploadSpeedBps,i=e.uploadedPercent,c=this.props.dispatch;c(p.A(i)),c(p.y(o)),c(p.x(n)),c(p.w(r)),c(p.r(a))}},{key:"componentDidMount",value:function(){this.getCredentials()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.props.config&&e.config&&this.initUploader(e.config)}},{key:"componentWillUnmount",value:function(){c.a.reset(),this.uploadInfoAnalyzer.pause()}},{key:"getCredentials",value:function(){c.a.getCredentials(this.props.type,this.props.activityId,this.props.questionId)}},{key:"switchToInitialState",value:function(){var e=this.props.dispatch;e(p.s(!0)),e(p.u(!1)),e(p.v(!1)),e(p.t(!1))}},{key:"switchToUploadReadyState",value:function(){var e=this.props.dispatch;e(p.s(!1)),e(p.u(!0)),e(p.v(!1)),e(p.t(!1))}},{key:"switchToUploadingState",value:function(){var e=this.props.dispatch;e(p.s(!1)),e(p.u(!1)),e(p.v(!0)),e(p.t(!1))}},{key:"switchToPausedState",value:function(){var e=this.props.dispatch;e(p.s(!1)),e(p.u(!1)),e(p.v(!1)),e(p.t(!0))}},{key:"addFiles",value:function(e){var t=this;e=e.filter((function(e){try{return t.validateFile(e)}catch(n){return g.b.warn(n),!1}})),this.uploader.addFiles(e)}},{key:"removeFile",value:function(e){this.uploader.cancel(e.id),this.props.dispatch(p.k(e)),this.checkFiles()}},{key:"startUpload",value:function(){this.uploader.uploadStoredFiles(),this.switchToUploadingState(),this.uploadInfoAnalyzer.start()}},{key:"pauseUpload",value:function(){var t=this,n=this.props.files;this.switchToPausedState(),this.uploadInfoAnalyzer.pause(),n.forEach((function(n){n.status===b.a.status.UPLOADING&&e((function(){t.uploader.pauseUpload(n.id)}))}))}},{key:"resumeUpload",value:function(){var t=this,n=this.props.files;this.switchToUploadingState(),this.uploadInfoAnalyzer.start(),n.forEach((function(n){n.status===b.a.status.PAUSED&&e((function(){t.uploader.continueUpload(n.id)}))}))}},{key:"calculateUploadedFilesCount",value:function(){var e=this.props.dispatch,t=0;this.props.files.forEach((function(e){(e.isProcessed||e.hasError)&&t++})),e(p.z(t))}},{key:"onComplete",value:function(){this.props.onComplete&&this.props.onComplete(this.props.files)}},{key:"initUploader",value:function(e){var t=e.handleUploadUrl,n=e.token,r=e.uid;this.uploader=new I({autoUpload:!1,multiple:this.props.multiSelection,callbacks:{onSubmitted:this.onAddFile.bind(this),onProgress:this.onFileProgress.bind(this),onStatusChange:this.onFileStatusChange.bind(this),onValidate:this.filePostValidate.bind(this),onTotalProgress:this.onTotalProgress.bind(this),onComplete:this.onFileUploadComplete.bind(this),onError:this.onUploaderError.bind(this)},request:{endpoint:t,filenameParam:"name",inputName:"file",params:{token:n,uid:r}},chunking:{enabled:!0,partSize:1048576,concurrent:{enabled:!0},paramNames:{partIndex:"chunk",totalParts:"chunks"}},retry:{enableAuto:!0,maxAutoAttempts:9999999},maxConnections:1})}},{key:"onAddFile",value:function(e,t){var n=this.uploader.getSize(e);this.props.dispatch(p.j({id:e,name:t,size:n,uploadingPercent:0,isProcessed:!1,hasError:!1})),this.checkFiles()}},{key:"checkUploadReady",value:function(){var e=this.props.files;if(0===e.length)return this.switchToInitialState();var t=!0;if(e.forEach((function(e){e.isProcessed||e.hasError||(t=!1)})),t)return this.onComplete();0===e.length&&(this.props.isPausedState||this.props.isUploadingState)&&this.switchToInitialState(),this.props.isUploadingState||this.switchToUploadReadyState()}},{key:"onFileProgress",value:function(e,t,n,r){var a=this.props.dispatch,o=Math.round(n/r*100);a(p.q(e,o))}},{key:"onFileStatusChange",value:function(t,n,r){var a=this;if(this.props.dispatch(p.p(t,r)),(this.props.isPausedState||this.props.isErrorState)&&r===b.a.status.UPLOADING)return e((function(){a.uploader.pauseUpload(t)}));n===b.a.status.UPLOAD_RETRYING&&this.uploadInfoAnalyzer.reset()}},{key:"validateFile",value:function(e){var t=this,n=this.props.i18n,r=this.props.config,a=r.allowedExtensions,o=r.maxFileSizeMegabytes,i=r.minFileSizeBytes,c=r.maxBatchedFiles,s=e.blob.name,u=e.blob.size,l=new RegExp(".("+a.join("|")+")$","i"),d=1048576*o,f=this.props.files,p=f?f.length:0,m=!1;if(f&&f.forEach((function(e){s===e.name&&(m=!0)})),m)return!1;var b="",y=!0;return l.test(s)?u>=d?(b=n._('File "{fileName}" is too large (Maximum file size is {maxFileSizeMegabytes} MB)',{fileName:s,maxFileSizeMegabytes:o}),y=!1):p>=c?(b=n._("You've selected too many files (Maximum number of files: {maxBatchedFiles})",{maxBatchedFiles:c}),y=!1):u<i&&(b=n._('File "{fileName}" is very small (You may want to review this file before uploading)',{fileName:s})):(b=n._("Wrong file format (Allowed file formats: {0})",{0:a.join(", ")}),y=!1),b&&this.setState({dialogMessage:null},(function(){t.setState({dialogMessage:b})})),y}},{key:"filePostValidate",value:function(){var e=this.props.i18n,t=this.props.config.maxBatchedFiles,n=this.props.files;if((n?n.length:0)>=t){var r=e._("You've selected too many files (Maximum number of files: {maxBatchedFiles})",{maxBatchedFiles:t});return this.setState({dialogMessage:r}),!1}}},{key:"onTotalProgress",value:function(e,t){this.uploadInfoAnalyzer.progress(e,t)}},{key:"onFileUploadComplete",value:function(e,t){this.checkFiles(),this.processFile({fileName:t,fileId:e})}},{key:"onUploaderError",value:function(e,t,n){var r=this.props.i18n;switch(n){case"File is no longer available":var a=r._("File {fileName} will not be uploaded because it was renamed or deleted from your device.",{fileName:t});this.removeFile({id:e}),this.setState({dialogMessage:a});break;default:var o=r._("File {fileName} could not be uploaded.",{fileName:t});this.removeFile({id:e}),this.setState({dialogMessage:o})}}},{key:"processFile",value:function(e){var t=this,n=e.fileName,r=e.fileId,a=this.props.requestParams,o=this.props.config,i=o.processUploadUrl,s=o.uid;return c.a.processFile({processUploadUrl:i,fileName:n,fileId:r,uid:s,requestParams:a}).then((function(){t.checkFiles()})).catch((function(){t.checkFiles()}))}},{key:"checkFiles",value:function(){var t=this;e((function(){t.calculateUploadedFilesCount(),t.checkUploadReady()}))}},{key:"render",value:function(){var e=this.props.i18n;if(this.props.hasError)return a.a.createElement("div",{className:"u-text-center"},a.a.createElement("span",{className:"u-mr-5px"},a.a.createElement(o.Trans,{id:"Error during file uploader initialization"})),a.a.createElement(s.h,{id:"button-file-upload-error-try-again",ariaLabel:e._("Try again"),onClick:this.getCredentials.bind(this)},a.a.createElement(o.Trans,{id:"Try again"})));if(this.props.isLoading||!this.props.config)return a.a.createElement("p",{className:"u-text-center u-mt-10px"},a.a.createElement(o.Trans,{id:"Loading..."}));var t=this.props,n=t.isInitialState,r=t.isUploadReadyState,c=t.isUploadingState,u=t.isPausedState,l=t.isCompleteState,d=t.isErrorState,f=t.uploadedFilesCount,p=t.uploadedPercent,m=t.uploadSpeedBps,b=t.secondsLeft,y=t.minutesLeft,v=t.hoursLeft,g=t.config,w=0,O=[];g&&(w=g.maxBatchedFiles||0,g.allowedExtensions&&(O=g.allowedExtensions.map((function(e){return"."+e}))));var S=this.props,C=S.activityId,_=S.questionId,I=S.type,T=S.onCloudTransferComplete,R=S.showImportFromCloud,P=S.files,A=R&&(n||r)&&!(P&&P.length);return a.a.createElement("div",null,a.a.createElement(i.a,{addFiles:this.addFiles.bind(this),allowedExtensions:O,allowedNumFiles:w,files:P,isInitialState:n,isUploadReadyState:r,isUploadingState:c,isPausedState:u,isCompleteState:l,isErrorState:d,uploadedFilesCount:f,uploadedPercent:p,uploadSpeedBps:m,secondsLeft:b,minutesLeft:y,hoursLeft:v,multiSelection:this.props.config.multiSelection,startUpload:this.startUpload.bind(this),pauseUpload:this.pauseUpload.bind(this),resumeUpload:this.resumeUpload.bind(this),removeFile:this.removeFile.bind(this)}),A&&a.a.createElement("div",{className:"external-tool-transfer-container u-pt-20px"},a.a.createElement("p",{className:"external-tool-transfer-message"},"\u2014 ",e._("Transfer from an external source")," \u2014"),a.a.createElement(E.a,{activityId:C,questionId:_,onSubmitSuccess:T,mediaType:I})),a.a.createElement(h.a,{id:"file-upload-message-dialog",message:this.state.dialogMessage}))}}])&&O(r.prototype,u),l&&O(r,l),n}(r.Component);t.a=Object(o.withI18n)()(Object(y.b)((function(e){return{config:d.e(e),isLoading:d.g(e),hasError:d.f(e),files:f.a(e),isInitialState:f.c(e),isUploadReadyState:f.e(e),isUploadingState:f.f(e),isPausedState:f.d(e),uploadedFilesCount:f.j(e),uploadedPercent:f.k(e),uploadSpeedBps:f.i(e),secondsLeft:f.h(e),minutesLeft:f.g(e),hoursLeft:f.b(e),requestParams:d.h(e)}}))(R)),R.defaultProps={requestParams:{}},R.propTypes={requestParams:l.a.object,showImportFromCloud:l.a.bool,type:l.a.string,onCloudTransferComplete:l.a.func,onComplete:l.a.func,activityId:l.a.number,questionId:l.a.number}}).call(this,n("URgk").setImmediate)},PcDh:function(e,t,n){},Pfhi:function(e,t,n){e.exports={status:"b_dqvCqa3M",notViewed:"b_hvz1YAXh",unknownStatus:"b_p74deYrX",viewed:"b_nb0KxFyX",inProgress:"b_8suQWINM",submitted:"b_5inrWT7o",evaluated:"b_1DFcCAQc",published:"b_f3LjtYG6"}},PhW7:function(e,t,n){},PjZZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("TSYQ"),a=n.n(r),o={CONTROL:"selection-control",INK_OVERLAY:"selection-control-ink-overlay",SKIN_DISABLED:"selection-control--disabled",SKIN_SELECTED:"selection-control--selected",SKIN_UNSELECTED:"selection-control--unselected"};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[o.CONTROL,n];return e&&r.push(o.SKIN_DISABLED),t.checked?r.push(o.SKIN_SELECTED):r.push(o.SKIN_UNSELECTED),r.push(t.className),a()(r)}},Pnbs:function(e,t,n){},Pqrc:function(e,t,n){e.exports=n.p+"static/media/recording-ended.58a63c84.mp3"},PrLO:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("Uu12"),s=n("kbsL"),u=n("4XMt"),l=n("giI2"),d=n("2bAp"),f=n("TSYQ"),p=n.n(f);function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,v(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.show;return a.a.createElement("div",{className:"spinner-container"},a.a.createElement("div",{className:p()("spinner-icon-container","spinner-icon-container--closed",e?"spinner-icon-container--hidden":"spinner-icon-container--visible")},a.a.createElement(l.a,{iconClassName:d.a.PLUS})),a.a.createElement("div",{className:p()("spinner-icon-container","spinner-icon-container--open",e?"spinner-icon-container--visible":"spinner-icon-container--hidden")},a.a.createElement(l.a,{iconClassName:d.a.CLOSE})))}}])&&b(n.prototype,r),o&&b(n,o),t}(r.Component);n("psRa");function E(e){return(E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=new Array(i),d=0;d<i;d++)l[d]=arguments[d];return r=this,o=(e=S(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==E(o)&&"function"!==typeof o?_(r):o,I(_(_(n)),"state",{isOpen:!1}),I(_(_(n)),"componentWillUnmount",(function(){window.removeEventListener("click",n.handleOutsideClick)})),I(_(_(n)),"onClick",(function(){n.setState({isOpen:!n.state.isOpen})})),I(_(_(n)),"handleCloseRequest",(function(){n.onClick()})),I(_(_(n)),"handleOutsideClick",(function(e){n.buttonContainer.contains(e.target)||n.setState({isOpen:!1})})),I(_(_(n)),"render",(function(){var e=n.props,t=e.id,r=e.open,o=e.enabled,i=r;void 0===r&&(i=n.state.isOpen);var l="fade-staggered";n.props.effect&&(l=n.props.effect);var d=n.props.ariaLabel,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}({},n.props.tooltip);f.position=f.position||u.a.LEFT,f.className=p()(f.className,"speed-dial-tooltip");var m=a.a.Children.map(n.props.children,(function(e,t){return a.a.cloneElement(e,{effect:l,index:t,visible:i,onCloseRequest:n.handleCloseRequest})})),b=n.onClick;if(m&&1===m.length){var y=m[0].props;y&&(y.onClick&&(b=y.onClick),y.tooltip&&y.tooltip.label&&(f.label=y.tooltip.label),y.ariaLabel&&(d=y.ariaLabel))}return a.a.createElement("div",{ref:function(e){return n.buttonContainer=e},className:"speed-dial-button"},a.a.createElement(s.c,w({},Object(c.j)(n.props),{id:t,secondary:!0,onClick:b,enabled:o,tooltip:f,ariaLabel:d,className:"show-buttons"}),a.a.createElement(g,{show:i})),m)})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e,t){var n=this.state.isOpen;n!==t.isOpen&&window["".concat(n?"add":"remove","EventListener")]("click",this.handleOutsideClick)}}])&&O(n.prototype,r),o&&O(n,o),t}(r.Component);T.propTypes={enabled:i.a.bool,id:i.a.string.isRequired,tooltip:i.a.any},T.defaultProps={enabled:!0,tooltip:{}};t.a=T},PwM7:function(e,t,n){"use strict";var r=n("2Gxn"),a={EASE_IN_QUAD:function(e){return Math.pow(e,2)},EASE_OUT_QUAD:function(e){return-(Math.pow(e-1,2)-1)},EASE_IN_OUT_QUAD:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},EASE_IN_CUBIC:function(e){return Math.pow(e,3)},EASE_OUT_CUBIC:function(e){return Math.pow(e-1,3)+1},EASE_IN_OUT_CUBIC:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},EASE_IN_QUART:function(e){return Math.pow(e,4)},EASE_OUT_QUART:function(e){return-(Math.pow(e-1,4)-1)},EASE_IN_OUT_QUART:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},EASE_IN_QUINT:function(e){return Math.pow(e,5)},EASE_OUT_QUINT:function(e){return Math.pow(e-1,5)+1},EASE_IN_OUT_QUINT:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},EASE_IN_SINE:function(e){return 1-Math.cos(e*(Math.PI/2))},EASE_OUT_SINE:function(e){return 1-Math.cos(e*(Math.PI/2))},EASE_IN_OUT_SINE:function(e){return-.5*(Math.cos(Math.PI*e)-1)},EASE_IN_EXPO:function(e){return 0===e?0:Math.pow(2,10*(e-1))},EASE_OUT_EXPO:function(e){return 1===e?1:1-Math.pow(2,-10*e)},EASE_IN_OUT_EXPO:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},EASE_IN_CIRC:function(e){return-(Math.sqrt(1-e*e)-1)},EASE_OUT_CIRC:function(e){return Math.sqrt(1-Math.pow(e-1,2))},EASE_IN_OUT_CIRC:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},EASE_OUT_BOUNCE:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},EASE_IN_BACK:function(e){var t=1.70158;return e*e*((t+1)*e-t)},EASE_OUT_BACK:function(e){var t=1.70158;return e*e*((t+1)*e-t)},EASE_IN_OUT_BACK:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},EASE_ELASTIC:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},EASE_SWING_FROM_TO:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},EASE_SWING_FROM:function(e){var t=1.70158;return e*e*((t+1)*e-t)},EASE_SWING_TO:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},EASE_BOUNCE:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},EASE_BOUNCE_PAST:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},EASE_FROM_TO:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},EASE_FROM:function(e){return Math.pow(e,4)},EASE_TO:function(e){return Math.pow(e,.25)}};function o(e){var t=r.c(),n=document.createElement("textarea");if(n.innerText=e,n.value=e,document.body.appendChild(n),t){var a=document.createRange();a.selectNodeContents(n);var o=window.getSelection();o.removeAllRanges(),o.addRange(a),n.setSelectionRange(0,999999)}else n.select();document.execCommand("copy"),document.body.removeChild(n)}function i(e,t,n){var r=window.scrollY||document.documentElement.scrollTop,o=e||0,i=t||500,c=n||a.EASE_OUT_SINE,s=0,u=Math.max(.1,Math.min(Math.abs(r-o)/i,1.5));!function e(){var t=(s+=1/60)/u,n=c(t);t<1?(window.requestAnimFrame(e),window.scrollTo(0,r+(o-r)*n)):window.scrollTo(0,o)}()}function c(){return!!document.querySelector("[data-path='video']")}n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}},Q0J0:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"h",(function(){return y}));var r="[Delete user requests] ",a=r+"Set is loading",o=r+"Set create is loading",i=r+"Set has error",c=r+"Set create has error",s=r+"Set list",u=r+"Add request",l=r+"Cancel request",d=function(e){return{type:a,payload:e}},f=function(e){return{type:o,payload:e}},p=function(e){return{type:i,payload:e}},m=function(e){return{type:c,payload:e}},b=function(e){return{type:s,payload:e}},y=function(e){return{type:u,payload:e}}},QMWu:function(e,t,n){"use strict";var r=n("T0hT"),a=n("q1tI"),o=n.n(a),i=n("17x9"),c=n.n(i),s=n("xrVw"),u=n("TSYQ"),l=n.n(u),d=n("LvDl"),f=n.n(d);n("kwFD");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e){return o.a.createElement(s.x,m({},function(e){return f.a.pick(e,Object.keys(b.componentProps))}(e),{className:l()("progress-linear",e.className),disabled:!e.enabled}),e.children)};b.componentProps={className:c.a.string,centered:c.a.bool,id:c.a.any.isRequired,progressClassName:c.a.oneOfType([c.a.func,c.a.string]),progressStyle:c.a.oneOfType([c.a.func,c.a.string]),query:c.a.bool,value:c.a.number},b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},b.componentProps,{enabled:c.a.bool}),b.defaultProps={centered:!0,enabled:!0,determinate:!1,query:!1};var y=b;n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return y}))},QccL:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("LvDl"),a=n.n(r),o=n("fcFR"),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.title,n=e.downloadUrl,r=e.slaveMedia;n&&(Object(o.a)(n,t),r&&r.downloadUrl?Object(o.a)(r.downloadUrl,t):r&&r.srcUrl&&Object(o.a)(r.srcUrl,t+"__secondary"))},c={},s=function(e){if(!e)return null;var t=e.dbId,n=e.caption;if(!t)return null;var r=c[t];return n&&(!r||r.updatedAt<n.updatedAt)&&u(t,r=n),r&&Boolean(r.src)?r:null},u=function(e,t){if(!e)return null;var n={src:null,updatedAt:Math.floor(Date.now()/1e3)};t&&(n=a.a.merge({},n,t)),c[e]=n},l=function(e,t){var n=!0;if(e&&t)if(e.length===t.length)for(var r=0;r<e.length;r++)n=n&&e[r].src===t[r].src;else n=!1;else n=e===t;return n}},QvYj:function(e,t,n){},QxiN:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("Iab2"),u=n.n(s),l=n("LvDl"),d=n.n(l),f=n("kbsL"),p=n("7dPE"),m=n("hvs/"),b=n("/iAH"),y=n("MzIV"),v=n("LFYD"),h=n("TSYQ"),g=n.n(h),E=n("giI2"),w=n("4XMt");n("uqCR");function O(e){return(O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=.5,P=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=C(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==O(a)&&"function"!==typeof a?I(r):a,T(I(I(n)),"state",{turnValue:0}),T(I(I(n)),"updateTurnValue",(function(){var e=n.props,t=e.maxValue,r=e.value/t,a=Math.min(r,1)*R;n.setState({turnValue:a})})),T(I(I(n)),"getThresholdClassName",(function(){var e=n.props,t=e.thresholds,r=e.value,a="bongo-gauge-threshold-unknown";return d.a.forEach(t,(function(e){r>=e.minValue&&(a=e.trackFillClassName)})),a})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.updateTurnValue()}},{key:"componentDidUpdate",value:function(){this.updateTurnValue()}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.ariaLabel,r=e.className,o=e.label,i=e.maxValue,c=e.trackThickness,s=e.value,u=this.state.turnValue,l=this.getThresholdClassName(),d="";return d=n||t._("{label} ({value} of {maxValue})",{label:o,value:s,maxValue:i}),a.a.createElement("div",{className:g()("bongo-gauge",r),"aria-label":d},a.a.createElement("div",{className:"bongo-gauge-track-container","aria-hidden":!0},a.a.createElement("div",{className:"bongo-gauge-track",style:{"--bongo-gauge-track-thickness-px":"".concat(c,"px")}},a.a.createElement("div",{className:g()("bongo-gauge-track-fill",l),style:{"--bongo-gauge-rotation":"".concat(u,"turn")}})),a.a.createElement("div",{className:"bongo-gauge-value-label"},s)),a.a.createElement("div",{className:"bongo-gauge-label","aria-hidden":!0},o))}}])&&S(n.prototype,r),o&&S(n,o),t}(a.a.PureComponent);P.defaultProps={value:0,maxValue:100,thresholds:[{trackFillClassName:"bongo-gauge-threshold-0",minValue:0},{trackFillClassName:"bongo-gauge-threshold-70",minValue:70},{trackFillClassName:"bongo-gauge-threshold-85",minValue:85}],trackThickness:32},P.propTypes={ariaLabel:i.a.string,className:i.a.string,label:i.a.string,maxValue:i.a.number,thresholds:i.a.arrayOf(i.a.shape({trackFillClassName:i.a.string,minValue:i.a.number})),trackThickness:i.a.number,value:i.a.number.isRequired};var A=Object(c.withI18n)()(P),N=n("hu4m"),j=n("OZjV");n("UDne");function k(e){return(k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,o=(e=M(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==k(o)&&"function"!==typeof o?F(r):o,U(F(F(n)),"getTruncatedNumber",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,t);return Math.floor(e*n)/n})),U(F(F(n)),"renderItemChart",(function(e){var t=e.metricValue,n=e.metricConfig,r=e.tooltip,o=n.minValue,i=n.maxValue,c=n.thresholds,s=i-o,u=0;u=t<=o?.01:t>=i?1:(t-o)/s;var l=d.a.orderBy(c,["minValue"],["asc"]);return a.a.createElement("div",{className:"auto-analysis-summary-item-chart-container"},a.a.createElement(w.b,{ariaLabel:r.ariaLabel,className:"auto-analysis-summary-item-chart",tabIndex:0,html:r.html||a.a.createElement("div",null,String(t)),style:{display:"flex"},position:w.a.BOTTOM},d.a.map(l,(function(e,t){var n=e.rating,r=Math.min((i-e.minValue)/s,1),o=Math.max(1-r,0);return a.a.createElement("div",{key:"auto-analysis-summary-item-chart-line[".concat(t,"]"),className:g()("auto-analysis-summary-item-chart-line",j.a.getRatingBackgroundColorClassName(n)),style:{left:"".concat(100*o,"%"),right:0}})})),a.a.createElement("div",{className:"auto-analysis-summary-item-chart-arrow",style:{left:"".concat(100*u,"%")}},a.a.createElement(E.a,null,v.a.PLAY))))})),U(F(F(n)),"renderItem",(function(e,t){var r=n.props,o=r.i18n,i=r.isScoreVisible,c=e.title,s=e.score,u=e.description,l=e.rating,d=e.metricDetails,f=n.getTruncatedNumber(s,1),p=i?o._("{title} (Rating: {formattedScore})",{title:c,formattedScore:f}):c,m=a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"auto-analysis-summary-item-title","aria-label":p},a.a.createElement("h4",{className:"auto-analysis-summary-item-title-text","aria-label":p},c),d&&a.a.createElement(E.a,{className:"auto-analysis-summary-item-title-icon"},d.icon)),a.a.createElement("div",{className:"auto-analysis-summary-item-description"},u)),b=null;return b=d?a.a.createElement(w.b,D({},d.tooltip,{className:g()("auto-analysis-summary-item-info",d.tooltip.className)}),m):a.a.createElement("div",{className:"auto-analysis-summary-item-info"},m),a.a.createElement("div",{key:"auto-analysis-summary-item[".concat(t,"]"),className:"auto-analysis-summary-item"},a.a.createElement("div",{className:"auto-analysis-summary-item-score","aria-hidden":!0},a.a.createElement(N.a,{zDepth:1,className:g()("auto-analysis-summary-item-score-indicator",j.a.getRatingBackgroundColorClassName(l))})),b,n.renderItemChart(e))})),U(F(F(n)),"renderInfoIcon",(function(){var e=n.props.infoTooltip;return e?a.a.createElement(w.b,{tabIndex:0,ariaLabel:e,label:e},a.a.createElement(E.a,{className:"auto-analysis-summary-info-icon"},v.a.INFO_OUTLINE)):null})),U(F(F(n)),"renderContent",(function(){var e=n.props,t=e.i18n,r=e.isScoreVisible,o=e.score,i=e.title,c=e.items,s=n.getTruncatedNumber(o,1),u=r?t._("{title} (Rating: {formattedScore})",{title:i,formattedScore:s}):i;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:g()("auto-analysis-summary-header",j.a.getRatingBackgroundColorClassNameForScore(o))},r&&a.a.createElement("div",{className:"auto-analysis-summary-score","aria-hidden":!0},s),a.a.createElement("h3",{className:"auto-analysis-summary-title","aria-label":u},i),n.renderInfoIcon()),a.a.createElement("div",{className:"auto-analysis-summary-body"},d.a.map(c,n.renderItem)))})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement(N.a,{zDepth:2,className:"auto-analysis-summary-card"},this.renderContent())}}])&&L(n.prototype,r),o&&L(n,o),t}(r.PureComponent);V.defaultProps={isScoreVisible:!1},V.propTypes={isScoreVisible:i.a.bool,score:i.a.number,title:i.a.string,infoTooltip:i.a.string,items:i.a.arrayOf(i.a.shape({title:i.a.string,description:i.a.string,tooltip:i.a.shape({ariaLabel:i.a.string,html:i.a.node}),rating:i.a.any,score:i.a.number,metricConfig:i.a.shape({minValue:i.a.number,maxValue:i.a.number,thresholds:i.a.arrayOf(i.a.shape({minValue:i.a.number,rating:i.a.object}))}),metricValue:i.a.number,metricDetails:i.a.shape({icon:i.a.string.isRequired,tooltip:i.a.any.isRequired})}))};var G=Object(c.withI18n)()(V),q=n("/MKj"),B=n("e33A"),W=n("hApM"),Q=n("J3bt"),Y=n("/E09");n("Wexe");function H(e){return(H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,o=(e=K(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==H(o)&&"function"!==typeof o?J(r):o,Z(J(J(n)),"createWordFragment",(function(e){var t=n.props.i18n,r=e.value,o=e.id,i=e.isUnclear,c=e.isFiller,s=e.isTopN,u=e.fillerCount,l=e.confidence,d=e.relatedWordValue,f=[],p=[],m=Z({},Y.t,d?d.toLowerCase():r.toLowerCase());if(i&&(p.push(a.a.createElement("div",{key:"fragment-unclear["+o+"]"},t._("This word was unclear to the transcriber ({confidence}% confidence).",{confidence:l}))),f.push(Y.r),m[Y.s]=o),s&&f.push(Y.q),c&&(u>1?p.push(a.a.createElement("div",{key:"fragment-filler["+o+"]"},t._("This word was identified as a filler word (used {fillerCount} times).",{fillerCount:u}))):p.push(a.a.createElement("div",{key:"fragment-filler["+o+"]"},t._("This word was identified as a filler word (used once)."))),f.push(Y.n)),f.length>0){var b=[" "];return p.length>0?b.push(a.a.createElement(w.b,{key:"fragment["+o+"]",className:g()(f),html:a.a.createElement("span",null,p)},a.a.createElement("span",m,r))):b.push(a.a.createElement("span",{key:"fragment["+o+"]",className:g()(f)},a.a.createElement("span",m,r))),b}return[" ",r]})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){for(var e=this.props,t=e.i18n,n=e.transcript,r={},o=[],i=[],c=0;c<n.length;c++){var s=n[c];if(s.type===Y.k.WORD)i.push(this.createWordFragment(s));else if(s.type===Y.k.TERM){var u=a.a.createElement("div",{key:"fragment-key-term["+c+"]"},t._("This is a desired key term.")),l=Z({},Y.t,String(s.match).toLowerCase());i.push(" "),i.push(a.a.createElement(w.b,{key:"fragment["+c+"]",className:g()(Y.o),html:a.a.createElement("span",null,u)},a.a.createElement("span",l,d.a.map(s.words,this.createWordFragment))))}else if(s.type===Y.k.MARK){var f=n.length>c+1?n[c+1].start:0;i.push(s.value),Y.l.includes(s.value)&&f&&f-r.end>Y.u&&(o.push(i),i=[])}r=n[c]}i=d.a.compact(i),o.push(i),o=d.a.compact(o);var p=j.a.getTranscriptText(n);return a.a.createElement("div",{"aria-labelledby":"auto-analysis-transcript-text",tabIndex:0},d.a.map(o,(function(e,t){return a.a.createElement("div",{key:"auto-analysis-transcript-paragraph["+t+"]",className:"auto-analysis-transcript-paragraph","aria-hidden":!0},d.a.map(e,(function(e){return e})))})),a.a.createElement("div",{id:"auto-analysis-transcript-text","aria-hidden":!0,style:{display:"none"}},t._("Transcript: {transcriptText}",{transcriptText:p})))}}])&&z(n.prototype,r),o&&z(n,o),t}(a.a.PureComponent);$.defaultProps={keyTerms:[],transcript:[]},$.propTypes={keyTerms:i.a.array,transcript:i.a.array};var ee=Object(c.withI18n)()($),te=n("xrVw"),ne=n("w8M0"),re=n("J/33"),ae=n("q8N1");n("Fpq1");function oe(e){return(oe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe={drawerVisible:!1},pe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=se(t).call(this,e),n=!o||"object"!==oe(o)&&"function"!==typeof o?le(r):o,de(le(le(n)),"onSelection",(function(e){var t=n.props.onSelection,r=n.state.drawerVisible;t({id:e.currentTarget.getAttribute(Y.s),word:e.currentTarget.getAttribute(Y.t)}),r&&n.onCloseWordListDrawer()})),de(le(le(n)),"onItemKeyDown",(function(e){var t=e.which||e.keyCode;t!==ae.a.SPACE&&t!==ae.a.ENTER||n.onSelection(e)})),de(le(le(n)),"renderEmptyListMessage",(function(){var e=n.props,t=e.i18n,r=null;switch(e.context){case Y.b.FILLERS:r=t._("No filler words were found");break;case Y.b.CLARITY:r=t._("No unclear words were found");break;default:r=t._("No items found")}return[a.a.createElement("div",{key:"word-list-item--empty-container",className:"word-list-item--empty-container"},a.a.createElement("span",null,r))]})),de(le(le(n)),"renderListItems",(function(){var e=n.props,t=e.context,r=e.items;return r&&0!==r.length?t===Y.b.KEY_TERMS?n.renderKeyTermItems():n.renderGeneralItems():n.renderEmptyListMessage()})),de(le(le(n)),"renderKeyTermItems",(function(){var e=n.props,t=e.i18n,r=e.ink,o=e.items,i=e.selectedItem;return d.a.map(o,(function(e,o){var c=e.term,s=t._("{0} of {1}",{0:e.actualCount,1:e.targetCount}),u=i&&i.word===c.toLowerCase(),l=de({},Y.t,c.toLowerCase()),d=t._('Item: "{termLabel}" (Occurrences: {termValue})',{termLabel:c,termValue:s});return a.a.createElement("div",ie({},l,{key:"word-list-item[".concat(o,"]"),className:g()("word-list-item",u?"word-list-item--selected":null),"aria-label":d,role:"button",tabIndex:0,onKeyDown:n.onItemKeyDown,onClick:n.onSelection}),r,a.a.createElement("div",{className:"word-list-item-selection"}),a.a.createElement("span",{className:"word-list-item-label"},c),a.a.createElement("div",{className:"word-list-item-value-container"},a.a.createElement("span",{className:"word-list-item-value"},"".concat(s))))}))})),de(le(le(n)),"renderGeneralItems",(function(){var e=n.props,t=e.i18n,r=e.context,o=e.ink,i=e.items,c=e.selectedItem,s=r===Y.b.CLARITY,u=r===Y.b.TOP_N,l=d.a.map(i,(function(e,i){if(u&&!e.count)return null;var l=e.value||e.term,d=s?"":e.count,f=t._('Item: "{termLabel}" (Occurrences: {termValue})',{termLabel:l,termValue:d});s&&(f=t._('Item: "{termLabel}" (Confidence: {0}%)',{0:e.confidence,termLabel:l}));var p=de({},Y.t,l),m=c&&c.word===l;return r===Y.b.CLARITY&&(m=c&&c.id===e.id),e.id&&(p[Y.s]=e.id),a.a.createElement("div",ie({},p,{key:"word-list-item[".concat(i,"]"),className:g()("word-list-item",m?"word-list-item--selected":null),"aria-label":f,role:"button",tabIndex:0,onKeyDown:n.onItemKeyDown,onClick:n.onSelection}),o,a.a.createElement("div",{className:"word-list-item-selection"}),a.a.createElement("span",{className:"word-list-item-label"},l),a.a.createElement("div",{className:"word-list-item-value-container"},a.a.createElement("span",{className:"word-list-item-value"},d)))}));return d.a.compact(l)})),de(le(le(n)),"getListTitle",(function(){var e=n.props,t=e.context,r=e.i18n;switch(t){case Y.b.CLARITY:return r._("Top Unclear Words");case Y.b.TOP_N:return r._("Top Words and Phrases");case Y.b.FILLERS:return r._("Filler Words");case Y.b.KEY_TERMS:return r._("Key Terms");default:return""}})),de(le(le(n)),"getDrawerButtonAriaLabel",(function(){var e=n.props,t=e.context,r=e.i18n;switch(t){case Y.b.CLARITY:return r._("Show top unclear words");case Y.b.TOP_N:return r._("Show top words and phrases");case Y.b.FILLERS:return r._("Show filler words");case Y.b.KEY_TERMS:return r._("Show key terms");default:return""}})),de(le(le(n)),"onCloseWordListDrawer",(function(){n.setState({drawerVisible:!1})})),de(le(le(n)),"onOpenWordListDrawer",(function(){n.setState({drawerVisible:!0})})),de(le(le(n)),"renderDrawerActions",(function(){var e=n.props.i18n;return a.a.createElement(f.d,{ariaLabel:e._("Close"),id:"auto-analysis-transcript-word-list-drawer-close-button",className:"auto-analysis-transcript-word-list-close-button",onClick:n.onCloseWordListDrawer},v.a.CLOSE)})),de(le(le(n)),"renderDrawerHeader",(function(){return a.a.createElement(re.a,{nav:n.renderDrawerActions(),className:"auto-analysis-transcript-word-list-drawer-toolbar",title:n.getListTitle()})})),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){de(e,t,n[t])}))}return e}({},fe),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isSmallWidth,r=e.items,o=this.state.drawerVisible,i=r?r.length:0,c=this.getListTitle();return a.a.createElement("div",{id:"auto-analysis-transcript-contents-word-list",className:g()("auto-analysis-transcript-contents-word-list",n?"auto-analysis-transcript-contents-word-list--width-small":null)},n?a.a.createElement("div",{className:"auto-analysis-transcript-topn-selection"},a.a.createElement(f.d,{id:"auto-analysis-transcript-word-list-drawer-open-button",className:"auto-analysis-transcript-word-list-drawer-open-button",onClick:this.onOpenWordListDrawer,ariaLabel:this.getDrawerButtonAriaLabel()},v.a.VIEW_LIST),a.a.createElement(ne.a,{id:"auto-analysis-transcript-word-list-drawer",className:"auto-analysis-transcript-word-list-drawer",onVisibilityChange:function(){},visible:o,position:"right",type:ne.a.DrawerTypes.TEMPORARY,header:this.renderDrawerHeader(),navItems:this.renderListItems()})):a.a.createElement(N.a,{zDepth:2,className:"auto-analysis-transcript-word-list-container"},a.a.createElement("div",{id:"auto-analysis-transcript-word-list",className:"auto-analysis-transcript-word-list",tabIndex:0},a.a.createElement("div",{className:"auto-analysis-transcript-word-list-header"},a.a.createElement("h3",{className:"auto-analysis-transcript-word-list-header-label","aria-label":t._("{listTitle} (List with {listLength} items)",{listTitle:c,listLength:i})},c)),a.a.createElement("div",{className:"auto-analysis-transcript-word-list-sep"}),a.a.createElement("div",{id:"auto-analysis-transcript-word-list-contents",className:"auto-analysis-transcript-word-list-contents"},this.renderListItems()))))}}])&&ce(n.prototype,r),o&&ce(n,o),t}(a.a.PureComponent);pe.defaultProps={isSmallWidth:!1,onSelection:function(){},selectedItem:null},pe.propTypes={context:i.a.string,isSmallWidth:i.a.bool,items:i.a.any,onSelection:i.a.func,selectedItem:i.a.object};var me=Object(c.withI18n)()(Object(te.U)(pe));n("Xs32");function be(e){return(be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){we(e,t,n[t])}))}return e}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=Y.b,Se={context:Oe.TOP_N,selectedWordListItem:null},Ce=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=he(t).call(this,e),n=!o||"object"!==be(o)&&"function"!==typeof o?Ee(r):o,we(Ee(Ee(n)),"getFillerWordCounts",(function(){var e=n.props.fillerWords,t={};return e&&d.a.map(e.fillerWordCounts,(function(e){t[String(e.word).toLowerCase()]=e.count})),t})),we(Ee(Ee(n)),"getContextClassname",(function(){switch(n.state.context){case Oe.CLARITY:return"auto-analysis-transcript-container-context--clarity";case Oe.FILLERS:return"auto-analysis-transcript-container-context--fillers";case Oe.KEY_TERMS:return"auto-analysis-transcript-container-context--key-terms";default:return"auto-analysis-transcript-container-context--top-n"}})),we(Ee(Ee(n)),"getWordsForContext",(function(){var e=n.state,t=e.context,r=e.clarity,a=e.fillers,o=e.translatedKeyTerms,i=e.topNWords;switch(t){case Oe.CLARITY:return r;case Oe.FILLERS:return a;case Oe.KEY_TERMS:return o;default:return i}})),we(Ee(Ee(n)),"getFillerWordCount",(function(e,t){return t[String(e).toLowerCase()]})),we(Ee(Ee(n)),"getTruncatedNumber",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,t);return Math.floor(e*n)/n})),we(Ee(Ee(n)),"isFillerWord",(function(e,t){return Boolean(n.getFillerWordCount(e,t))})),we(Ee(Ee(n)),"isUnclearWord",(function(e){return Boolean(e<Y.v)})),we(Ee(Ee(n)),"isKeyTerm",(function(){return!1})),we(Ee(Ee(n)),"clearSelection",(function(){var e=n.transcriptContainer.current.querySelectorAll("span.".concat(Y.p));if(e)for(var t=0;t<e.length;t++)e[t].classList.remove(Y.p)})),we(Ee(Ee(n)),"onWordSelection",(function(e){var t=n.state.context,r=n.transcriptContainer.current,a=null;if(n.clearSelection(),e){switch(t){case Oe.CLARITY:a=Y.r;break;case Oe.FILLERS:a=Y.n;break;case Oe.TOP_N:a=Y.q;break;case Oe.KEY_TERMS:a=Y.o}var o=null;if((o=t===Oe.CLARITY?r.querySelectorAll(".".concat(a,' > span[data-id="').concat(e.id,'"]')):r.querySelectorAll(".".concat(a,' > span[data-word="').concat(e.word.toLowerCase(),'"]')))&&o.length>0){o[0].scrollIntoView({behavior:"smooth",block:"nearest"});for(var i=0;i<o.length;i++)o[i].classList.add(Y.p)}}n.setState({selectedWordListItem:e})})),we(Ee(Ee(n)),"getTranslatedAnnotatedWord",(function(e,t,r,a){var o=ye({},e,{relatedWordValue:a,type:Y.k.WORD});return r[(a||e.value).trim().toLowerCase()]&&(o.isTopN=!0),e.isFiller&&(o.fillerCount=n.getFillerWordCount(e.value,t)),e.isUnclear&&(o.confidence=n.getTruncatedNumber(100*e.confidence),o.id=n.getIdForTranscriptItem(e)),o})),we(Ee(Ee(n)),"getTermCount",(function(e){var t=n.props.terms;return d.a.get(d.a.find(t,["term",e.term]),"count",0)})),we(Ee(Ee(n)),"getTranslatedKeyTerms",(function(){var e=n.props.keyTerms,t=[];if(e){var r=e.desiredKeyTerms;if(!d.a.isEmpty(r))for(var a=0;a<r.length;a++){var o=r[a];t.push({actualCount:n.getTermCount(o),term:o.term,targetCount:o.count})}}return t})),we(Ee(Ee(n)),"getTranslatedAnnotatedReport",(function(){for(var e=n.props,t=e.terms,r=e.annotatedTranscript,a=n.getFillerWordCounts(),o=n.getTranslatedKeyTerms(),i=[],c=[],s=d.a.orderBy(t,["count"],["desc"]).slice(0,Y.a),u=d.a.keyBy(s,(function(e){return e.term.toLowerCase()})),l=0;l<r.length;l++){var f=r[l],p=f.__typename;if(p===Y.m.WORD){var m=n.getTranslatedAnnotatedWord(f,a,u);m.isUnclear&&c.push(m),i.push(m)}else p===Y.m.TERM?function(){var e=[],t=d.a.get(f,"match");d.a.forEach(f.words,(function(r){var o=n.getTranslatedAnnotatedWord(r,a,u,t);o.isUnclear&&c.push(o),e.push(o)})),i.push(ye({},f,{type:Y.k.TERM,words:[].concat(e)}))}():p===Y.m.MARK&&i.push(ye({},f,{type:Y.k.MARK}))}var b=d.a.map(a,(function(e,t){return{value:t,count:e}}));b=d.a.orderBy(b,["count"],["desc"]);var y=d.a.orderBy(c,["confidence"],["asc"]).slice(0,Y.w);return{translatedTranscript:i,clarity:y,topNWords:s,fillers:b,translatedKeyTerms:o}})),we(Ee(Ee(n)),"getSelectedContextMenuItemLabel",(function(e,t){var n=d.a.find(e,{value:t});return n?n.label:""})),we(Ee(Ee(n)),"getContextMenuItems",(function(){var e=n.props.i18n,t=n.state.translatedKeyTerms,r=d.a.isEmpty(t),a=[{key:"all-words",label:e._("All Words"),value:Oe.TOP_N,getProps:function(){return{id:"auto-analysis-context-select-field-menu-options[all-words]",disabled:!1,primaryText:e._("All Words")}}},{key:"unclear-words",label:e._("Unclear Words"),value:Oe.CLARITY,getProps:function(){return{id:"auto-analysis-context-select-field-menu-options[unclear-words]",disabled:!1,primaryText:e._("Unclear Words")}}},{key:"filler-words",label:e._("Filler Words"),value:Oe.FILLERS,getProps:function(){return{id:"auto-analysis-context-select-field-menu-options[filler-words]",disabled:!1,primaryText:e._("Filler Words")}}}];return r||a.push({key:"content-key-terms",label:e._("Key Terms"),disabled:r,value:Oe.KEY_TERMS,getProps:function(){return{id:"auto-analysis-context-select-field-menu-options[content-key-terms]",disabled:r,primaryText:e._("Key Terms")}}}),a})),we(Ee(Ee(n)),"onContextChange",(function(e){n.setState({context:e,selectedWordListItem:null}),n.clearSelection()})),we(Ee(Ee(n)),"isSmallWidth",(function(){return n.props.viewportDimensions.width<=W.a.SMALL.max}));var i=n.getTranslatedAnnotatedReport();return n.state=ye({},Se,i,{context:d.a.isEmpty(i.translatedKeyTerms)?Oe.TOP_N:Oe.KEY_TERMS}),n.transcriptContainer=a.a.createRef(),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,e),n=t,(r=[{key:"getIdForTranscriptItem",value:function(e){return"fragment_".concat(e.start)}},{key:"render",value:function(){var e=this.props.i18n,t=this.state,n=t.context,r=t.translatedKeyTerms,o=t.selectedWordListItem,i=t.topNWords,c=t.translatedTranscript,s=this.isSmallWidth(),u=this.getContextMenuItems(),l=this.getSelectedContextMenuItemLabel(u,n);return a.a.createElement("div",{className:g()("auto-analysis-transcript-container",s?"auto-analysis-transcript-container-small-width":"",this.getContextClassname())},a.a.createElement("div",{className:"auto-analysis-transcript-header"},a.a.createElement("h2",{id:"auto-analysis-transcript-title",className:"auto-analysis-transcript-title","aria-hidden":!0},e._("Transcript")),a.a.createElement("div",{className:"auto-analysis-transcript-toolbar"},a.a.createElement("div",{className:"auto-analysis-transcript-toolbar-actions-container"}),a.a.createElement("div",{className:"auto-analysis-transcript-context-selection"},a.a.createElement(Q.b,{id:"auto-analysis-context-select-field",className:"auto-analysis-context-select-field",ariaLabel:e._("Transcript Context: {selectedItemLabel}",{selectedItemLabel:l}),menuItems:u,fullWidth:!1,value:n,position:"below",onChange:this.onContextChange})),a.a.createElement("div",{className:"auto-analysis-transcript-toolbar-actions-container"},s&&a.a.createElement(me,{isSmallWidth:s,onSelection:this.onWordSelection,items:this.getWordsForContext(),selectedItem:o,context:n})))),a.a.createElement("div",{className:g()("auto-analysis-transcript-contents",s?"auto-analysis-transcript-contents-small-width":"")},!s&&a.a.createElement(me,{isSmallWidth:s,onSelection:this.onWordSelection,items:this.getWordsForContext(),selectedItem:o,context:n}),a.a.createElement("div",{ref:this.transcriptContainer,id:"auto-analysis-transcript-contents-transcript",className:"auto-analysis-transcript-contents-transcript"},a.a.createElement(ee,{keyTerms:r,topNWords:i,transcript:c}))))}}])&&ve(n.prototype,r),o&&ve(n,o),t}(a.a.PureComponent);Ce.defaultProps={annotatedTranscript:[],fillerWords:{},keyTerms:{},terms:[]},Ce.propTypes={annotatedTranscript:i.a.array,fillerWords:i.a.object,keyTerms:i.a.object,terms:i.a.array};var _e=Object(c.withI18n)()(Object(q.b)((function(e){return{viewportDimensions:B.a(e)}}))(Ce)),Ie=n("MO+k"),Te=n.n(Ie),Re=n("8bCP"),Pe=n("kdSA"),Ae=n.n(Pe);function Ne(e){return(Ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=30,Fe=50,Ue=5,Ve={dataPoints:[],bucketSize:null,averagingDistance:1,xMin:0,xMax:0,yMin:80,yMax:240},Ge={beforeDraw:function(e){var t=e.chart.ctx,n=d.a.get(e,"config.options.chartAreaBackgrounds",[]),r=e.chartArea,a=r.right-r.left,o=r.bottom-r.top;d.a.forEach(n,(function(e){var n=r.left+a*e.x,i=r.top+o*e.y,c=a*e.width,s=o*e.height;t.fillStyle=e.color,t.fillRect(n,i,c,s)}))}},qe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=ke(t).call(this,e),n=!o||"object"!==Ne(o)&&"function"!==typeof o?Le(r):o,Me(Le(Le(n)),"canvasRef",null),Me(Le(Le(n)),"chart",null),Me(Le(Le(n)),"onChartResize",d.a.debounce((function(){n.findBucketSize()}),1e3)),Me(Le(Le(n)),"findBucketSize",(function(){if(n.canvasRef.current){var e=n.canvasRef.current.parentNode.clientWidth,t=n.canvasRef.current.parentNode.clientHeight;Re.b.debug("[SpeakingRateChart] Parent Node: ".concat(e,"x").concat(t));var r=n.props.annotatedTranscript,a=null;d.a.forEachRight(r,(function(e){if(e.end)return a=e,!1}));var o=Math.ceil(e/Ue);Re.b.debug("[SpeakingRateChart] idealPointsDisplayed",o);var i=null;o>1&&(i=Math.ceil(a.end/o)),Re.b.debug("[SpeakingRateChart] newBucketSize",i),i!==n.state.bucketSize&&n.setState({bucketSize:i},n.processTranscript)}})),Me(Le(Le(n)),"processTranscript",(function(){for(var e=n.props.annotatedTranscript,t=n.state,r=t.bucketSize,a=t.averagingDistance,o=t.yMin,i=t.yMax,c=[],s=0;s<e.length;s++){var u=e[s],l=u.__typename;if(d.a.includes([Y.m.WORD,Y.m.TERM],l)){var f=[];f=Y.m.TERM===l?u.words:[u],d.a.forEach(f,(function(e){var t=e.end;if(t>=r*c.length)for(var n=Math.floor(t/r)+1;c.length<n;)c.push(0);c[c.length-1]++}))}}Re.b.debug("[SpeakingRateChart] bucketsRaw",c);var p=o,m=i,b=0,y=0,v=[];d.a.forEach(c,(function(e,t){if(!d.a.isEmpty(v)||e){for(var n=t*r,o=e*(60/r),i=Math.max(0,t-a),s=Math.min(c.length-1,t+a),u=[],l=i;l<=s;l++){var f=c[l];u.push(f)}var h=d.a.mean(u)*(60/r);v.push({wps:o,wpsAverage:h,time:n,words:e,x:n,y:h}),0===b&&(b=n),y=n,m=Math.max(m,h),p=Math.min(p,h)}})),Re.b.debug("[SpeakingRateChart] xMin=".concat(b,", xMax=").concat(y,", yMin=").concat(p,", yMax=").concat(m)),Re.b.debug("[SpeakingRateChart] dataPoints",v),n.setState({dataPoints:v,xMin:b,xMax:y,yMin:p,yMax:m})})),Me(Le(Le(n)),"createChart",(function(){var e=n.state,t=e.bucketSize,r=e.dataPoints,a=e.xMin,o=e.xMax,i=e.yMin,c=e.yMax;if(n.canvasRef.current){var s=c-i,u=Y.i+Fe/2,l=Fe/s,d=(c-u)/s,f=n.canvasRef.current.getContext("2d"),p={type:"line",data:{datasets:[{label:"",fill:!1,borderWidth:2,borderColor:Ae.a.lineColor,data:r}]},options:{chartAreaBackgrounds:[{x:0,y:d,width:1,height:l,color:Ae.a.idealChartAreaColor}],parsing:!1,animation:{duration:0},responsive:!0,onResize:n.onChartResize,maintainAspectRatio:!1,layout:{padding:{top:8,right:16,bottom:0,left:0}},legend:{display:!1},tooltips:{enabled:!1},elements:{point:{radius:0,hitRadius:0,hoverRadius:0},line:{tension:.4}},scales:{xAxes:[{type:"linear",ticks:{beginAtZero:!0,stepSize:t,maxTicksLimit:7,min:a,max:o,callback:n.getTickLabelX}}],yAxes:[{ticks:{beginAtZero:!0,stepSize:20,maxTicksLimit:7,min:i,max:c,callback:n.getTickLabelY}}]}}};return new Te.a(f,p)}})),Me(Le(Le(n)),"zeroPad",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n="0"+e;return n.substr(n.length-t)})),Me(Le(Le(n)),"getTickLabelX",(function(e,t,r){if(r.length>3&&(0===t||t===r.length-1))return null;var a=e%60,o=Math.floor(e/60);return"".concat(n.zeroPad(o,2),":").concat(n.zeroPad(a,2))})),Me(Le(Le(n)),"getTickLabelY",(function(e,t,n){return n.length>3&&(0===t||t===n.length-1)?null:e})),Me(Le(Le(n)),"renderLengthMessage",(function(){var e=n.props.i18n;return a.a.createElement("div",{className:Ae.a.minimumLengthContainer},a.a.createElement("div",{className:Ae.a.minimumLengthIconContainer},a.a.createElement(E.a,{className:Ae.a.minimumLengthIconChart},v.a.CHART)),a.a.createElement("p",{className:Ae.a.minimumLengthMessage},e._("There were not enough words to generate a chart")))})),Me(Le(Le(n)),"renderChart",(function(){return a.a.createElement("div",{className:Ae.a.chartBody},a.a.createElement("canvas",{ref:n.canvasRef}))})),Me(Le(Le(n)),"renderBody",(function(){var e=n.props.annotatedTranscript;return e&&e.length>xe?n.renderChart():n.renderLengthMessage()})),Me(Le(Le(n)),"renderHeader",(function(){var e=n.props.i18n;return a.a.createElement("div",{className:Ae.a.chartHeader},a.a.createElement("h4",{className:Ae.a.chartHeaderText},e._("Speaking Rate Over Time")))})),n.canvasRef=a.a.createRef(),Te.a.pluginService.register(Ge),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Me(e,t,n[t])}))}return e}({},Ve),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){requestAnimationFrame(this.findBucketSize)}},{key:"componentDidUpdate",value:function(){this.chart&&this.chart.destroy(),this.chart=this.createChart()}},{key:"render",value:function(){return a.a.createElement("div",{className:Ae.a.container},this.renderHeader(),this.renderBody())}}])&&je(n.prototype,r),o&&je(n,o),t}(a.a.PureComponent);qe.defaultProps={},qe.propTypes={i18n:i.a.any.isRequired,annotatedTranscript:i.a.arrayOf(i.a.shape({__typename:i.a.string.isRequired,start:i.a.number,end:i.a.number})).isRequired};var Be=Object(c.withI18n)()(qe);n("zyUR");function We(e){return(We="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xe(e,t,n[t])}))}return e}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je={isClarityAcceptable:!1,isReportVisible:!1},Ze=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=He(t).call(this,e),n=!o||"object"!==We(o)&&"function"!==typeof o?Ke(r):o,Xe(Ke(Ke(n)),"checkClarity",(function(e){return!!e.report.clarity&&e.report.clarity.score>=Y.d})),Xe(Ke(Ke(n)),"onRevealAnalysisClick",(function(){n.setState({isReportVisible:!0})})),Xe(Ke(Ke(n)),"getTruncatedNumber",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,t);return Math.floor(e*n)/n})),Xe(Ke(Ke(n)),"getDurationLabel",(function(){var e=n.props,t=e.i18n,r=e.report.length,a=n.getTruncatedNumber(r/60),o=n.getTruncatedNumber(r%60);return a<1?t._({id:"{durationSeconds, plural, one {{durationSeconds} second} other {{durationSeconds} seconds}}",values:{durationSeconds:o}}):t._({id:"{durationMinutes, plural, one {{durationSeconds, plural, one {{durationMinutes} minute, {durationSeconds} second} other {{durationMinutes} minute, {durationSeconds} seconds}}} other {{durationSeconds, plural, one {{durationMinutes} minutes, {durationSeconds} second} other {{durationMinutes} minutes, {durationSeconds} seconds}}}}",values:{durationMinutes:a,durationSeconds:o}})})),Xe(Ke(Ke(n)),"createScoreLabel",(function(e){var t=n.props,r=t.i18n;if(t.isScoreVisible){var a=n.getTruncatedNumber(e);return r._("(Score: {formattedScore})",{formattedScore:a})}return null})),Xe(Ke(Ke(n)),"createTooltip",(function(e){var t=d.a.compact(e),n=a.a.createElement("div",null,d.a.map(t,(function(e,t){return a.a.createElement("div",{key:"summary-item-tooltip-label[".concat(t,"]")},e)})));return{ariaLabel:d.a.join(e," "),html:n}})),Xe(Ke(Ke(n)),"createKeyTermsItem",(function(){var e=n.props,t=e.i18n,r=e.report,a=r.keyTerms,o=r.terms,i=a.score,c=a.desiredKeyTerms,s=d.a.reduce(c,(function(e,t){return e+t.count}),0),u=d.a.reduce(c,(function(e,t){return Qe({},e,Xe({},String(t.term).toLowerCase(),{term:t.term,count:t.count}))}),{}),l=d.a.reduce(o,(function(e,t){var n=String(t.term).toLowerCase(),r=d.a.get(u[n],"count");return r?e+Math.min(t.count,r):e}),0),f=j.a.getRating(i),p=[];switch(f){case Y.g.A:p.push(t._("Key term usage count {achievedTotalCount} of {targetTotalCount} is within the desirable range",{achievedTotalCount:l,targetTotalCount:s}));break;case Y.g.B:p.push(t._("Key term usage count {achievedTotalCount} of {targetTotalCount} is below the desirable range",{achievedTotalCount:l,targetTotalCount:s}));break;case Y.g.C:p.push(t._("Key term usage count {achievedTotalCount} of {targetTotalCount} is significantly below the desirable range",{achievedTotalCount:l,targetTotalCount:s}));break;default:p.push(t._("Key Term Count: {achievedTotalCount}",{achievedTotalCount:l}))}var m=t._({id:"{targetTotalCount, plural, one {{achievedTotalCount} of {targetTotalCount} key term} other {{achievedTotalCount} of {targetTotalCount} key terms}}",values:{targetTotalCount:s,achievedTotalCount:l}});p.push(n.createScoreLabel(i));var b=n.createTooltip(p);return{title:t._("Key Terms"),rating:f,score:i,tooltip:b,description:m,metricValue:l,metricConfig:{minValue:0,maxValue:s,thresholds:[{minValue:0,rating:Y.g.C},{minValue:.7*s,rating:Y.g.B},{minValue:.85*s,rating:Y.g.A}]}}})),Xe(Ke(Ke(n)),"createContentItems",(function(){return d.a.compact([n.createKeyTermsItem()])})),Xe(Ke(Ke(n)),"createClarityItem",(function(){var e=n.props,t=e.i18n,r=e.report,a=r.clarity,o=r.wordCount,i=0,c=0,s=0;a&&(i=a.score,c=a.clearWordCount,s=a.unclearWordCount);var u=100*n.getTruncatedNumber(c/o,2),l=j.a.getRating(i),d=[];switch(l){case Y.g.A:d.push(t._("Clarity of {clearWordPercLabel}% is within the desirable range",{clearWordPercLabel:u}));break;case Y.g.B:d.push(t._("Clarity of {clearWordPercLabel}% is below the desirable range",{clearWordPercLabel:u}));break;case Y.g.C:d.push(t._("Clarity of {clearWordPercLabel}% is significantly below the desirable range",{clearWordPercLabel:u}));break;default:d.push(t._("Clear Word Count: {clearWordCount} of {wordCount}",{clearWordCount:c,wordCount:o}))}var f=t._({id:"{unclearWordCount, plural, one {{clearWordPercLabel}% clear ({unclearWordCount} unclear word)} other {{clearWordPercLabel}% clear ({unclearWordCount} unclear words)}}",values:{unclearWordCount:s,clearWordPercLabel:u}});d.push(n.createScoreLabel(i));var p=n.createTooltip(d);return{title:t._("Clarity"),rating:l,score:i,tooltip:p,description:f,metricValue:c,metricConfig:{minValue:.5*r.wordCount,maxValue:r.wordCount,thresholds:[{minValue:0,rating:Y.g.C},{minValue:.7*r.wordCount,rating:Y.g.B},{minValue:.85*r.wordCount,rating:Y.g.A}]}}})),Xe(Ke(Ke(n)),"createFillersItem",(function(){var e=n.props,t=e.i18n,r=e.report,a=r.fillers,o=r.wordCount,i=0,c=0;a&&(i=a.score,c=a.count);var s=j.a.getRating(i),u=[];switch(s){case Y.g.A:u.push(t._("Filler word count of {count} is within the desirable range",{count:c}));break;case Y.g.B:u.push(t._("Filler word count of {count} is above the desirable range",{count:c}));break;case Y.g.C:u.push(t._("Filler word count of {count} is significantly above the desirable range",{count:c}));break;default:u.push(t._("Filler Word Count: {count}",{count:c}))}var l=t._({id:"{count, plural, one {{count} filler word} other {{count} filler words}}",values:{count:c}});u.push(n.createScoreLabel(i));var d=n.createTooltip(u);return{title:t._("Fillers"),rating:s,score:i,tooltip:d,description:l,metricValue:c,metricConfig:{minValue:0,maxValue:.1*o,thresholds:[{minValue:0,rating:Y.g.A},{minValue:.025*o,rating:Y.g.B},{minValue:.04*o,rating:Y.g.C}]}}})),Xe(Ke(Ke(n)),"createSpeakingRateItem",(function(){var e=n.props,t=e.i18n,r=e.report.speakingRate,a=0,o=0;r&&(a=r.score,o=r.wordsPerMinute);var i=n.getTruncatedNumber(o),c=j.a.getRating(a),s=[];switch(c){case Y.g.A:s.push(t._("Speaking Rate of {wordsPerMinuteLabel} words per minute is within the desirable range",{wordsPerMinuteLabel:i}));break;case Y.g.B:o<Y.i?s.push(t._("Speaking Rate of {wordsPerMinuteLabel} words per minute is below the desirable range",{wordsPerMinuteLabel:i})):s.push(t._("Speaking Rate of {wordsPerMinuteLabel} words per minute is above the desirable range",{wordsPerMinuteLabel:i}));break;case Y.g.C:o<Y.i?s.push(t._("Speaking Rate of {wordsPerMinuteLabel} words per minute is significantly below the desirable range",{wordsPerMinuteLabel:i})):s.push(t._("Speaking Rate of {wordsPerMinuteLabel} words per minute is significantly above the desirable range",{wordsPerMinuteLabel:i}));break;default:s.push(t._("Speaking Rate: {wordsPerMinuteLabel} words per minute",{wordsPerMinuteLabel:i}))}var u=t._("{wordsPerMinuteLabel} words per minute",{wordsPerMinuteLabel:i});s.push(n.createScoreLabel(a));var l=n.createTooltip(s);return{title:t._("Speaking Rate"),rating:c,score:a,tooltip:l,description:u,metricValue:o,metricConfig:{minValue:Y.i-80,maxValue:Y.i+80,thresholds:[{minValue:0,rating:Y.g.C},{minValue:120,rating:Y.g.B},{minValue:135,rating:Y.g.A},{minValue:185,rating:Y.g.B},{minValue:200,rating:Y.g.C}]},metricDetails:{icon:v.a.CHART,tooltip:{theme:"light",interactive:!0,tabIndex:0,trigger:"".concat(w.b.defaultProps.trigger," click"),position:w.b.POSITION.BOTTOM,useContext:!0,html:n.renderSpeakingRateChart()}}}})),Xe(Ke(Ke(n)),"createDeliveryItems",(function(){return d.a.compact([n.createClarityItem(),n.createFillersItem(),n.createSpeakingRateItem()])})),Xe(Ke(Ke(n)),"renderOverallGauge",(function(){var e=n.props,t=e.i18n,r=e.report.score,o=n.getTruncatedNumber(r),i=t._("An overall score of {formattedScore} is the average of the Delivery and Content subscores.",{formattedScore:o});return a.a.createElement(w.b,{className:"auto-analysis-report-overall-gauge-container",ariaLabel:i,label:i,tabIndex:0},a.a.createElement(A,{className:"auto-analysis-report-overall-gauge",label:t._("Overall"),maxValue:100,thresholds:[{minValue:0,trackFillClassName:"auto-analysis-report-overall-gauge-threshold-c"},{minValue:70,trackFillClassName:"auto-analysis-report-overall-gauge-threshold-b"},{minValue:85,trackFillClassName:"auto-analysis-report-overall-gauge-threshold-a"}],value:o}))})),Xe(Ke(Ke(n)),"renderInfoItem",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,o=n.props.i18n;return a.a.createElement("div",{className:"auto-analysis-report-info-item","aria-label":o._("{label}: {valueAriaLabel}.",{label:e,valueAriaLabel:r})},a.a.createElement("span",{className:"auto-analysis-report-info-item-label","aria-hidden":!0},"".concat(e,":")),a.a.createElement("span",{className:"auto-analysis-report-info-item-value","aria-hidden":!0},t))})),Xe(Ke(Ke(n)),"renderInfoItems",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.props,r=t.i18n,o=t.analyzedAt,i=t.report,c=i.wordCount,s=n.getDurationLabel(),u=["auto-analysis-report-info-items"];e?u.push("auto-analysis-report-info-items--stacked"):u.push("auto-analysis-report-info-items--inline");var l=a.a.createElement(y.a,{unixTime:o}),d=new Date(1e3*o).toLocaleString();return a.a.createElement("div",{className:g()(u)},n.renderInfoItem(r._("Words"),c),n.renderInfoItem(r._("Duration"),s),n.renderInfoItem(r._("Analyzed at"),l,d))})),Xe(Ke(Ke(n)),"renderInfo",(function(){var e=n.props,t=e.isScoreVisible,r=e.mediaTitle,o=e.report.contentScore,i=null;return i=t&&!d.a.isNull(o)?a.a.createElement("div",{className:"auto-analysis-report-overall-container"},n.renderOverallGauge(!0),n.renderInfoItems(!0)):n.renderInfoItems(!1),a.a.createElement("div",{className:"auto-analysis-report-info"},a.a.createElement("h2",{className:"auto-analysis-report-info-title"},r),i)})),Xe(Ke(Ke(n)),"renderSummaryCards",(function(){var e=n.props,t=e.i18n,r=e.isScoreVisible,o=e.report,i=[],c=n.getTruncatedNumber(o.deliveryScore,1),s=n.createDeliveryItems(),u=t._("Delivery is a summary of the analysis for each category below"),l=a.a.createElement(G,{key:"summary-card[delivery]",title:t._("Delivery"),score:c,isScoreVisible:r,items:s,infoTooltip:u});if(i.push(l),!d.a.isNull(o.contentScore)){var f=n.getTruncatedNumber(o.contentScore,1),p=n.createContentItems(),m=t._("Content is a summary of the analysis for each category below"),b=a.a.createElement(G,{key:"summary-card[content]",title:t._("Content"),score:f,isScoreVisible:r,items:p,infoTooltip:m});i.push(b)}return a.a.createElement("div",{className:"auto-analysis-report-summary-cards"},i)})),Xe(Ke(Ke(n)),"renderSpeakingRateChart",(function(){var e=n.props.report.annotatedTranscript;return a.a.createElement(Be,{annotatedTranscript:e})})),Xe(Ke(Ke(n)),"renderTranscript",(function(){var e=n.props.report,t=e.annotatedTranscript,r=e.fillers,o=e.keyTerms,i=e.terms;return a.a.createElement(_e,{annotatedTranscript:t,fillerWords:r,keyTerms:o,terms:i})})),Xe(Ke(Ke(n)),"renderReport",(function(){return a.a.createElement("div",{className:"auto-analysis-report"},n.renderInfo(),n.renderSummaryCards(),n.renderTranscript())})),Xe(Ke(Ke(n)),"renderUnclearReport",(function(){var e=n.props.i18n;return a.a.createElement("div",{className:g()("auto-analysis-report","auto-analysis-report--unclear")},a.a.createElement("div",{className:"auto-analysis-report-status-message-unclear-container"},a.a.createElement("div",{className:"auto-analysis-report-status-message-unclear-container--left"},a.a.createElement(E.a,{className:"auto-analysis-report-status-message-unclear-icon"},v.a.STATUS_WARNING)),a.a.createElement("div",{className:"auto-analysis-report-status-message-unclear-container--right"},a.a.createElement("div",{className:"auto-analysis-report-status-message-unclear--primary"},a.a.createElement("p",null,e._("Bongo was unable to confidently provide an analysis of this video"))),a.a.createElement("div",{className:"auto-analysis-report-status-message-unclear--secondary"},a.a.createElement("p",null,e._("This may be due to unclear audio or a non-English language spoken.")),a.a.createElement("p",null,e._("Currently, the Auto Analysis\\u2122 report is only available for English videos."))))),a.a.createElement("div",{className:"auto-analysis-report-status-message-unclear--actions"},a.a.createElement(f.b,{primary:!0,id:"auto-analysis-report-reveal-unclear-button",ariaLabel:e._("Show the analysis anyways"),onClick:n.onRevealAnalysisClick},e._("Show the analysis anyways"))))}));var i=n.checkClarity(e);return n.state=Qe({},Je,{isClarityAcceptable:i,isReportVisible:i}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(){var e=this.props.onComponentUpdate;e&&e()}},{key:"render",value:function(){var e=this.state.isReportVisible?this.renderReport():this.renderUnclearReport();return a.a.createElement("div",{className:"auto-analysis-report-container"},e)}}])&&Ye(n.prototype,r),o&&Ye(n,o),t}(r.PureComponent);Ze.defaultProps={isScoreVisible:!1},Ze.propTypes={analyzedAt:i.a.number.isRequired,i18n:i.a.any.isRequired,isScoreVisible:i.a.bool,mediaTitle:i.a.string.isRequired,onComponentUpdate:i.a.func,report:i.a.shape({score:i.a.number,contentScore:i.a.number,deliveryScore:i.a.number,length:i.a.number,wordCount:i.a.number,clarity:i.a.shape({clearWordCount:i.a.number,score:i.a.number,unclearWordCount:i.a.number}),fillers:i.a.shape({count:i.a.number,fillerWordCounts:i.a.arrayOf(i.a.shape({count:i.a.number,word:i.a.string})),percentage:i.a.number,score:i.a.number}),keyTerms:i.a.shape({desiredKeyTerms:i.a.arrayOf(i.a.shape({term:i.a.string,count:i.a.number})),penaltyKeyTerms:i.a.arrayOf(i.a.shape({term:i.a.string,penalty:i.a.number})),score:i.a.number}),speakingRate:i.a.shape({score:i.a.number,wordsPerMinute:i.a.number}),terms:i.a.arrayOf(i.a.shape({term:i.a.string,count:i.a.number})),annotatedTranscript:i.a.arrayOf(i.a.shape({value:i.a.string.isRequired}))}).isRequired};var $e=Object(c.withI18n)()(Ze);n("OZTn");function et(e){return(et="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=nt(t).call(this,e),n=!o||"object"!==et(o)&&"function"!==typeof o?at(r):o,ot(at(at(n)),"componentDidUpdate",(function(){n.contentContainerRef.current&&n.contentContainerRef.current.focus()})),ot(at(at(n)),"onDownloadTranscriptClick",(function(){var e=n.props,t=e.i18n,r=e.analysis.report,a=e.mediaTitle,o=j.a.getTranscriptText(r.annotatedTranscript);o||(o=t._("(transcript blank)"));var i=new Blob([o],{type:"text/plain;charset=utf-8"}),c=t._("AutoAnalysis_Transcript_{mediaTitle}",{mediaTitle:a});c=String(c).substring(0,Y.f),u.a.saveAs(i,"".concat(c,".txt"))})),ot(at(at(n)),"onReportComponentUpdate",(function(){n.dialogRef.current.getWrappedInstance().recalculateFocusables()})),ot(at(at(n)),"renderReport",(function(){var e=n.props,t=e.analysis,r=t.startTime,o=t.report,i=e.isScoreVisible,c=e.mediaTitle;return a.a.createElement($e,{analyzedAt:r,report:o,isScoreVisible:i,mediaTitle:c,onComponentUpdate:n.onReportComponentUpdate})})),ot(at(at(n)),"renderError",(function(){var e=n.props,t=e.i18n,r=e.analysis;if(r.error)switch(r.error.code){case Y.e.ERROR_TYPE_ANALYSIS_FAILED:case Y.e.AUDIO_EXCEEDS_MAX:case Y.e.FILESIZE_EXCEEDS_MAX:var o=t._("Bongo was unable to provide an analysis of this video. This may be due to the video duration being too long or lack of audio.");return a.a.createElement(b.a,{type:b.a.NOTE_TYPES.ERROR,message:o});default:var i=t._("Unable to retrieve the analysis for this video.");return a.a.createElement(b.a,{type:b.a.NOTE_TYPES.ERROR,message:i})}return null})),ot(at(at(n)),"getStatusTitle",(function(e){var t=n.props.i18n;switch(e){case Y.c.SUBMITTED:return t._("Submitted for Analysis");case Y.c.TRANSCRIBING:return t._("Transcribing...");case Y.c.ANALYZING:case Y.c.REANALYZING:return t._("Analyzing...")}})),ot(at(at(n)),"renderWaiting",(function(){var e=n.props,t=e.i18n,r=e.analysis,o=r.startTime,i=r.state,c=o;return a.a.createElement("div",{className:"auto-analysis-dialog-content-waiting"},a.a.createElement("div",{className:"auto-analysis-dialog-content-waiting-left"},a.a.createElement(m.c,{className:"auto-analysis-dialog-content-waiting-spinner"})),a.a.createElement("div",{className:"auto-analysis-dialog-content-waiting-right"},a.a.createElement("h3",{className:"auto-analysis-dialog-content-waiting-title"},n.getStatusTitle(i)),a.a.createElement("div",{className:"auto-analysis-dialog-content-waiting-details"},c?a.a.createElement("p",null,t._("Processing started at:")," ",a.a.createElement(y.b,{unixTime:c})):a.a.createElement("p",null,t._("Processing should begin shortly.")),a.a.createElement("p",null,t._("Analyzing a video typically takes as long as the duration of the video.")),a.a.createElement("p",null,t._("You can close this dialog and the processing will continue to run.")))))})),ot(at(at(n)),"renderHeaderActions",(function(){var e=n.props,t=e.i18n;return e.analysis.state===Y.c.COMPLETE?[a.a.createElement(f.d,{id:"auto-analysis-dialog-transcript-download",tooltip:{label:t._("Download Transcript")},onClick:n.onDownloadTranscriptClick,ariaLabel:t._("Download Transcript")},v.a.DOWNLOAD)]:[]})),ot(at(at(n)),"renderContent",(function(){switch(n.props.analysis.state){case Y.c.COMPLETE:return n.renderReport();case Y.c.SUBMITTED:case Y.c.TRANSCRIBING:case Y.c.ANALYZING:case Y.c.REANALYZING:return n.renderWaiting();case Y.c.ERROR:case Y.c.NOT_SUBMITTED:default:return n.renderError()}})),n.contentContainerRef=a.a.createRef(),n.dialogRef=a.a.createRef(),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onClose,r=this.renderContent(),o=this.renderHeaderActions();return a.a.createElement(p.a,{id:"auto-analysis-dialog",ref:this.dialogRef,dialogClassName:"auto-analysis-dialog",contentClassName:"auto-analysis-dialog-content",title:t._("Auto Analysis\\u2122"),fullPage:!0,onHide:n,headerActions:o},a.a.createElement("div",{className:"auto-analysis-dialog-content-container",ref:this.contentContainerRef},r))}}])&&tt(n.prototype,r),o&&tt(n,o),t}(a.a.PureComponent);it.defaultProps={isScoreVisible:!1},it.propTypes={analysis:i.a.shape({report:i.a.object,error:i.a.shape({code:i.a.oneOf(d.a.values(Y.e)),message:i.a.string}),state:i.a.oneOf(d.a.values(Y.c)),startTime:i.a.number}).isRequired,i18n:i.a.any.isRequired,isScoreVisible:i.a.bool,mediaTitle:i.a.string.isRequired,onClose:i.a.func.isRequired};t.a=Object(c.withI18n)()(it)},R0ST:function(e,t,n){e.exports={projectTypeContainer:"b_rWfC7NkN",projectTypeLabel:"b_sYBV9e2l"}},RBRe:function(e,t,n){"use strict";var r=n("J7Bk"),a=n("cfNM"),o=n("nBc4"),i=n("r538"),c=n("I/p7"),s=n("eoRp"),u=n("jpbM"),l=n.n(u),d=n("LvDl"),f=n.n(d),p=n("8bCP"),m=n("CT7t");var b=Object(p.c)("graphql"),y=["bongo-gql-req-id"],v=function(e){return Object(s.createUploadLink)({uri:e,credentials:"same-origin"})},h=new a.a({addTypename:!0,cacheRedirects:{},dataIdFromObject:function(e){return e.uuid&&e.__typename?e.__typename+e.uuid:null},fragmentMatcher:new o.b({introspectionQueryResultData:{__schema:{types:[{kind:"UNION",name:"StudentLibrarySearchResult",possibleTypes:[{name:"LibraryMedia"},{name:"ActivityMedia"},{name:"ProfileMedia"}]}]}}})}),g=function(e,t){return new i.ApolloLink((function(n,r){var a,o,i,c=function(e){try{var t=e;return f.a.startsWith(t,"/")&&(t="".concat(window.location.origin).concat(t)),new URL(t)}catch(n){b.debug("Unable to build parse URL for apiEndpoint=".concat(e),n)}return null}(e);if(c){var s=n.operationName||"unaliased";if(c.searchParams.set("opName",s),f.a.includes(t,"bongo-gql-req-id")){var u=n.getContext(),d=f.a.merge({},u.headers,(a={},o="bongo-gql-req-id",i=l()(16),o in a?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i,a));n.setContext({headers:d})}n.setContext({uri:c.toString()})}else n.setContext({uri:e});return r(n)}))},E=function(){return new i.ApolloLink((function(e,t){return t(e).map((function(t){try{var n=e.getContext().response.headers.get("date");if(!n)throw new Error('response did not contain a valid value in the "date" header');m.a.updateServerDate(new Date(n))}catch(r){b.debug("Unable to read date (server time) from GQL response headers",r)}return t}))}))},w=function(e){return new i.ApolloLink((function(t,n){return t.setContext({start:new Date,headers:{authorization:e?"Bearer ".concat(e):null}}),n(t)}))},O=new i.ApolloLink((function(e,t){return t(e).map((function(t){try{var n=new Date-e.getContext().start,r=e.query.definitions[0].operation||"<unknown>",a=e.operationName||"<unaliased query>",o=e.query.loc.source.body||"<unknown body>",i=e.variables||{};b.debug("[GQL ".concat(a," (").concat(r,")]: Took ").concat(n,"ms to complete")),b.trace("[GQL ".concat(a," (").concat(r,")]: ").concat(JSON.stringify(i),"\n").concat(o))}catch(c){b.debug(c)}return t}))})),S=Object(c.a)((function(e){var t=e.networkError,n=e.graphQLErrors;n&&n.map((function(e){var t=e.message,n=e.locations,r=e.path;return b.error("[GQL Error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(r))})),t&&b.error("[GQL Network Error]: ".concat(t))}));t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=w(t),c=g(e,n),s=E(),u=v(e),l=i.ApolloLink.from([o,c,O,s,S,u]);return new r.a({link:l,cache:h,connectToDevTools:a&&Boolean(!1),queryDeduplication:!0,defaultOptions:{query:{errorPolicy:"all",fetchPolicy:"network-only"},mutate:{errorPolicy:"all"}}})}},RKRe:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("/MKj"),s=n("TSYQ"),u=n.n(s),l=n("ZD0w"),d=n("J4l3"),f=n.n(d),p=n("rgrG"),m=n.n(p),b=n("te1l"),y=n.n(b),v=n("Uu12"),h=n("MSUi"),g=n("HCbP");n("0l2v");function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w="powered-by-logo",O=function(e){var t=e.i18n;return e.isLogoVisible?a.a.createElement("div",E({},v.k.logo,{className:u()("powered-by",e.className)}),a.a.createElement("img",{className:w,alt:t._("Powered by Bongo"),src:g.a.showPoweredByBongoLogo()?m.a:g.a.showPoweredByBongoTextLogo()?(w+=" powered-by-logo-small",y.a):f.a})):null};O.propTypes={className:i.a.string,i18n:i.a.object,isLogoVisible:i.a.bool};t.a=Object(l.withI18n)()(Object(c.b)((function(e){return{isLogoVisible:h.g(e)}}))(O))},RMfM:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"p",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"j",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"n",(function(){return y})),n.d(t,"m",(function(){return v})),n.d(t,"g",(function(){return h})),n.d(t,"s",(function(){return g})),n.d(t,"q",(function(){return E})),n.d(t,"u",(function(){return w})),n.d(t,"t",(function(){return O})),n.d(t,"F",(function(){return S})),n.d(t,"v",(function(){return C})),n.d(t,"z",(function(){return _})),n.d(t,"x",(function(){return I})),n.d(t,"r",(function(){return T})),n.d(t,"E",(function(){return R})),n.d(t,"A",(function(){return P})),n.d(t,"B",(function(){return A})),n.d(t,"C",(function(){return N})),n.d(t,"y",(function(){return j})),n.d(t,"D",(function(){return k})),n.d(t,"w",(function(){return D}));var r="[Player] Init",a="[Player] Destroy",o="[Player] Play",i="[Player] Pause",c="[Player] Update time",s="[Player] Ready",u="[Player] Set duration",l="[Player] Set buffered percent",d="[Player] Ended",f="[Player] Set volume",p="[Player] Set full screen",m="[Player] Set is seeking",b="[Player] Set controls is showing",y="[Player] Set tracks",v="[Player] Set is waiting",h="[Player] Set auto captions enabled/disabled",g=function(e,t){return{type:r,payload:{playerId:e,options:t}}},E=function(e){return{type:a,payload:{playerId:e}}},w=function(e){return{type:o,payload:{playerId:e}}},O=function(e){return{type:i,payload:{playerId:e}}},S=function(e,t){return{type:c,payload:{playerId:e,time:t}}},C=function(e){return{type:s,payload:{playerId:e}}},_=function(e,t){return{type:u,payload:{playerId:e,duration:t}}},I=function(e,t){return{type:l,payload:{playerId:e,buffered:t}}},T=function(e){return{type:d,payload:{playerId:e}}},R=function(e,t){return{type:f,payload:{playerId:e,volume:t}}},P=function(e,t){return{type:p,payload:{playerId:e,isFullScreen:t}}},A=function(e,t){return{type:m,payload:{playerId:e,isSeeking:t}}},N=function(e,t){return{type:v,payload:{playerId:e,isWaiting:t}}},j=function(e,t){return{type:b,payload:{playerId:e,controls:t}}},k=function(e,t){return{type:y,payload:{playerId:e,tracks:t}}},D=function(e,t){return{type:h,payload:{playerId:e,autoCaptionsEnabled:t}}}},RP9J:function(e,t,n){},RWpT:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("TSYQ"),s=n.n(c),u=n("MzIV"),l=(n("i5n6"),"column-date");function d(e){return a.a.createElement("span",{className:s()(l,e.className)},a.a.createElement(u.a,{unixTime:e.value}))}d.propTypes={className:i.a.string},t.a=d},RaGr:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("ZD0w"),i=n("TSYQ"),c=n.n(i),s=(n("BKYJ"),n("wGj+"),n("PO6j")),u=n("Vy55"),l=n("17x9"),d=n.n(l);function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,b(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"c-recorder__notifications"},this.props.list.map((function(e){var t="";switch(e.type){case u.a.TYPES.ERROR:t="c-recorder__notification--error";break;case u.a.TYPES.INFO:t="c-recorder__notification--info";break;case u.a.TYPES.WARN:t="c-recorder__notification--warn"}return a.a.createElement("div",{className:c()("c-recorder__notification",t),key:e.id},a.a.createElement("p",null,e.message,e.clickHandler&&a.a.createElement("button",{onClick:e.clickHandler,className:"c-recorder__fix-button",tabIndex:0},e.fixText)),a.a.createElement(s.a,null,e.message))})))}}])&&p(n.prototype,r),o&&p(n,o),t}(r.Component);v.propTypes={list:d.a.arrayOf(d.a.instanceOf(u.a))};var h=n("V+cX"),g=n("LvDl"),E=n.n(g),w=n("LFYD"),O=n("kbsL"),S=n("giI2"),C=n("hvs/"),_=n("+y5T"),I=n("cK1Q");n("jq4a");function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==T(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(this,A(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.className,r=e.onClick;return a.a.createElement(O.h,{id:"recorder-start-button",primary:!0,className:c()("recorder-start-button",n),ariaLabel:t._("Start Recording"),onClick:r},a.a.createElement(S.a,{className:"recorder-start-button-icon"},w.a.ADJUST),a.a.createElement("span",null,t._("Record")))}}])&&R(n.prototype,r),o&&R(n,o),t}(a.a.PureComponent);j.propTypes={className:d.a.string,i18n:d.a.object,onClick:d.a.func};var k=Object(o.withI18n)()(j);n("sFEX");function D(e){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V="recorder-screen-chooser",G="recorder-standalone-launcher",q="recorder-activating-banner",B="recorder-activating-message",W=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,o=(e=M(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==D(o)&&"function"!==typeof o?F(r):o,U(F(F(n)),"isInitialState",(function(){return n.props.viewState===h.a.INITIAL})),U(F(F(n)),"areAllStreamsReady",(function(){var e=n.props,t=e.cameraStream,r=e.desktopStream,a=e.microphoneStream,o=e.audioIsNormal,i=e.recorderType;if(!o)return!1;switch(i){case _.a.CAMERA_ONLY:return Boolean(t);case _.a.DESKTOP_ONLY:return Boolean(r&&a);case _.a.CAMERA_WITH_DESKTOP:return Boolean(r&&t)}return!1})),U(F(F(n)),"areAnyVideoStreamsReady",(function(){var e=n.props,t=e.cameraStream,r=e.desktopStream;return Boolean(t||r)})),U(F(F(n)),"onStandaloneModeClick",(function(){var e=n.props.onStandaloneModeClick;e&&e()})),U(F(F(n)),"renderStandaloneMessage",(function(){var e=n.props,t=e.i18n,r=e.onStandaloneModeClick,o=e.isStandaloneMode,i=e.isStandaloneModeAllowed;if(!o&&i&&r)return a.a.createElement(O.b,{id:"recorder-standalone-launcher",className:G,onClick:n.onStandaloneModeClick},a.a.createElement("div",{className:"".concat(G,"-content")},a.a.createElement("span",null,a.a.createElement(S.a,null,w.a.OPEN_IN_BROWSER),t._("Open Standalone Recorder")),a.a.createElement("span",{className:"".concat(G,"-text")},t._("Try using the Standalone Recorder if you're having trouble activating the recorder."))))})),U(F(F(n)),"renderStartButton",(function(){var e=n.props,t=e.startRecord;return e.showRecordButton?a.a.createElement(k,{key:"recorder-overlay-component[start-button]",onClick:t}):null})),U(F(F(n)),"renderActivatingMessage",(function(){var e=n.props.i18n;return a.a.createElement("div",{className:B},a.a.createElement(C.a,{className:"".concat(B,"-loader"),isLoading:!0}),a.a.createElement("span",{className:"".concat(B,"-text")},e._("Activating Recorder")))})),U(F(F(n)),"renderActivatingBanner",(function(){return a.a.createElement("div",{key:"recorder-overlay-component[activating-banner]",className:q},n.renderActivatingMessage(),n.renderStandaloneMessage())})),U(F(F(n)),"renderScreenContentChooserButton",(function(){var e=n.props,t=e.i18n,r=e.desktopStream,o=e.onChooseScreenContent;return r&&o?a.a.createElement(O.c,{key:"recorder-overlay-component[screen-chooser]",primary:!0,className:V,tooltip:{label:t._("Change screen or application..."),className:"".concat(V,"-wrapper")},onClick:o},w.a.APP_WINDOW):null})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.className;if(!this.isInitialState())return null;var t=[];return t=this.areAllStreamsReady()?[this.renderStartButton(),this.renderScreenContentChooserButton()]:[this.renderActivatingBanner()],t=E.a.compact(t),a.a.createElement("div",{className:c()("recorder-overlay-container",e)},t)}}])&&L(n.prototype,r),o&&L(n,o),t}(a.a.PureComponent);W.defaultProps={},W.propTypes={className:d.a.string,audioIsNormal:d.a.bool,cameraStream:d.a.instanceOf(I.a),desktopStream:d.a.instanceOf(I.a),isStandaloneMode:d.a.bool,isStandaloneModeAllowed:d.a.bool,microphoneStream:d.a.instanceOf(I.a),onChooseScreenContent:d.a.func,onStandaloneModeClick:d.a.func,recorderType:d.a.oneOf(Object.values(_.a)).isRequired,showRecordButton:d.a.bool,startRecord:d.a.func,viewState:d.a.oneOf(Object.values(h.a)).isRequired,i18n:d.a.object.isRequired};var Q=Object(o.withI18n)()(W),Y=n("/MKj"),H=n("0zen"),z=n("TDYo");function K(e){return(K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ee=function(e){function t(){var e,n,r,a,o,i,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];return r=this,a=(e=J(t)).call.apply(e,[this].concat(u)),n=!a||"object"!==K(a)&&"function"!==typeof a?$(r):a,o=$($(n)),c=function(){var e=n.props,t=e.dispatch,r=e.recorderId;t(z.h(r))},(i="startRecord")in o?Object.defineProperty(o,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[i]=c,n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.audioIsNormal,n=e.cameraStream,r=e.desktopStream,o=e.microphoneStream,i=this.props,c=i.isStandaloneModeAllowed,s=i.isStandaloneMode,u=i.onStandaloneModeClick,l=this.props,d=l.onChooseScreenContent,f=l.recorderType,p=l.showRecordButton,m=l.viewState;return m?a.a.createElement(Q,{audioIsNormal:t,cameraStream:n,desktopStream:r,microphoneStream:o,isStandaloneModeAllowed:c,isStandaloneMode:s,onStandaloneModeClick:u,onChooseScreenContent:d,recorderType:f,showRecordButton:p,viewState:m,startRecord:this.startRecord}):null}}])&&X(n.prototype,r),o&&X(n,o),t}(a.a.PureComponent);ee.propTypes={className:d.a.string,isStandaloneMode:d.a.bool,isStandaloneModeAllowed:d.a.bool,onChooseScreenContent:d.a.func,onStandaloneModeClick:d.a.func,recorderId:d.a.oneOfType([d.a.number,d.a.string]).isRequired,recorderType:d.a.oneOf(Object.values(_.a)).isRequired,showRecordButton:d.a.bool,dispatch:d.a.func,audioIsNormal:d.a.bool,cameraStream:d.a.instanceOf(I.a),desktopStream:d.a.instanceOf(I.a),microphoneStream:d.a.instanceOf(I.a),viewState:d.a.oneOf(Object.values(h.a))};var te=Object(Y.b)((function(e,t){var n=t.recorderId;return{audioIsNormal:H.c(e,n),cameraStream:H.f(e,n),desktopStream:H.j(e,n),microphoneStream:H.q(e,n),viewState:H.J(e,n)}}))(ee);n("zNkm");function ne(e){return(ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ce=function(e){function t(){var e,n,r,a,o,i,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];return r=this,a=(e=ae(t)).call.apply(e,[this].concat(u)),n=!a||"object"!==ne(a)&&"function"!==typeof a?ie(r):a,o=ie(ie(n)),c=function(){var e=n.props,t=e.cameraStream,r=e.desktopStream;return Boolean(t||r)},(i="areAnyVideoStreamsReady")in o?Object.defineProperty(o,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[i]=c,n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.cameraStream,n=e.desktopStream,r=!this.areAnyVideoStreamsReady();return a.a.createElement("div",{className:"c-recorder__stream-holder"},t&&a.a.createElement("div",{className:c()("c-recorder__stream")},a.a.createElement("video",{className:"c-recorder__stream-video",autoPlay:!0,playsInline:!0,ref:function(e){t.attachVideoToElement(e)}})),n&&a.a.createElement("div",{className:c()("c-recorder__stream")},a.a.createElement("video",{className:c()("c-recorder__stream-video","c-recorder__stream-video--deskshare"),autoPlay:!0,playsInline:!0,ref:function(e){n.attachVideoToElement(e)}})),r&&a.a.createElement("div",{className:"c-recorder__video-placeholder"}))}}])&&re(n.prototype,r),o&&re(n,o),t}(r.Component);ce.propTypes={cameraStream:d.a.instanceOf(I.a),desktopStream:d.a.instanceOf(I.a)};var se=Object(o.withI18n)()(ce);function ue(e){return(ue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return!t||"object"!==ue(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),de(this,fe(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.cameraStream,n=e.desktopStream;return a.a.createElement(se,{cameraStream:t,desktopStream:n})}}])&&le(n.prototype,r),o&&le(n,o),t}(r.Component);me.propTypes={recorderId:d.a.oneOfType([d.a.number,d.a.string]).isRequired,cameraStream:d.a.instanceOf(I.a),desktopStream:d.a.instanceOf(I.a)};var be=Object(Y.b)((function(e,t){var n=t.recorderId;return{cameraStream:H.f(e,n),desktopStream:H.j(e,n)}}))(me);n("NXr4");function ye(e){return(ye="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return!t||"object"!==ye(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),he(this,ge(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=100*this.props.level*3;return e=e>100?100:e,a.a.createElement("div",{className:"c-audio-level"},a.a.createElement("div",{className:"c-audio-level__strip",style:{width:e+"%"}}),a.a.createElement("p",{className:"c-audio-level__label"},a.a.createElement(o.Trans,{id:"Audio level"})))}}])&&ve(n.prototype,r),i&&ve(n,i),t}(r.Component);we.propTypes={level:d.a.number};var Oe=we;n("V08G");function Se(e){return(Se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return!t||"object"!==Se(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_e(this,Ie(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.options,r=e.value,o=e.placeholder,i=e.onChange,s=e.icon;return a.a.createElement("div",{className:c()("c-recorder__select")},a.a.createElement("span",{className:"c-recorder__select-icon-holder"},s),a.a.createElement("div",{className:"c-recorder__select-input-container"},a.a.createElement("select",{disabled:t,className:"c-recorder__select-input",value:r||"",tabIndex:0,"aria-label":this.props["aria-label"],onChange:function(e){return i(e.target.value)}},a.a.createElement("option",{value:"",disabled:!0},o),n.map((function(e){return a.a.createElement("option",{value:e.value,key:e.id},e.label)})))))}}])&&Ce(n.prototype,r),o&&Ce(n,o),t}(r.Component);Re.propTypes={disabled:d.a.bool,options:d.a.array,value:d.a.string,"aria-label":d.a.string,placeholder:d.a.string,onChange:d.a.func,icon:d.a.node};var Pe=Re,Ae=n("4XMt"),Ne=n("xrVw");n("4/mv");function je(e){return(je="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return!t||"object"!==je(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),De(this,Le(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e,t,n,r=this.props,o=r.onClick,i=r.disabled,s=r.i18n;return a.a.createElement(Ne.a,{id:"recorder-stop-button",className:c()("c-recorder__stop-button",(e={},t="c-recorder__stop-button--disabled",n=i,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),onClick:o,"aria-label":s._("Stop recording"),disabled:i},s._("Stop"))}}])&&ke(n.prototype,r),o&&ke(n,o),t}(r.Component);xe.propTypes={tooltip:d.a.any,onClick:d.a.func,disabled:d.a.bool,i18n:d.a.object};var Fe=Object(Ae.c)(Object(o.withI18n)()(xe)),Ue=n("q8N1");n("+Ml8");function Ve(e){return(Ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return!t||"object"!==Ve(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qe(this,Be(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.onClick;return a.a.createElement("div",{className:"c-recorder__iconed-button-holder","aria-label":this.props["aria-label"],onClick:e,onKeyDown:Object(Ue.b)(e),role:"button",tabIndex:0},a.a.createElement("button",{className:"c-recorder__iconed-button",tabIndex:-1},this.props.children))}}])&&Ge(n.prototype,r),o&&Ge(n,o),t}(r.Component);Qe.propTypes={onClick:d.a.func,children:d.a.node,"aria-label":d.a.any};var Ye=Qe,He=n("8For");function ze(e){return(ze="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return!t||"object"!==ze(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xe(this,Je(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,e),n=t,(r=[{key:"clickHandler",value:function(){var e=this.props,t=e.play,n=e.pause;e.isPlaying?n():t()}},{key:"render",value:function(){var e=this.props,t=e.isPlaying,n=e.i18n,r=n._("Play Video"),o=a.a.createElement(He.a,{className:"c-recorder__controls-bar-icon",ariaLabel:n._("Play Video, icon")},w.a.PLAY_ARROW);return t&&(o=a.a.createElement(He.a,{className:"c-recorder__controls-bar-icon",ariaLabel:n._("Pause Video, icon")},w.a.PAUSE),r=n._("Pause Video")),a.a.createElement(Ye,{onClick:this.clickHandler.bind(this),"aria-label":r},o)}}])&&Ke(n.prototype,r),o&&Ke(n,o),t}(r.Component);$e.propTypes={i18n:d.a.object,play:d.a.func,pause:d.a.func,isPlaying:d.a.bool};var et=Object(o.withI18n)()($e);n("m3+W");function tt(e){return(tt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return!t||"object"!==tt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var it=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rt(this,at(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,e),n=t,(r=[{key:"handleSliderChange",value:function(e){this.props.onPlaybackTimeChange(e)}},{key:"render",value:function(){var e=this.props,t=e.playbackTime,n=e.playbackDuration;return a.a.createElement("div",{className:"c-recorder__timeline-holder"},a.a.createElement("div",{className:"c-recorder__timeline"},a.a.createElement(Ne.J,{min:0,max:+n.toFixed(1),step:.1,value:+t.toFixed(1),style:{margin:0},trackStyle:{margin:0},onChange:this.handleSliderChange.bind(this)})))}}])&&nt(n.prototype,r),o&&nt(n,o),t}(r.Component);it.propTypes={onPlaybackTimeChange:d.a.func,playbackTime:d.a.number,playbackDuration:d.a.number};var ct=it;n("rklM");function st(e){return(st="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t){return!t||"object"!==st(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lt(this,dt(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n;return a.a.createElement("div",{onClick:this.props.reset,onKeyDown:Object(Ue.b)(this.props.reset),className:"c-recorder__redo c-recorder__action-btn","aria-label":e._("Reset"),tabIndex:0,title:e._("Reset"),role:"button"},a.a.createElement(He.a,{className:"c-recorder__controls-bar-icon",ariaLabel:e._("Reset, icon")},w.a.DELETE))}}])&&ut(n.prototype,r),o&&ut(n,o),t}(r.Component);pt.propTypes={i18n:d.a.object,reset:d.a.func};var mt=Object(o.withI18n)()(pt);n("u90/");function bt(e){return(bt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return!t||"object"!==bt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Et=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vt(this,ht(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n;return a.a.createElement("div",{onClick:this.props.downloadRecords,"aria-label":e._("Download"),title:e._("Download"),tabIndex:0,onKeyDown:Object(Ue.b)(this.props.downloadRecords),className:"c-recorder__download c-recorder__action-btn",role:"button"},a.a.createElement(He.a,{className:"c-recorder__controls-bar-icon",ariaLabel:e._("Download, icon")},w.a.DOWNLOAD))}}])&&yt(n.prototype,r),o&&yt(n,o),t}(r.Component);Et.propTypes={i18n:d.a.object,downloadRecords:d.a.func};var wt=Object(o.withI18n)()(Et);n("FeSs");function Ot(e){return(Ot="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return!t||"object"!==Ot(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ct(this,_t(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.i18n;return a.a.createElement("div",{className:"c-recorder__submit-button-holder c-recorder__action-btn",title:e._("Save"),"aria-label":e._("Save"),onClick:this.props.submit,onKeyDown:Object(Ue.b)(this.props.submit),tabIndex:0,role:"button"},a.a.createElement(He.a,{ariaLabel:e._("Save, icon")},w.a.SAVE))}}])&&St(n.prototype,r),o&&St(n,o),t}(r.Component);Tt.propTypes={i18n:d.a.object,submit:d.a.func};var Rt=Object(o.withI18n)()(Tt);n("evQ8");function Pt(e){return(Pt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return!t||"object"!==Pt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Nt(this,jt(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,e),n=t,o=[{key:"deviceListToSelectOptions",value:function(e){return e.map((function(e){return{id:e.deviceId,value:e.deviceId,label:e.label}}))}}],(r=[{key:"renderInitialState",value:function(){var e=this.props,n=e.audioDevices,r=e.videoDevices,o=e.audioLevel,i=e.onCameraChange,c=e.onMicrophoneChange,s=e.currentCameraId,u=e.currentMicrophoneId,l=e.i18n,d=t.deviceListToSelectOptions(n),f=t.deviceListToSelectOptions(r),p=this.props.viewState===h.a.INITIAL,m=this.props.recorderType===_.a.DESKTOP_ONLY;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"c-recorder__actions-container"},!m&&a.a.createElement(Pe,{options:f,icon:a.a.createElement(He.a,{className:"c-recorder__select-icon"},w.a.VIDEOCAM),placeholder:l._("No Active Camera"),value:s,disabled:!p,key:"webcamSelect","aria-label":l._("Select Camera"),onChange:i}),a.a.createElement(Pe,{options:d,icon:a.a.createElement(He.a,{className:"c-recorder__select-icon"},w.a.MIC),placeholder:l._("No Active Microphone"),value:u,"aria-label":l._("Select Microphone"),disabled:!p,key:"micSelect",onChange:c})),a.a.createElement(Oe,{level:o,key:"audioLevel"}))}},{key:"renderRecordState",value:function(){var e=this.props,t=e.audioLevel,n=e.stopRecord,r=e.recordingTime,o=e.minRecordLengthSeconds,i=e.i18n,c=e.recordingPaused,s=r/1e3<o||c,u=s?i._("Recording can only be stopped after the minimum recording length of {minRecordLengthSeconds} seconds",{minRecordLengthSeconds:o}):"";return c&&(u=""),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"c-recorder__actions-container"},a.a.createElement("div",{key:"stopButton",className:"c-recorder__stop-button-holder"},a.a.createElement(Fe,{disabled:s,onClick:s?null:n,tooltip:{label:u,className:"c-recorder__stop-button-tooltip"}}))),a.a.createElement(Oe,{key:"audioLevel",level:t}))}},{key:"renderPlaybackState",value:function(){var e=this.props,t=e.playRecordedVideo,n=e.pauseRecordedVideo,r=e.playbackTime,o=e.playbackPlaying,i=e.onPlaybackTimeChange,c=e.playbackDuration;return E.a.compact([a.a.createElement(et,{key:"playButton",play:t,pause:n,isPlaying:o}),a.a.createElement(ct,{key:"timeLine",playbackTime:r,onPlaybackTimeChange:i,playbackDuration:c})])}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"c-recorder__controls-bar"},this.props.viewState===h.a.INITIAL&&this.renderInitialState(),this.props.viewState===h.a.RECORDING&&this.renderRecordState(),this.props.viewState===h.a.PREVIEW&&this.renderPlaybackState()),this.props.viewState===h.a.PREVIEW&&a.a.createElement("div",{className:"c-recorder__playback-actions"},a.a.createElement(mt,{key:"redoButton",reset:this.props.reset}),a.a.createElement(wt,{key:"downloadButton",downloadRecords:this.props.downloadRecords}),this.props.showSubmitButton&&a.a.createElement(Rt,{key:"submitButton",submit:this.props.submit})))}}])&&At(n.prototype,r),o&&At(n,o),t}(r.Component);Dt.propTypes={reset:d.a.func,downloadRecords:d.a.func,onCameraChange:d.a.func,onMicrophoneChange:d.a.func,submit:d.a.func,playRecordedVideo:d.a.func,pauseRecordedVideo:d.a.func,onPlaybackTimeChange:d.a.func,stopRecord:d.a.func,showSubmitButton:d.a.bool,playbackPlaying:d.a.bool,recordingPaused:d.a.bool,viewState:d.a.oneOf(Object.values(h.a)),dispatch:d.a.func,audioDevices:d.a.array,videoDevices:d.a.array,currentCameraId:d.a.string,currentMicrophoneId:d.a.string,playbackDuration:d.a.number,minRecordLengthSeconds:d.a.number,recordingTime:d.a.number,playbackTime:d.a.number,audioLevel:d.a.number,i18n:d.a.object,recorderId:d.a.oneOfType([d.a.number,d.a.string]),recorderType:d.a.oneOf(Object.values(_.a))};var Lt=Object(o.withI18n)()(Dt);function Mt(e){return(Mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return!t||"object"!==Mt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ft(this,Ut(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,e),n=t,(r=[{key:"onCameraChange",value:function(e){var t=this.props,n=t.dispatch,r=t.recorderId;n(z.e(r,e))}},{key:"onMicrophoneChange",value:function(e){var t=this.props,n=t.dispatch,r=t.recorderId;n(z.f(r,e))}},{key:"stopRecord",value:function(){var e=this.props,t=e.dispatch,n=e.recorderId;t(z.i(n))}},{key:"playRecordedVideo",value:function(){var e=this.props,t=e.dispatch,n=e.recorderId;t(z.E(n,!0))}},{key:"pauseRecordedVideo",value:function(){var e=this.props,t=e.dispatch,n=e.recorderId;t(z.E(n,!1))}},{key:"seekRecordedVideo",value:function(e){var t=this.props,n=t.dispatch,r=t.recorderId;n(z.F(r,e))}},{key:"onPlaybackTimeChange",value:function(e){var t=this.props,n=t.dispatch,r=t.recorderId;n(z.F(r,e))}},{key:"reset",value:function(){var e=this.props,t=e.dispatch,n=e.recorderId;t(z.g(n))}},{key:"downloadRecords",value:function(){var e=this.props,t=e.dispatch,n=e.recorderId;t(z.d(n))}},{key:"submit",value:function(){var e=this.props,t=e.dispatch,n=e.recorderId;t(z.j(n))}},{key:"getPlaybackDuration",value:function(){return 0!==this.props.playbackDuration&&isFinite(this.props.playbackDuration)?this.props.playbackDuration:Math.floor(this.props.recordingTime/1e3)}},{key:"render",value:function(){return a.a.createElement(Lt,{onPlaybackTimeChange:this.onPlaybackTimeChange.bind(this),reset:this.reset.bind(this),playbackDuration:this.getPlaybackDuration(),submit:this.submit.bind(this),downloadRecords:this.downloadRecords.bind(this),playRecordedVideo:this.playRecordedVideo.bind(this),pauseRecordedVideo:this.pauseRecordedVideo.bind(this),seekRecordedVideo:this.seekRecordedVideo.bind(this),onCameraChange:this.onCameraChange.bind(this),stopRecord:this.stopRecord.bind(this),onMicrophoneChange:this.onMicrophoneChange.bind(this),viewState:this.props.viewState,recorderType:this.props.recorderType,recordingTime:this.props.recordingTime,audioDevices:this.props.audioDevices,videoDevices:this.props.videoDevices,currentCameraId:this.props.currentCameraId,currentMicrophoneId:this.props.currentMicrophoneId,audioLevel:this.props.audioLevel,minRecordLengthSeconds:this.props.minRecordLengthSeconds,playbackTime:this.props.playbackTime,playbackPlaying:this.props.playbackPlaying,recordingPaused:this.props.recordingPaused,showSubmitButton:this.props.showSubmitButton})}}])&&xt(n.prototype,r),o&&xt(n,o),t}(r.Component);Gt.propTypes={showSubmitButton:d.a.bool,playbackPlaying:d.a.bool,recordingPaused:d.a.bool,viewState:d.a.oneOf(Object.values(h.a)),dispatch:d.a.func,audioDevices:d.a.array,videoDevices:d.a.array,currentCameraId:d.a.string,currentMicrophoneId:d.a.string,playbackDuration:d.a.number,minRecordLengthSeconds:d.a.number,recordingTime:d.a.number,playbackTime:d.a.number,audioLevel:d.a.number,recorderId:d.a.oneOfType([d.a.number,d.a.string]),recorderType:d.a.oneOf(Object.values(_.a))};var qt=Object(Y.b)((function(e,t){var n=t.recorderId;return{viewState:H.J(e,n),audioDevices:H.b(e,n),videoDevices:H.I(e,n),currentCameraId:H.g(e,n),currentMicrophoneId:H.h(e,n),audioLevel:H.d(e,n),playbackDuration:H.u(e,n),recordingTime:H.D(e,n),playbackTime:H.w(e,n),playbackPlaying:H.v(e,n),minRecordLengthSeconds:H.r(e,n),recordingPaused:H.C(e,n)}}))(Gt);n("zqO2");function Bt(e){return(Bt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt="recorder-video-wrapper",Xt="recorder-video-wrapper--hidden",Jt="recorder-video",Zt="primary",$t="secondary",en=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=this,o=(e=Qt(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==Bt(o)&&"function"!==typeof o?Ht(r):o,zt(Ht(Ht(n)),"durationChangeHandler",(function(){n.primaryVideo&&n.props.setPlaybackDuration(n.primaryVideo.duration)})),zt(Ht(Ht(n)),"playingHandler",(function(){n.secondaryVideo&&(n.secondaryVideo.play().catch(),n.syncVideos())})),zt(Ht(Ht(n)),"timeUpdateHandler",(function(){if(n.primaryVideo){var e=n.props.onPlaybackTimeChange;n.lastPlaybackTime=n.primaryVideo.currentTime,e(n.lastPlaybackTime)}})),zt(Ht(Ht(n)),"pauseHandler",(function(){n.secondaryVideo&&n.secondaryVideo.pause()})),zt(Ht(Ht(n)),"seekedHandler",(function(){n.secondaryVideo&&n.primaryVideo&&n.syncVideos()})),zt(Ht(Ht(n)),"syncVideos",(function(){if(n.secondaryVideo&&n.primaryVideo){var e=n.primaryVideo.currentTime;e!==n.secondaryVideo.currentTime&&(n.secondaryVideo.currentTime=e)}})),zt(Ht(Ht(n)),"videoRefHandler",(function(e,t,r){t&&r&&(e===Zt?(n.primaryVideo=r,t.attachToElement(r)):e===$t&&(n.secondaryVideo=r,t.attachToElement(r)))})),zt(Ht(Ht(n)),"renderVideo",(function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a.a.createElement("div",{key:"recorder-video-player[".concat(e,"]"),className:c()(Kt,zt({},Xt,!r))},a.a.createElement("video",{className:Jt,ref:function(r){return n.videoRefHandler(e,t,r)},playsInline:!0}))})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.primaryVideo&&(this.primaryVideo.addEventListener("durationchange",this.durationChangeHandler),this.primaryVideo.addEventListener("playing",this.playingHandler),this.primaryVideo.addEventListener("timeupdate",this.timeUpdateHandler),this.primaryVideo.addEventListener("pause",this.pauseHandler),this.primaryVideo.addEventListener("seeked",this.seekedHandler))}},{key:"componentWillUnmount",value:function(){this.primaryVideo&&(this.primaryVideo.removeEventListener("durationchange",this.durationChangeHandler),this.primaryVideo.removeEventListener("playing",this.playingHandler),this.primaryVideo.removeEventListener("timeupdate",this.timeUpdateHandler),this.primaryVideo.removeEventListener("pause",this.pauseHandler),this.primaryVideo.removeEventListener("seeked",this.seekedHandler))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.playbackPlaying&&!this.props.playbackPlaying){if(!this.primaryVideo)return;this.primaryVideo.play().catch()}if(!e.playbackPlaying&&this.props.playbackPlaying){if(!this.primaryVideo)return;this.primaryVideo.pause()}if(e.playbackTime!==this.lastPlaybackTime){if(!this.primaryVideo)return;this.primaryVideo.currentTime=e.playbackTime}}},{key:"render",value:function(){var e=this.props,t=e.recordedCameraStream,n=e.recordedDesktopStream,r=e.recordedMicrophoneStream,o=[];switch(e.recorderType){case _.a.CAMERA_WITH_DESKTOP:o.push(this.renderVideo(Zt,t)),o.push(this.renderVideo($t,n));break;case _.a.CAMERA_ONLY:o.push(this.renderVideo(Zt,t));break;case _.a.DESKTOP_ONLY:o.push(this.renderVideo(Zt,n)),o.push(this.renderVideo($t,r,!1))}return a.a.createElement("div",{className:"recorder-videos"},o)}}])&&Wt(n.prototype,r),o&&Wt(n,o),t}(r.Component);en.propTypes={onPlaybackTimeChange:d.a.func.isRequired,playbackPlaying:d.a.bool,playbackTime:d.a.number,recordedCameraStream:d.a.instanceOf(I.a),recordedDesktopStream:d.a.instanceOf(I.a),recordedMicrophoneStream:d.a.instanceOf(I.a),recorderType:d.a.oneOf(Object.values(_.a)).isRequired,setPlaybackDuration:d.a.func.isRequired};var tn=en;function nn(e){return(nn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e,t){return!t||"object"!==nn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),an(this,on(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(t,e),n=t,(r=[{key:"onPlaybackTimeChange",value:function(e){var t=this.props,n=t.dispatch,r=t.recorderId;n(z.F(r,e))}},{key:"setPlaybackDuration",value:function(e){var t=this.props,n=t.dispatch,r=t.recorderId;n(z.D(r,e))}},{key:"render",value:function(){return a.a.createElement(tn,{recordedCameraStream:this.props.recordedCameraStream,recordedDesktopStream:this.props.recordedDesktopStream,recordedMicrophoneStream:this.props.recordedMicrophoneStream,playbackTime:this.props.playbackTime,playbackPlaying:this.props.playbackPlaying,recorderType:this.props.recorderType,onPlaybackTimeChange:this.onPlaybackTimeChange.bind(this),setPlaybackDuration:this.setPlaybackDuration.bind(this)})}}])&&rn(n.prototype,r),o&&rn(n,o),t}(r.Component);sn.propTypes={recordedCameraStream:d.a.instanceOf(I.a),recordedDesktopStream:d.a.instanceOf(I.a),recordedMicrophoneStream:d.a.instanceOf(I.a),playbackTime:d.a.number,recorderId:d.a.string,playbackPlaying:d.a.bool,dispatch:d.a.func,recorderType:d.a.oneOf(Object.values(_.a)).isRequired};var un=Object(Y.b)((function(e,t){var n=t.recorderId;return{recordedCameraStream:H.x(e,n),recordedDesktopStream:H.y(e,n),recordedMicrophoneStream:H.z(e,n),playbackTime:H.w(e,n),playbackPlaying:H.v(e,n),viewState:H.J(e,n)}}))(sn);n("MvlZ");function ln(e){return(ln="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e,t){return!t||"object"!==ln(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fn(this,pn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.isActive;return a.a.createElement(S.a,{className:c()("recording-dot",t,{"recording-dot--active":n})},w.a.RECORDING_DOT)}}])&&dn(n.prototype,r),o&&dn(n,o),t}(a.a.PureComponent);bn.defaultProps={isActive:!0},bn.propTypes={className:d.a.string,isActive:d.a.bool};var yn=bn;function vn(e){return(vn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sn="recording-timer-icon",Cn="recording-timer-elapsed",_n="recording-timer-max",In=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,o=(e=gn(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==vn(o)&&"function"!==typeof o?wn(r):o,On(wn(wn(n)),"secondsToTimeString",(function(e){var t=n.props.i18n,r=Math.floor(e/60);r=n.addLeadingZero(r);var a=e%60;return a=n.addLeadingZero(a),t._("{minutes}:{seconds}",{minutes:r,seconds:a})})),On(wn(wn(n)),"addLeadingZero",(function(e){return e<10?"0"+e:""+e})),On(wn(wn(n)),"renderIcon",(function(){return a.a.createElement("div",{className:Sn},a.a.createElement(yn,null))})),On(wn(wn(n)),"getElapsedTime",(function(){})),On(wn(wn(n)),"renderElapsedTime",(function(){var e=n.props.recordingTime,t=Math.floor(e/1e3),r=n.secondsToTimeString(t);return a.a.createElement("div",{className:Cn},r)})),On(wn(wn(n)),"renderMaxTime",(function(){var e=n.props,t=e.isMaxLengthVisible,r=e.maxRecordLengthSeconds;if(t)return a.a.createElement("div",{className:_n},"(Max: ".concat(n.secondsToTimeString(r),")"))})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.className;return a.a.createElement("div",{className:c()("recording-timer-wrapper",e)},a.a.createElement("div",{className:"recording-timer",role:"timer"},this.renderIcon(),this.renderElapsedTime(),this.renderMaxTime()))}}])&&hn(n.prototype,r),o&&hn(n,o),t}(a.a.PureComponent);In.defaultProps={isMaxLengthVisible:!0},In.propTypes={i18n:d.a.object,className:d.a.string,recordingTime:d.a.number,maxRecordLengthSeconds:d.a.number,isMaxLengthVisible:d.a.bool};var Tn=Object(o.withI18n)()(In);function Rn(e){return(Rn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t){return!t||"object"!==Rn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),An(this,Nn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement(Tn,{recordingTime:this.props.recordingTime,isMaxLengthVisible:this.props.isMaxLengthVisible,maxRecordLengthSeconds:this.props.maxRecordLengthSeconds})}}])&&Pn(n.prototype,r),o&&Pn(n,o),t}(r.Component);kn.propTypes={recordingTime:d.a.number,maxRecordLengthSeconds:d.a.number,isMaxLengthVisible:d.a.bool};var Dn=Object(Y.b)((function(e,t){var n=t.recorderId,r=t.isMaxLengthVisible;return{recordingTime:H.D(e,n),maxRecordLengthSeconds:H.p(e,n),isMaxLengthVisible:r}}))(kn),Ln=n("aU7/"),Mn=n("ST1l");n("5THG");function xn(e){return(xn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t){return!t||"object"!==xn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Un(this,Vn(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.uploadingProgressPercent;return a.a.createElement("div",{className:"c-recorder__uploading-layout"},a.a.createElement("p",{className:"c-recorder__uploading-layout-text"},a.a.createElement(o.Trans,{id:"Uploading Result..."}),a.a.createElement("br",null),a.a.createElement(o.Trans,{id:"Do not close your browser"})),a.a.createElement("div",{className:"c-recorder__uploading-layout-progress",style:{width:e+"%"}}))}}])&&Fn(n.prototype,r),i&&Fn(n,i),t}(r.Component);qn.propTypes={downloadRecords:d.a.func,uploadingProgressPercent:d.a.number,i18n:d.a.object};var Bn=Object(o.withI18n)()(qn);function Wn(e){return(Wn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t){return!t||"object"!==Wn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zn(e,t){return(zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yn(this,Hn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(t,e),n=t,(r=[{key:"downloadRecords",value:function(){var e=this.props,t=e.dispatch,n=e.recorderId;t(z.d(n))}},{key:"render",value:function(){var e=this.props.uploadingProgressPercent;return a.a.createElement(Bn,{uploadingProgressPercent:e,downloadRecords:this.downloadRecords.bind(this)})}}])&&Qn(n.prototype,r),o&&Qn(n,o),t}(r.Component);Kn.propTypes={dispatch:d.a.func,recorderId:d.a.string,uploadingProgressPercent:d.a.number};var Xn=Object(Y.b)((function(e,t){var n=t.recorderId;return{uploadingProgressPercent:H.H(e,n)}}))(Kn);function Jn(e){return(Jn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return!t||"object"!==Jn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$n(this,er(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e,t,n,r=this.props,o=r.i18n,i=r.notifications,s=r.viewState,u=r.recorderId,l=r.showRecordButton,d=r.isListenWindowMode,f=r.listenWindowModeState,p=r.isStandaloneMode,m=r.isStandaloneModeAllowed,b=r.openWindowedRecorder,y=r.showSubmitButton,g=r.submitting,E=r.overlay,O=r.onChooseScreenContent,C=r.isMaxRecordingLengthVisible,_=r.recorderType,I=s===h.a.INITIAL,T=s===h.a.PREVIEW,R=s===h.a.RECORDING,P=a.a.createElement(Mn.a,{onClick:b,primary:!0,iconEl:a.a.createElement(S.a,null,w.a.OPEN_IN_BROWSER)},o._("Open Standalone Recorder"));return d?a.a.createElement("div",{className:"c-recorder",tabIndex:0},a.a.createElement("div",{className:"c-recorder__placeholder"},f===Ln.a.INITIALIZATION&&a.a.createElement("div",{className:"c-recorder__placeholder-text"},o._("Opening Standalone Recorder...")),f===Ln.a.INITED&&a.a.createElement("div",{className:"c-recorder__placeholder-text"},o._("Standalone Recorder opened")),f===Ln.a.WINDOW_IS_BLOCKED&&a.a.createElement("div",{className:"c-recorder__placeholder-text"},a.a.createElement("div",null,o._("Standalone Recorder window is being blocked by the browser")),P),f===Ln.a.WINDOW_CLOSED&&a.a.createElement("div",{className:"c-recorder__placeholder-text"},a.a.createElement("div",null,o._("Standalone Recorder was closed")),P))):a.a.createElement("div",{className:c()("c-recorder",(e={},t="c-recorder--standalone",n=p,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),tabIndex:0},a.a.createElement("div",{className:"recorder-main-container"},a.a.createElement(v,{list:i}),(I||R)&&a.a.createElement(be,{recorderId:u,recorderType:_}),a.a.createElement(te,{recorderId:u,showRecordButton:l,recorderType:_,isStandaloneMode:p,isStandaloneModeAllowed:m,onStandaloneModeClick:d?null:b,onChooseScreenContent:O}),T&&a.a.createElement(un,{recorderId:u,recorderType:this.props.recorderType}),R&&a.a.createElement(Dn,{recorderId:u,isMaxLengthVisible:C}),g&&a.a.createElement(Xn,{recorderId:u}),E&&a.a.createElement("div",{className:"c-recorder__overlay-container"},E)),a.a.createElement(qt,{showSubmitButton:y,recorderType:this.props.recorderType,recorderId:u}))}}])&&Zn(n.prototype,r),o&&Zn(n,o),t}(r.Component);nr.propTypes={notifications:d.a.arrayOf(d.a.instanceOf(u.a)),viewState:d.a.oneOf(Object.values(h.a)),listenWindowModeState:d.a.oneOf(Object.values(Ln.a)),recorderId:d.a.oneOfType([d.a.string,d.a.number]),showRecordButton:d.a.bool,showSubmitButton:d.a.bool,isListenWindowMode:d.a.bool,submitting:d.a.bool,openWindowedRecorder:d.a.func,onStandaloneModeClick:d.a.func,isStandaloneMode:d.a.bool,isStandaloneModeAllowed:d.a.bool,i18n:d.a.object,recorderType:d.a.oneOf(Object.values(_.a)).isRequired,overlay:d.a.node,onChooseScreenContent:d.a.func,isMaxRecordingLengthVisible:d.a.bool};t.a=Object(o.withI18n)()(nr)},Rso3:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("LFYD"),i=n("8For"),c=n("ZD0w"),s=(n("kJHI"),n("LvDl")),u=n.n(s),l=n("UyA7"),d=n("HNnK"),f=n("/MKj"),p=n("IF/7"),m=n("o41Y"),b=n("cMfo"),y=n("BulX"),v=n("Wtf/"),h=n("vRGJ"),g=n.n(h),E=n("Ty5D"),w=n("DbOS"),O=n("fcFR");function S(e){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=_(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==S(a)&&"function"!==typeof a?T(r):a,R(T(T(n)),"clickHandler",(function(){var e=n.props.ltiScope,t=n.getTermClassId();if(e===b.a.CENGAGE_EDUCATOR_DOCK){var r=g.a.compile(y.d.EDUCATOR_ACTIVITY_LIST)({classId:t});window.location.href=Object(w.a)(Object(O.b)(r))}e===b.a.CENGAGE_CREATE&&(window.location.href="/educator/cengage/add-activity-to-path?lti-scope=cengage-create")})),R(T(T(n)),"getTermClassId",(function(){var e=n.props,t=e.match.params.classId,r=e.termClass;return r&&r.dbId?r.dbId:t})),n}var n,r,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.institution,r=e.currentUser,c=e.ltiScope;if(!(p.i(r)&&m.a(n)&&[b.a.CENGAGE_EDUCATOR_DOCK,b.a.CENGAGE_CREATE].includes(c)&&this.getTermClassId()))return null;var s={clickHandler:this.clickHandler,icon:o.a.BACK,text:t._("Back to educator view"),iconAriaLabel:t._("Back to educator view, icon")};return this.props.children&&u.a.isFunction(this.props.children)?this.props.children(s):a.a.createElement("button",{className:"back-to-educator-button",onClick:s.clickHandler,tabIndex:"1","aria-label":s.text},a.a.createElement(i.a,{ariaLabel:s.iconAriaLabel},s.icon),s.text)}}])&&C(n.prototype,r),c&&C(n,c),t}(r.Component);t.a=Object(E.k)(Object(f.b)((function(e){return{ltiScope:l.l(e),currentUser:d.h(e),institution:l.i(e),termClass:v.getTermClass(e)}}))(Object(c.withI18n)()(P)))},Rt9s:function(e,t,n){e.exports={technicalDetailsContainer:"b_2XNwMRlJ",technicalDetails:"b_g6PaF5k7",technicalDetailsMessage:"b_tF1ltFpd",copyButton:"b_6uJVr4Sr"}},RzTb:function(e,t,n){e.exports={"bongo-note-container":"b_aKTbToHv","bongo-note--info":"b_aScABusD","bongo-note--warning":"b_e9UccjQa","bongo-note--error":"b_bcrEfhAc","bongo-note-content":"b_oWPZlwGh","bongo-note-title-icon-container":"b_oX1VsLAJ","bongo-note-title-icon":"b_dR5DJhSh","bongo-note-text-container":"b_kpFcbwqo","bongo-note-text-title":"b_wncW0zXA","bongo-note-text-message":"b_Ai8NPBBM"}},ST1l:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("LvDl"),i=n.n(o),c=n("Uu12"),s=n("qSfp");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){return i.a.pick(e,Object.keys(f.componentProps))}var f=function(e){return a.a.createElement(s.b,l({},Object(c.j)(e),d(e),{className:e.className,ariaLabel:e.ariaLabel,raised:!0}),e.children)};f.componentProps=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},s.b.propTypes),f.propTypes={},f.defaultProps={},t.a=f},SXUj:function(e,t,n){},SZKS:function(e,t,n){},SfRD:function(e,t,n){},SuLN:function(e,t,n){},T0hT:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("TSYQ"),u=n.n(s),l=n("LvDl"),d=n.n(l);n("kwFD");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){return d.a.pick(e,Object.keys(b.componentProps))}var b=function(e){return a.a.createElement(c.i,p({},m(e),{className:u()("progress-circular",e.className),disabled:!e.enabled}),e.children)};b.componentProps={className:i.a.string,centered:i.a.bool,scale:i.a.number,id:i.a.any.isRequired},b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},b.componentProps),b.defaultProps={centered:!0},t.a=b},T1zh:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("/MKj"),s=n("RMfM"),u=n("h15y"),l=n("zoNz"),d=n("rOOD"),f=n("TSYQ"),p=n.n(f),m=n("A2tp"),b=n("q8N1");function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,g(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(r=[{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props,t=e.isMain,n=e.style,r=e.toggleMainVideo,o=e.startDrag,i=e.playerOptions,c=e.playerId,s=e.resizeHandler,u=e.termClassId,l=e.activityId,d=e.usageContext,f=e.mediaId,y=e.onPlayerRef;return a.a.createElement("div",{className:p()("c-double-player__stream-holder",t?"c-double-player__stream-holder--main":"c-double-player__stream-holder--active"),tabIndex:0,role:"button",style:t?{}:n,onDoubleClick:function(){t||r()},onMouseDown:function(e){t||o(e)},onTouchStart:function(e){t||o(e)},onKeyDown:function(e){if(!t)return Object(b.b)(r)(e)},onDragStart:this.preventDefault.bind(this)},a.a.createElement(m.a,{id:"dual-media-container-video-player",logMediaWatching:this.props.logMediaWatching,onReady:this.props.onReady,options:i,termClassId:u,activityId:l,usageContext:d,mediaId:f,onPlayerRef:y,forceControlsOnLayout:t,isFloatingActionsAllowed:!1,playerId:c}),!t&&a.a.createElement("div",{className:"c-double-player__resizer",onMouseDown:s,onTouchStart:s}))}}])&&v(n.prototype,r),o&&v(n,o),t}(r.Component);w.defaultProps={onReady:function(){}};var O=n("EISf"),S=n("8For"),C=n("LFYD"),_=n("ZD0w"),I=n("K2Ti"),T=n("sRqO"),R=n("qcdR");function P(e){return(P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=N(t).call(this,e),n=!o||"object"!==P(o)&&"function"!==typeof o?k(r):o,D(k(k(n)),"onPlayClick",(function(){var e=n.getMainPlayerId(),t=n.getPlayerState();n.emitter.play({playerId:e,startTime:t.time}),n.props.play()})),D(k(k(n)),"getPlayerState",(function(){var e=n.props.activePlayerState,t={};return e&&(t=e.state),t})),D(k(k(n)),"getMainPlayerId",(function(){var e=n.props,t=e.deskshareIsActive,r=e.getDesksharePlayerId,a=e.getWebcamPlayerId;return t?r():a()})),D(k(k(n)),"pause",(function(){var e=n.getMainPlayerId(),t=n.getPlayerState();n.emitter.pause({playerId:e,startTime:t.time}),n.props.pause()})),D(k(k(n)),"onManageCaptions",(function(){var e=n.props.onManageCaptions;n.pause(),e()})),D(k(k(n)),"onSetCurrentCaption",(function(e){var t=n.props.setCurrentCaption;n.hideOverlayMessage(),e&&n.showOverlayMessage(),t(e)})),D(k(k(n)),"hideOverlayMessage",(function(){n.overlayMessageRef&&n.overlayMessageRef.current&&n.overlayMessageRef.current.hide()})),D(k(k(n)),"showOverlayMessage",(function(){n.overlayMessageRef&&n.overlayMessageRef.current&&n.overlayMessageRef.current.show()})),D(k(k(n)),"renderOverlayMessage",(function(){var e=n.props,t=e.i18n,r=e.autoCaptionsEnabled,o=t._("Captions: ON");return r&&(o=t._("Captions: ON (Auto Generated)")),a.a.createElement(R.a,{ref:n.overlayMessageRef,className:"double-player-floating-auto-caption-message",message:o})})),n.emitter=new I.a,n.overlayMessageRef=a.a.createRef(),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.getSecondVideoStyles,r=t.toggleMainVideo,o=t.deskshareIsActive,i=t.startDrag,c=t.getDesksharePlayerOptions,s=t.getDesksharePlayerId,u=t.resizeHandler,l=t.getWebcamPlayerOptions,d=t.getWebcamPlayerId,f=t.inFullScreen,m=t.toggleSplitView,b=t.isSplitView,y=t.i18n,v=t.marks,h=t.termClassId,g=t.activityId,E=t.usageContext,_=t.onDesksharePlayerRef,I=t.onWebcamPlayerRef,R=t.captionsList,P=t.transcriptUrl,A=t.mainMediaId,N=t.slaveMediaId,j=t.onManageCaptions,k=o,L=!o,M=this.getMainPlayerId(),x=this.getPlayerState(),F=x.isIdle&&x.isReady,U=[{id:"view type toggler",component:a.a.createElement("span",{onClick:m,title:b?y._("Switch to window mode"):y._("Switch to column mode")},a.a.createElement(S.a,{className:"c-double-player__toggle-view-icon",ariaLabel:b?y._("Switch to window mode, icon"):y._("Switch to column mode, icon")},b?C.a.PICTURE_IN_PICTURE:C.a.VIEW_COLUMN))}],V=null;return j&&(V=this.onManageCaptions),a.a.createElement("div",{className:"c-double-player"},a.a.createElement("div",{className:p()("c-double-player__streams-holder",D({},"c-double-player__streams-holder--column",b))},a.a.createElement(w,{isMain:k,logMediaWatching:!1,style:n(),onPlayerRef:_,toggleMainVideo:r,startDrag:i,playerOptions:c(),playerId:s(),termClassId:h,activityId:g,usageContext:E,mediaId:N,resizeHandler:u}),a.a.createElement(w,{isMain:L,logMediaWatching:!1,onReady:function(){e.props.autoplay&&e.props.logMediaWatching&&e.emitter.play({playerId:d(),startTime:0})},onPlayerRef:I,style:n(),toggleMainVideo:r,startDrag:i,termClassId:h,activityId:g,usageContext:E,mediaId:A,playerOptions:l(),playerId:d(),resizeHandler:u}),F&&a.a.createElement(T.a,{className:"video-player-play-button--dual-stream",play:this.onPlayClick}),a.a.createElement(O.a,{duration:x.duration,isPlaying:x.isPlaying,volume:x.volume,isFullScreen:f,toggleFullScreen:this.props.toggleFullScreen,time:x.time,captions:R,transcriptUrl:P,onManageCaptions:V,setCurrentCaption:this.onSetCurrentCaption,changeVolume:this.props.changeVolume,customActions:U,play:this.onPlayClick,seek:function(t){e.emitter.seek({playerId:M,startTime:x.time,endTime:t}),e.props.seek(t)},pause:this.pause,marks:v}),this.renderOverlayMessage()))}}])&&A(n.prototype,r),o&&A(n,o),t}(r.Component),M=Object(_.withI18n)()(L),x=n("k7+O"),F=n.n(x),U=n("UX+v"),V=n("LvDl"),G=n.n(V),q=(n("MgaS"),n("apGr"));function B(e){return(B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Q(t).call(this,e),n=!a||"object"!==B(a)&&"function"!==typeof a?H(r):a,z(H(H(n)),"toggleSplitView",(function(){var e=!n.props.isSplitView;n.executeAction(l.h,e)})),z(H(H(n)),"play",(function(){var e=n.props,t=e.dispatch,r=e.onPlay,a=n.getMainPlayerId();r&&r(),t(s.u(a))})),z(H(H(n)),"pause",(function(){var e=n.props.dispatch,t=n.getMainPlayerId();e(s.t(t))})),z(H(H(n)),"seek",(function(e){var t=n.props.dispatch,r=n.getMainPlayerId(),a=n.getMainPlayerState();e.toFixed(1)===a.state.duration.toFixed(1)&&(e=a.state.duration),t(s.F(r,e))})),z(H(H(n)),"changeVolume",(function(e){var t=n.props.dispatch,r=n.getMainPlayerId();t(s.E(r,e))})),z(H(H(n)),"toggleFullScreen",(function(){n.playerElem&&F.a&&F.a.enabled&&F.a.toggle(n.playerElem)})),z(H(H(n)),"onDesksharePlayerRef",(function(e){n.desksharePlayer=e})),z(H(H(n)),"onWebcamPlayerRef",(function(e){n.webcamPlayer=e})),z(H(H(n)),"getCaptionsList",(function(){var e=[];return n.webcamPlayer&&(e=n.webcamPlayer.getCaptionsList()),e})),z(H(H(n)),"setCurrentCaption",(function(e){n.getCaptionsList().map((function(e){return e.mode=U.a.DISABLED,null})),e?(n.captionEnabled=!0,e.mode=U.a.SHOWING):n.captionEnabled=!1})),z(H(H(n)),"migrateCaptionState",(function(){var e;n.desksharePlayer.getCaptionsList().forEach((function(e){e.mode=U.a.DISABLED})),n.webcamPlayer.getCaptionsList().forEach((function(e){e.mode=U.a.DISABLED})),e=n.props.deskshareIsActive?n.desksharePlayer.getCaptionsList():n.webcamPlayer.getCaptionsList(),n.captionEnabled&&(e[0].mode=U.a.SHOWING)})),n.state={isSplitView:!1},n.captionEnabled=!1,n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.executeAction(l.e,{webcamPlayerId:this.getWebcamPlayerId(),desksharePlayerId:this.getDesksharePlayerId()})}},{key:"componentDidMount",value:function(){F.a&&F.a.enabled&&F.a.on("change",function(){if(this.playerElem){var e=F.a.isFullscreen;this.executeAction(l.g,e)}}.bind(this)),this.props.logMediaWatching&&this.initEmitterListeners()}},{key:"initEmitterListeners",value:function(){var e=this,t=new I.a,n=this.props.onPlay,r=this.getWebcamPlayerId(),a=this.getDesksharePlayerId(),o=new q.a({mediaId:this.props.mainMediaId,mediaSrc:this.props.webcamSrc,usageContext:this.props.usageContext,termClassId:this.props.termClassId,activityId:this.props.activityId}),i=function(t){return function(n){n.playerId!==e.getMainPlayerId()&&n.playerId!==e.getSecondPlayerId()||t(n)}},c=i((function(t){var r=e.getMainPlayerState(),a=t.startTime,i=r.state.duration;(t.startTime.toFixed(2)===i.toFixed(2)||r.state.isEnded)&&(a=0),o.setPreviousTime(a),o.playStatement(a),n&&n(),t.playerId===e.getSecondPlayerId()&&e.play()})),s=i((function(t){o.pauseStatement(t.startTime),o.watchStatement(t.startTime),t.playerId===e.getSecondPlayerId()&&e.pause()})),u=i((function(t){var n=e.getMainPlayerState(),r=t.endTime;r.toFixed(1)===n.state.duration.toFixed(1)&&(r=n.state.duration),n.state.isPlaying&&o.watchStatement(t.startTime),o.setPreviousTime(r),o.skipStatement(t.startTime,r)})),l=i((function(e){o.setMediaDuration(e.duration)})),d=i((function(e){o.watchStatement(e.endTime),o.completeStatement(e.endTime)}));this.emitterUnsubscribers=[t.onPlay(r,c),t.onPlay(a,c),t.onPause(r,s),t.onPause(a,s),t.onSeek(r,u),t.onSeek(a,u),t.onDurationAvailable(r,l),t.onDurationAvailable(a,l),t.onComplete(r,d),t.onComplete(a,d)]}},{key:"componentWillUnmount",value:function(){this.executeAction(l.d),this.emitterUnsubscribers&&this.emitterUnsubscribers.forEach((function(e){return e()}))}},{key:"executeAction",value:function(e){for(var t=this.props,n=t.dispatch,r=t.playerId,a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];n(e.apply(void 0,[r].concat(o)))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.dispatch,n=this.getMainPlayerId(),r=this.getSecondPlayerId(),a=this.getMainPlayerState(),o=this.getSecondPlayerState(),i=e.webcamPlayerState,c=e.desksharePlayerState;i&&c&&o&&a&&(i.state.isPlaying&&!a.state.isPlaying&&this.playSecondVideo(),i.state.isPaused&&!a.state.isPaused&&(this.checkPlayerSync({mainPlayerState:i,secondPlayerId:r,secondPlayerState:c}),t(s.t(r))),i.state.isWaiting&&!a.state.isWaiting&&t(s.t(n)),c.state.isWaiting&&!o.state.isWaiting&&t(s.t(n)),!i.state.isWaiting&&a.state.isWaiting&&(this.checkPlayerSync({mainPlayerState:i,secondPlayerId:r,secondPlayerState:c}),t(s.u(n))),!c.state.isWaiting&&o.state.isWaiting&&(this.checkPlayerSync({mainPlayerState:i,secondPlayerId:r,secondPlayerState:c}),t(s.u(n))),i.state.isSeeking&&!a.state.isSeeking&&(t(s.t(n)),t(s.t(r))),c.state.isSeeking&&!o.state.isSeeking&&(t(s.t(n)),t(s.t(r))),!i.state.isSeeking&&a.state.isSeeking&&(t(s.t(n)),t(s.t(r)),this.syncPlayers({mainPlayerState:i,secondPlayerId:r})),i.state.volume!==a.state.volume&&t(s.E(r,i.state.volume)))}},{key:"playSecondVideo",value:function(){var e=this.props.dispatch,t=this.getSecondPlayerId(),n=this.getMainPlayerState(),r=this.getSecondPlayerState();n.state.time>=r.state.duration||e(s.u(t))}},{key:"getMainPlayerState",value:function(){return this.props.webcamPlayerState}},{key:"getSecondPlayerState",value:function(){return this.props.desksharePlayerState}},{key:"getMainPlayerId",value:function(){return this.getWebcamPlayerId()}},{key:"getSecondPlayerId",value:function(){return this.getDesksharePlayerId()}},{key:"syncPlayers",value:function(e){var t=e.mainPlayerState,n=e.secondPlayerId,r=this.props.dispatch,a=t.state.time;r(s.F(n,a))}},{key:"checkPlayerSync",value:function(e){var t=e.mainPlayerState,n=e.secondPlayerId,r=e.secondPlayerState,a=t.state.time,o=r.state.time;Math.abs(a-o)>=.5&&this.syncPlayers({mainPlayerState:t,secondPlayerId:n})}},{key:"startDrag",value:function(e){var t=this.props.secondaryVideoX,n=this.props.secondaryVideoY,r=e.clientX,a=e.clientY;r&&a||(r=e.touches[0].clientX,a=e.touches[0].clientY);var o=this;function i(e){var i=e.clientX,c=e.clientY;i&&c||(i=e.touches[0].clientX,c=e.touches[0].clientY);var s=t+(i-r),u=n+(c-a);o.executeAction(l.j,s),o.executeAction(l.k,u)}function c(){document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i),document.removeEventListener("mouseup",c),document.removeEventListener("touchend",c)}document.addEventListener("mousemove",i),document.addEventListener("touchmove",i),document.addEventListener("mouseup",c),document.addEventListener("touchend",c)}},{key:"toggleMainVideo",value:function(){var e=this.props.dispatch,t=!this.props.deskshareIsActive;this.executeAction(l.f,t),t?(e(s.y(this.getDesksharePlayerId(),!0)),e(s.y(this.getWebcamPlayerId(),!1))):(e(s.y(this.getDesksharePlayerId(),!1)),e(s.y(this.getWebcamPlayerId(),!0))),setTimeout(this.migrateCaptionState,0)}},{key:"resizeHandler",value:function(e){e.stopPropagation();var t=this.props.secondaryVideoWidth,n=e.clientX;n||(n=e.touches[0].clientX);var r=this;function a(e){var a=e.clientX;a||(a=e.touches[0].clientX);var o=t+(a-n);o=G.a.isNumber(o)?o:t,r.executeAction(l.i,o)}function o(){document.removeEventListener("mousemove",a),document.removeEventListener("touchmove",a),document.removeEventListener("touchend",o),document.removeEventListener("mouseup",o)}document.addEventListener("mousemove",a),document.addEventListener("touchmove",a),document.addEventListener("mouseup",o),document.addEventListener("touchend",o)}},{key:"getSecondVideoStyles",value:function(){return{top:this.props.secondaryVideoY,left:this.props.secondaryVideoX,width:this.props.secondaryVideoWidth}}},{key:"getWebcamPlayerOptions",value:function(){var e={autoplay:this.props.autoplay,autoplayStartTime:this.props.autoplayStartTime,sources:[{src:this.props.webcamSrc,type:"video/mp4"}],controls:!1};return e.tracks=G.a.compact([this.props.caption]),e}},{key:"getDesksharePlayerOptions",value:function(){var e={autoplay:this.props.autoplay,autoplayStartTime:this.props.autoplayStartTime,sources:[{src:this.props.deskshareSrc,type:"video/mp4"}],controls:!1};return e.tracks=G.a.compact([this.props.caption]),e}},{key:"getWebcamPlayerId",value:function(){return this.props.playerId}},{key:"getDesksharePlayerId",value:function(){return"Deskshare"+this.props.playerId}},{key:"isMediaLoading",value:function(){var e=this.props,t=e.webcamPlayerState,n=e.desksharePlayerState;return!t||!n||t.state.isWaiting||n.state.isWaiting||!t.state.isReady||!n.state.isReady||t.state.isSeeking||n.state.isSeeking}},{key:"render",value:function(){var e=this,t=this.props,n=t.deskshareIsActive,r=t.inited,o=t.activePlayerState,i=t.inFullScreen,c=t.marks,s=t.transcriptUrl,u=t.termClassId,l=t.activityId,d=t.usageContext,f=t.mainMediaId,p=t.slaveMediaId,m=t.onManageCaptions,b=t.autoCaptionsEnabled;return r?a.a.createElement("div",{ref:function(t){return e.playerElem=t},className:"c-double-player-container"},a.a.createElement(M,{deskshareIsActive:n,autoplay:this.props.autoplay,activePlayerState:o,inFullScreen:i,isSplitView:this.props.isSplitView,logMediaWatching:this.props.logMediaWatching,termClassId:u,activityId:l,usageContext:d,mainMediaId:f,slaveMediaId:p,toggleSplitView:this.toggleSplitView,toggleFullScreen:this.toggleFullScreen,play:this.play,seek:this.seek,pause:this.pause,onManageCaptions:m,autoCaptionsEnabled:b,setCurrentCaption:this.setCurrentCaption,changeVolume:this.changeVolume,loading:this.isMediaLoading(),captionsList:this.getCaptionsList(),transcriptUrl:s,getSecondVideoStyles:this.getSecondVideoStyles.bind(this),toggleMainVideo:this.toggleMainVideo.bind(this),getDesksharePlayerOptions:this.getDesksharePlayerOptions.bind(this),getWebcamPlayerOptions:this.getWebcamPlayerOptions.bind(this),getDesksharePlayerId:this.getDesksharePlayerId.bind(this),getWebcamPlayerId:this.getWebcamPlayerId.bind(this),resizeHandler:this.resizeHandler.bind(this),startDrag:this.startDrag.bind(this),onDesksharePlayerRef:this.onDesksharePlayerRef,onWebcamPlayerRef:this.onWebcamPlayerRef,marks:c})):null}}])&&W(n.prototype,r),o&&W(n,o),t}(r.Component);K.propTypes={autoplay:i.a.bool,autoplayStartTime:i.a.number,logMediaWatching:i.a.bool,onPlay:i.a.func,onManageCaptions:i.a.func,autoCaptionsEnabled:i.a.bool},K.defaultProps={autoplay:!1,autoplayStartTime:null,logMediaWatching:!0,onPlay:function(){}};t.a=Object(c.b)((function(e,t){var n=t.playerId,r=n,a="Deskshare"+n,o=d.a(e,n)?a:r;return{webcamPlayerState:u.a(r,e),desksharePlayerState:u.a(a,e),activePlayerState:u.a(o,e),inited:d.c(e,n),deskshareIsActive:d.a(e,n),secondaryVideoX:d.g(e,n),secondaryVideoY:d.h(e,n),secondaryVideoWidth:d.f(e,n),inFullScreen:d.b(e,n),isSplitView:d.d(e,n)}}))(K)},T5Sw:function(e,t,n){},TDYo:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"l",(function(){return c})),n.d(t,"k",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"j",(function(){return y})),n.d(t,"B",(function(){return v})),n.d(t,"C",(function(){return h})),n.d(t,"y",(function(){return g})),n.d(t,"w",(function(){return E})),n.d(t,"x",(function(){return w})),n.d(t,"v",(function(){return O})),n.d(t,"J",(function(){return S})),n.d(t,"z",(function(){return C})),n.d(t,"M",(function(){return _})),n.d(t,"r",(function(){return I})),n.d(t,"u",(function(){return T})),n.d(t,"A",(function(){return R})),n.d(t,"n",(function(){return P})),n.d(t,"Q",(function(){return A})),n.d(t,"s",(function(){return N})),n.d(t,"t",(function(){return j})),n.d(t,"p",(function(){return k})),n.d(t,"o",(function(){return D})),n.d(t,"R",(function(){return L})),n.d(t,"G",(function(){return M})),n.d(t,"H",(function(){return x})),n.d(t,"I",(function(){return F})),n.d(t,"L",(function(){return U})),n.d(t,"D",(function(){return V})),n.d(t,"F",(function(){return G})),n.d(t,"E",(function(){return q})),n.d(t,"N",(function(){return B})),n.d(t,"O",(function(){return W})),n.d(t,"P",(function(){return Q})),n.d(t,"m",(function(){return Y})),n.d(t,"q",(function(){return H})),n.d(t,"K",(function(){return z}));var r=n("uy2z"),a="[Recorder] Init",o="[Recorder] Destroy",i="[Recorder] Set prop",c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:a,payload:{recorderId:e,options:t}}},s=function(e){return{type:o,payload:e}},u=function(e,t,n){return{type:i,payload:{recorderId:e,prop:t,value:n}}},l=function(e){return Object(r.call)(e,{method:"startRecord"})},d=function(e,t){return Object(r.call)(e,{method:"onCameraChange",args:[t]})},f=function(e,t){return Object(r.call)(e,{method:"onMicrophoneChange",args:[t]})},p=function(e){return Object(r.call)(e,{method:"stopRecord"})},m=function(e){return Object(r.call)(e,{method:"reset"})},b=function(e){return Object(r.call)(e,{method:"downloadRecords"})},y=function(e){return Object(r.call)(e,{method:"submit"})},v=function(e,t){return u(e,"errors.noAudioDevices",t)},h=function(e,t){return u(e,"errors.noVideoDevices",t)},g=function(e,t){return u(e,"errors.failedToGetSettings",t)},E=function(e,t){return u(e,"errors.failedToGetCameraStream",t)},w=function(e,t){return u(e,"errors.failedToGetDesktopStream",t)},O=function(e,t){return u(e,"errors.failedToGetAudioStream",t)},S=function(e,t){return u(e,"errors.recorderIsNotSupported",t)},C=function(e,t){return u(e,"errors.finalizeFailed",t)},_=function(e,t){return u(e,"settings",t)},I=function(e,t){return u(e,"cameraStream",t)},T=function(e,t){return u(e,"desktopStream",t)},R=function(e,t){return u(e,"microphoneStream",t)},P=function(e,t){return u(e,"audioDevices",t)},A=function(e,t){return u(e,"videoDevices",t)},N=function(e,t){return u(e,"currentCameraId",t)},j=function(e,t){return u(e,"currentMicrophoneId",t)},k=function(e,t){return u(e,"audioLevel",t)},D=function(e,t){return u(e,"audioIsNormal",t)},L=function(e,t){return u(e,"viewState",t)},M=function(e,t){return u(e,"recordedCameraStream",t)},x=function(e,t){return u(e,"recordedDesktopStream",t)},F=function(e,t){return u(e,"recordedMicrophoneStream",t)},U=function(e,t){return u(e,"recordingTime",t)},V=function(e,t){return u(e,"playbackDuration",t)},G=function(e,t){return u(e,"playbackTime",t)},q=function(e,t){return u(e,"playbackPlaying",t)},B=function(e,t){return u(e,"showRecordButton",t)},W=function(e,t){return u(e,"submitting",t)},Q=function(e,t){return u(e,"uploadingProgressPercent",t)},Y=function(e,t){return u(e,"audioAnalyzerState",t)},H=function(e,t){return u(e,"autoSubmit",t)},z=function(e,t){return u(e,"recordingPaused",t)}},TEiA:function(e,t,n){"use strict";var r=n("t4gB"),a=n("q1tI"),o=n.n(a),i=n("xrVw"),c=n("ZD0w"),s=n("691o");n("5jRi");function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=n("TSYQ"),h=n.n(v),g=n("LvDl"),E=n.n(g),w=n("q2J1");function O(e){return(O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N="sortable-header";function j(e){var t=function(t){function n(e){var t,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,a=T(n).call(this,e),t=!a||"object"!==O(a)&&"function"!==typeof a?P(r):a,A(P(P(t)),"processProps",(function(e){var n={sortAccessor:e.defaultSort.accessor,sortDirection:t.convertDirection(e.defaultSort.direction),progressiveSortAccessorIndex:0};return n=_({},n,t.processData(e,n))})),A(P(P(t)),"processData",(function(e,n){var r=n.sortAccessor,a=n.sortDirection;return{sortedData:t.getSortedData(e.data,r,a,e.fallbackSort,e.onSortChange)}})),A(P(P(t)),"toggleSort",(function(e){if(e.accessor){var n=!t.state.sortDirection,r=t.state.progressiveSortAccessorIndex;if(t.state.sortAccessor===e.accessor){if(e.allowProgressiveSort){var a=t.state.sortAccessor.length;n===t.convertDirection(t.props.defaultSort.direction)&&(r=(r+1)%a)}t.setState({sortDirection:n,progressiveSortAccessorIndex:r},t.sortData)}else t.setState({sortDirection:t.convertDirection(t.props.defaultSort.direction),sortAccessor:e.accessor,progressiveSortAccessorIndex:0},t.sortData)}})),A(P(P(t)),"sortData",(function(){var e=t.getSortedData(t.props.data,t.state.sortAccessor,t.state.sortDirection,t.props.fallbackSort,t.props.onSortChange,t.state.progressiveSortAccessorIndex);t.setState({sortedData:e})})),A(P(P(t)),"getColumns",(function(){return t.props.columns.map((function(e){var n=void 0;e.accessor&&e.accessor===t.state.sortAccessor&&(n=t.state.sortDirection);var r=_({},e,{sorted:n,headerClassName:h()(e.sortable?N:null,e.headerClassName)});return e.sortable&&(r.onClick=function(){return t.toggleSort(e)}),r}))})),t.state=t.processProps(e),t}var r,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(n,t),r=n,(a=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(this.processData(e,this.state))}},{key:"convertDirection",value:function(e){return"asc"===e}},{key:"getSortedData",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=t;if(o>0){var c=(i=C(t)).splice(0,o);i=E.a.concat(i,c)}for(var s=E.a.concat(i,r.accessor),u=[],l=0;l<s.length-1;l++)u.push(n?"asc":"desc");var d=this.convertDirection(r.direction),f=[].concat(u);d?f.push(n?"asc":"desc"):f.push(n?"desc":"asc");var p=Object(w.a)(s),m=Object(w.b)(e,p,f);return E.a.isFunction(a)&&a(m,i,u),m}},{key:"render",value:function(){return o.a.createElement(e,S({},E.a.omit(this.props,["data","columns","defaultSort","fallbackSort","onSortChange"]),{data:this.state.sortedData,columns:this.getColumns()}))}}])&&I(r.prototype,a),i&&I(r,i),n}(o.a.Component);return t.displayName="WithSort(".concat(Object(s.a)(e),")"),t}n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return D})),n.d(t,"a",(function(){return r.a}));var k=j(r.a),D=j(function(e){var t=10,n=function(n){function r(e){var n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),a=this,o=p(r).call(this,e),n=!o||"object"!==u(o)&&"function"!==typeof o?b(a):o,y(b(b(n)),"getStoredPerPageValue",(function(){var e=window.localStorage.getItem(n.getPerPageValueStorageKey());return e||(e=t),+e})),y(b(b(n)),"storePerPageValue",(function(e){window.localStorage.setItem(n.getPerPageValueStorageKey(),e)})),y(b(b(n)),"getPerPageValueStorageKey",(function(){return"#(".concat(n.props.id,")tableRowsPerPageValue")})),y(b(b(n)),"handlePagination",(function(e,t,r){n.storePerPageValue(t),n.state.rowsPerPage!==t&&(e=0,r=1),n.setState({start:e,rowsPerPage:t,pageNumber:r})})),y(b(b(n)),"getSlicedData",(function(){var e=n.props.data,t=n.state,r=t.start,a=t.rowsPerPage;return e.slice(r,r+a)}));var i=t;return e.preservePerPageValue&&e.id&&(i=n.getStoredPerPageValue()),n.state={start:0,rowsPerPage:i,pageNumber:1},n}var a,c,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(r,n),a=r,(c=[{key:"render",value:function(){var n=this.props,r=n.data,a=n.i18n,c=d(n,["data","i18n"]),s=r.length>t?o.a.createElement(i.P,{className:"data-table-pagination",rows:r.length,rowsPerPage:this.state.rowsPerPage,onPagination:this.handlePagination,page:this.state.pageNumber,rowsPerPageLabel:a._("Rows per page:")}):null;return o.a.createElement(e,l({},c,{data:this.getSlicedData(),footer:s}))}}])&&f(a.prototype,c),s&&f(a,s),r}(o.a.Component);return n.defaultProps={preservePerPageValue:!0},n.displayName="WithPagination(".concat(Object(s.a)(e),")"),Object(c.withI18n)()(n)}(r.a))},TGml:function(e,t,n){},TMv0:function(e,t,n){},TVp9:function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"k",(function(){return v})),n.d(t,"b",(function(){return h}));var r=n("G4qV"),a=n("hf66"),o=Object(r.a)(a.a,(function(e){return e.activity})),i=Object(r.a)(a.a,(function(e){return e.qaActivity})),c=Object(r.a)(o,(function(e){return e.activityData})),s=Object(r.a)(c,(function(e){return e.qaSettings})),u=Object(r.a)(c,(function(e){return e.qaQuestion})),l=Object(r.a)(c,(function(e){return e&&e.myData?e.myData.qaAnswers:void 0})),d=Object(r.a)(c,(function(e){return e?e.qaQuestionsAmount:void 0})),f=Object(r.a)(i,(function(e){return e.isQuestionLoading})),p=Object(r.a)(i,(function(e){return e.isQuestionBeingWithdrawn})),m=Object(r.a)(i,(function(e){return e.activeQuestion})),b=Object(r.a)(i,(function(e){return e.isAnswerBeingDeleted})),y=Object(r.a)(i,(function(e){return e.practiceData})),v=(Object(r.a)(i,(function(e){return e.isSubmitting})),Object(r.a)(c,(function(e){return e.myData.qaSubmitRequestedAt}))),h=Object(r.a)(i,(function(e){return e.currentActivityState}))},TbpH:function(e,t,n){},TfV7:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("/MKj"),i=n("ZD0w"),c=n("d98y"),s=n("Wtf/"),u=n("MzIV"),l=n("LMP5"),d=n("2bAp");function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=15e3,g=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=m(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==f(a)&&"function"!==typeof a?y(r):a,v(y(y(n)),"_timeoutId",null),v(y(y(n)),"doUpdate",(function(){n.forceUpdate()})),v(y(y(n)),"forceUpdateLater",(function(){n._timeoutId=setTimeout(n.doUpdate,h)})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){try{clearTimeout(this._timeoutId)}catch(e){}}},{key:"render",value:function(){var e=this.props,t=e.dueDate,n=e.i18n;if(!t)return null;var r=Object(l.j)(t);return r.isPastDue||this.forceUpdateLater(),a.a.createElement(c.a,{className:"item-a",title:n._("Time until due"),iconClassName:d.a.CALENDAR},a.a.createElement("div",{className:"dashboard-contents"},a.a.createElement("div",{className:"dashboard-days-container"},a.a.createElement("span",{className:"dashboard-days-remaining","aria-label":n._("Time until due")},Object(l.i)(r,n)),a.a.createElement("span",{className:"dashboard-date-due","aria-label":n._("Due Date")},a.a.createElement(u.b,{unixTime:t})))))}}])&&p(n.prototype,r),o&&p(n,o),t}(r.Component);t.a=Object(i.withI18n)()(Object(o.b)((function(e){return{dueDate:s.getDueDate(e)}}))(g))},TkQy:function(e,t,n){},TsH0:function(e,t,n){},TtRr:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("uhBA"),a=n.n(r),o=n("LvDl"),i=n.n(o),c=n("vCeT");function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,d(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"init",value:function(){throw new Error("init is not implemented")}},{key:"setNotifications",value:function(e){this.notifications=e}},{key:"setActiveNotifications",value:function(e){var t=this;this.activeNotifications=new Proxy(e,{set:function(e,n,r){if(i.a.isBoolean(e[n])&&e[n]!==r){var a=t.notifications&&t.notifications[n]?t.notifications[n].showDelay:null;a&&(t.notifications[n].showTime=Date.now()+a,setTimeout((function(){t.emit(c.a.NOTIFICATION)}),a)),e[n]=r,t.emit(c.a.NOTIFICATION)}return!0}})}},{key:"getNotifications",value:function(){var e=this,t=Object.keys(this.activeNotifications).map((function(t){if(e.activeNotifications[t])return e.notifications[t]}));return i.a.compact(t)}},{key:"getFinalizeOptions",value:function(){throw new Error("getFinalizeOptions is not implemented")}},{key:"isUploadFinished",value:function(){throw new Error("isUploadFinished is not implemented")}},{key:"destroy",value:function(){throw new Error("destroy is not implemented")}},{key:"addStream",value:function(){throw new Error("addStream is not implemented")}},{key:"startRecording",value:function(){throw new Error("startRecording is not implemented")}},{key:"stopRecording",value:function(){throw new Error("stopRecording is not implemented")}}])&&u(n.prototype,r),a&&u(n,a),t}(a.a)},Tvoo:function(e,t,n){},UDne:function(e,t,n){},UESQ:function(e,t,n){},UPJx:function(e,t,n){},"UX+v":function(e,t,n){"use strict";var r=n("ZD0w"),a=n("q1tI"),o=n.n(a),i=n("LvDl"),c=n.n(i),s=n("17x9"),u=n.n(s),l=n("8OJ3"),d=(n("S8w2"),n("qJsM"),n("sRqO")),f=n("EISf"),p=n("k7+O"),m=n.n(p),b=n("q8N1"),y=n("TSYQ"),v=n.n(y),h=n("8bCP"),g=n("QccL"),E=n("K2Ti"),w=n("kbsL"),O=n("LFYD");n("BNXS");function S(e){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var R="player-floating-captions-button",P=function(e){function t(){var e,n,r,a,o,i,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];return r=this,a=(e=_(t)).call.apply(e,[this].concat(u)),n=!a||"object"!==S(a)&&"function"!==typeof a?T(r):a,o=T(T(n)),c=function(){var e=n.props,t=e.isToggled;(0,e.onToggle)(!t)},(i="onClick")in o?Object.defineProperty(o,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[i]=c,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.isToggled,r=e.i18n,a=n?r._("Hide Captions"):r._("Show Captions");return o.a.createElement(w.c,{primary:n,onClick:this.onClick,tooltip:{label:a},className:v()(R,"".concat(R,"--").concat(n?"on":"off"),t)},O.a.CLOSED_CAPTION)}}])&&C(n.prototype,r),a&&C(n,a),t}(a.PureComponent);P.defaultProps={isToggled:!1},P.propTypes={className:u.a.string,onToggle:u.a.func.isRequired,isToggled:u.a.bool};var A=Object(r.withI18n)()(P),N=n("qcdR");function j(e){return(j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return B}));var F={DISABLED:"disabled",SHOWING:"showing"},U=function(e){function t(e){var n,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,i=D(t).call(this,e),n=!i||"object"!==j(i)&&"function"!==typeof i?M(a):i,x(M(M(n)),"logPlayerEvent",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];h.b.debug.apply(h.b,["[Player] videojs event"].concat(t))})),x(M(M(n)),"play",(function(){var e=n.props.options,t=e.showPseudoPlayButton,r=e.onPseudoPlayClick;n.player&&(t&&r?r():n.player.play())})),x(M(M(n)),"pause",(function(){n.player&&n.player.pause()})),x(M(M(n)),"seek",(function(e){n.player&&n.player.currentTime(e)})),x(M(M(n)),"changeVolume",(function(e){n.player&&n.player.volume(e)})),x(M(M(n)),"toggleFullScreen",(function(){if(n.playerElem&&m.a&&m.a.enabled)m.a.toggle(n.playerElem);else try{n.player.requestFullscreen()}catch(e){h.b.warn(e)}})),x(M(M(n)),"setCurrentCaption",(function(e){var t=n.getCaptionsList();c.a.forEach(t,(function(e){e.mode=F.DISABLED})),n.hideOverlayMessage(),e&&(n.showOverlayMessage(),e.mode=F.SHOWING)})),x(M(M(n)),"hideOverlayMessage",(function(){try{n.overlayMessageRef.current.hide()}catch(e){h.b.debug("Unable to hide overlay message",e)}})),x(M(M(n)),"showOverlayMessage",(function(){try{n.overlayMessageRef.current.show()}catch(e){h.b.debug("Unable to show overlay message",e)}})),x(M(M(n)),"updateCaptionTrackModes",(function(e){var t=n.getCaptionsList();c.a.forEach(t,(function(t){t.mode=e?F.SHOWING:F.DISABLED})),n.forceUpdate()})),x(M(M(n)),"isCaptionTrackVisible",(function(e){return c.a.some(e,{mode:F.SHOWING})})),x(M(M(n)),"keyDownHandler",(function(e){var t=n.props,r=t.isPaused,a=t.isIdle,o=t.duration,i=t.playerId;Object(b.c)([b.a.SPACE,b.a.ENTER],(function(){var e=n.player.currentTime();r||a?(n.emitter.play({playerId:i,startTime:e}),n.play()):(n.emitter.pause({playerId:i,startTime:e}),n.pause())}))(e),Object(b.c)(b.a.ARROW_LEFT,(function(){var e=n.player.currentTime(),t=e;(t-=1)<0&&(t=0),n.emitter.seek({playerId:i,startTime:e,endTime:t}),n.seek(t)}))(e),Object(b.c)(b.a.ARROW_RIGHT,(function(){var e=n.player.currentTime(),t=e;(t+=1)>o&&(t=o),n.emitter.seek({playerId:i,startTime:e,endTime:t}),n.seek(t)}))(e)})),x(M(M(n)),"seekHandler",(function(e){var t=n.props,r=t.time,a=t.playerId;n.emitter.seek({playerId:a,startTime:r,endTime:e}),n.seek(e)})),x(M(M(n)),"playHandler",(function(){var e=n.props,t=e.duration,r=e.playerId;if(!e.options.showPseudoPlayButton){var a=n.player.currentTime();a===t&&(a=0,n.seekHandler(a)),n.emitter.play({playerId:r,startTime:a})}n.play()})),x(M(M(n)),"pauseHandler",(function(){var e=n.props.playerId;n.emitter.pause({playerId:e,startTime:n.player.currentTime()}),n.pause()})),x(M(M(n)),"onManageCaptions",(function(){var e=n.props.onManageCaptions;n.pauseHandler(),e()})),x(M(M(n)),"renderOverlayMessage",(function(){var e=n.props.options.autoCaptionsEnabled,t=o.a.createElement(r.Trans,{id:"Captions: ON"});return e&&(t=o.a.createElement(r.Trans,{id:"Captions: ON (Auto Generated)"})),o.a.createElement(N.a,{ref:n.overlayMessageRef,className:"player-floating-auto-caption-message",message:t})})),n.isPlaying=!1,n.isPaused=!1,n.isIdle=!0,n.isFullScreen=!1,n.time=0,n.previousTime=0,n.buffered=0,n.volume=1,n.emitter=new E.a,n.overlayMessageRef=o.a.createRef(),n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){this.initPlayer()}},{key:"componentWillUnmount",value:function(){this.destroyPlayer()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,n=this.props;if(c.a.isEqual(e.sources,n.sources)||(this.destroyPlayer(),this.initPlayer()),this.player&&e.options!==n.options){var r=e.options,a=n.options;if(r.tracks!==a.tracks&&!Object(g.a)(r.tracks,a.tracks)){var o=this.player.remoteTextTracks(),i=this.isCaptionTrackVisible(o);c.a.forEach(o,(function(e){t.player.removeRemoteTextTrack(e)})),c.a.forEach(r.tracks,(function(e){t.player.addRemoteTextTrack(e,!1)})),i&&this.updateCaptionTrackModes(!0)}}e.isPlaying&&!this.isPlaying&&(this.isPlaying=!0,this.isPaused=!1,this.isIdle=!1,this.player.play()),e.isPaused&&!this.isPaused&&(this.isPlaying=!1,this.isPaused=!0,this.isIdle=!1,this.player.pause()),e.time!==this.time&&(this.time=e.time,this.player.currentTime(e.time)),e.volume!==this.volume&&(this.volume=e.volume,this.player.volume(e.volume)),e.isFullScreen!==this.isFullScreen&&(this.isFullScreen=e.isFullScreen,this.isFullScreen?this.player.requestFullscreen():this.player.exitFullscreen())}},{key:"destroyPlayer",value:function(){this.player&&this.player.dispose(),this.durationCheckInterval&&clearInterval(this.durationCheckInterval)}},{key:"initDurationCheckInterval",value:function(){var e=this;this.durationCheckInterval=setInterval((function(){if(e.player){var t=e.player.duration();t&&(e.props.setDuration(t),e.emitter.durationAvailable({playerId:e.props.playerId,duration:t}),clearInterval(e.durationCheckInterval))}}),500)}},{key:"initPlayer",value:function(){var e=this,t=c.a.merge({},this.props.options);t.controls=!1,t.language=this.props.language;var n=c.a.omit(t,["autoplayStartTime"]);this.player=Object(l.a)(this.videoNode,n,(function(){e.logPlayerEvent("ready"),e.props.onReady(),t.autoplay&&t.autoplayStartTime&&e.seek(t.autoplayStartTime)})),this.initPlayerHandlers()}},{key:"initPlayerHandlers",value:function(){var e=this;this.isPlaying=!1,this.isPaused=!1,this.isIdle=!0,this.isFullScreen=!1,this.player.on(V.PLAY,(function(t){e.logPlayerEvent(t),e.isPlaying=!0,e.isPaused=!1,e.isIdle=!1,e.props.onPlay()})),this.player.on(V.PAUSE,(function(t){e.logPlayerEvent(t),e.isPlaying=!1,e.isPaused=!0,e.isIdle=!1,e.props.onPause()}));var t=c.a.throttle(this.logPlayerEvent,5e3);this.player.on(V.TIME_UPDATE,(function(n){t(n),e.previousTime=e.time,e.time=e.player.currentTime(),e.props.onTimeUpdate(e.time)})),this.player.on(V.ENDED,(function(t){e.logPlayerEvent(t),e.emitter.complete({playerId:e.props.playerId,endTime:e.player.currentTime()}),e.props.onEnded()})),this.player.on(V.WAITING,(function(t){e.logPlayerEvent(t),e.props.setIsWaiting(!0)})),this.player.on(V.CAN_PLAY_THROUGH,(function(t){e.logPlayerEvent(t),e.props.setIsWaiting(!1)})),this.player.on(V.CAN_PLAY,(function(t){e.logPlayerEvent(t),e.props.setIsWaiting(!1)})),this.player.on(V.SEEKING,(function(t){e.logPlayerEvent(t);var n=e.player.currentTime(),r=e.time;r===n&&(r=e.previousTime),e.props.onSeek(r,n),e.props.setIsSeeking(!0)})),this.player.on(V.SEEKED,(function(t){e.logPlayerEvent(t),e.props.setIsSeeking(!1)}));var n=c.a.throttle(this.logPlayerEvent,5e3);this.player.on(V.PROGRESS,(function(t){n(t),e.buffered=e.player.bufferedPercent(),e.props.setBufferedPercent(e.buffered)})),m.a&&m.a.enabled&&m.a.on("change",function(){if(this.playerElem){var e=m.a.isFullscreen;!e&&this.isFullScreen&&this.props.setFullScreen(!1),e&&this.playerElem===m.a.element&&this.props.setFullScreen(!0)}}.bind(this));var r=function(){e.volume=e.player.volume(),e.props.setVolume(e.volume)};r(),this.player.on(V.VOLUME_CHANGE,(function(t){e.logPlayerEvent(t),r()}));var a=function(t){var n=e.player.duration();e.logPlayerEvent(t,n),n?(e.props.setDuration(n),e.emitter.durationAvailable({playerId:e.props.playerId,duration:n})):e.initDurationCheckInterval()};this.player.readyState()===G.HAVE_NOTHING?this.player.one(V.LOADED_METADATA,a):a()}},{key:"getCaptionsList",value:function(){return(this.player?this.player.textTracks():{tracks_:[]}).tracks_}},{key:"render",value:function(){var e=this,t=this.props,n=t.isPlaying,r=t.isPaused,a=t.isIdle,i=t.isReady,c=t.isSeeking,s=t.duration,u=t.time,l=t.volume,p=t.isFullScreen,m=t.marks,b=t.id,y=t.options,h=t.forceControlsOnLayout,g=t.inFullScreenView,E=t.onManageCaptions,w=t.isFloatingActionsAllowed,O=a&&i&&(y.controls||y.showPseudoPlayButton),S=r||a?this.playHandler:this.pauseHandler,C=y.controls||h,_=y.transcriptUrl,I=this.getCaptionsList(),T=w&&!(y.controls&&this.props.showControlsBar||y.showPseudoPlayButton),R=Boolean(I&&I.length>0),P=null;return E&&(P=this.onManageCaptions),o.a.createElement("div",{className:v()("c-player",x({},"c-player--full-screen-view",g)),ref:function(t){return e.playerElem=t},onContextMenu:function(e){return e.preventDefault()}},o.a.createElement("div",{className:"c-player__video-wrapper",tabIndex:0,onKeyDown:C?this.keyDownHandler:null,onClick:C?S:null},o.a.createElement("div",{"data-vjs-player":!0},o.a.createElement("video",{ref:function(t){return e.videoNode=t},className:"video-js",playsInline:!0}),O&&o.a.createElement(d.a,{id:"".concat(b,"--play-button"),play:this.playHandler}))),y.controls&&this.props.showControlsBar&&o.a.createElement(f.a,{isPlaying:n,isPaused:r,isIdle:a,isReady:i,isSeeking:c,duration:s,time:u,volume:l,isFullScreen:p,marks:m,captions:I,transcriptUrl:_,onManageCaptions:P,setCurrentCaption:this.setCurrentCaption,toggleFullScreen:this.toggleFullScreen,changeVolume:this.changeVolume,seek:this.seekHandler,play:this.playHandler,pause:this.pauseHandler}),T&&o.a.createElement("div",{className:"player-floating-actions-container"},R&&o.a.createElement(A,{onToggle:this.updateCaptionTrackModes,isToggled:this.isCaptionTrackVisible(I)})),this.renderOverlayMessage())}}])&&k(n.prototype,a),i&&k(n,i),t}(a.Component),V={PLAY:"play",PAUSE:"pause",ENDED:"ended",BEFORE_PLAYLIST_ITEM:"beforeplaylistitem",SEEKING:"seeking",SEEKED:"seeked",PROGRESS:"progress",READY:"ready",TIME_UPDATE:"timeupdate",LOADED_METADATA:"loadedmetadata",VOLUME_CHANGE:"volumechange",FULL_SCREEN_CHANGE:"fullscreenchange",WAITING:"waiting",CAN_PLAY_THROUGH:"canplaythrough",CAN_PLAY:"canplay"},G={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},q=u.a.shape({sources:u.a.arrayOf(u.a.shape({src:u.a.string.isRequired,type:u.a.string.isRequired})),tracks:u.a.arrayOf(u.a.shape({src:u.a.string,kind:u.a.string,label:u.a.string})),transcriptUrl:u.a.string,autoplay:u.a.bool,controls:u.a.bool,aspectRatio:u.a.string,preload:u.a.oneOf(["auto","none","metadata"]),width:u.a.number,height:u.a.number,showPseudoPlayButton:u.a.bool,onPseudoPlayClick:u.a.func,autoCaptionsEnabled:u.a.bool}),B={isPlaying:u.a.bool,isPaused:u.a.bool,isIdle:u.a.bool,isEnded:u.a.bool,isReady:u.a.bool,isFullScreen:u.a.bool,isSeeking:u.a.bool,time:u.a.number,duration:u.a.number,buffered:u.a.number,volume:u.a.number};U.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}({language:u.a.string.isRequired,options:q.isRequired,onManageCaptions:u.a.func,isFloatingActionsAllowed:u.a.bool},B)},UYZU:function(e,t,n){},Uu12:function(e,t,n){"use strict";var r=n("LvDl"),a=n.n(r);var o="data-bat",i="".concat(o,"-");function c(e){this[o]=e}function s(e,t){return t===o||a.a.startsWith(t,i)}function u(e){return a.a.pickBy(e,s)}c.prototype.q=function(e){var t,n,r,c=(t={},n=o,r=this[o],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t);return a.a.forEach(e,(function(e,t){var n=a.a.toLower(t);c["".concat(i).concat(n)]=e})),c};var l=c,d={logo:null,activity:{overview:{publishScores:null,export:null,insights:{container:null,previous:null,next:null,progress:{instructor:null,learner:null,legend:null}},learners:{container:null,expandList:null,item:null,list:null,sortField:null,sortDirection:null,search:null,searchClear:null,statusFilter:null,statusType:null,viewMode:null,itemDetails:{itemsInProgress:null,itemsNotSubmitted:null,itemsSubmitted:null,peerReview:null,peerReviewFiveStar:null,peerReviewRubric:null,autoAnalysis:null,qa:null,score:null}},submission:{reset:null,chat:null,activityLog:null,unsubmittedItems:null},progress:{chat:null,activityLog:null},note:{groupsNotFinalized:null,noGroupsCreated:null}},preSubmission:{note:{notSubmitted:null,videoItemsRequired:null,autoAnalysisPending:null,autoAnalysisError:null}}},welcome:{accept:null,decline:null,userName:{form:null,first:null,last:null}},general:{itemChooser:{filterText:null,filterClear:null,item:null},loadingOverlay:null},course:{create:{showAdvancedOptions:null,courseName:null,courseTemplateChooser:null,courseCopyChooser:null,directLinking:null,back:null,continue:null,message:{linkNotAssociated:null,noCourseLinkId:null},option:{blank:null,viaTemplate:null,viaCopy:null}},content:{create:{showAdvancedOptions:null,message:{linkNotAssociated:null,noResourceLinkId:null,directLinkingNotEnabled:null,unableToLoadCourse:null},option:{activityList:null,activity:null,meeting:null},activity:{showAdvancedOptions:null,linkExistingActivityChooser:null,copyExistingActivityChooser:null,activityName:null,back:null,continue:null,option:{individual:null,qa:null,group:null,interactiveVideo:null,copyExisting:null,linkExisting:null}}}}},meeting:{lobby:{page:null,loading:null,title:null,scheduledAt:null,moderator:null,status:null,join:null,externalInvite:null,dialInInfo:null,help:null,anon:{firstName:null,lastName:null},autoJoinDialog:{confirm:null,cancel:null},dialInInfoDialog:{numbers:null,pin:null},autoJoinOverlay:{loading:null,cancel:null},note:{earlyAccess:null,autoJoin:null,loadError:null}}},manageCaptions:{dialog:null,loading:null,option:{automatic:null,importer:null,editor:null},automatic:{cancel:null},importer:{fileChooser:null},editor:{captionText:null,delete:null,save:null,edit:null,download:null,import:null}}};function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"b",(function(){return b})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return S})),n.d(t,"f",(function(){return C})),n.d(t,"j",(function(){return u}));var p="-";var m=a.a.clone(d);!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];a.a.forOwn(t,(function(r,o){var i=[].concat(f(n),[o]);if(a.a.isObject(r))e(r,i);else{var c=a.a.join(i,p);a.a.set(t,o,new l(c))}}))}(m);var b=m.activity.overview,y=m.activity.preSubmission,v=m.welcome,h=m.course,g=m.general,E=h.create,w=h.content.create,O=w.activity,S=m.meeting.lobby,C=m.manageCaptions;t.k=m},UyA7:function(e,t,n){"use strict";var r=n("G4qV"),a=n("upk1"),o=n("BA0I"),i=n("LvDl"),c=n.n(i),s={};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"FEATURE_KEYS",s),u(this,"processRuntimeConfig",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.a.reduce(e,(function(e,t){return e[t.key]=t.value,e}),{})})),u(this,"isFeatureEnabled",(function(e,t){var n=c.a.get(e,t,"");return"true"===String(n).toLowerCase()}))},d=n("hIiU");n.d(t,"o",(function(){return p})),n.d(t,"q",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return h})),n.d(t,"t",(function(){return g})),n.d(t,"u",(function(){return E})),n.d(t,"w",(function(){return w})),n.d(t,"v",(function(){return O})),n.d(t,"y",(function(){return S})),n.d(t,"i",(function(){return C})),n.d(t,"B",(function(){return _})),n.d(t,"s",(function(){return I})),n.d(t,"z",(function(){return T})),n.d(t,"m",(function(){return R})),n.d(t,"n",(function(){return P})),n.d(t,"x",(function(){return A})),n.d(t,"l",(function(){return N})),n.d(t,"h",(function(){return j})),n.d(t,"r",(function(){return k})),n.d(t,"j",(function(){return D})),n.d(t,"A",(function(){return M})),n.d(t,"d",(function(){return x})),n.d(t,"k",(function(){return F})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return V})),n.d(t,"a",(function(){return G}));var f=Object(r.a)(a.a,(function(e){return e.config})),p=Object(r.a)(f,(function(e){return e.fileTransferConfig})),m=Object(r.a)(f,(function(e){return e.fileTransferConfigIsLoading})),b=Object(r.a)(f,(function(e){return e.fileTransferConfigHasError})),y=Object(r.a)(f,(function(e){return e.fileUploadConfig})),v=Object(r.a)(f,(function(e){return e.fileUploadConfigIsLoading})),h=Object(r.a)(f,(function(e){return e.fileUploadConfigHasError})),g=Object(r.a)(f,(function(e){return e.isD2L})),E=Object(r.a)(f,(function(e){return e.isD2LFreemium})),w=Object(r.a)(f,(function(e){return e.isD2LPremium})),O=Object(r.a)(f,(function(e){return e.isD2LLegacyFreemium})),S=Object(r.a)(f,(function(e){return e.isPlainLti})),C=Object(r.a)(f,(function(e){return e.institution})),_=Object(r.a)(C,(function(e){return d.a.isTrial(e)})),I=Object(r.a)(C,(function(e){return d.a.getTrialExpirationDate(e)})),T=Object(r.a)(f,(function(e){return e.isTermClassLoading})),R=Object(r.a)(f,(function(e){return e.termClass})),P=Object(r.a)(f,(function(e){return e.theme})),A=Object(r.a)(R,(function(e){return!!e&&e.isDeepLinkingEnabled})),N=(Object(r.a)(R,(function(e){return e.cohortableD2lCourses?e.cohortableD2lCourses:[]})),Object(r.a)(R,(function(e){return Boolean(e.isCohortManagementAllowed)})),Object(r.a)(f,(function(e){return e.ltiScope}))),j=Object(r.a)(y,(function(e){if(e){var t=e.requestParams;return t?JSON.parse(t):t}})),k=Object(r.a)(p,(function(e){if(e){var t=e.requestParams;return t?JSON.parse(t):t}})),D=Object(r.a)(R,(function(e){return e?e.integrationMode:null})),L=Object(r.a)(C,(function(e){return e&&c.a.includes(e.integrationType,o.b.TOP_HAT)})),M=Object(r.a)(L,D,(function(e,t){return e&&"TYPE__TOP_HAT_PREMIUM"!==t})),x=Object(r.a)(f,(function(e){return e.featureConfig||{}})),F=Object(r.a)(f,(function(e){return e.isEnvironmentConfigLoading})),U=Object(r.a)(f,(function(e){return e.environmentConfig||{}})),V=Object(r.a)(U,(function(e){return c.a.get(e,"errors")})),G=Object(r.a)(U,(function(e){return e.aptrinsicApiKey}));Object(r.a)(U,(function(e){return l.processRuntimeConfig(e.runtimeConfig)}))},"V+cX":function(e,t,n){"use strict";t.a={INITIAL:"INITIAL",RECORDING:"RECORDING",PREVIEW:"PREVIEW",SUBMITTING:"SUBMITTING"}},V08G:function(e,t,n){},VJ5r:function(e,t,n){},VQIj:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("LvDl"),u=n.n(s),l=n("Uu12"),d=n("4XMt"),f=n("PjZZ");n("1CkY");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return u.a.pick(e,Object.keys(y.componentProps))}var y=function(e){var t=!e.enabled;return u.a.has(e,"disabled")&&(t=e.disabled),a.a.createElement(c.g,m({},Object(l.j)(e),b(e),{className:f.a(t,e,"selection-control-checkbox"),disabled:t,"aria-label":e.ariaLabel}))};y.componentProps={checked:i.a.bool,className:i.a.string,defaultChecked:i.a.bool,disabled:i.a.bool,id:i.a.string.isRequired,label:i.a.node,labelBefore:i.a.string,name:i.a.string.isRequired,onChange:i.a.func,style:i.a.object,value:i.a.string},y.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},y.componentProps,{enabled:i.a.bool,ariaLabel:i.a.string,tooltip:i.a.any}),y.defaultProps={enabled:!0},t.a=Object(d.c)(y)},VQZn:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("TSYQ"),u=n.n(s),l=n("LvDl"),d=n.n(l);n("Luur");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){return d.a.pick(e,Object.keys(b.componentProps))}var b=function(e){var t="md-paper--"+e.zDepth;return a.a.createElement(c.d,p({},m(e),{className:u()("content-card",e.className,t)}),e.children)};b.componentProps={className:i.a.string,defaultExpanded:i.a.bool},b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},b.componentProps,{zDepth:i.a.number}),b.defaultProps={defaultExpanded:!1,zDepth:2},t.a=b},VaGi:function(e,t,n){},VhdU:function(e,t,n){"use strict";var r=n("TtRr"),a=n("vCeT"),o=n("NlSD"),i=n("lTCR"),c=n.n(i);function s(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\nmutation {\n  createWebRtcRecordingSession {\n    connectionUrl\n    iceServers {\n      url\n      username\n      credential\n    }\n  }\n}\n"]);return s=function(){return e},e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getWebRtcSession",value:function(){return o.a.mutate({mutation:d}).then((function(e){return Promise.resolve(e.data.createWebRtcRecordingSession)}))}}],(n=null)&&u(t.prototype,n),r&&u(t,r),e}(),d=c()(s()),f=n("ZD0w"),p=n("Vy55"),m=n("gFX4"),b=n.n(m),y={OUTGOING_EVENTS:{JOIN:"join",START_BROADCAST:"startBroadcast",ICE_FOR_OUTGOING:"iceForOutgoing",START_RECORDING:"startRecording",STOP_RECORDING:"stopRecording",START_UPLOADING:"startUploading"},INCOMING_EVENTS:{ICE_FOR_OUTGOING:"iceForOutgoing",OUTGOING_ANSWER:"outgoingAnswer",RECORDING_STARTED:"recordingStarted",RECORDING_STOPPED:"recordingStopped",RECORDINGS_PREVIEW:"recordingsPreview",UPLOADING_FINISHED:"uploadingFinished",UPLOADING_ERROR:"uploadingError",UPLOADING_PROGRESS:"uploadingProgress"}},v="connected",h="failed",g=n("1Rmf"),E=n.n(g),w=n("8bCP"),O=n("uhBA");function S(e){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function t(e){var n,r,a,o=e.stream,i=e.socket,c=e.iceServers,s=e.streamId,u=void 0===s?Date.now():s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=T(t).call(this),n=!a||"object"!==S(a)&&"function"!==typeof a?P(r):a,A(P(P(n)),"sendSocketMessage",(function(e){n.socket.emit("message",e)})),A(P(P(n)),"socketMessageHandler",(function(e){if(!n.closed&&e.streamId===n.streamId){var t=P(P(n));switch(e.id){case y.INCOMING_EVENTS.ICE_FOR_OUTGOING:t.outgoingPeer.addIceCandidate(e.candidate);break;case y.INCOMING_EVENTS.OUTGOING_ANSWER:t.outgoingPeer.processAnswer(e.sdpAnswer)}}})),A(P(P(n)),"addSocketHandlers",(function(){n.socket.on("message",n.socketMessageHandler)})),n.stream=o,n.socket=i,n.iceServers=c,n.streamId=u,n.closed=!1,n.addSocketHandlers(),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),n=t,(r=[{key:"destroy",value:function(){this.closed||(this.outgoingPeer&&(this.outgoingPeer.dispose(),this.outgoingPeer=null),this.stream&&this.stream.destroy(),this.removeAllListeners(),this.socket.off("message",this.socketMessageHandler),this.closed=!0)}},{key:"startNegotiation",value:function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r,a,o,i,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={videoStream:this.stream.stream,configuration:{iceServers:this.iceServers},onicecandidate:function(e){c.sendSocketMessage({id:y.OUTGOING_EVENTS.ICE_FOR_OUTGOING,streamId:c.streamId,candidate:e})}},e.next=3,this.generateOutgoingPeer(n);case 3:r=e.sent,a=C(r,2),o=a[0],i=a[1],this.outgoingPeer=o,o.peerConnection.oniceconnectionstatechange=function(e){if(!c.closed){var n=e.currentTarget.iceConnectionState;w.b.info('Outgoing peer "'.concat(c.streamId,'" ice state  ').concat(n)),n===h&&c.emit(t.EVENTS.ICE_FAILED),n===v&&c.emit(t.EVENTS.ICE_CONNECTED)}},o.peerConnection.ontrack=function(e){c.closed||c.emit(t.EVENTS.ON_REMOTE_STREAM,e.streams[0])},this.sendSocketMessage({id:y.OUTGOING_EVENTS.START_BROADCAST,streamId:this.streamId,sdpOffer:i});case 11:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,c,"next",e)}function c(e){_(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}()},{key:"generateOutgoingPeer",value:function(e){return new Promise((function(t,n){var r=new E.a.WebRtcPeer.WebRtcPeerSendrecv(e,(function(e){if(e)return n("Error during creating of webRtcPeer",e);w.b.log("Local participant sends video"),r.generateOffer((function(e,a){if(e)return n("Error during sdpOffer generation for local video!",e);t([r,a])}))}))}))}}])&&I(n.prototype,r),a&&I(n,a),t}(n.n(O).a);A(N,"EVENTS",{ON_REMOTE_STREAM:"ON_REMOTE_STREAM",ICE_FAILED:"ICE_FAILED",ICE_CONNECTED:"ICE_CONNECTED"});var j=n("cK1Q"),k=n("cRwh");function D(e){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return K}));var V,G,q,B=3e3,W=Object(f.i18nMark)("Connecting to recording server..."),Q=Object(f.i18nMark)("Failed to create recording session"),Y=Object(f.i18nMark)("Failed to connect to recording server"),H=Object(f.i18nMark)("Connection lost. Trying to reconnect to recording server..."),z=Object(f.i18nMark)("Failed to establish media streaming, retrying..."),K=function(e){function t(e){var n,r,a,o=e.i18n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=x(t).call(this))||"object"!==D(a)&&"function"!==typeof a?U(r):a).setNotifications({CONNECTING:new p.a({type:p.a.TYPES.INFO,id:"CONNECTING",message:o._(W),showDelay:B,i18n:o}),FAILED_TO_CREATE_SESSION:new p.a({type:p.a.TYPES.ERROR,id:"FAILED_TO_CREATE_SESSION",message:o._(Q),clickHandler:n.init.bind(U(U(n))),showDelay:B,i18n:o}),FAILED_TO_CONNECT:new p.a({type:p.a.TYPES.ERROR,id:"FAILED_TO_CONNECT",message:o._(Y),clickHandler:n.init.bind(U(U(n))),showDelay:B,i18n:o}),DISCONNECTED:new p.a({type:p.a.TYPES.ERROR,id:"DISCONNECTED",message:o._(H),showDelay:B,i18n:o}),ICE_FAILED:new p.a({type:p.a.TYPES.ERROR,id:"ICE_FAILED",message:o._(z),showDelay:B,i18n:o})}),n.setActiveNotifications({CONNECTING:!1,FAILED_TO_CREATE_SESSION:!1,FAILED_TO_CONNECT:!1,DISCONNECTED:!1,ICE_FAILED:!1}),n.streams={},n.readyToRecordStreams={},n.inited=!1,n.wasDisconnected=!1,n.disconnectedCount=0,n.recording=!1,n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),n=t,(r=[{key:"init",value:function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.getWebRtcSession();case 3:t=e.sent,n=t.connectionUrl,r=t.iceServers,this.connectionUrl=n,this.iceServers=r,this.activeNotifications.FAILED_TO_CREATE_SESSION=!1,this.connectToServer(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.activeNotifications.FAILED_TO_CREATE_SESSION=!0;case 15:case"end":return e.stop()}}),e,this,[[0,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,c,"next",e)}function c(e){L(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}()},{key:"connectToServer",value:function(){var e=this;this.socket&&(this.socket.off(),this.socket.disconnect()),this.activeNotifications.CONNECTING=!0,this.socket=b.a.connect(this.connectionUrl),this.socket.on("connect",(function(){e.activeNotifications.CONNECTING=!1,e.activeNotifications.FAILED_TO_CONNECT=!1,e.activeNotifications.DISCONNECTED=!1,e.sendSocketMessage({id:y.OUTGOING_EVENTS.JOIN}),e.inited||e.emit(t.EVENTS.INITIALIZED),e.inited=!0,e.wasDisconnected&&(e.disconnectedCount<3?e.emit(a.a.REQUEST_NEW_STREAMS):(e.socket.disconnect(),e.setActiveNotifications({CONNECTING:!1,FAILED_TO_CREATE_SESSION:!1,FAILED_TO_CONNECT:!0,DISCONNECTED:!1,ICE_FAILED:!1}),e.disconnectedCount=0))})),this.socket.on("disconnect",(function(){e.activeNotifications.DISCONNECTED=!0,e.wasDisconnected=!0,e.disconnectCurrentStreams(),e.recording&&e.emit(a.a.RECORDING_PAUSED),e.emit(a.a.RESET_STREAMS),Object.keys(e.readyToRecordStreams).forEach((function(t){e.readyToRecordStreams[t]=!1})),e.disconnectedCount++})),this.socket.on("connect_failed",(function(){e.activeNotifications.FAILED_TO_CONNECT=!0})),this.addSocketMessagesHandler()}},{key:"getFinalizeOptions",value:function(){var e=this,t={};return Object.keys(this.previews).forEach((function(n){var r=k.a[n],a=e.previews[n];t[r]=new URL(a.streamUrl).pathname.replace(/^\//,"")})),t}},{key:"disconnectCurrentStreams",value:function(){Object.values(this.streams).forEach((function(e){return e.destroy()}))}},{key:"addSocketMessagesHandler",value:function(){var e=this;this.socket.on("message",(function(t){switch(t.id){case y.INCOMING_EVENTS.RECORDING_STARTED:if(e.recording&&e.wasDisconnected)return e.emit(a.a.RECORDING_RESUMED);e.emit(a.a.RECORDING_STARTED),e.recording=!0;break;case y.INCOMING_EVENTS.RECORDINGS_PREVIEW:var n=t.recordings,r={};Object.keys(e.streams).forEach((function(t){var a=e.streams[t],o=n[a.streamId];o&&(r[t]=new j.a({streamName:t,streamUrl:o}))})),e.previews=r,e.emit(a.a.PREVIEW_IS_READY,r),e.emit(a.a.UPLOADING_PROGRESS,100),e.emit(a.a.UPLOAD_FINISHED),e.uploadFinished=!0,e.socket.off(),e.activeNotifications.CONNECTING=!1,e.activeNotifications.FAILED_TO_CONNECT=!1,e.activeNotifications.DISCONNECTED=!1;break;case y.INCOMING_EVENTS.RECORDING_STOPPED:e.emit(a.a.RECORDING_STOPPED),e.recording=!1}}))}},{key:"isUploadFinished",value:function(){return this.uploadFinished}},{key:"destroy",value:function(){this.removeAllListeners(),this.socket&&(this.socket.off(),this.socket.disconnect()),Object.values(this.streams).forEach((function(e){e&&"function"===typeof e.destroy&&e.destroy()}))}},{key:"sendSocketMessage",value:function(e){this.socket.emit("message",e)}},{key:"addStream",value:function(e){var t,n=this,r=e.streamName;this.streams[r]&&this.streams[r].destroy(),this.readyToRecordStreams[r]=!1,this.wasDisconnected&&this.streams[r]&&(t=this.streams[r].streamId);var o=new N({stream:e,socket:this.socket,iceServers:this.iceServers,streamId:t});this.streams[r]=o;var i=null;o.on(N.EVENTS.ON_REMOTE_STREAM,(function(e){i=new j.a({stream:e,streamName:r})})),o.once(N.EVENTS.ICE_FAILED,(function(){n.activeNotifications.ICE_FAILED=!0,o.destroy(),o=null,n.streams[r]=null,setTimeout((function(){n.addStream(e)}),2e3)})),o.once(N.EVENTS.ICE_CONNECTED,(function(){n.activeNotifications.ICE_FAILED=!1,n.emit(a.a.STREAM_ADDED,i),n.readyToRecordStreams[r]=!0,n.checkForRerecord()})),o.startNegotiation()}},{key:"checkForRerecord",value:function(){var e=Object.values(this.readyToRecordStreams).every((function(e){return e}));if(this.recording&&this.wasDisconnected&&e)return this.startRecording()}},{key:"startRecording",value:function(){var e=Object.values(this.streams).map((function(e){return e.streamId}));this.sendSocketMessage({id:y.OUTGOING_EVENTS.START_RECORDING,streams:e})}},{key:"stopRecording",value:function(){var e=Object.values(this.streams).map((function(e){return e.streamId}));this.sendSocketMessage({id:y.OUTGOING_EVENTS.STOP_RECORDING,streams:e})}}])&&M(n.prototype,r),o&&M(n,o),t}(r.a);V=K,G="EVENTS",q=a.a,G in V?Object.defineProperty(V,G,{value:q,enumerable:!0,configurable:!0,writable:!0}):V[G]=q},VmXB:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n("nseW"),a=r.h,o=r.d},Vy55:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("ZD0w");var a,o,i,c=Object(r.i18nMark)("Try again"),s=function e(t){var n=t.id,r=t.message,a=t.fixText,o=t.clickHandler,i=t.type,s=void 0===i?e.TYPES.ERROR:i,u=t.showDelay,l=void 0===u?0:u,d=t.i18n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n,this.message=r,this.fixText=a||d._(c),this.type=s,this.clickHandler=o,this.showDelay=l};i={ERROR:"ERROR",WARN:"WARN",INFO:"INFO"},(o="TYPES")in(a=s)?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i},W5Bm:function(e,t,n){"use strict";(function(e){var r=n("q1tI"),a=n.n(r),o=n("vRGJ"),i=n.n(o),c=n("17x9"),s=n.n(c),u=n("/MKj"),l=n("VmXB"),d=n("Ty5D"),f=n("ZD0w"),p=n("LvDl"),m=n.n(p),b=n("TSYQ"),y=n.n(b),v=n("nbG6"),h=n("QMWu"),g=n("7dPE"),E=n("hHKf"),w=n("kbsL"),O=n("8For"),S=n("8bCP"),C=n("Y7ox"),_=n("A2tp"),I=n("ERI2"),T=n("0TIy"),R=n("+y5T"),P=n("k/UH"),A=n("/iAH"),N=n("hFGE"),j=n("4XMt"),k=n("ZUBI"),D=n("Wtf/"),L=n("e33A"),M=n("RMfM"),x=n("h15y"),F=n("TDYo"),U=n("0zen"),V=n("TVp9"),G=n("2Gxn"),q=n("fcFR"),B=n("3Tiu"),W=n("pElA"),Q=n("rnBV"),Y=n("szwm"),H=n("LFYD"),z=n("v6po"),K=n("8eDJ"),X=n("V+cX"),J=n("K2Ti"),Z=n("LMP5"),$=n("PwM7");n("212x");function ee(e){return(ee="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ce(e,t,n[t])}))}return e}function ne(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se={inPractice:!1,inQuestion:!1,inAnswer:!1,inWithdraw:!1,isRecording:!1,inRecorderDelay:!1,recoderDelayText:null,inQuestionVideoPlayback:!1,isRecordingSubmitting:!1,destroyRecorder:!0,showWithdrawConfirmDialog:!1,showWithdrawCommentDialog:!1,withdrawComment:"",iosSettings:null,showUserReadyMessage:!1,recorderOpenedInWindow:!1,isRecorderSupported:!0,recordingWindowIsClosed:!1,mediaIsLoading:!1,mediaLoadingProgress:0,isRecorderActivated:!1},ue="QA recorder",le="QA question player",de="bongo-qa-standalone-recorder-window",fe=2e4,pe="full-screen-question",me=G.b(),be=G.a(),ye=G.f(),ve=function(t){function n(t){var r,o,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,c=ae(n).call(this,t),r=!c||"object"!==ee(c)&&"function"!==typeof c?ie(o):c,ce(ie(ie(r)),"handleVisibilityChange",(function(){var e=r.props,t=e.dispatch,n=e.stopRecordingOnDocumentHide,a=r.state,o=a.isRecording,i=a.inRecorderDelay;n&&(document.hidden?o?t(F.i(ue)):i||r.setState({destroyRecorder:!0}):(r.closeStandaloneRecorderWindow(),location.reload()))})),ce(ie(ie(r)),"componentWillUnmount",(function(){var e=r.props,t=e.dispatch,n=e.stopRecordingOnDocumentHide;r._ismounted=!1,r.closeStandaloneRecorderWindow(),clearTimeout(r.pollingTimer),window.removeEventListener("beforeunload",r.onUnload),t(F.k(ue)),n&&document.removeEventListener("visibilitychange",r.handleVisibilityChange)})),ce(ie(ie(r)),"onUnload",(function(e){var t=r.props.i18n,n=r.state,a=n.inQuestion,o=n.inAnswer,i=n.inWithdraw;if(r.closeStandaloneRecorderWindow(),a||o||i){var c=t._("Are you sure you want to leave this page? Any unsaved changes will be lost.");return e.returnValue=c,c}})),ce(ie(ie(r)),"closeStandaloneRecorderWindow",(function(){r.recorderWindow&&!r.recorderWindow.closed&&r.recorderWindow.close()})),ce(ie(ie(r)),"startPolling",(function(){clearTimeout(r.pollingTimer),r._ismounted&&(r.pollingTimer=setTimeout(r.fetchProgressData,fe))})),ce(ie(ie(r)),"fetchProgressData",(function(){var e=r.props,t=e.match.params.activityId,n=e.allowPeerReviewBeforeSubmission,a=e.inWithdraw,o=e.currentActivityState,i=r.state,c=i.inQuestion,s=i.inAnswer;o===Q.a.PROGRESS&&(c||s||a?r.startPolling():I.a.refreshProgressData(+t,n).then((function(){r.startPolling()})))})),ce(ie(ie(r)),"onPracticeChange",(function(e){var t=r.props,n=t.practiceData;(0,t.dispatch)(F.q(ue,!e)),e&&!n&&I.a.loadPracticeRecorderSettings(),r.setState({inPractice:e})})),ce(ie(ie(r)),"startDelayTimer",(function(e){e?r.delayTimer=setTimeout(function(){var t=e-1;this.setState({recoderDelayText:Object(Z.k)(t)}),this.startDelayTimer(t)}.bind(ie(ie(r))),1e3):(r.startRecording(),r.setState({inRecorderDelay:!1}))})),ce(ie(ie(r)),"startQuestionAnswer",(function(){var e=r.props.qaSettings.delay;e?r.setState({inRecorderDelay:!0,recoderDelayText:Object(Z.k)(e)},(function(){r.startDelayTimer(e)})):r.startRecording()})),ce(ie(ie(r)),"onQuestionVideoPlaybackEnded",(function(){var e=r.props,t=e.dispatch,n=e.qaSettings,a=e.question,o=r.state.inPractice;r.setState({inQuestionVideoPlayback:!1,inQuestion:!1,inAnswer:!0},(function(){t(M.q(le)),o?n.isStartedImmediately||(t(F.N(ue,!0)),r.startQuestionAnswer()):I.a.setQuestionIsIdling(a.dbId).then((function(){n.isStartedImmediately||(t(F.N(ue,!0)),r.startQuestionAnswer())}))}))})),ce(ie(ie(r)),"onWithdraw",(function(){r.setState({showWithdrawConfirmDialog:!0})})),ce(ie(ie(r)),"onWithdrawConfirmCancel",(function(){r.setState({showWithdrawConfirmDialog:!1,inWithdraw:!1})})),ce(ie(ie(r)),"onWithdrawConfirmSubmit",(function(){var e=r.props.dispatch;clearTimeout(r.delayTimer),e(M.q(le)),r.setState({showWithdrawConfirmDialog:!1,showWithdrawCommentDialog:!0,inWithdraw:!0,inQuestionVideoPlayback:!1})})),ce(ie(ie(r)),"onWithdrawCommentSubmit",(function(){var e=r.state,t=e.inPractice,n=e.withdrawComment,a=r.props.question;t?(r.setState({showWithdrawCommentDialog:!1,withdrawComment:"",inWithdraw:!1}),r.refreshQuestionState()):I.a.withdrawAnswer(a.dbId,n).then((function(){r.setState({showWithdrawCommentDialog:!1,withdrawComment:"",inWithdraw:!1}),r.refreshQuestionState()}))})),ce(ie(ie(r)),"withdrawCommentChanged",(function(e){r.setState({withdrawComment:e})})),ce(ie(ie(r)),"startRecording",(function(){var e=r.props,t=e.dispatch,n=e.question;r.state.inPractice?t(F.h(ue)):I.a.setAnswerIsRecording(n.dbId).then((function(){t(F.h(ue))}))})),ce(ie(ie(r)),"refreshQuestionState",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=r.props,n=t.activityId,a=t.stopRecordingOnDocumentHide;I.a.getUpdatedState(n).then((function(){r.setState({destroyRecorder:!0,isRecordingSubmitting:!1},(function(){var t=r.props.questionCount,n=r.state.isRecorderActivated&&!(r.getAnsweredQuestionsCount()===t);r.reloadPageIfNeeded(),r.setState({destroyRecorder:!!a&&document.hidden,inQuestion:!1,inAnswer:!1,inRecorderDelay:!1,recoderDelayText:null,inQuestionVideoPlayback:!1,isRecordingSubmitting:!1,isRecorderActivated:n},(function(){e&&r.scrollToQuestionContainer()}))}))}))})),ce(ie(ie(r)),"reloadPageIfNeeded",(function(){var e=r.props,t=e.refreshPageOnAnswerSubmission,n=e.questionCount;t&&r.getAnsweredQuestionsCount()!==n&&location.reload()})),ce(ie(ie(r)),"onRecordComplete",(function(){r.refreshQuestionState()})),ce(ie(ie(r)),"onRecordingFinished",(function(){var e=r.props.question,t=r.state.inPractice;r.setState({isRecording:!1}),t?r.refreshQuestionState():I.a.finishQuestion(e.dbId).then((function(){r.setState({isRecordingSubmitting:!0},(function(){r.scrollToQuestionContainer()}))}))})),ce(ie(ie(r)),"onStartQuestion",(function(){var e=r.props,t=e.webcamFileName,n=e.question,a=e.practiceData,o=r.state.inPractice;r.setState({showUserReadyMessage:!0,inQuestion:!0}),o?r.setupQuestionState(a):I.a.startQuestion(n.dbId,t).then((function(e){r.setupQuestionState(e)}))})),ce(ie(ie(r)),"setupQuestionState",function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var a,o,i,c,s,u,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.props,o=a.dispatch,i=a.qaSettings,c=r.state.showUserReadyMessage,s=r.userInteractionRequiredForPlayback(),u={inQuestion:!0,inQuestionVideoPlayback:!1,inAnswer:!1},o(F.N(ue,!1)),!n||!n.qaQuestion){t.next=30;break}if(!i.isStartedImmediately){t.next=29;break}if(l=null,!n.qaQuestion.media||!n.qaQuestion.media.srcUrl){t.next=23;break}return l=n.qaQuestion.media.dbId,t.prev=10,o(B.q(!0)),t.next=14,r.getMediaBlobUrl(n.qaQuestion.media.srcUrl);case 14:d=t.sent,o(B.l(d)),o(B.q(!1)),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(10),o(B.q(!1)),S.b.error(t.t0);case 23:(!(s&&c)||!l)&&e(r.startQuestionAnswer),u.inAnswer=!0,n.qaQuestion.media&&(u.inQuestionVideoPlayback=!0),t.next=30;break;case 29:n.qaQuestion.media?u.inQuestionVideoPlayback=!0:(u.inAnswer=!0,r.startQuestionAnswer(),o(F.N(ue,!0)));case 30:r.setState(u,(function(){r.scrollToQuestionContainer()}));case 31:case"end":return t.stop()}}),t,this,[[10,19]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){ne(o,r,a,i,c,"next",e)}function c(e){ne(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()),ce(ie(ie(r)),"scrollToQuestionContainer",(function(){var e=document.querySelectorAll("header.toolbar");if(e&&e[0]&&r.recorderContainer&&r.recorderContainer.offsetParent){var t=document.querySelectorAll("header.toolbar")[0].offsetHeight;Object($.c)(r.recorderContainer.offsetParent.offsetTop-t,1e3)}})),ce(ie(ie(r)),"onRecordStarted",(function(){r.delayTimer&&(clearTimeout(r.delayTimer),r.setState({inRecorderDelay:!1})),r.setState({isRecording:!0})})),ce(ie(ie(r)),"onStartVideoPlayback",(function(){var t=r.props,n=t.dispatch,a=t.activeQuestion,o=t.qaSettings,i=r.state.showUserReadyMessage,c=r.userInteractionRequiredForPlayback();if(n(M.u(le)),o.isStartedImmediately&&c&&i){e(r.startQuestionAnswer);var s={inAnswer:!0};a&&a.question&&a.question.qaQuestion.media&&(s.inQuestionVideoPlayback=!0),r.setState(s)}r.setState({showUserReadyMessage:!1})})),ce(ie(ie(r)),"onRecordingIsNotSupported",(function(){var e=r.props.i18n;r.setState({isRecorderSupported:!1,isRecorderActivated:!1});var t=a.a.createElement(w.h,{id:"button-qa-not-supported-launch-window",primary:!0,onClick:function(){C.a.closeModal(),r.openWindowedQaRecorder()},iconEl:a.a.createElement(O.a,null,H.a.OPEN_IN_BROWSER)},e._("Open in New Window")),n=a.a.createElement(g.a,{id:"confirm-open-recorder",dialogClassName:"confirm-open-new-window-dialog",title:e._("Open in New Window"),footerActions:t,onHide:function(){C.a.closeModal()},fullPage:!1},a.a.createElement("p",null,r.getRecorderNotSupportedMessage()));C.a.showModal(n)})),ce(ie(ie(r)),"openWindowedQaRecorder",(function(){var e=r.props.match,t=i.a.compile(l.b.STANDALONE_QA_RECORDER)(te({},e.params));r.setState({recorderOpenedInWindow:!0,recordingWindowIsClosed:!1,isRecorderActivated:!1},(function(){r.recorderWindow=window.open(q.b(t),"".concat(de,"[").concat((new Date).getTime(),"]"),"width=1165,height=730"),r.recorderWindow&&!r.recorderWindow.closed?(r.props.dispatch(W.Yb(null)),r.recorderWindow.onbeforeunload=function(){r.setState({recorderOpenedInWindow:!1,recordingWindowIsClosed:!0}),r.refreshQuestionState()}):(r.setState({recorderOpenedInWindow:!1,recordingWindowIsClosed:!0}),r.refreshQuestionState())}))})),ce(ie(ie(r)),"onActivateRecorder",(function(){r.setState({isRecorderActivated:!0})})),ce(ie(ie(r)),"canStartQuestion",(function(){return r.props.isSubmittable})),ce(ie(ie(r)),"renderActivateRecorderContainer",(function(){var e=r.state,t=e.isRecorderActivated,n=e.isRecorderSupported,o=e.recorderOpenedInWindow,i=r.props,c=i.i18n,s=i.questionIsLoading,u=r.canStartQuestion(),l={label:r.getQuestionCannotBeStartedMessage()};if(r.isDeviceSupported()||(u=!1,l={label:r.getRecordingNotSupportedMessage()},r.isScreenRecordingRequired()&&!T.a.isScreenCapturingSupported()&&(l={label:r.getScreenRecordingNotSupportedMessage()})),n||(u=!1,l={label:r.getRecordingNotSupportedMessage()}),Boolean(o)&&(u=!1,l={label:r.getNewWindowAlreadyOpenedMessage()}),s&&(u=!1,l={label:r.getLoadingMessage()}),!t)return a.a.createElement("div",{className:"qa-activate-recorder-container"},a.a.createElement("div",{className:"qa-activate-recorder-contents"},a.a.createElement(O.a,{className:"init-video-icon"},H.a.PERSON),a.a.createElement(w.h,{id:"button-qa-activate-recorder",className:"activate-recorder-button",primary:!0,enabled:u,tooltip:l,onClick:r.onActivateRecorder},c._("Activate Recorder"))))})),ce(ie(ie(r)),"checkFullScreenRecorderHeight",(function(){var e=r.props.isLandscape;if(me&&r.showingFullScreenQuestionAnswer()&&!e){var t=document.querySelector(".qa-recorder-container video");if(t){var n=t.getBoundingClientRect(),a=document.documentElement.clientHeight;n.y<48&&(t.style.maxHeight="calc(".concat(a/2,"px - 72px)"))}}})),ce(ie(ie(r)),"isScreenRecordingRequired",(function(){return r.props.qaSettings.recordingMode===K.a.CAMERA_AND_SCREENSHARE})),ce(ie(ie(r)),"getRecorderType",(function(){return r.props.qaSettings.recordingMode===K.a.CAMERA_AND_SCREENSHARE?R.a.CAMERA_WITH_DESKTOP:R.a.CAMERA_ONLY})),ce(ie(ie(r)),"getRecorderContainer",(function(){var e,t=r.props,n=t.activityId,o=t.question,i=t.activeQuestion,c=t.isQuestionVideoPlaying,s=t.practiceData,u=t.i18n,l=t.isLandscape,d=t.qaSettings,f=r.state,p=f.inQuestion,b=f.inAnswer,v=f.inQuestionVideoPlayback,h=f.inRecorderDelay,g=f.recoderDelayText,E=f.destroyRecorder,w=f.inPractice,O=f.showUserReadyMessage,S=f.isRecorderActivated,C=f.mediaIsLoading,I=null,R=!1,P=r.userInteractionRequiredForPlayback();if(p){w&&(i=m.a.merge({},s,{qaQuestion:{media:{dbId:0}}}));var A=m.a.get(i,"qaQuestion.media");i&&A&&(e=A.dbId,I={autoplay:!P,controls:!1,sources:[{src:A.srcUrl,type:"video/mp4"}]},A.caption&&(I.tracks=[te({},A.caption,{mode:"showing"})]),R=Boolean(c))}r.checkFullScreenRecorderHeight();var N=r.getRecorderType(),j=p||R||v&&P&&O?"qa-question-playing":null;return a.a.createElement("div",{ref:function(e){return r.recorderContainer=e},className:y()("qa-recorder-container",l&&"landscape",r.showingFullScreenQuestionAnswer()&&pe,e||w?"has-playback-media":"no-playback-media",d.isStartedImmediately&&"record-reaction")},r.renderActivateRecorderContainer(),v?a.a.createElement("div",{className:"qa-player-container"},a.a.createElement(_.a,{id:"assignment-qa-question-video-player",options:I,onEnded:r.onQuestionVideoPlaybackEnded,termClassId:r.props.termClassId,activityId:r.props.activityId,usageContext:z.a.QA_QUESTION,showControlsBar:!1,mediaId:e,playerId:le})):null,!E&&S&&o?a.a.createElement("div",{className:y()(j,e||w?"has-playback-media":"no-playback-media",d.isStartedImmediately&&"record-reaction",C&&"media-loading")},a.a.createElement(T.b,{mediaType:Y.a.ACTIVITY_RESULT,recorderType:N,isStandaloneModeAllowed:!1,canOpenInWindow:!1,onRecordingIsNotSupported:r.onRecordingIsNotSupported,overlay:h?u._("Recording starting in {recoderDelayText}",{recoderDelayText:g}):null,isChooseScreenContentAllowed:!b,isMaxRecordingLengthVisible:!v,activityId:n,autoSubmit:!w,recorderId:ue,showControls:!0,showRecordButton:b,questionId:o.dbId,onStop:r.onRecordingFinished,onRecord:r.onRecordStarted,onFinish:function(e){r.onRecordComplete(e)}})):null)})),ce(ie(ie(r)),"isOpenNewWindowEnabled",(function(){var e=r.state,t=e.recorderOpenedInWindow,n=e.recordingWindowIsClosed;return!t||n})),ce(ie(ie(r)),"renderActionButton",(function(){var e=r.props,t=e.i18n,n=e.questionIsLoading,o=e.recorderInIntialState,i=r.state.isRecorderSupported,c=!0,s=null,u=null;if(r.canStartQuestion()?r.isRecorderInitialized()?o&&!n||(c=!1):(c=!1,s=t._("This question cannot be started until your recorder is activated")):(c=!1,s=r.getQuestionCannotBeStartedMessage()),!i){var l=t._("Open in New Window"),d=!0;return r.isOpenNewWindowEnabled()||(d=!1,u=r.getNewWindowAlreadyOpenedMessage()),a.a.createElement(w.h,{id:"button-qa-not-supported-launch-window",primary:!0,onClick:r.openWindowedQaRecorder,enabled:d,iconEl:a.a.createElement(O.a,null,H.a.OPEN_IN_BROWSER),tooltip:{label:u}},l)}return a.a.createElement(w.h,{id:"button-qa-start",className:"qa-button-start-question",primary:!0,onClick:r.onStartQuestion,enabled:c,tooltip:{label:s}},t._("Start Question"))})),ce(ie(ie(r)),"renderStartQuestion",(function(){return a.a.createElement("div",{className:"qa-start-question-action-container"},r.renderRecorderStatus(),r.renderStatusMessage(),r.renderActionButton())})),ce(ie(ie(r)),"renderQuestionLoader",(function(){var e=r.props.i18n,t=r.state,n=t.mediaIsLoading,o=t.mediaLoadingProgress;return a.a.createElement("div",null,a.a.createElement(h.a,{id:"loading-question-progress"}),n&&a.a.createElement("p",null,e._("Loading Question: {mediaLoadingProgress}%",{mediaLoadingProgress:o})))})),ce(ie(ie(r)),"getQuestionContainer",(function(){var e=r.props,t=e.questionIsLoading,n=e.isLandscape,o=r.state.isRecordingSubmitting,i=null;return i=t||o?r.renderQuestionLoader():r.isQuestionAnswerActive()?r.renderQuestionContents():r.renderStartQuestion(),a.a.createElement("div",{className:y()("qa-progress-container-contents",n&&"landscape",r.showingFullScreenQuestionAnswer()&&pe)},i)})),ce(ie(ie(r)),"getRecordingOnlySupportedWithIOSSafariMessage",(function(){return r.props.i18n._("Recording for this assignment on iOS devices is only supported when using Safari. Please access this assignment using Safari on your iOS device.")})),ce(ie(ie(r)),"getRecordingNotSupportedMessage",(function(){return r.props.i18n._("Recording is not supported on your device or browser")})),ce(ie(ie(r)),"getScreenRecordingNotSupportedMessage",(function(){return r.props.i18n._("Screen recording is not supported on your device or browser")})),ce(ie(ie(r)),"getRecorderNotSupportedMessage",(function(){return r.props.i18n._("Unable to access your camera or microphone, please try opening this page in a new window")})),ce(ie(ie(r)),"getQuestionCannotBeStartedMessage",(function(){var e=r.props.i18n;return r.canStartQuestion()?null:e._("This question is not available at this time")})),ce(ie(ie(r)),"getNewWindowAlreadyOpenedMessage",(function(){return r.props.i18n._("A new window was opened (check your browsers pop-up blocker if the new window did not open)")})),ce(ie(ie(r)),"getLoadingMessage",(function(){return r.props.i18n._("Loading...")})),ce(ie(ie(r)),"isRecorderInitialized",(function(){var e=r.props,t=e.qaSettings,n=e.recorderAudioInitialized,a=e.recorderCameraStream,o=e.recorderDesktopStream,i=!0,c=!0;return t.recordingMode===K.a.CAMERA_AND_SCREENSHARE?(i=!a,c=!o):(i=!a,c=!1),Boolean(n&&!i&&!c)})),ce(ie(ie(r)),"renderStatusMessage",(function(){var e=r.props.i18n,t=r.state.isRecorderSupported;if(!r.canStartQuestion()){var n=r.getQuestionCannotBeStartedMessage();return a.a.createElement(A.a,{className:"qa-note-warning",type:A.a.NOTE_TYPES.WARNING,message:n})}if(!r.isDeviceSupported()){var o="";return o=r.isScreenRecordingRequired()&&!T.a.isScreenCapturingSupported()?r.getScreenRecordingNotSupportedMessage():me?r.getRecordingOnlySupportedWithIOSSafariMessage():r.getRecordingNotSupportedMessage(),a.a.createElement(A.a,{className:"qa-note-error",type:A.a.NOTE_TYPES.ERROR,title:e._("Unsupported"),message:o})}if(!t){var i=r.getRecorderNotSupportedMessage();return a.a.createElement(A.a,{className:"qa-note-warning",type:A.a.NOTE_TYPES.WARNING,message:i})}if(ye&&me)return a.a.createElement(A.a,{className:"qa-note-info",type:A.a.NOTE_TYPES.INFO,message:e._("Please do not rotate your device while you record your answer")})})),ce(ie(ie(r)),"renderRecorderStatus",(function(){var e=r.props,t=e.i18n,n=e.recorderAudioInitialized,o=e.recorderCameraStream,i=e.recorderDesktopStream,c=r.state.isRecorderActivated,s={title:t._("Mic"),icon:H.a.MIC,isPending:c,isInitialized:n},u={title:t._("Camera"),icon:H.a.VIDEOCAM,isPending:c,isInitialized:Boolean(o)},l={title:t._("Screen"),icon:H.a.APP_WINDOW,isPending:c,isInitialized:Boolean(i)},d=[s,u];return r.isScreenRecordingRequired()&&d.push(l),a.a.createElement("div",{className:"qa-start-question-recorder-status-container"},a.a.createElement("p",{className:"qa-start-question-recorder-status-message"},t._("Answering this question requires access to the following:")),a.a.createElement("div",{className:"qa-start-question-recorder-status-items"},m.a.map(d,(function(e,t){return a.a.createElement("div",{key:"recorder-status-item[".concat(t,"]"),className:"qa-start-question-recorder-status-item"},r.renderRecorderStatusItem(e))}))))})),ce(ie(ie(r)),"renderRecorderStatusItem",(function(e){var t=e.title,n=e.icon,r=e.isPending,o=e.isInitialized;return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"qa-start-question-recorder-status-item-title"},t),a.a.createElement("div",{className:"status-item-icon-container"},a.a.createElement(O.a,{className:y()("status-item-icon","status-item-icon-type",{"status-item-icon--pending":r,"status-item-icon--hidden":o})},n),a.a.createElement(O.a,{className:y()("status-item-icon","status-item-icon-state",{"status-item-icon--hidden":!o})},H.a.STATUS_SUCCESS)))})),ce(ie(ie(r)),"renderQuestionContents",(function(){var e=r.props,t=e.activeQuestion,n=e.practiceData,o=e.i18n,i=r.state,c=i.inPractice,s=i.inQuestionVideoPlayback,u=i.showUserReadyMessage,l=null,d=r.userInteractionRequiredForPlayback();return s&&d&&u?a.a.createElement("div",{className:"qa-ready-msg-container"},a.a.createElement("p",null,o._("The question will begin when you are ready. Please do not rotate your device while you record your answer.")),a.a.createElement(w.h,{id:"button-assignment-qa-start-dialog-ok",key:"qa-android-dialog-btn",primary:!0,ariaLabel:o._("I'm ready"),onClick:r.onStartVideoPlayback},o._("I'm ready"))):(c&&(t=n),t&&t.qaQuestion&&t.qaQuestion.questionText&&(l=t.qaQuestion.questionText),a.a.createElement("div",{className:"qa-question-contents"},a.a.createElement("p",null,l)))})),ce(ie(ie(r)),"getCurrentQuestionNumber",(function(){var e=r.props.questionCount,t=r.getAnsweredQuestionsCount()+1;return t>e&&(t=e),t})),ce(ie(ie(r)),"getCardTitle",(function(){var e=r.props,t=e.questionCount,n=e.i18n;return r.state.inPractice?n._("Practice Question"):n._("Question {0} of {questionCount}",{0:r.getCurrentQuestionNumber(),questionCount:t})})),ce(ie(ie(r)),"getCardTitleActions",(function(){var e=r.props,t=e.i18n,n=e.isStandaloneMode,o=r.state,i=o.inPractice,c=o.isRecordingSubmitting,s=o.inQuestion,u=o.inAnswer,l=o.inQuestionVideoPlayback,d=o.isRecorderActivated,f=o.showUserReadyMessage,p=o.isRecorderSupported,m=o.mediaIsLoading;if(r.userInteractionRequiredForPlayback()&&f&&s&&l||!p)return null;if(r.isQuestionAnswerActive())return a.a.createElement(w.b,{id:"button-qa-withdraw",secondary:!0,ariaLabel:t._("Withdraw"),enabled:!c&&!m,className:"qa-withdraw-button",onClick:r.onWithdraw},t._("Withdraw"));var b=null;if(!n){var y=r.isOpenNewWindowEnabled(),v=t._("Open in new window");y||(v=r.getNewWindowAlreadyOpenedMessage()),b=a.a.createElement(w.d,{id:"qa-open-new-window",className:"qa-open-new-window",enabled:y,tooltip:{label:v,position:j.a.BOTTOM},onClick:r.openWindowedQaRecorder},H.a.OPEN_IN_BROWSER)}return a.a.createElement(a.a.Fragment,null,a.a.createElement(P.a,{id:"qa-practice-switch",className:"qa-practice-switch",name:"qa-practice-switch",enabled:!s&&!u&&d,label:t._("Practice"),ariaLabel:t._("Practice"),labelBefore:!0,onChange:r.onPracticeChange,checked:i}),b)})),ce(ie(ie(r)),"isQuestionAnswerActive",(function(){var e=r.state,t=e.inQuestion,n=e.inAnswer;return t||n})),ce(ie(ie(r)),"showingFullScreenQuestionAnswer",(function(){var e=r.isQuestionAnswerActive()&&(me||be);return document.body.style.height=e?"100%":"unset",document.body.style.width=e?"100%":"unset",document.body.style.position=e?"fixed":"unset",document.body.style.overflow=e?"hidden":"unset",e})),ce(ie(ie(r)),"userInteractionRequiredForPlayback",(function(){return G.a()&&G.e()||me})),ce(ie(ie(r)),"getWorkToSubmitCard",(function(){var e=r.props,t=e.onResetAnswerFromEducator,n=e.readOnly;return r.showingFullScreenQuestionAnswer()?null:a.a.createElement(k.a,{readOnly:n,onResetAnswerFromEducator:t,onDelete:function(){return r.refreshQuestionState(!1)},allowActions:!r.isQuestionAnswerActive()})})),ce(ie(ie(r)),"isDeviceSupported",(function(){return!!T.a.isRecorderSupported()&&!(r.isScreenRecordingRequired()&&!T.a.isScreenCapturingSupported())})),r.state=se,r.onUnload=r.onUnload.bind(ie(ie(r))),r.playerUserInteractionsEmitter=new J.a,r}var r,o,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(n,t),r=n,(o=[{key:"componentDidMount",value:function(){var e=this.props.stopRecordingOnDocumentHide;this._ismounted=!0,this.startPolling(),window.addEventListener("beforeunload",this.onUnload),this.setState({destroyRecorder:!1,isRecorderActivated:Boolean(this.props.bypassActivateCameraPrompt)}),e&&document.addEventListener("visibilitychange",this.handleVisibilityChange,!1)}},{key:"getAnsweredQuestionsCount",value:function(){var e=this.props,t=e.qaAnswers,n=e.question;return t?t.filter((function(e){return!n||e.qaQuestion.dbId!==n.dbId})).length:0}},{key:"getMediaBlobUrl",value:function(e){var t=this;return new Promise((function(n,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(e){if(200===e.srcElement.status){var r=e.srcElement.response;t.setState({mediaIsLoading:!1,mediaLoadingProgress:0}),n(URL.createObjectURL(r))}},a.onerror=function(e){t.setState({mediaIsLoading:!1,mediaLoadingProgress:0}),r(e)},a.onprogress=function(e){var n=Math.floor(e.loaded/e.total*100);t.setState({mediaLoadingProgress:n})},a.send(),t.setState({mediaIsLoading:!0,mediaLoadingProgress:0})}))}},{key:"render",value:function(){var e,t=this.props,n=t.questionCount,r=t.questionIsBeingWithdrawn,o=t.i18n,i=t.readOnly,c=t.needReflectionAnswers,s=t.isLandscape,u=t.isStandaloneMode,l=this.state,d=l.showWithdrawConfirmDialog,f=l.showWithdrawCommentDialog,p=l.withdrawComment,m=l.isRecorderActivated,b=[a.a.createElement(w.b,{id:"button-assignment-qa-withdraw-dialog-no",secondary:!0,ariaLabel:o._("No"),onClick:this.onWithdrawConfirmCancel},o._("No")),a.a.createElement(w.b,{id:"button-assignment-qa-withdraw-dialog-yes",primary:!0,ariaLabel:o._("Yes"),onClick:this.onWithdrawConfirmSubmit},o._("Yes"))],h=[a.a.createElement(w.b,{id:"button-assignment-qa-withdraw-comment-dialog-submit",primary:!0,ariaLabel:o._("Submit"),isLoading:r,enabled:p.trim().length>0&&!r,onClick:this.onWithdrawCommentSubmit},o._("Submit"))];return this.checkFullScreenRecorderHeight(),a.a.createElement("div",{className:y()("qa-work-in-progress-container",(e={landscape:s},ce(e,pe,this.showingFullScreenQuestionAnswer()),ce(e,"qa-work-in-progress--standalone",u),e))},this.getAnsweredQuestionsCount()===n||i||this.props.lmsLocked||c?null:a.a.createElement(v.a,{className:"qa-progress-card"},a.a.createElement(v.d,{className:"qa-question-card-title",title:this.getCardTitle(),actions:this.getCardTitleActions()}),a.a.createElement(v.c,{className:y()("qa-progress-card-body",{landscape:s,"activate-camera":!m})},this.getRecorderContainer(),this.getQuestionContainer()),a.a.createElement(E.a,{id:"qa-withdraw-config-dialog",title:o._("Withdraw"),visible:d,actions:b},a.a.createElement("p",null,o._("Are you sure you want to withdraw from this question and end this recording now? The recording will be discarded."))),a.a.createElement(E.a,{id:"qa-withdraw-comment-dialog",title:o._("Withdraw Reason"),visible:f,actions:h},a.a.createElement(N.i,{id:"withdraw-reason-textfield",rows:1,maxRows:4,placeholder:o._("Provide a reason for withdrawal"),onChange:this.withdrawCommentChanged,value:p,ariaLabel:o._("Provide a reason for withdrawal")}))),this.getWorkToSubmitCard())}}])&&re(r.prototype,o),c&&re(r,c),n}(r.Component);ve.propTypes={bypassActivateCameraPrompt:s.a.bool,onResetAnswerFromEducator:s.a.func,readOnly:s.a.bool,refreshPageOnAnswerSubmission:s.a.bool,stopRecordingOnDocumentHide:s.a.bool,isStandaloneMode:s.a.bool},ve.defaultProps={bypassActivateCameraPrompt:!1,readOnly:!1,refreshPageOnAnswerSubmission:!1,stopRecordingOnDocumentHide:!1,isStandaloneMode:!1};t.a=Object(f.withI18n)()(Object(d.k)(Object(u.b)((function(e){var t=x.a(le,e);return{activityId:D.getActivityId(e),lmsLocked:D.getLmsLocked(e),termClassId:D.getTermClassId(e),webcamFileName:U.K(e,ue),qaSettings:V.g(e),qaAnswers:V.d(e),question:V.e(e),recorderInIntialState:U.J(e,ue)===X.a.INITIAL,questionIsLoading:V.h(e),questionCount:V.f(e),activeQuestion:V.a(e),isQuestionVideoPlaying:t&&t.state.isPlaying,questionIsBeingWithdrawn:V.j(e),practiceData:V.c(e),allowPeerReviewBeforeSubmission:D.isPeerReviewAllowedBeforeSubmission(e),currentActivityState:V.b(e),isSubmittable:D.isSubmittable(e),needReflectionAnswers:D.needReflectionAnswers(e),isLandscape:L.e(e),recorderAudioInitialized:U.c(e,ue),recorderCameraStream:U.f(e,ue),recorderDesktopStream:U.j(e,ue)}}))(ve)))}).call(this,n("URgk").setImmediate)},W8hI:function(e,t,n){},WLvO:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAACxxJREFUeJztWnt0lNUR/818u8EkUkUhWLXa41HwAdkEQ6tWi7YqkN3QWh6e4tFq5ZHsBoIPhAI2gkhBETEkuwTxrUWDSCXZSPGBKGI9BrIJKKK2tipiiICAJIT9vpn+AcGQbJL9Nrt6esrvv71z78zvzt773TszFziO4ziO4ziO/19QVxW4/bXnKHQhQ5ocVrfcv024cFc8iHVgrwdglRC4h5I1MZg34OOu6IvZASMe3JDcmJw6lSBTAO4GABDsAOPWCq/r5a6Qag9uf+3VJPoEGGcAgIgcYsL8pgaa88rkjAOx6LTvAFXKKakdJsBCYvw0UhcBFocP6J2xkmoNT2lVCiznXAATItoT/QyE2yq9rpUgUju6bTkgp3jLuYJwETEP7ayvQD8xQDeWe13/sGOjNTwlmwaq0tPE3Ldzm1jjACau8rq2Ras/Kgd4SqtS1HJMU9HJzJwUrXKBCCnN+cphzto4Pisc7TgAGFS41tE9rcc0UfozM4yoBwrCYF2QLI7Zy/P7fdtZ944doErZ/prroHiImc6KmkQbTrLJQXrjqrwBH0TTf+iiUB+D6GkwfharTUC+UBi3B/P6v9DRtmjXAcP8NX1NoIiBa2MncQyhJgVPzapLL5o5kyRiF1XyBGq9AjzAQHJcrEJegzomVPr6b40kb+OAkcVbTmxkcwaEbgfDGQ8SLaGC18lp3FIxvt9nLdvdgeozVPmx+Dn8GJiq+pDRrdu9q8ZcsL+l4DsHqFLO4tBIVTwI8JkJIPEdBHuFJL/Sm/EsiNRTEroeqgEw90isWXxJ0DuCea7nm7cFA0B2yeYLsgOhV1T5+YRPHoCw1htE3xz9rdgrhLpE22XgdAIt8wRqX8sprr4IAMjjDxUCNAOAI9EERGQ/E81K7uUoWj6q36GWsotLq5ynWU4fCe4B46REc8HhbTGXcoqrLxJgRTTnbMwQURA/Tkk0rXxseof/9JCHN/VyGDwb0LFg7vJVvX1O+NhSDCcAGLZ0a3c51PQoQCPjb0k3WMwFL+emV9kZlV1cncGMhwH+Zfw54cWDRviPr47P2nvMR9AdqC0g4AHEYzsIthMwudyX/pzd6+mxnDaPUJH5XbmHHKUksIh1SjDPtaCZU5sllhOo/oWlXMbA6TFaOQjiB5oadF5cYwHTcacQTY39fiBfifD1lfmuN1u2Rtxj1/lDaYeElhHjV/aM6HKD9K6X8jL/HRvJjvGbks0/McmcR+Df2xspb4o4r6/M7/dVa0m7H5mRZWVGY/15s0A8rVP9qjUAF1T40tfZIxYbPMWhy4X1YQYP6Ly33r+/bs/0dTOvMiNJO/3KekpCOUL0FAMnt5YJZBcTpief+vHS5aNGWdGQjxdGlpUZB+v73CxKc4iRFqHLPiW5OZiXubIjPVEdM25/7TkQfYEYmUeaTKgWK/GsoDd9j13y8cTVpVUndbOcM0hQ0Hx1F0gtkY6IJlsU9Tk76PFPT+jeuLdIQGdDeVJ7wcUPhaGLQn2Y6UFS3QWn6a0Yn9XwQ3M6jv8FRL0FCguVq3rXziORPqbFvtUFri8SScwuBi9+78cOK2kRgO1ZO9Nvazfn0ApROWBk2ZakxnrzMRDdABwOaohpSladqzRaQwnD4STKrRDMbw6iVFFmmck3rS7o09TZ8E4dMGzp1u5WU9MKIrqmrW28TQ4aUzE+/cPY2HcNQxeF+pCBJQwaFEG89qARvu7V8Vl7O9LRoQNyHqntbYWtyo4uHCJyiJhmp/R0zGsd4iYKF5dWOU8zHXcSaeHRmkQkqNaEjfDQv+cO3NFel3Yd4A5sOo8sWg3mc6IhJcD7BjCmq2nwzuAp2TRQiJYyOD3KIf9hYHB7qfKIDvCUbBoIMoIAetliJ6JKvChFjenRpKTt4JoHQqnOVJoFyCQGsy1akF0QclfmZ7zbWtbGAdnFoSEArWBGSqxkRfQzZsqNV4nM7Q8NhtDi9ipRUXECGqEystKXGWzZfowD3CWhm4joUcQpPaaif7UsmbS6YEB9LOM9pVU91XQuIMKN8eBzJB8wLujNeKy57fBSUiWPPzSViJ5EHHODxDSanbTV4w/dCNXo01uq5PHXjJawc2u8Jg8AzDAI9KinpGZ6Mx8qLFTe2Lt2IdopPMYLAqwxTM0tn5jxaUf9sos3nk3gQDT1x65Aof6sOtcEAoDskmo3iBYy6NxEGhVBAwMzktO2FbUOn0eWlRkN9X3ziXAfgNRE8oDIv0A0qcLrqmAAqPRlBiWc0g/QPwGISxorEpiRAsaCxq/7PtZaduDrPo8QYSESOHkRNCgwfX/qyRdV+DLKQdR2X7oD1WfAovuJaXRCWCjeUKLfkZrnJvf6ZNPyUaOs7OLQz51h3WY6eYX9NFy0ZmWZFea7Wscwbc7TYF7m9mB+xg0QvQJAKM48njHN5CGAXiFqvLHz/V4EAMz0mtnNuCYlzRgK0SfjaVAgtSIYFPRmjo4UwLV7oajIz1if3HNbFlTzILK7q0QUmFWRl36Tw9F4q0JWtrxniOAEgpY11FuTKnyuW6Ba2FV7ENkDhe9A3TcXt84Et0RUR9O1j2w5xRk271Vort1bGACTBGMH1Kc/VZVWM5eIJjcL9tftdq6beZWZXVxjHn0EIbpkf/0e34lpPUaT0lLbFWoRFebSJMs5I5oHW1Gd+WvG9tsNwOcObF4CNYuirtYI9gIYvi/1R29XUe0yIhrV6Rimcd17n3IWJyWNMpsOfs7CK6OtFQqw3sE0scLrqo6KH2xeeoJ5/WugeqU7UHM9Cc1vfq0VkYzoZwY0u6mbc0dq475XiHC5DVNDpKnpLTHZ40iyLhM1KgGc3a4t4EsGJlfmpS+zW4Wyu5zh8deusMK0PhnG+VCZIyIRQmDZaDnClwgbjc6m8AaGrckfBpGLnXjXtChJxLhEgPfaWBE5pIq5qWL0NZTfyg7UvDiocK2tP9W2A0QxjA35oJGtP1y8M+NucTguFKD8qBwobzpAg5yWcSZE3+lK1ZmB08F4i9nKZCN8pUJfapapooIM7fftzt13N5I5ziLZyqDfxmAjBmLM3QEUv5dWs95pmidUel3DAGSr6uzUntuuS0qlXwsZ69opWNgkyCeKoBym46aUnh8NV2CWErmDPlcOq3Fq97QeVSB6EDFeoGJywNHBRJcquNpTUjPLDCe/HvRl3N34dd9chayM1yMn4HAQA6JAQ32fv2TVpc+E4p1sf01ARTaAyNUl3XYHGMBwCLa30OAE4W7DOFDjLql+BEBxDEdlVCCiyVVpNash+iEDucc8oBDsAHTEunuutFWis020PN/1kmk1XghgEUSOfnGJuS8Rj7Grzy6I6Jo2W0sROOgMX1DhzVhh9xSIKfZfXXDJPgATs4tDzwKyxEZ+Lq5QwQdsyLhyb+bbsero0lKtzM94t86wslQxBSIHu6LLHqQJihkpaUZmeV7skwfikP058gb4/iGLN68wLCsQqX4QZ6y1LMp9eYLro3goi1v6a3Vu/39CdXC2P3QDlB9iRs946QYAiOwm8B3lvvQnY35zFAHx/VoTaaUv85kkdZ6v0Cfiplf1WSfTBeX5rifiOXkgQY8jj0Rht+T4Q09bQGmsqTYBPmWV3Apf5po4UzyKhJzXzSj3Zrye0tiQrtD7AER8oxMJIrAAvZ+NcL9ETh74Hp7HvnDHZY0AZrj9oedUsYSJLu2o/+GgR8ZVeDPjnY2KiISugJYIejO2DNzpulyhXgD7WssF8i2gBak9t11amf/9TB74HlZASxx5SxBwB6pXkXJRczsTVhnqKHjJ1//z75PPcRwH8F9INp/0ZClYWAAAAABJRU5ErkJggg=="},WWkf:function(e,t,n){},Wexe:function(e,t,n){},Wme0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.locale}},Wqtl:function(e,t,n){"use strict";t.a={VIEW:"view",GRADE:"grade",CREATE:"create",EDIT:"edit"}},"Wtf/":function(e,t,n){"use strict";n.r(t),n.d(t,"getActivityState",(function(){return f})),n.d(t,"getActivityData",(function(){return p})),n.d(t,"getMyData",(function(){return m})),n.d(t,"getLmsLocked",(function(){return b})),n.d(t,"getStudentGroup",(function(){return y})),n.d(t,"getIsReviewAnonymous",(function(){return v})),n.d(t,"getGroupId",(function(){return h})),n.d(t,"getStudentGroupName",(function(){return g})),n.d(t,"getGroupMembers",(function(){return E})),n.d(t,"getMilestones",(function(){return w})),n.d(t,"getMembers",(function(){return O})),n.d(t,"getActivityLog",(function(){return S})),n.d(t,"getReviewReleasedAt",(function(){return C})),n.d(t,"getGroupReviewRubric",(function(){return _})),n.d(t,"getIsLoading",(function(){return I})),n.d(t,"getIsMilestoneFormShowing",(function(){return T})),n.d(t,"getIsMilestoneLoading",(function(){return R})),n.d(t,"getIsMeetingLoading",(function(){return P})),n.d(t,"getIsResultsPartialsLoading",(function(){return A})),n.d(t,"getGroupCommentsIsLoading",(function(){return N})),n.d(t,"getTeamEvalIsLoading",(function(){return j})),n.d(t,"getRemoveSubmissionIsLoading",(function(){return k})),n.d(t,"getPeerReviewCommentIsLoading",(function(){return D})),n.d(t,"getFeedbackCommentIsLoading",(function(){return L})),n.d(t,"getIsPreviewLoading",(function(){return M})),n.d(t,"getResultPartials",(function(){return x})),n.d(t,"getSelectedInProgressPartials",(function(){return F})),n.d(t,"getSelectedReadyToSubmitPartials",(function(){return U})),n.d(t,"getStudentGroupReviewType",(function(){return V})),n.d(t,"getPostSubmissionMedia",(function(){return G})),n.d(t,"getPostSubmissionText",(function(){return q})),n.d(t,"getActivityResult",(function(){return B})),n.d(t,"getQASettings",(function(){return W})),n.d(t,"isRubricSelfReviewEnabled",(function(){return Q})),n.d(t,"getRubric",(function(){return Y})),n.d(t,"getActivityId",(function(){return H})),n.d(t,"getActivityName",(function(){return z})),n.d(t,"getActivityInstructionsText",(function(){return K})),n.d(t,"getActivityInstructionsMedia",(function(){return X})),n.d(t,"getDueDate",(function(){return J})),n.d(t,"getGroupFormationType",(function(){return Z})),n.d(t,"getActivityType",(function(){return $})),n.d(t,"isVideoToolEnabled",(function(){return ee})),n.d(t,"isDocumentToolEnabled",(function(){return te})),n.d(t,"isMeetingToolEnabled",(function(){return ne})),n.d(t,"isAutoAnalysisScoreEnabled",(function(){return re})),n.d(t,"isAutoAnalysisEnabled",(function(){return ae})),n.d(t,"getRubricEvaluations",(function(){return oe})),n.d(t,"getOthersRubricEvaluations",(function(){return ie})),n.d(t,"getTermClass",(function(){return ce})),n.d(t,"getTermClassId",(function(){return se})),n.d(t,"getStudentActivityResult",(function(){return ue})),n.d(t,"getActivityResultSubmitter",(function(){return le})),n.d(t,"isActivitySubmitting",(function(){return de})),n.d(t,"isGroupNameEditing",(function(){return fe})),n.d(t,"isInteractiveAnswerLoading",(function(){return pe})),n.d(t,"isSubmittable",(function(){return me})),n.d(t,"getReflectionSettings",(function(){return be})),n.d(t,"isReflectionQuestionsEnabled",(function(){return ye})),n.d(t,"getReflectionQuestions",(function(){return ve})),n.d(t,"hasReflectionQuestions",(function(){return he})),n.d(t,"getReflectionAnswers",(function(){return ge})),n.d(t,"hasReflectionAnswers",(function(){return Ee})),n.d(t,"needReflectionAnswers",(function(){return we})),n.d(t,"getPeerReviewType",(function(){return Oe})),n.d(t,"isPeerReviewEnabled",(function(){return Se})),n.d(t,"isFiveStarEnabled",(function(){return Ce})),n.d(t,"isRubricReviewEnabled",(function(){return _e})),n.d(t,"getPeerReviewRequiredCount",(function(){return Ie})),n.d(t,"getPeerReviewDueDate",(function(){return Te})),n.d(t,"isPeerReviewAllowedBeforeSubmission",(function(){return Re})),n.d(t,"isCommentingAnonymous",(function(){return Pe})),n.d(t,"isReviewerAnonymous",(function(){return Ae})),n.d(t,"isSubmitterAnonymous",(function(){return Ne})),n.d(t,"getAvailablePeerReviews",(function(){return je})),n.d(t,"getReviewedPeerReviews",(function(){return ke})),n.d(t,"isPeerReviewGradingEnabled",(function(){return De})),n.d(t,"getGradedPeerReviewWeight",(function(){return Le})),n.d(t,"getEducatorGrade",(function(){return Me})),n.d(t,"getGradeType",(function(){return xe})),n.d(t,"getOverallGrade",(function(){return Fe})),n.d(t,"getGradeParts",(function(){return Ue})),n.d(t,"getMainGradePart",(function(){return Ve})),n.d(t,"getPeerReviewGradePart",(function(){return Ge}));var r=n("G4qV"),a=n("hf66"),o=n("HNnK"),i=n("HCbP"),c=n("csv8"),s=n("dFPr"),u=n("6puI"),l=n("LvDl"),d=n.n(l),f=Object(r.a)(a.a,(function(e){return e.activity})),p=Object(r.a)(f,(function(e){return e.activityData})),m=Object(r.a)(p,(function(e){return e.myData})),b=Object(r.a)(p,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!e.lmsLocked})),y=Object(r.a)(m,(function(e){return e.studentGroup})),v=Object(r.a)(y,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.isReviewAnonymous})),h=Object(r.a)(y,(function(e){return e.dbId})),g=Object(r.a)(y,(function(e){return e.name})),E=Object(r.a)(y,(function(e){return e.members})),w=Object(r.a)(y,(function(e){return e.milestones})),O=Object(r.a)(y,(function(e){return e.members})),S=Object(r.a)(y,(function(e){return e.comments})),C=Object(r.a)(y,(function(e){return e.reviewReleasedAt})),_=Object(r.a)(p,(function(e){return e.groupReviewRubric})),I=Object(r.a)(f,(function(e){return e.isLoading})),T=Object(r.a)(f,(function(e){return e.milestoneFormIsShowing})),R=Object(r.a)(f,(function(e){return e.milestoneIsLoading})),P=Object(r.a)(f,(function(e){return e.meetingIsLoading})),A=Object(r.a)(f,(function(e){return e.resultsPartialsIsLoading})),N=Object(r.a)(f,(function(e){return e.groupCommentsIsLoading})),j=Object(r.a)(f,(function(e){return e.teamEvalIsLoading})),k=Object(r.a)(f,(function(e){return e.removeSubmissionIsLoading})),D=Object(r.a)(f,(function(e){return e.peerReviewCommentIsLoading})),L=Object(r.a)(f,(function(e){return e.feedbackCommentIsLoading})),M=Object(r.a)(f,(function(e){return e.previewIsLoading})),x=Object(r.a)(m,(function(e){return e.resultPartials})),F=Object(r.a)(f,(function(e){return e.selectedInProgressPartials})),U=Object(r.a)(f,(function(e){return e.selectedReadyToSubmitPartials})),V=Object(r.a)(p,(function(e){return e.groupReviewType})),G=Object(r.a)(p,(function(e){return e.commentaryMedia})),q=Object(r.a)(p,(function(e){return e.commentaryText})),B=Object(r.a)(m,(function(e){return e.result})),W=Object(r.a)(p,(function(e){return e.qaSettings})),Q=Object(r.a)(p,(function(e){return e.rubricSelfAllowed})),Y=Object(r.a)(p,(function(e){return e.rubric})),H=Object(r.a)(p,(function(e){return e.dbId})),z=Object(r.a)(p,(function(e){return e.name})),K=Object(r.a)(p,(function(e){return e.instructionsText})),X=Object(r.a)(p,(function(e){return e.instructionsMedia})),J=Object(r.a)(p,(function(e){return e.submitDueAt})),Z=Object(r.a)(p,(function(e){return e?e.executorsType:null})),$=Object(r.a)(p,(function(e){return e?e.type:null})),ee=Object(r.a)(p,(function(e){return e.isVideoToolEnabled})),te=Object(r.a)(p,(function(e){return e.isDocumentToolEnabled})),ne=Object(r.a)(p,(function(e){return e.isMeetingToolEnabled})),re=Object(r.a)(p,(function(e){return e.isVideoAnalysisScoreEnabled})),ae=Object(r.a)(p,u.e),oe=Object(r.a)(m,(function(e){return e.rubricEvaluations})),ie=Object(r.a)(oe,o.i,(function(e,t){return d.a.filter(e,(function(e){return e.user.dbId!==t}))})),ce=Object(r.a)(p,(function(e){return e?e.termClass:void 0})),se=Object(r.a)(ce,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.dbId})),ue=Object(r.a)(m,(function(e){return e.result})),le=Object(r.a)(ue,(function(e){return e?e.submitter:null})),de=Object(r.a)(f,(function(e){return e.isActivitySubmitting})),fe=Object(r.a)(f,(function(e){return e.isGroupNameEditing})),pe=Object(r.a)(f,(function(e){return e.interactiveAnswerIsLoading})),me=Object(r.a)(p,(function(e){return e.submittable})),be=Object(r.a)(p,(function(e){return i.a.isReflectionQuestionsAllowed()?e.reflectStageSettings:null})),ye=Object(r.a)(be,(function(e){return Boolean(e)&&e.reflectStageEnabled})),ve=Object(r.a)(ye,be,(function(e,t){return e?t.reflectQuestions:[]})),he=Object(r.a)(ve,(function(e){return Boolean(e)&&e.length>0})),ge=Object(r.a)(ye,m,(function(e,t){return e?t.reflectAnswers:[]})),Ee=Object(r.a)(ge,(function(e){return Boolean(e)&&e.length>0})),we=Object(r.a)(ye,he,Ee,(function(e,t,n){return e&&t&&!n})),Oe=Object(r.a)(p,(function(e){return i.a.isPeerReviewEnabled()?e.peerReviewType:null})),Se=Object(r.a)(Oe,(function(e){return Boolean(e)})),Ce=Object(r.a)(p,(function(e){return e.studentFivestarValuationEnabled})),_e=Object(r.a)(p,(function(e){return e.rubricPeerAllowed})),Ie=Object(r.a)(p,(function(e){return e.peerReviewAmount})),Te=Object(r.a)(p,(function(e){return e.peerReviewDueAt})),Re=Object(r.a)(p,(function(e){return e.allowViewOthersResultsWithoutOwn})),Pe=Object(r.a)(p,(function(e){return e.isCommentingAnonymous})),Ae=Pe,Ne=Object(r.a)(p,(function(e){return e.peerReviewSubmitterAnonymous})),je=Object(r.a)(p,(function(e){return e.availableResults})),ke=Object(r.a)(p,(function(e){return e.reviewedResults})),De=Object(r.a)(p,Se,(function(e,t){return!(!t||!i.a.isGradedPeerReviewAllowed())&&Boolean(e[c.b.SETTINGS_ENABLED])})),Le=Object(r.a)(De,p,(function(e,t){return e?t[c.b.SETTINGS_WEIGHT]:null})),Me=Object(r.a)(m,(function(e){return e.educatorGrade})),xe=Object(r.a)(p,(function(e){return e.gradeType})),Fe=Object(r.a)(Me,(function(e){return e?e.overallValue:null})),Ue=Object(r.a)(Me,(function(e){return e?e.gradeParts:null})),Ve=Object(r.a)(Ue,(function(e){return e?d.a.find(e,{type:s.a.ACTIVITY_RESULT}):null})),Ge=Object(r.a)(Ue,(function(e){return e?d.a.find(e,{type:s.a.PEER_REVIEW}):null}))},X00r:function(e,t,n){e.exports={userDetailsPage:"b_Edpi6Wdj",overviewToolbar:"b_1DGrF1pP",large:"b_2wwA0x95"}},Xs32:function(e,t,n){},Xu50:function(e,t,n){e.exports={contentBox:"b_1SBK4rJs"}},"Xv+h":function(e,t,n){e.exports={emptyGrade:"b_zJkeHo1R"}},"Y+Fw":function(e,t,n){},Y3Gn:function(e,t,n){},Y3v4:function(e,t,n){e.exports={detailsContainer:"b_mC1CkLWb"}},Y7ox:function(e,t,n){"use strict";var r=n("wNa6"),a=n("OWj0");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"showModal",value:function(e){r.a.dispatch(a.f(e))}},{key:"closeModal",value:function(){r.a.dispatch(a.e())}},{key:"showNextModal",value:function(e){r.a.dispatch(a.g(e))}},{key:"showPreviousModal",value:function(){r.a.dispatch(a.h())}}],(n=null)&&o(t.prototype,n),i&&o(t,i),e}();t.a=i},YHQS:function(e,t,n){},YMWq:function(e,t,n){},YSsg:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("kbsL"),u=n("hu4m"),l=n("J/33"),d=n("LFYD"),f=n("TSYQ"),p=n.n(f),m=n("LvDl"),b=n.n(m);n("gnXi");function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h="dialog-header",g="dialog-title";function E(e){return b.a.pick(e,Object.keys(O.componentProps))}function w(e){var t=e.onClose,n=e.title,r=e.hasCloseButton;return a.a.createElement("div",{className:p()(h,r&&"with-close-button",n&&"with-text")},n&&a.a.createElement("div",{className:g},n),r&&a.a.createElement(s.d,{id:"button-dialog-top-close",onClick:t},d.a.CLOSE))}var O=function(e){var t=e.mobileFullScreen?"dialog-fullscreen":null,n=y({},E(e),{title:w(e),className:p()("dialog-overlay",e.className),contentClassName:p()("dialog-content",e.contentClassName),dialogClassName:p()("dialog",t,e.dialogClassName,e.fullPage?"full-page":null),"aria-label":e.ariaLabel||e.title});e.fullPage&&delete n.title;var r=[];return e.hasMobileCloseButton&&r.push(a.a.createElement(s.d,{id:"button-dialog-mobile-top-close",onClick:e.onClose},d.a.CLOSE)),a.a.createElement(c.n,n,e.fullPage?a.a.createElement("div",{className:p()("dialog-contents full-page md-toolbar-relative",e.actions&&e.actions.length>0?"has-actions":null)},a.a.createElement(l.a,{className:"page-toolbar",title:e.title,actions:r}),a.a.createElement("div",{className:"dialog-mobile-contents"},e.children),e.actions&&a.a.createElement(u.a,{zDepth:1,className:"dialog-mobile-actions"},e.actions)):a.a.createElement("div",{className:"dialog-contents"},e.children))};O.componentProps={actions:i.a.array,autosizeContent:i.a.bool,autopadContent:i.a.bool,className:i.a.string,containFocus:i.a.bool,contentClassName:i.a.string,contentStyle:i.a.any,dialogClassName:i.a.string,dialogStyle:i.a.any,disableScrollLocking:i.a.bool,fullPage:i.a.bool,height:i.a.oneOfType([i.a.string,i.a.number]),id:i.a.string.isRequired,lastChild:i.a.bool,modal:i.a.bool,onHide:i.a.func,portal:i.a.bool,renderNode:i.a.object,style:i.a.any,visible:i.a.bool.isRequired,width:i.a.oneOfType([i.a.string,i.a.number])},O.propTypes=y({},O.componentProps,{ariaLabel:i.a.any,hasCloseButton:i.a.bool,hasMobileCloseButton:i.a.bool,mobileFullScreen:i.a.bool,onClose:i.a.func,title:i.a.any}),O.defaultProps={autopadContent:!1,hasCloseButton:!1,hasMobileCloseButton:!0,mobileFullScreen:!1,modal:!0,visible:!1},t.a=O},YlQI:function(e,t,n){e.exports={userItem:"b_ePImvt0m",actions:"b_gtJlnawd",selected:"b_pAcSLuL6",side:"b_bcDHiSeS",content:"b_7OQhazoW",contentItems:"b_dl08HDnE",large:"b_mCYf8WrL",small:"b_1pRDOc84",xsmall:"b_ntMWdDl0",status:"b_gIENCFYP",grade:"b_jhbdpLD2",userNameLabel:"b_7RvPrTXy",detailed:"b_r19vpvIi",rightContent:"b_42xxNqS0",launchIcon:"b_u5U19Egp",expandedContentsContainer:"b_7kg9qgqc",userName:"b_cIcqUHjv",autoAnalysis:"b_fSLLVE7S"}},Yo20:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d}));var r="[Notification]",a=r+" Added",o=r+" Updated",i=r+" Removed",c=r+" Removed all";function s(e,t){return{type:a,payload:{itemId:e,itemType:t}}}function u(e,t){return{type:o,payload:{itemId:e,itemType:t}}}function l(e){return{type:i,payload:{itemIds:e}}}function d(){return{type:c,payload:{}}}},"Z+gg":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="[Session] Set unsupported browser message dismissed",a=function(){return{type:r}}},ZUBI:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("/W66"),i=n("17x9"),c=n.n(i),s=n("/MKj"),u=n("Ty5D"),l=n("fcFR"),d=n("nbG6"),f=n("7D+u"),p=n("hHKf"),m=n("giI2"),b=n("kbsL"),y=n("iGlQ"),v=n("r1K/"),h=n("TEiA"),g=n("ZD0w"),E=n("xHcp"),w=n("Y7ox"),O=n("ERI2"),S=n("Wtf/"),C=n("TVp9"),_=n("LFYD"),I=n("J4sO"),T=(n("/DTu"),n("v6po"));function R(e){return(R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,c,"next",e)}function c(e){P(o,r,a,i,c,"throw",e)}i(void 0)}))}}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={dialogVisible:!1,deleteDialogVisible:!1,educatorDeleteDialogVisible:!1,selectedDeleteRow:null},x=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=j(t).call(this,e),n=!i||"object"!==R(i)&&"function"!==typeof i?D(r):i,L(D(D(n)),"getIconForType",(function(e){var t=n.props.i18n;if(e&&e.__typename){var r,o=e.dbId,i=e.media,c=e.__typename,s=e.isCrashed,u=e.isWithdrawn;switch(o&&"QaAnswer"===c&&(s||u?r=u?"withdraw":"crashed":(r="processing",i&&e.media.dbId&&(r=e.media.processingStatus===I.a.READY?"ready":e.media.processingStatus===I.a.PROGRESS?"processing":"crashed"))),r){case"ready":return a.a.createElement(m.a,{ariaLabel:t._("Ready, icon"),tooltip:{label:t._("Completed")},className:"wip-type-icon"},_.a.VIDEO_READY);case"processing":return a.a.createElement(m.a,{ariaLabel:t._("Processing, icon"),tooltip:{label:t._("Processing")},className:"wip-type-icon"},_.a.VIDEO_PROCESSING);case"crashed":return a.a.createElement(m.a,{ariaLabel:t._("No answer provided, icon"),tooltip:{label:t._("Issue while processing")},className:"wip-type-icon status-crashed"},_.a.VIDEO_WARNING);case"withdraw":return a.a.createElement(m.a,{ariaLabel:t._("Withdrawn, icon"),tooltip:{label:t._("Withdrawn")},className:"wip-type-icon"},_.a.VIDEO_WITHDRAW);default:return a.a.createElement(m.a,{className:"wip-type-icon",ariaLabel:t._("Video, icon")},_.a.VIDEOCAM)}}})),L(D(D(n)),"onPreview",(function(e){var t=n.props.match.params,r=t.activityId,o=t.classId;e.media&&(e.media.srcUrl&&w.a.showModal(a.a.createElement(p.b,{media:e.media,termClassId:+o,activityId:+r,isManageCaptionsAllowed:!1,usageContext:T.a.STUDENT_RESULT_PARTIAL,onCancel:w.a.closeModal})))})),L(D(D(n)),"onDownload",(function(e){if(e.media){var t=e.media.downloadUrl;t&&window.open(t,"_blank")}else{var n=e.downloadUrl;n&&window.open(n,"_blank")}})),L(D(D(n)),"onRowDelete",(function(e){n.setState({deleteDialogVisible:!0,selectedDeleteRow:e})})),L(D(D(n)),"onEducatorRowDelete",(function(e){n.setState({educatorDeleteDialogVisible:!0,selectedDeleteRow:e})})),L(D(D(n)),"onDeleteCancel",(function(){n.setState({deleteDialogVisible:!1,educatorDeleteDialogVisible:!1,selectedDeleteRow:null})})),L(D(D(n)),"onDeleteSubmit",(function(){var e=n.state.selectedDeleteRow;e&&O.a.deleteAnswer(e.qaQuestion.dbId).then((function(){n.setState({deleteDialogVisible:!1,selectedDeleteRow:null}),n.props.onDelete&&n.props.onDelete()}))})),L(D(D(n)),"onDeleteAnswerFromEducator",A(regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.selectedDeleteRow,r=n.props,a=r.onResetAnswerFromEducator,o=r.match.params.learnerId,!t||!a){e.next=6;break}return e.next=5,a(t,+o);case 5:n.setState({deleteDialogVisible:!1,selectedDeleteRow:null});case 6:case"end":return e.stop()}}),e,this)})))),L(D(D(n)),"createActionsMenu",(function(e,t){var r=!1,i=!1,c=!1,s=n.props,u=s.qaSettings,d=s.i18n,f=s.submitRequestedAt,p=s.readOnly,b=s.allowActions;e.media?(r=!!e.media.externalPlayUrl,i=!!e.media.downloadUrl,c=Boolean(e.media.slaveMedia)):(i=!!e.downloadUrl,r=!!e.previewUrl);var v=[a.a.createElement(y.c,{key:t+"_preview",data:e,enabled:b&&r,onClick:function(){n.onPreview(e)},leftIcon:a.a.createElement(m.a,{ariaLabel:d._("Preview, icon")},_.a.PREVIEW),primaryText:d._("Preview")})],h=a.a.createElement(m.a,null,_.a.DOWNLOAD);return c?(v.push(a.a.createElement(y.c,{key:t+"_download_camera",enabled:!!e.media.downloadUrl,data:e,onClick:function(){return Object(l.a)(e.media.downloadUrl)},leftIcon:h,primaryText:d._("Download camera recording")})),v.push(a.a.createElement(y.c,{key:t+"_download_desktop",enabled:!!e.media.slaveMedia.downloadUrl,data:e,onClick:function(){return Object(l.a)(e.media.slaveMedia.downloadUrl)},leftIcon:h,primaryText:d._("Download screen recording")}))):v.push(a.a.createElement(y.c,{key:t+"_download",data:e,enabled:b&&i,onClick:function(){n.onDownload(e)},leftIcon:h,primaryText:d._("Download")})),u.isStudentRetakeAllowed&&!p?(v.push(a.a.createElement(o.a,{key:"menu_item_divider[retake]"})),v.push(a.a.createElement(y.c,{key:t+"_retake",data:e,enabled:b&&!f&&!n.props.lmsLocked,onClick:function(){n.onRowDelete(e)},leftIcon:a.a.createElement(m.a,{ariaLabel:d._("Retake, icon")},_.a.REPLAY),primaryText:d._("Retake")}))):p&&(v.push(a.a.createElement(o.a,{key:"menu_item_divider[retake]"})),v.push(a.a.createElement(y.c,{key:t+"_retake",data:e,enabled:b&&!f&&!n.props.lmsLocked,onClick:function(){n.onEducatorRowDelete(e)},leftIcon:a.a.createElement(m.a,{ariaLabel:d._("Retake, icon")},_.a.REPLAY),primaryText:d._("Retake")}))),v})),L(D(D(n)),"createColumns",(function(){var e=D(D(n));return[{accessor:"startedAt",grow:!0,className:"qa-started-at",label:n.props.i18n._("Started At"),renderer:function(t){return a.a.createElement("div",null,e.getIconForType(t),a.a.createElement(f.b,{className:"wip-name-label",value:t[this.accessor]}))}},{accessor:"",isCustomColumn:!0,className:"table-actions qa-actions",label:a.a.createElement("span",{style:{visibility:"hidden"}},a.a.createElement(g.Trans,{id:"Actions"})),renderer:function(t,n){return a.a.createElement(f.d,{key:n,menuItems:e.createActionsMenu(t,n)})}}]})),L(D(D(n)),"onSubmit",(function(){n.setState({dialogVisible:!0})})),L(D(D(n)),"onSubmitConfirm",(function(){var e=n.props.match.params.activityId;e=+e,E.a.submitQAActivity(e).then((function(){n.setState({dialogVisible:!1})}))})),L(D(D(n)),"onSubmitCancel",(function(){n.setState({dialogVisible:!1})})),L(D(D(n)),"hasCrashedAnswers",(function(){for(var e=n.props.qaAnswers,t=0;t<e.length;t++)if(e[t].isCrashed&&!e[t].isWithdrawn)return!0;return!1})),L(D(D(n)),"canSubmitAssignmemt",(function(){var e=n.props,t=e.isSubmitting,r=e.submitRequestedAt,a=e.readOnly,o=e.result;return Boolean(!t&&!r&&!a&&!o&&!n.hasCrashedAnswers())})),L(D(D(n)),"getSubmitButtonTooltip",(function(){var e=n.props.i18n;return n.hasCrashedAnswers()?{label:e._("You need to resolve all issues before you can submit")}:null})),L(D(D(n)),"getInfoMessage",(function(){var e=n.props,t=e.activityData,r=e.qaAnswers,o=e.i18n,i=e.qaSettings,c=e.questionCount,s=e.submitRequestedAt,u=e.result;if(i.isStudentRetakeAllowed&&n.hasCrashedAnswers())return a.a.createElement("div",{className:"submit-requested-info"},a.a.createElement(v.b,{className:"submit-requested-info",type:v.a.WARNING},a.a.createElement("p",null,o._("There was an issue with at least one of your answers."),i.isStudentRetakeAllowed&&" "+o._("You will need to retake those questions."))));var l=!1,d=u;return t&&t.dataForOneStudent&&t.dataForOneStudent.result&&(d=t.dataForOneStudent.result),d&&d.requiredMedia&&d.requiredMedia.processingStatus?l=d.requiredMedia.processingStatus===I.a.PROGRESS:!i.isStudentRetakeAllowed&&r&&r.length===c&&(l=!0),s||l?a.a.createElement(v.b,{className:"submit-requested-info",type:v.a.INFO,message:o._("Your assignment will be submitted once it's done processing.")}):null})),n.columns=n.createColumns(),n.state=M,n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.state,n=t.dialogVisible,r=t.deleteDialogVisible,o=t.educatorDeleteDialogVisible,i=this.props,c=i.qaAnswers,s=i.answerIsDeleting,u=i.i18n,l=i.qaSettings,f=i.questionCount,m=i.isSubmitting,y=i.currentQuestion;return y&&(c=c.filter((function(e){return!(e.qaQuestion&&e.qaQuestion.dbId===y.dbId)}))),a.a.createElement("div",null,a.a.createElement(d.a,null,a.a.createElement(d.d,{title:u._("Recorded Answers")}),a.a.createElement(d.c,null,this.getInfoMessage(),c&&c.length>0?a.a.createElement(h.a,{columns:this.columns,className:"meeting-table",data:c,listAccessor:"startedAt",hasMobileListView:!1,tableSummary:u._("Inside a table, a list of any recorded answers"),onListRowSelect:function(){}}):a.a.createElement("p",{className:"card-placeholder-text"},a.a.createElement(g.Trans,{id:"There are currently no recorded answers"}))),!this.props.lmsLocked&&l.isStudentRetakeAllowed&&c.length===f?a.a.createElement(d.b,null,a.a.createElement(b.h,{id:"button-assignment-qa-submit",primary:!0,ariaLabel:u._("Submit Assignment"),enabled:this.canSubmitAssignmemt(),onClick:this.onSubmit,className:"card-submit-assignment-btn",tooltip:this.getSubmitButtonTooltip()},a.a.createElement(g.Trans,{id:"Submit Assignment"}))):null),a.a.createElement(p.a,{id:"delete-answer-dialog",title:u._("Retake Answer"),visible:r||o,actions:[a.a.createElement(b.b,{id:"button-assignment-qa-resource-delete-dialog-cancel",secondary:!0,enabled:!s,onClick:this.onDeleteCancel,ariaLabel:u._("Cancel")},a.a.createElement(g.Trans,{id:"Cancel"})),a.a.createElement(b.b,{id:"button-assignment-qa-resource-delete-dialog-retake",primary:!0,isLoading:s,enabled:!s,onClick:function(){o?e.onDeleteAnswerFromEducator():e.onDeleteSubmit()},ariaLabel:u._("Retake")},a.a.createElement(g.Trans,{id:"Retake"}))]},a.a.createElement("p",null,a.a.createElement(g.Trans,{id:"Are you sure you want to retake this question?"}))),a.a.createElement(p.a,{id:"submit-qa-activity-dialog",title:u._("Submit"),visible:n,actions:[a.a.createElement(b.b,{id:"button-assignment-qa-submit-dialog-cancel",secondary:!0,enabled:!m,onClick:this.onSubmitCancel,ariaLabel:u._("Cancel")},a.a.createElement(g.Trans,{id:"Cancel"})),a.a.createElement(b.b,{id:"button-assignment-qa-submit-dialog-submit",primary:!0,isLoading:m,enabled:!m,onClick:this.onSubmitConfirm,ariaLabel:u._("Submit")},a.a.createElement(g.Trans,{id:"Submit"}))]},a.a.createElement("p",null,a.a.createElement(g.Trans,{id:"Are you sure you want to submit?"}))))}}])&&N(n.prototype,r),i&&N(n,i),t}(r.Component);x.propTypes={allowActions:c.a.bool,readOnly:c.a.bool,currentQuestion:c.a.object,onResetAnswerFromEducator:c.a.func},x.defaultProps={allowActions:!1,readOnly:!1};t.a=Object(g.withI18n)()(Object(u.k)(Object(s.b)((function(e){return{currentQuestion:C.e(e),activityData:S.getActivityData(e),lmsLocked:S.getLmsLocked(e),answerIsDeleting:C.i(e),isSubmitting:S.isActivitySubmitting(e),qaAnswers:C.d(e),qaSettings:C.g(e),questionCount:C.f(e),result:S.getActivityResult(e),submitRequestedAt:C.k(e)}}))(x)))},ZYMB:function(e,t,n){e.exports={fileChooser:"b_hDdb5v8N",fileChooserContent:"b_io5Hh8A8",fileChooserActive:"b_37s7DG5k"}},ZYay:function(e,t,n){},ZmiZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("Uu12"),s=n("4XMt"),u=n("xrVw"),l=n("TSYQ"),d=n.n(l),f=n("LvDl"),p=n.n(f);n("1CkY");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return p.a.pick(e,Object.keys(O.componentProps))}var O=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=v(t).call(this,e),n=!o||"object"!==m(o)&&"function"!==typeof o?g(r):o,E(g(g(n)),"onKeyDown",(function(e){var t=n.props,r=t.onSubmit,a=t.onSubmitKeystroke,o=t.value;if(r&&a){var i=a.modifiers,c=a.keyCode,s=n.isSubmitModifierPressed(i,e),u=n.isSubmitKeyPressed(c,e);s&&u&&r(o)}})),E(g(g(n)),"focus",(function(){n.textFieldMdRef.current.focus()})),n.textFieldMdRef=a.a.createRef(),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"isSubmitModifierPressed",value:function(e,t){if(!e||0===e.length)return!0;for(var n=0;n<e.length;n++){var r=e[n];if(p.a.get(t,r))return!0}return!1}},{key:"isSubmitKeyPressed",value:function(e,t){return(t.which||t.keyCode)===e}},{key:"render",value:function(){var e=p.a.clone(this.props);e.errorText&&(e.error=!0);var t="";return(p.a.isNumber(e.value)||e.value)&&(t=e.value),a.a.createElement(u.R,b({ref:this.textFieldMdRef},Object(c.j)(e),w(e),{className:d()("input-text",e.className),disabled:!e.enabled,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,value:t,onKeyDown:this.onKeyDown}))}}])&&y(n.prototype,r),o&&y(n,o),t}(a.a.PureComponent);O.componentProps={className:i.a.string,error:i.a.bool,errorText:i.a.string,floating:i.a.bool,onBlur:i.a.func,onChange:i.a.func,onClick:i.a.func,onFocus:i.a.func,helpOnFocus:i.a.bool,helpText:i.a.string,id:i.a.string,inlineIndicator:i.a.element,label:i.a.node,leftIcon:i.a.element,onKeyDown:i.a.func,rightIcon:i.a.element,maxLength:i.a.number,maxRows:i.a.number,max:i.a.number,min:i.a.number,placeholder:i.a.string,required:i.a.bool,rows:i.a.number,step:i.a.number,style:i.a.object,value:i.a.oneOfType([i.a.string,i.a.number]),type:i.a.oneOf(["text","number","email","search","tel","url","password"])},O.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}({},O.componentProps,{enabled:i.a.bool,ariaLabel:i.a.string,ariaLabelledby:i.a.string,onSubmit:i.a.func,onSubmitKeystroke:i.a.shape({modifiers:i.a.arrayOf(i.a.oneOf(["ctrlKey","metaKey"])),keyCode:i.a.number}),tooltip:i.a.any}),O.defaultProps={enabled:!0,onSubmitKeystroke:{modifiers:["ctrlKey","metaKey"],keyCode:13},required:!1,value:""},t.b=Object(s.c)(O);var S=O},ZtzG:function(e,t,n){"use strict";var r=n("NQgo"),a=n("q1tI"),o=n.n(a),i=n("ZD0w"),c=n("17x9"),s=n.n(c),u=n("TSYQ"),l=n.n(u),d=n("xrVw"),f=n("giI2"),p=n("LFYD"),m=(n("n0/K"),"avatar-drop-down"),b="icon-container-label";function y(e){var t=e.i18n;return o.a.createElement(d.q,{id:"avatar-drop-down",key:e.key,menuItems:e.menuItems,className:l()(m,e.className),anchor:{x:d.q.HorizontalAnchors.CENTER,y:d.q.VerticalAnchors.OVERLAP},position:d.q.Positions.TOP_RIGHT,animationPosition:"below"},o.a.createElement(d.a,{component:d.w,iconBefore:!0,label:o.a.createElement(d.w,{className:"icon-container",labelClassName:l()(b,e.labelClassName),label:e.label},o.a.createElement(f.a,{ariaLabel:t._("Drop Down Arrow"),className:"drop-down-arrow-icon"},p.a.ARROW_DOWN))},null==e.selectedItem?"":o.a.createElement(r.a,{value:e.selectedItem.firstName+" "+e.selectedItem.lastName})))}y.propTypes={label:s.a.string,labelClassName:s.a.string};Object(i.withI18n)()(y);n.d(t,"a",(function(){return r.a}))},"Zv/t":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return g}));var r=n("G4qV"),a=n("upk1"),o=n("LvDl"),i=n.n(o),c=Object(r.a)(a.a,(function(e){return e.fileUploader})),s=Object(r.a)(c,(function(e){return e.files}));function u(e,t){var n=c(e);return n?i.a.get(n,t):null}var l=function(e){return u(e,"isInitialState")},d=function(e){return u(e,"isUploadReadyState")},f=function(e){return u(e,"isUploadingState")},p=function(e){return u(e,"isPausedState")},m=function(e){return u(e,"uploadedFilesCount")},b=function(e){return u(e,"uploadedPercent")},y=function(e){return u(e,"uploadSpeedBps")},v=function(e){return u(e,"secondsLeft")},h=function(e){return u(e,"minutesLeft")},g=function(e){return u(e,"hoursLeft")}},ZwbG:function(e,t,n){e.exports={activityOverviewHeader:"b_7iPbpesA",titleContainer:"b_6AyuDoEb",title:"b_gz4LhHJY",detailsContainer:"b_fcFpz4FY",activityInfoContainer:"b_cPTmM3yK",infoItem:"b_6BgchTxe",actionsContainer:"b_dPCOJWJm"}},"a/gg":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("YSsg"),u=n("6ZeI"),l=n("s/Ur"),d=n.n(l),f=n("TSYQ"),p=n.n(f),m=(n("gnXi"),n("v6po"));function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=1.333,S=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=this,o=(e=h(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==b(o)&&"function"!==typeof o?E(r):o,w(E(E(n)),"getCalculatedWidth",(function(){var e=window.innerWidth,t=window.innerHeight;return e/t>O?.7*t*O:"70%"})),w(E(E(n)),"getDialogComponent",(function(e){var t=n.props,r=t.autoplay,o=t.onCancel,i=t.i18n,c=t.media,l=t.termClassId,d=t.activityId,f=t.usageContext,m=t.isManageCaptionsAllowed,b=t.onMediaChange,v=null;c&&c.title&&(v=c.title);var h={ariaLabel:i._("Preview dialog"),autosizeContent:!1,containFocus:!1,contentClassName:"dialog-content",dialogClassName:p()("preview-dialog",e?"mobile-preview":null),fullPage:e,hasCloseButton:!0,id:"preview-dialog",modal:!0,visible:!0,onClose:o,title:v};return a.a.createElement(s.a,y({dialogStyle:{height:"auto",width:e?"100%":n.getCalculatedWidth()}},h),a.a.createElement("div",{className:"preview-contents"},a.a.createElement("div",{className:"dialog-media"},c&&a.a.createElement(u.a,{id:"preview-dialog-media",autoplay:r,isManageCaptionsAllowed:m,playerId:"Preview Video player #"+c.dbId,media:c,onMediaChange:b,termClassId:l,activityId:d,usageContext:f}))))})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(d.a,{query:"(max-width: 550px)"},(function(t){return void 0===e._firstMediaQueryMatchResult&&(e._firstMediaQueryMatchResult=t),e.getDialogComponent(e._firstMediaQueryMatchResult)})))}}])&&v(n.prototype,r),o&&v(n,o),t}(r.Component);S.propTypes={autoplay:i.a.bool,isManageCaptionsAllowed:i.a.bool,onCancel:i.a.func,onMediaChange:i.a.func,media:i.a.any,termClassId:i.a.number,activityId:i.a.number,usageContext:i.a.oneOf([m.a.ACTIVITY_COMMENTARY,m.a.ACTIVITY_OVERVIEW,m.a.COMMENT,m.a.DIRECT_LIBRARY,m.a.FEEDBACK,m.a.INTERACTIVE_VIDEO,m.a.PROFILE,m.a.QA_QUESTION,m.a.STUDENT_RESULT,m.a.STUDENT_RESULT_PARTIAL]).isRequired},S.defaultProps={autoplay:!1},t.a=Object(c.withI18n)()(S)},a2Z2:function(e,t,n){},a7RV:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n("DQM/"),a=n("TtRr"),o=n("vCeT"),i=n("r6t9"),c=n("cK1Q"),s=n("8bCP"),u=n("cRwh"),l=n("jpbM"),d=n.n(l),f=n("+y5T"),p=n("GkKD");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(t){function n(e){var t,r=e.settings,a=e.recorderType;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=v(this,h(n).call(this))).setNotifications({}),t.setActiveNotifications({}),t.chunkSources={},t.settings=r,t.recorderType=a,t}var a,l,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(n,t),a=n,(l=[{key:"init",value:function(){var t,r=(t=regeneratorRuntime.mark((function t(){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e((function(){r.emit(n.EVENTS.INITIALIZED)}));case 1:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){b(o,r,a,i,c,"next",e)}function c(e){b(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}()},{key:"addStream",value:function(e){var t,r,a,o,c=(E(o={},f.a.CAMERA_ONLY,(E(t={},p.a.CAMERA,this.settings.webCamFileName),E(t,p.a.DESKTOP,this.settings.webCamFileName),t)),E(o,f.a.DESKTOP_ONLY,(E(r={},p.a.DESKTOP,this.settings.webCamFileName),E(r,p.a.MICROPHONE,this.settings.deskShareFileName),r)),E(o,f.a.CAMERA_WITH_DESKTOP,(E(a={},p.a.CAMERA,this.settings.webCamFileName),E(a,p.a.DESKTOP,this.settings.deskShareFileName),a)),o)[this.recorderType][e.streamName],s=new i.a({mediaStream:e.stream,uploadUrl:this.settings.uploadUrl,token:this.settings.token,fileName:c+"_".concat(d()(16)),resultKey:u.a[e.streamName],currentUser:this.currentUser});this.chunkSources[e.streamName]=s,this.emit(n.EVENTS.STREAM_ADDED,e),s.onProgress(this._onChunkUploadProgress.bind(this))}},{key:"startRecording",value:function(){Object.values(this.chunkSources).forEach((function(e){e.startCapturing()})),this.emit(n.EVENTS.RECORDING_STARTED)}},{key:"stopRecording",value:function(){var e=this,t=[];Object.values(this.chunkSources).forEach((function(e){t.push(e.stopCapturing())})),Promise.all(t).then((function(){var t={};Object.keys(e.chunkSources).forEach((function(n){var a=e.chunkSources[n],o=new Blob(a.getAllChunks(),{type:r.a}),i=URL.createObjectURL(o);t[n]=new c.a({streamName:n,streamUrl:i})})),e.emit(n.EVENTS.RECORDING_STOPPED),e.emit(n.EVENTS.PREVIEW_IS_READY,t)})).catch((function(e){s.b.error(e)}))}},{key:"getFinalizeOptions",value:function(){var e=this,t={};return Object.keys(this.chunkSources).forEach((function(n){var r,a,o=e.chunkSources[n].chunkUploader.fileName;n===p.a.CAMERA&&(r=o),n===p.a.MICROPHONE&&(a=o),n===p.a.DESKTOP&&e.recorderType===f.a.DESKTOP_ONLY&&(r=o),n===p.a.DESKTOP&&e.recorderType===f.a.CAMERA_WITH_DESKTOP&&(a=o),r&&(t.filename=r),a&&(t.slaveFilename=a)})),t}},{key:"destroy",value:function(){this.removeAllListeners(),Object.values(this.chunkSources).forEach((function(e){e.stopUpload()})),this.chunkSources={}}},{key:"_onChunkUploadProgress",value:function(){var e=this.getTotalUploadingProgress();if(this.emit(o.a.UPLOADING_PROGRESS,e),e>=100){var t=!0;Object.values(this.chunkSources).forEach((function(e){e.isUploadingFinished()||(t=!1)})),t&&(this.emit(o.a.UPLOAD_FINISHED),this.uploadFinished=!0)}}},{key:"isUploadFinished",value:function(){return this.uploadFinished}},{key:"getTotalUploadingProgress",value:function(){var e=Object.values(this.chunkSources);if(0===e.length)return 0;var t=0;return e.forEach((function(e){return t+=e.getUploadingProgress(),null})),t/e.length}}])&&y(a.prototype,l),m&&y(a,m),n}(a.a);E(w,"EVENTS",o.a)}).call(this,n("URgk").setImmediate)},a9g0:function(e,t,n){},aFXm:function(e,t,n){},aPJY:function(e,t,n){},"aU7/":function(e,t,n){"use strict";t.a={INITIALIZATION:"initialiation",INITED:"recorderInited",WINDOW_IS_BLOCKED:"windowIsBlocked",WINDOW_CLOSED:"windowClosed"}},aapZ:function(e,t,n){},amkF:function(e,t,n){},apGr:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("NlSD"),a=n("lTCR"),o=n.n(a),i=n("LvDl"),c=n.n(i),s=n("8bCP"),u=n("wd/R"),l=n.n(u);function d(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    mutation logMediaWatching($input: LogMediaWatchingInput!) {\n        logMediaWatching(input:$input) {\n            result\n            errors {\n                path\n                message\n            }\n        }\n    }\n"]);return d=function(){return e},e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=Object(s.c)("video-tracking"),b=0,y=1e3,v=function(){function e(t){var n=this,r=t.mediaId,a=t.mediaSrc,o=t.usageContext,i=t.termClassId,s=t.activityId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"playStatement",c.a.debounce((function(e){n.sendRequest({statementType:h.PLAY,startingPoint:e})}),y)),p(this,"pauseStatement",c.a.debounce((function(e){n.sendRequest({statementType:h.PAUSE,endingPoint:e})}),y)),p(this,"watchStatement",c.a.debounce((function(e){var t=n.previousTime;e<=t||c.a.isNumber(t)&&c.a.isNumber(e)&&n.sendRequest({statementType:h.WATCH,startingPoint:t,endingPoint:e})}),y)),p(this,"skipStatement",c.a.debounce((function(e,t){t!==e&&c.a.isNumber(e)&&c.a.isNumber(t)&&n.sendRequest({statementType:h.SKIP,startingPoint:e,endingPoint:t})}),y)),p(this,"completeStatement",c.a.debounce((function(e){n.sendRequest({statementType:h.COMPLETE,endingPoint:e})}),y)),this.mediaId=r,this.mediaSrc=a,this.usageContext=o,this.termClassId=i,this.activityId=s,this.mediaDuration=b,this.statementsQueue=[]}var t,n,a;return t=e,(n=[{key:"setMediaDuration",value:function(e){var t=this;if(null!=e){var n=+e;c.a.isNumber(n)&&!c.a.isNaN(n)&&(this.mediaDuration=n,this.statementsQueue.forEach((function(e){e.mediaDuration=t.mediaDuration,t.sendRequest(e)})),this.statementsQueue=[])}}},{key:"setPreviousTime",value:function(e){this.previousTime=e}},{key:"getRequestParams",value:function(){var e={mediaId:this.mediaId,mediaDuration:this.mediaDuration,mediaSrc:this.mediaSrc,usageContext:this.usageContext,termClassId:+this.termClassId,activityId:+this.activityId,emittedAt:Math.floor(l.a.utc().valueOf()/1e3)};return e.activityId&&c.a.isNumber(e.activityId)||delete e.activityId,e.termClassId&&c.a.isNumber(e.termClassId)||delete e.termClassId,e}},{key:"sendRequest",value:function(e){var t=this.getRequestParams();t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},t,e),this.mediaDuration!==b?(m.info("sendRequest ".concat(JSON.stringify(e))),r.a.mutate({mutation:g,variables:{input:t}}).catch((function(e){m.warn(e)}))):this.statementsQueue.push(t)}}])&&f(t.prototype,n),a&&f(t,a),e}(),h={PLAY:"TYPE__PLAY",PAUSE:"TYPE__PAUSE",WATCH:"TYPE__WATCH",SKIP:"TYPE__SKIP",COMPLETE:"TYPE__COMPLETE"},g=o()(d())},aqn0:function(e,t,n){},azDE:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("TSYQ"),u=n.n(s),l=n("LvDl"),d=n.n(l);n("VaGi");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){return d.a.pick(e,Object.keys(b.componentProps))}var b=function(e){return a.a.createElement(c.D,p({},m(e),{"aria-label":e.ariaLabel,className:u()("paper-container",e.className)}),e.children)};b.componentProps={className:i.a.string,id:i.a.string,onClick:i.a.func,raiseOnHover:i.a.bool,zDepth:i.a.number.isRequired},b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},b.componentProps,{ariaLabel:i.a.string}),b.defaultProps={zDepth:2},t.a=b},"b+Px":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i}));var r="[Group-Formation] Set is loading",a="[Group-Formation] Set group formation data",o=function(e){return{type:r,payload:e}},i=function(e){return{type:a,payload:e}}},bFdo:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("/MKj"),u=n("Ty5D"),l=n("w8M0"),d=n("oe1p"),f=n("kbsL"),p=n("J/33"),m=n("UyA7"),b=n("LFYD"),y=n("uvcT"),v=n("4pH6");function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return r=this,o=(e=w(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==h(o)&&"function"!==typeof o?S(r):o,C(S(S(n)),"loadActivityData",(function(){var e=n.props,t=e.activityId,r=e.classId;r&&(t?y.a.getActivityNavigationItems(+r,+t):y.a.getNavigationItems(+r))})),C(S(S(n)),"getNavigationItems",(function(){var e=n.props,t=e.navigation,r=e.navigationItems,o=e.topNavigationItems,i=e.type,c=[];return o&&(c=g(o)),t&&(i===I.EDUCATOR?c.push(a.a.createElement(d.a,{key:"educator-external-links",navigationItems:t,displayedNavigationItems:r})):i===I.STUDENT&&c.push(a.a.createElement(d.a,{key:"student-external-links",navigationItems:t,displayedNavigationItems:r}))),c})),C(S(S(n)),"onVisibilityChange",(function(){})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.loadActivityData()}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.loadActivityData()}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.i18n;return a.a.createElement("div",null,a.a.createElement(l.a,{id:"nav-drawer",type:l.a.DrawerTypes.TEMPORARY,visible:t,position:"left",navItems:this.getNavigationItems(),onVisibilityChange:this.onVisibilityChange,header:a.a.createElement(p.a,{fixed:!1,actions:[a.a.createElement(f.d,{id:"button-navigation-back",ariaLabel:n._("Go Back"),onClick:this.props.onClose},b.a.BACK)],className:"md-divider-border md-divider-border--bottom"})}))}}])&&E(n.prototype,r),o&&E(n,o),t}(r.Component);_.propTypes={activityId:i.a.number,classId:i.a.number,navigationItems:i.a.array,onClose:i.a.func,topNavigationItems:i.a.array,type:i.a.string.isRequired,visible:i.a.bool},_.defaultProps={navigationItems:[],topNavigationItems:[],visible:!1};var I={STUDENT:"student",EDUCATOR:"educator"};t.b=Object(c.withI18n)()(Object(u.k)(Object(s.b)((function(e){return{navigation:v.a(e),isLoading:v.b(e),ltiScope:m.l(e)}}))(_)))},bjo3:function(e,t,n){"use strict";var r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return p}));var o="reflectQuestionsAllowed",i=1e3,c=1e3,s=1,u=10,l={QUESTION:{SORT:"orderNumber",TEXT:"questionText"},ANSWER:{TEXT:"answerText"}},d="NEW",f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},(a(r={},l.QUESTION.SORT,u),a(r,l.QUESTION.TEXT,""),a(r,"isDirty",!1),r),{isNew:!0});function p(){return d+"_"+(new Date).getTime()}},cDuf:function(e,t,n){e.exports={publishScoresButton:"b_1iC4e421"}},cK1Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("fcFR"),a=n("8bCP");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){var n=this,r=t.stream,a=t.streamUrl,o=t.streamName;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stream=r,this.streamUrl=a,this.streamName=o,this.__streamClones=[],window.addEventListener("beforeunload",(function(){n.destroy()}))}var t,n,i;return t=e,(n=[{key:"__closeAllStreamClones",value:function(){try{this.__streamClones.forEach((function(e){e.getTracks().forEach((function(e){try{e.stop()}catch(t){a.b.error("Stream::__closeAllStreamClones Error during closing stream track",t)}}))}))}catch(e){a.b.error("Stream::__closeAllStreamClones Error during closing all streams",e)}}},{key:"getRawStream",value:function(){return this.stream}},{key:"getName",value:function(){return this.streamName}},{key:"attachToElement",value:function(e){this.stream&&e&&e.srcObject!==this.stream?e.srcObject=this.stream:this.streamUrl&&e&&e.src!==this.streamUrl&&(e.src=this.streamUrl)}},{key:"attachVideoToElement",value:function(e){var t;if(this.stream&&"function"===typeof this.stream.getVideoTracks&&(t=this.stream.getVideoTracks()[0]),this.stream&&t&&e&&(!e.srcObject||e.srcObject.getVideoTracks()[0]!==t)){var n=new MediaStream;n.addTrack(t.clone()),this.__streamClones.push(n),e.srcObject=n}}},{key:"getCameraId",value:function(e){var t=this.stream.getVideoTracks()[0];return this.cameraDeviceId=this.__findDeviceId(e,t),this.cameraDeviceId}},{key:"getMicrophoneId",value:function(e){var t=this.stream.getAudioTracks()[0];return this.microphoneDeviceId=this.__findDeviceId(e,t),this.microphoneDeviceId}},{key:"download",value:function(){if(this.streamUrl)return r.a(this.streamUrl)}},{key:"onVideoEnd",value:function(e){this.stream&&this.stream.getVideoTracks()[0]&&(this.stream.getVideoTracks()[0].onended=e)}},{key:"destroy",value:function(){this.onVideoEnd(null),this.__closeAllStreamClones(),this.stream&&this.stream.getTracks().forEach((function(e){return e.stop()}))}},{key:"__findDeviceId",value:function(e,t){var n;return t&&e&&e.forEach((function(e){e.label===t.label&&(n=e.deviceId)})),n}}])&&o(t.prototype,n),i&&o(t,i),e}()},cMfo:function(e,t,n){"use strict";t.a={ASSIGNMENT:"activity",CENGAGE_EDUCATOR_DOCK:"cengage-educator-dock",CENGAGE_STUDENT_DOCK:"cengage-student-dock",CENGAGE_CREATE:"cengage-create",CENGAGE_EDIT:"cengage-edit",D2L_ACTIVITY_ADD_SCOPE:"d2l-activity-add",D2L_MEETING_LIST:"d2l-resource-syncmeeting-list",D2L_MEETING_ADD:"d2l-resource-syncmeeting-add",D2L_MEETING_OPEN:"d2l-resource-syncmeeting-open",D2L_ASSIGNMENT_LIST:"d2l-activity-list",D2L_ASSIGNMENT_ADD:"d2l-activity-add"}},cNTu:function(e,t,n){},cRwh:function(e,t,n){"use strict";var r,a=n("GkKD");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=(o(r={},a.a.CAMERA,"webcamResult"),o(r,a.a.DESKTOP,"desktopResult"),o(r,a.a.MICROPHONE,"audioResult"),r);t.a=i},cq5E:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("yfwS"),a=n.n(r);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._emitter=new a.a,this.timeLeftArr=[],this.timeLeftSmoothCoef=20,this.uploadSpeedBps=0,this.secondsLeft=0,this.uploadStartTime=(new Date).getTime(),this.uploadFirstPass=!1}var t,n,r;return t=e,(n=[{key:"on",value:function(){var e;(e=this._emitter).on.apply(e,arguments)}},{key:"emit",value:function(){var e;(e=this._emitter).emit.apply(e,arguments)}},{key:"reset",value:function(){this.timeLeftArr=[],this.timeLeftSmoothCoef=20,this.uploadSpeedBps=0,this.secondsLeft=0,this.uploadStartTime=(new Date).getTime(),this.uploadFirstPass=!1}},{key:"start",value:function(){this.reset(),this.populateCurrentState(),this._startFakeTimer()}},{key:"pause",value:function(){this.reset(),clearInterval(this._timer)}},{key:"_startFakeTimer",value:function(){var e=this;this._timerLastTick=(new Date).getTime(),this._timer=setInterval((function(){0!==e.secondsLeft&&(new Date).getTime()-e._timerLastTick>=1e3&&(e.secondsLeft--,e.populateCurrentState(),e._timerLastTick=(new Date).getTime())}),300)}},{key:"progress",value:function(e,t){this.uploadedPercent=Math.round(e/t*100);var n=(new Date).getTime();this.uploadFirstPass||(this.uploadFirstPass=!0,this.uploadStartSize=e),this.uploadSpeedBps=(e-this.uploadStartSize)/(n-this.uploadStartTime)*1e3*8,isFinite(this.uploadSpeedBps)||(this.uploadSpeedBps=0),this.secondsLeft=this.getSecondsLeft(this.uploadSpeedBps,t-e),this.populateCurrentState()}},{key:"getSecondsLeft",value:function(e,t){var n=Math.round(t/(e/8));if(this.timeLeftArr.length){this.timeLeftArr.push(n),this.timeLeftArr.length>this.timeLeftSmoothCoef&&this.timeLeftArr.shift();var r=this.timeLeftArr.reduce((function(e,t){return e+t}));n=Math.round(r/this.timeLeftArr.length)}return n}},{key:"getTimeObject",value:function(){var e=Math.floor(this.secondsLeft%60),t=Math.floor(this.secondsLeft/60%60),n=Math.floor(this.secondsLeft/3600);return isFinite(e)||(e=0),isFinite(t)||(t=0),isFinite(n)||(n=0),{seconds:e,minutes:t,hours:n}}},{key:"populateCurrentState",value:function(){var t={time:this.getTimeObject(),uploadSpeedBps:this.uploadSpeedBps,uploadedPercent:this.uploadedPercent};this.emit(e.EVENTS.NEW_INFO,t)}}])&&o(t.prototype,n),r&&o(t,r),e}();i.EVENTS={NEW_INFO:"New info"}},csv8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return c}));var r="peerReviewGradingAllowed",a=10,o=99,i=1,c={SETTINGS_ENABLED:"peerReviewGradeEnabled",SETTINGS_WEIGHT:"peerReviewGradeWeight"}},ctUe:function(e,t,n){},d98y:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("nbG6"),s=n("giI2"),u=n("TSYQ"),l=n.n(u);n("TGml");function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,m(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.bodyClassName,r=e.contentsClassName,o=e.icon,i=e.iconClassName,u=e.className,d=e.title,f=e.titleClassName,p=e.header,m=!!(t&&t.length>0);return a.a.createElement(c.a,{className:l()("dashboard-card",u,m?"dashboard-card-with-actions":"")},d?a.a.createElement("div",{className:l()("dashboard-card-title",f)},p||a.a.createElement("h2",{className:"card-header"},d)):null,a.a.createElement(s.a,{className:l()("dashboard-card-icon",i),role:"presentation"},o),a.a.createElement(c.c,{className:l()("dashboard-card-body",n)},a.a.createElement("div",{className:l()("dashboard-card-contents",r)},this.props.children)),m?a.a.createElement(c.b,{className:l()("dashboard-card-actions")},t):null)}}])&&f(n.prototype,r),o&&f(n,o),t}(r.Component);y.propTypes={actions:i.a.any,bodyClassName:i.a.string,contentsClassName:i.a.string,className:i.a.string,enabled:i.a.bool,icon:i.a.string,iconClassName:i.a.string,title:i.a.string,titleClassName:i.a.string};var v=y,h=n("ZD0w"),g=n("ZtzG"),E=n("MzIV"),w=n("LFYD");function O(e){return(O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={editingEvals:!1,evalIndex:0},P=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=C(t).call(this,e),n=!o||"object"!==O(o)&&"function"!==typeof o?I(r):o,T(I(I(n)),"getUserAvatar",(function(){var e=n.props.result.submitter;return a.a.createElement(g.a,{value:e.firstName+" "+e.lastName})})),T(I(I(n)),"onDialogCancel",(function(){n.setState({dialogVisible:!1})})),n.state=R,n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.result,n=t.submitter,r=t.submittedAt,o=e.i18n;return n?a.a.createElement(v,{title:o._("Submitted By"),icon:w.a.PERSON,bodyClassName:l()("submitted-by-card-body")},a.a.createElement("div",{className:"submitted-by-user-container"},a.a.createElement("div",{className:"submitted-by-avatar-container"},a.a.createElement(g.a,{value:n.firstName+" "+n.lastName})),a.a.createElement("div",{className:"submitted-by-details-container"},a.a.createElement("div",null,n.firstName+" "+n.lastName),a.a.createElement("span",{className:"submitted-by-details-date"},a.a.createElement(E.a,{unixTime:r}))))):null}}])&&S(n.prototype,r),o&&S(n,o),t}(r.Component);P.propTypes={result:i.a.any.isRequired};var A=Object(h.withI18n)()(P);n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return A}))},dCfD:function(e,t,n){},dFPr:function(e,t,n){"use strict";t.a={ACTIVITY_RESULT:"TYPE_ACTIVITY_RESULT",PEER_REVIEW:"TYPE_PEER_REVIEW",INTERACTIVE_VIDEO:"TYPE_INTERACTIVE_VIDEO_CHOICES"}},dGj9:function(e,t,n){},"dUr/":function(e,t,n){},djeZ:function(e,t,n){},dp1i:function(e,t,n){},dufB:function(e,t,n){},"e+aV":function(e,t,n){},"e/6q":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}));var r="[Avatar] Add user color entry",a="[Avatar] Reset current color index",o=function(e,t,n,a){return{type:r,payload:{name:e,initials:t,color:n,colorIndex:a}}},i=function(){return{type:a}}},e33A:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f}));var r=n("G4qV"),a=n("upk1"),o=n("hApM"),i=Object(r.a)(a.a,(function(e){return e.browser})),c=Object(r.a)(i,(function(e){return e.viewport})),s=Object(r.a)(c,(function(e){return e.size})),u=Object(r.a)(c,(function(e){return e.orientation})),l=Object(r.a)(c,(function(e){return e.dimensions})),d=Object(r.a)(l,(function(e){return e.width})),f=(Object(r.a)(l,(function(e){return e.height})),Object(r.a)(u,(function(e){return e===o.b.LANDSCAPE})));Object(r.a)(u,(function(e){return e===o.b.PORTRAIT}))},e40F:function(e,t,n){},eCIM:function(e,t,n){},eDl9:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m}));var r=n("lTCR"),a=n.n(r),o=n("92Bf");function i(){var e=l(["\n    fragment MediaPartial on ActivityResultPartialMedia {\n        __typename\n        title\n        dbId\n        media {\n            ...MediaFull\n        }\n        owner {\n            dbId\n            firstName\n            lastName\n        }\n        finalizedAt\n    }\n    ","\n"]);return i=function(){return e},e}function c(){var e=l(["\n    fragment Link on ActivityResultPartialLink {\n        __typename\n        dbId\n        title\n        link\n        owner {\n            dbId\n            firstName\n            lastName\n        }\n        finalizedAt\n    }\n"]);return c=function(){return e},e}function s(){var e=l(["\n    fragment Document on ActivityResultPartialDocument {\n        __typename\n        dbId\n        title\n        downloadUrl\n        previewUrl\n        owner {\n            dbId\n            firstName\n            lastName\n        }\n        finalizedAt\n        mimeType\n    }\n"]);return s=function(){return e},e}function u(){var e=l(["\n    fragment MeetingPartial on ActivityResultPartialMeeting {\n        __typename\n        dbId\n        title\n        recordedMedia: media {\n            ...MediaFull\n        }\n        owner {\n            dbId\n            firstName\n            lastName\n        }\n        lobbyPageUrl\n        scheduledAt\n        finalizedAt\n        anonymousInvitationUrl\n        status\n        meetingDownloadUrl: downloadUrl\n    }\n    ","\n"]);return u=function(){return e},e}function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=a()(u(),o.d),f=a()(s()),p=a()(c()),m=a()(i(),o.d)},eEXS:function(e,t,n){e.exports={activityOverviewUsersContainer:"b_lc3BZTnC",header:"b_t0GiXpVj",headerTitleContainer:"b_7W37kHpm",headerTitle:"b_8ZA0mYyY",userCountMessage:"b_xyA9yZUS",userListContainer:"b_bWK0bqcd",userListHeader:"b_kHYaA32z",left:"b_eBvT7L7N",right:"b_6QqCiPjb",userList:"b_s2zx5nah",emptyListContainer:"b_pa4HGtnR",emptyMessage:"b_jaT7kRjq"}},eJVT:function(e,t,n){e.exports={content:"b_jJW0UJAO",messageConfirm:"b_jmK83BN3",dialog:"b_eLbC6zPt",overlay:"b_a2DEcdcp",overlayContent:"b_ucLSbBtw"}},etP2:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("LvDl"),u=n.n(s),l=n("TSYQ"),d=n.n(l);n("hpIK");function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=.3,E=64;function w(e){return u.a.pick(e,Object.keys(O.componentProps))}var O=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=b(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==f(a)&&"function"!==typeof a?v(r):a,h(v(v(n)),"state",{scrollPosition:0}),h(v(v(n)),"scrollListener",(function(){n.setState({scrollPosition:window.scrollY})})),h(v(v(n)),"getOpacityFromScroll",(function(){var e=n.state.scrollPosition;return Math.min(e/E,1)*g})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.scrollListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollListener)}},{key:"render",value:function(){var e=this.getOpacityFromScroll();return a.a.createElement(c.T,p({},w(this.props),{className:d()("toolbar",this.props.className),colored:!1,style:{boxShadow:"0px 0px 3px 1px rgba(0,0,0,"+e+")"}}),this.props.children)}}])&&m(n.prototype,r),o&&m(n,o),t}(r.Component);O.componentProps={actions:i.a.array,className:i.a.string,colored:i.a.bool,fixed:i.a.bool,nav:i.a.any,title:i.a.any},O.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({},O.componentProps),O.defaultProps={colored:!0,fixed:!0},t.a=O},evQ8:function(e,t,n){},f2lN:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e,t,n,r){e.postMessage({type:t,payload:n},r||window.location.origin)},a=function(e,t,n){return new Promise((function(r){e.addEventListener("message",(function(e){e&&e.data&&e.data.type&&e.data.type===t&&(r(e.data.payload),n instanceof Function&&n(e.data.payload))}))}))}},fIC4:function(e,t,n){},fbOa:function(e,t,n){"use strict";var r=n("wNa6"),a=n("yWXI"),o=n("3fhg"),i=n("zNLh"),c=n("G19t"),s=n("8bCP");function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=Object(s.c)("customizations"),f=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"onStorageChanged",(function(e){if(e.storageArea===window.sessionStorage)switch(d.debug("SessionStorage changed:",e),e.key){case i.b.SS_SETTINGS:var n=c.a.processCustomizationSettings(t.readCustomizationSettings());r.a.dispatch(a.d(n.capabilities)),r.a.dispatch(a.f(n.preferences));break;case o.e.SS_LAUNCHPOINT_SETTINGS:var s=c.a.processLaunchpointSettings(t.readLaunchpointSettings());r.a.dispatch(a.e(s))}}))}var t,n,s;return t=e,(n=[{key:"initialize",value:function(){if(this.isInitialized)return!0;this.isInitialized=!0,d.debug("Initializing CustomizationService...");try{var e=c.a.processLaunchpointSettings(this.readLaunchpointSettings());r.a.dispatch(a.e(e));var t=c.a.processCustomizationSettings(this.readCustomizationSettings());r.a.dispatch(a.d(t.capabilities)),r.a.dispatch(a.f(t.preferences))}catch(n){return d.error("There was an issue accessing sessionStorage. This application requires access to browser sessionStorage to operate.",n),!1}return window.addEventListener("storage",this.onStorageChanged),d.debug("... initialized."),!0}},{key:"getCustomizationSettings",value:function(){d.debug(">>> Checking for customization settings...");try{var e=this.readCustomizationSettings();return e?(d.debug("<<< Detected customization settings: ",e),e):(d.debug("<<< No customization settings detected."),null)}catch(t){throw d.error(t),new Error("CustomizationService:: Failure finding customization settings")}}},{key:"readCustomizationSettings",value:function(){try{var e=sessionStorage.getItem(i.b.SS_SETTINGS);if(e)return JSON.parse(e)}catch(t){d.debug("Unable to fetch and parse customization settings ('".concat(i.b.SS_SETTINGS,"') from sessionStorage"),t)}return null}},{key:"writeCustomizationSettings",value:function(e){try{sessionStorage.setItem(i.b.SS_SETTINGS,JSON.stringify(e))}catch(t){d.warn("Unable to persist customization settings ('".concat(i.b.SS_SETTINGS,"') to sessionStorage"),t)}}},{key:"getLaunchpointSettings",value:function(){d.debug(">>> Checking for launchpoint settings...");try{var e=c.a.processLaunchpointSettings(this.readLaunchpointSettings());return e?(d.debug("<<< Detected launchpoint settings: ",e),e):(d.debug("<<< No launchpoint settings detected."),null)}catch(t){throw d.error(t),new Error("CustomizationService:: Failure finding launchpoint settings")}}},{key:"readLaunchpointSettings",value:function(){try{var e=sessionStorage.getItem(o.e.SS_LAUNCHPOINT_SETTINGS);if(e)return JSON.parse(e)}catch(t){d.warn("Unable to fetch and parse launchpoint settings ('".concat(o.e.SS_LAUNCHPOINT_SETTINGS,"') from sessionStorage"),t)}return null}},{key:"writeLaunchpointSettings",value:function(e){try{var t=c.a.processLaunchpointSettings(e);r.a.dispatch(a.e(t)),sessionStorage.setItem(o.e.SS_LAUNCHPOINT_SETTINGS,JSON.stringify(t))}catch(n){d.warn("Unable to persist launchpoint settings ('".concat(o.e.SS_LAUNCHPOINT_SETTINGS,"') to sessionStorage"),n)}}}])&&u(t.prototype,n),s&&u(t,s),e}();l(f,"isInitialized",!1),t.a=new f},fcFR:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=function(e){return(window.location.origin+a()).replace(/\/$/,"")+e},a=function(){return document.getElementById("root").dataset.basename},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement("a");if(n.setAttribute("href",e),n.setAttribute("download",t),n.setAttribute("target","_blank"),document.createEvent){var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}else n.click()}},flbt:function(e,t,n){e.exports={card:"b_kKHQJ7QE",header:"b_mcAeuSSn",contents:"b_zNTQoRNa"}},"fn+x":function(e,t,n){e.exports={page:"b_vZ0nH0iF",content:"b_qpjJw2Qt",chooseContainer:"b_l2eLrny5",chooseMessage:"b_6IODNcw3",chooseOptionButtonsPrimary:"b_zQ0205tE",chooseOptionButtonsSecondary:"b_9o4ochEc",chooseOptionButtonLarge:"b_9NOOdaSM",activityNameInput:"b_2ZC9MsLV",activityNameInputTooltip:"b_rrbZdXKO",footer:"b_bvpIPauv",footerMessages:"b_umBLDvta",footerActions:"b_u9ocPHGx",footerActionsCenter:"b_wbFVdPdF",itemChooserEntry:"b_8Jp1s957",itemName:"b_jY2YwWZ7",itemNameText:"b_gS0Anrv7",itemType:"b_8FybNB66",itemTypeText:"b_ts3l662y",itemTypeIcon:"b_cGHt5un3"}},fpsG:function(e,t,n){"use strict";t.a={STUDENT:"TYPE__STUDENT",EDUCATOR:"TYPE__EDUCATOR",CONTENT_DEVELOPER:"TYPE__CONTENT_DEVELOPER",SUPER_EDUCATOR:"TYPE__SUPER_EDUCATOR",TEST_STUDENT:"TYPE__TEST_STUDENT"}},g3iL:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("Uu12"),s=n("qSfp"),u=n("4XMt"),l=n("TSYQ"),d=n.n(l);n("psRa");function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={none:function(e){return{display:e?"":"none"}},"fade-staggered":function(e,t){return{transition:e?"450ms":"300ms",transitionDelay:e?.025*t+"s":"",transform:"translateY("+(e?0:"5px")+")",opacity:e?1:0}},fade:function(e){return{transition:e?"450ms":"300ms",opacity:e?1:0}},slide:function(e,t){return{transition:e?"250ms":"300ms",transform:"translateY("+(e?0:E(t)+"px")+")",opacity:e?1:0}}};function E(e){return 81+56*e}var w=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=new Array(i),y=0;y<i;y++)l[y]=arguments[y];return r=this,o=(e=b(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==f(o)&&"function"!==typeof o?v(r):o,h(v(v(n)),"handleTouchTap",(function(e){n.props.onCloseRequest(),n.props.onClick(e)})),h(v(v(n)),"render",(function(){var e=n.props,t=e.id,r=e.index,o=e.visible,i={pointerEvents:o?"":"none",position:"absolute",whiteSpace:"nowrap",bottom:E(r)},l=g[n.props.effect];l||(l=g.none),i=m({},i,l(o,r));var f=m({},n.props.tooltip);return f.position=u.a.LEFT,f.className=d()(f.className,"speed-dial-item-tooltip"),a.a.createElement("div",{className:"speed-dial-button-option",style:i},a.a.createElement(s.b,p({},Object(c.j)(n.props),{floating:!0,enabled:!!o&&n.props.enabled,tooltip:f,mini:!0,primary:!0,onClick:n.handleTouchTap,iconClassName:n.props.iconClassName,id:t,ariaLabel:n.props.ariaLabel}),n.props.icon))})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),t}(r.Component);w.propTypes={ariaLabel:i.a.string.isRequired,enabled:i.a.bool,icon:i.a.string,iconClassName:i.a.string,id:i.a.string.isRequired,tooltip:i.a.any},w.defaultProps={enabled:!0,tooltip:{}}},g40k:function(e,t,n){e.exports={peerReviewContainer:"b_s9hmjGwa",contentsContainer:"b_45jPVRfx"}},gAqt:function(e,t,n){},gEnJ:function(e,t,n){},gRfE:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAABwxJREFUeJztW2tsXOURPTN3bYMfIbEJxk5CIQXSpuv1Q6oiqqoSdWlthx+gyog/qBVVJdTISmwDoTyaOi11WuQ4KdCoUiVEW4GagO3S+BFoiyiNwqMK9joQcA1yHZQmbeNYxjGsvXemP5IFP/Zx7+7YKK3Pv3vvzJlz587uzjffXWAZy1jG/zNoMUhDPVvvPFw63JxH2GjBJwJl0hu4oudVC77ZYGvCz72wpQjq/OzuM2uiVpzMICHaq2r/wMwTkD2TvQuEoiOR/NDodPYRK14GNunA5jus+GIwzWiwd+sN7DqHwed51wYiJ55bPXIFM3Is+AVy0nHyN1DwwKQFH2BYAfX76x0WZ1/s5gHg/WjOur9G8l6xisHgUnHP3W/Fd57TCG/nr20AoXz++fvGrqyKqv7HKo4KNWl483orPpMEVD5/TylBd8a7NoVAwa8nio5bxAEAZuSIaJsZnwVJNOq2A1yQ6PreydVfmhIdtogFAER0iwzcXG3BlXECgt1NNxFwWzIbApwd4yUTmcaaDYG7R/fXO5nyZJSAa3sackD6uBfbFz68rOq0BF7PJN5sMDioGybvypwnA+QisJ1B13m1b/jXmiIBzBokEd4px75emAlH2gkoO7htPUS/78dnyL1k/RvTuYfTjTkfzCjUaFbcL1/PHOk6EtNjYL7Er1/zv0vKXMh4unHnQ0nukv7NwXT900pAqLvxmwDVpuM7jkDhMx+sGkjHNx4Y7KjqnnT9fbfCG1/8Xn7gXM5xMK1NN2iAotNHSt89mQVcnS7HfBDRrRQ62OXXz3cFOFM5OzK5eQCIaiD7J2eLT2fCMR+u67bJUI3vNYevBIT+0BxU1W1+g8RD59TKTeNCf7PgAgBmXo8pp8m3n2dLBQm5+5g54DdIAoxOIrBFRMSID6J6v7z+jRI/Pp4TUNbX9C1m/rJ/WQmg+tBVlV2vEfMTVpTMlK/Zzi5fPl6MNvY1FqrKI+nJigPFQPi1Fb8FAHb0QRE1W9+r0B3SX7fJq72nBARctDL48vRlLYi6HS0tAgAU7DnFDF9PLSm1z/FZygSEDjZvgtJ3M5d2AYo/hmt3H5p9ilacaxOVUasQfsZnSRNQv7/eEbhzpjwZQaAg3Dv/NF3z0kdMdJ9JjFgoklY9Vp+fyi5pAt4pWLuFmSvtZOlT4brdb8QVUt7ztAiWfHyWMAFVvdtK1KUfWQmCIEKOPJhUDLuNIlCrkF7GZwkTMC28mxgrzMSwPD5Qu3ckqZjyvleI5XdWMb2Mz+ImoKynqZoJt1sJEWDcZXrYiy07znYRfGQVO9X4bEECNu7fkU0CT1MezyIUrW/VtI95sg0eHCXobsv4ycZnCxLgFEzcC8YGu+hyYiK34Od+XDgrr1UEp6wkJBufzfl5Cx1qvkZcfZOBS62CK+Tbg3V7nvTrJ/113wHRr6x0iGCMs2au4+DzcypxTgVoVB61vHkoBgZfvew36bhS+RefEKDfSkqi8dnHFVDe03irgjqsAl5gr5nf9fmB9Nd+FcR/spIjEJeVK7ii+1jsHANA6FBznoLSHivFRZyW1y+4ovfPKvKclaR447PzHwFXfgDgKqtAEKiybLegIuW7BZix4AIAYqrW8M23xI65vHfbF0So0SrAeVY8PVi756gJVVX330nF9Gd59viMVekXzMgyYxdEiNwHzPgAMPNOEXjqIzzyfTw+YwWZtbuAt5bXLyjUfZZJf2jJGRufMSfY1k6L1EfL6xd09tw+EXnbii82PiMoqKy36SgBFZmSFpxa85crhyu+YiFwKSDQRgZBLapAXfrnFe+FPM/iPm2IyptjWc5jDAADte1dmmHXtfrEtaMsbPIy1FKAQA0vtdwY5QtHmVWBy8Mr37/+onn6qjjQ0fq1F4FZa4GB2vYuKNLatCweCk4vyiuniwHBlMszzbHDTxZDBAWT7yrg6ZzBFWfWmbwSuxRQQuvvH645ETuesxoM17R1+qoCgZYcr1xpqG+x8d7UZGTOBs/cgYjPKsj+sOBo7gdF64zELTpE0Nj3aF1k9rkFE6FwTVsnRMOp2RApfavK7IXFJUBf567qBSvLhUNRgoKQsgryxlYfy4rkrzISt6gQwbQrsjXetbhT4XBde0eyKlChieJ3K9N+L2epQYT2rl03DcW7Fn9fIEUVrDz1mRFnJutiaXpOOtn840QXE26MJKoCEj59+cjnQ1bqFhuquOdAy40Jt98T7w0mqILCkesnWMz/Z7EoEODljtbqp5LZJL2TcF17B4DB2DFNB/6x6uRnPb8Z+mlCABcuGlLZJX+UBFV80hcUD5dlXSwtL6n+svOn1SmbupS1PFjb9iyAwcBU7lDBWGmpibrFxxnOjj7kxTD1h5mgTuTSR0reqSzOWNYSgVQfeKalxmyGuIxlLON/F/8FBZuNswsSH9UAAAAASUVORK5CYII="},gVG2:function(e,t,n){},gX62:function(e,t,n){e.exports={dialInInfoDialog:"b_9IxY7NeD",dialInInfo:"b_dAcSlw52",dialInNumber:"b_sJLp1nTl",dialInBridge:"b_raMEP7tn",dialInBridgeLabel:"b_lv7NDNs0",dialInBridgeValue:"b_oaRRDCmX"}},gZ03:function(e,t,n){},giI2:function(e,t,n){"use strict";n("/0q4");var r=n("8For"),a=(n("KhDq"),n("q1tI")),o=n.n(a),i=n("17x9"),c=n.n(i),s=n("xrVw"),u=n("TSYQ"),l=n.n(u),d=n("LvDl"),f=n.n(d);n("8+7o");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e){return o.a.createElement(s.F,m({},function(e){return f.a.pick(e,Object.keys(b.componentProps))}(e),{className:l()("svg-icon",e.className),disabled:!e.enabled}),e.children)};b.componentProps={className:c.a.string,primary:c.a.bool,secondary:c.a.bool,use:c.a.string},b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},b.componentProps,{enabled:c.a.bool}),b.defaultProps={enabled:!0};function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w,O,S,C={tooltipContainer:{position:"relative",display:"inline-block",margin:"1em"}},_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,g(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.iconClassName,r=e.tooltip;return o.a.createElement("div",{style:C.tooltipContainer},r,o.a.createElement(s.v,{iconClassName:n},t))}}])&&v(n.prototype,r),a&&v(n,a),t}(a.PureComponent);w=_,O="propTypes",S={children:c.a.node,tooltip:c.a.node,iconClassName:c.a.string},O in w?Object.defineProperty(w,O,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[O]=S;Object(s.V)(_);n.d(t,"a",(function(){return r.a}))},gnXi:function(e,t,n){},h15y:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var r=function(e,t){return t.common&&t.common.player?t.common.player[e]:null},a=function(e,t,n){var a=r(e,t);return a?a.state[n]:null},o=function(e,t){return a(e,t,"time")}},h3Re:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="[History] Update",a=function(e){return{type:r,payload:e}}},"h4t+":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n("p46w"),a=n.n(r),o=n("8bCP");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=/educator$/i,s=/student$/i,u=/usertype=external$/i,l=function(){return document.getElementById("root").dataset.apiEndpoint},d=function(){return document.getElementById("root").dataset.serverHostname},f=function(){var e=l();return s.test(e)?a.a.get("user.student.jwt_token"):c.test(e)?a.a.get("user.educator.jwt_token"):u.test(e)?a.a.get("user.external.jwt_token"):null},p=function(e){return m(d(),e)},m=function(e,t){try{if(e&&e.startsWith("/"))throw new Error("Not deriving microservice URL since hostname is relative path");var n=e.split(".");if(3!==n.length)throw new Error("Unable to derive microservice URL.");var r=i(n,3),a=r[0],c=r[1],s=r[2];return"https://".concat(a,"-").concat(t,".").concat(c,".").concat(s,"/graphql")}catch(u){o.b.error(u,e)}return e}},h8zk:function(e,t,n){e.exports={fiveStarContainer:"b_3YWLmCDd",ratingContainer:"b_aynQcCWF",rating:"b_e8COKgjf",fiveStarCount:"b_r2HAQKlj"}},hApM:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r={XSMALL:{name:"XSMALL",max:480,min:0},SMALL:{name:"SMALL",max:700,min:481},MEDIUM:{name:"MEDIUM",max:1280,min:701},LARGE:{name:"LARGE",max:1600,min:1281},XLARGE:{name:"XLARGE",max:Number.POSITIVE_INFINITY,min:1601}},a={PORTRAIT:"PORTRAIT",LANDSCAPE:"LANDSCAPE",NA:"N/A"}},hFGE:function(e,t,n){"use strict";var r=n("VQIj"),a=n("q1tI"),o=n.n(a),i=n("/MKj"),c=n("17x9"),s=n.n(c),u=n("xrVw"),l=n("ZD0w"),d=n("giI2"),f=n("2bAp"),p=n("Wme0"),m=n("45tj"),b=n("LMP5"),y=n("TSYQ"),v=n.n(y),h=n("LvDl"),g=n.n(h);n("1CkY");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=function(e){var t=(e=g.a.clone(e)).i18n;return e.showIcon||(e.icon=null),e.inDialog&&(e.portal=!0,e.lastChild=!0,e.renderNode=document.body,e.disableScrollLocking=!0),e.errorText&&(e.error=!0),e.value&&(e.value=b.g(e.value)),o.a.createElement(u.l,w({},function(e){return g.a.pick(e,Object.keys(O.componentProps))}(e),{cancelLabel:t._("Cancel"),className:v()("input-date-picker",e.className),disabled:!e.enabled,"aria-label":e.ariaLabel,locales:Object(m.e)(e.locale),okLabel:t._("Ok")}),e.children)};O.componentProps={className:s.a.string,disableScrollLocking:s.a.bool,displayMode:s.a.string,error:s.a.bool,errorText:s.a.string,icon:s.a.any,id:s.a.string.isRequired,label:s.a.node,lastChild:s.a.bool,onChange:s.a.func,portal:s.a.bool,renderNode:s.a.node,showIcon:s.a.bool,style:s.a.object,textFieldStyle:s.a.object,value:s.a.object},O.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}({},O.componentProps,{enabled:s.a.bool,inDialog:s.a.bool,ariaLabel:s.a.string}),O.defaultProps={enabled:!0,displayMode:"portrait",disableScrollLocking:!1,icon:o.a.createElement(d.a,{iconClassName:f.a.CALENDAR}),inDialog:!1,showIcon:!0};var S=Object(i.b)((function(e){return{locale:p.a(e)}}))(Object(l.withI18n)()(O));n("tdQW");function C(e){return(C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=/^(\d{0,3})(%?)$/,j=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=T(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==C(a)&&"function"!==typeof a?P(r):a,A(P(P(n)),"state",{isFocused:!1,tmpValue:""}),A(P(P(n)),"getValueFromString",(function(e){if(!e)return 0;var t=N.exec(e);return t&&t.length>=2?+t[1]:0})),A(P(P(n)),"isValidPattern",(function(e){var t=N.exec(e);return!(!t||t.length<2)})),A(P(P(n)),"onChange",(function(e,t){if(n.isValidPattern(e,t)){var r=+N.exec(e)[1];if(r||(r=0),n.props.onValidate)if(!n.props.onValidate(r,t))return;var a=e;a.length>1&&(a=g.a.trimStart(a,"0")),a||(a="0"),n.setState({tmpValue:a}),n.props.onChange&&n.props.onChange(r,t)}})),A(P(P(n)),"onFocus",(function(){n.setState({isFocused:!0,tmpValue:+n.props.value})})),A(P(P(n)),"onBlur",(function(){n.setState({isFocused:!1,tmpValue:n.getValue(n.props.value)})})),A(P(P(n)),"getFormattedValue",(function(){var e=n.props,t=e.i18n,r=e.value;if(n.props.formattedValueFunc)return n.props.formattedValueFunc(r);if(null===r)return"\u2014";var a=String(r);return n.props.isAuto?a:t._("{strValue}%",{strValue:a})})),A(P(P(n)),"getValue",(function(){return n.state.isFocused?String(n.state.tmpValue):n.getFormattedValue()})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props;return o.a.createElement(Z.b,_({},function(e){return g.a.pick(e,Object.keys(j.componentProps))}(e),{className:v()("input-percentage",e.className),onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus,value:this.getValue(),tooltip:e.tooltip}))}}])&&I(n.prototype,r),a&&I(n,a),t}(a.Component);j.componentProps={ariaLabel:s.a.string,ariaLabelledby:s.a.string,className:s.a.string,error:s.a.bool,errorText:s.a.string,enabled:s.a.bool,onBlur:s.a.func,onChange:s.a.func,onFocus:s.a.func,id:s.a.string,label:s.a.string,maxRows:s.a.number,placeholder:s.a.string,required:s.a.bool,rows:s.a.number,style:s.a.object,value:s.a.oneOfType([s.a.string,s.a.number])},j.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}({},j.componentProps,{formattedValueFunc:s.a.func,isAuto:s.a.bool,onValidate:s.a.func,tooltip:s.a.any}),j.defaultProps={enabled:!0,maxRows:1,rows:1,value:0,isAuto:!1};var k=Object(l.withI18n)()(j),D=n("4XMt"),L=n("PjZZ");function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var F=function(e){var t=!e.enabled;return g.a.has(e,"disabled")&&(t=e.disabled),o.a.createElement(u.E,x({},function(e){return g.a.pick(e,Object.keys(F.componentProps))}(e),{className:L.a(t,e,"selection-control-radio"),disabled:t,"aria-label":e.ariaLabel}))};F.componentProps={checked:s.a.bool,className:s.a.string,disabled:s.a.bool,id:s.a.string.isRequired,label:s.a.node,labelBefore:s.a.string,name:s.a.string.isRequired,onChange:s.a.func,style:s.a.object,value:s.a.string},F.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){M(e,t,n[t])}))}return e}({},F.componentProps,{enabled:s.a.bool,ariaLabel:s.a.string,tooltip:s.a.any}),F.defaultProps={enabled:!0,label:"",value:""};var U=Object(D.c)(F),V=n("J3bt"),G=n("EZsn"),q=n("jUYa"),B=n("iGlQ"),W=n("kbsL"),Q=n("PJr8"),Y=n("LFYD"),H=n("Wqtl"),z=n("Y7ox"),K="select-rubric-container";function X(e){var t=e.i18n,n=e.onRubricChange,r=e.rubrics,a=e.selectedRubric,i=e.onConfigureRubrics,c=null,s=null,u=null;null===r?(s=!1,c=t._("Loading Rubrics..."),u=[]):g.a.isEmpty(r)?(s=!1,c=t._("No Rubrics Available"),u=[]):(s=!0,c=t._("Rubric"),u=r.map((function(e){return{label:e.name,value:e.dbId,disabled:!!e.disabled}}))),Boolean(a&&a.disabled)&&(s=!1);var l=s&&Boolean(a&&a.value),f=a.value?a.value:-1;return o.a.createElement("div",{className:v()(K,e.className)},o.a.createElement(V.b,{className:"select-rubric-selectfield",label:c,ariaLabel:c,id:"rubric",error:Boolean(a.error),errorText:a.error,value:f,enabled:s,onChange:n,menuItems:u}),o.a.createElement(W.f,{id:"quick-nav-menu-button",menuItems:[o.a.createElement(B.c,{key:"preview_rubric",enabled:l,onClick:function(){if(a){var e=r.find((function(e){return e.dbId===a.value}));e&&z.a.showModal(o.a.createElement(Q.b,{rubric:e,mode:H.a.VIEW,onCancel:z.a.closeModal,submitting:!1,showCurrentScore:!1}))}},leftIcon:o.a.createElement(d.a,{ariaLabel:t._("Show rubric, icon")},Y.a.PREVIEW),primaryText:t._("Show rubric")}),o.a.createElement(B.c,{key:"config_rubrics",enabled:!0,onClick:i,leftIcon:o.a.createElement(d.a,{ariaLabel:t._("Configure rubrics, icon")},Y.a.SETTINGS),primaryText:t._("Configure rubrics")})]},Y.a.MENU_VERT))}X.propTypes={className:s.a.string,onRubricChange:s.a.func.isRequired,onConfigureRubrics:s.a.func.isRequired,selectedRubric:s.a.shape({value:s.a.number,error:s.a.string,disabled:s.a.bool}),rubrics:s.a.arrayOf(s.a.shape({dbId:s.a.number.isRequired,name:s.a.string.isRequired}))};var J=Object(l.withI18n)()(X),Z=n("ZmiZ");function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ie(e,t,n[t])}))}return e}function ee(e){return(ee="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=re(t).call(this,e),n=!a||"object"!==ee(a)&&"function"!==typeof a?oe(r):a,ie(oe(oe(n)),"focus",(function(){n.textFieldRef.current.focus()})),n.textFieldRef=o.a.createRef(),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.className,r=e.id,a=e.listClassName,i=e.menuItems,c=e.onDropdownVisibilityChange,s=e.onTextChange,l=e.toggleQuery,d=g.a.pick(this.props,Object.keys(Z.a.propTypes)),f=Boolean(i&&i.length>0);return o.a.createElement(u.q,{anchor:t,listStyle:{display:f?"block":"none"},id:r+"-dropdown",className:v()("dropdown-textfield-container",n),listClassName:a,fullWidth:!0,menuItems:i||[],repositionOnResize:!0,repositionOnScroll:!0,simplifiedMenu:!0,toggleQuery:l,onVisibilityChange:function(e){f&&c(e)}},o.a.createElement(Z.b,te({ref:this.textFieldRef},d,{id:r+"-textfield",onChange:s})))}}])&&ne(n.prototype,r),a&&ne(n,a),t}(o.a.PureComponent),se=$({},u.B.HorizontalAnchors),ue=$({},u.B.VerticalAnchors);ce.propTypes=$({},Z.a.propTypes,{anchor:s.a.any,listClassName:s.a.string,menuItems:s.a.array,onDropdownVisibilityChange:s.a.func,onTextChange:s.a.func,toggleQuery:s.a.string.isRequired}),ce.defaultProps={anchor:{x:se.INNER_LEFT,y:ue.TOP},enabled:!0,rows:1,maxRows:1,onDropdownVisibilityChange:function(){}};var le=ce;function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pe=function(e){var t=(e=g.a.clone(e)).i18n;return e.showIcon||(e.icon=null),e.inDialog&&(e.portal=!0,e.lastChild=!0,e.renderNode=document.body,e.disableScrollLocking=!0),e.errorText&&(e.error=!0),o.a.createElement(u.S,fe({},function(e){return g.a.pick(e,Object.keys(pe.componentProps))}(e),{cancelLabel:t._("Cancel"),className:v()("input-time-picker",e.className),disabled:!e.enabled,"aria-label":e.ariaLabel,locales:Object(m.f)(e.locale),okLabel:t._("Ok")}),e.children)};pe.componentProps={className:s.a.string,disableScrollLocking:s.a.bool,displayMode:s.a.string,error:s.a.bool,errorText:s.a.string,icon:s.a.any,id:s.a.string.isRequired,label:s.a.node,lastChild:s.a.bool,onChange:s.a.func,portal:s.a.bool,renderNode:s.a.node,showIcon:s.a.bool,style:s.a.object,textFieldStyle:s.a.object,value:s.a.object},pe.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){de(e,t,n[t])}))}return e}({},pe.componentProps,{enabled:s.a.bool,inDialog:s.a.bool,ariaLabel:s.a.string}),pe.defaultProps={enabled:!0,displayMode:"portrait",disableScrollLocking:!1,icon:o.a.createElement(d.a,null,Y.a.SCHEDULE),inDialog:!1,showIcon:!0};var me=Object(i.b)((function(e){return{locale:p.a(e)}}))(Object(l.withI18n)()(pe));n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return V.b})),n.d(t,"f",(function(){return G.b})),n.d(t,"h",(function(){return q.a})),n.d(t,"g",(function(){return J})),n.d(t,"i",(function(){return Z.b})),n.d(t,"j",(function(){return le})),n.d(t,"k",(function(){return me}))},hH2E:function(e,t,n){},hHKf:function(e,t,n){"use strict";var r=n("YSsg");n.d(t,"a",(function(){return r.a}));n("06YE"),n("xWUU");var a=n("a/gg");n.d(t,"b",(function(){return a.a}));n("GAH+")},hIiU:function(e,t,n){"use strict";var r=n("wNa6"),a=n("LvDl"),o=n.n(a),i=n("Ty5D"),c=n("vRGJ"),s=n.n(c),u=n("+Ft7"),l=n("LMP5"),d=n("45tj"),f=n("Wme0"),p=n("BulX");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"isTrial",value:function(e){return!!e&&o.a.isNumber(e.trialExpireAt)}},{key:"getTrialExpirationDate",value:function(e){return this.isTrial(e)?1e3*e.trialExpireAt:null}},{key:"isTrialExpired",value:function(e){return!!o.a.isNumber(e)&&e<=(new Date).getTime()}},{key:"shouldShowTrialNotice",value:function(){return this.getTimeSinceLastAckTrialNotice()>=288e5}},{key:"getTimeSinceLastAckTrialNotice",value:function(){var e=window.localStorage;if(e){var t=e.getItem("trialNoticeLastAckTime");return t?(new Date).getTime()-t:Number.POSITIVE_INFINITY}return Number.POSITIVE_INFINITY}},{key:"updateLastAckTime",value:function(){var e=window.localStorage;e&&e.setItem("trialNoticeLastAckTime",(new Date).getTime())}},{key:"getFormattedExpirationDateTime",value:function(e){var t=f.a(r.a.getState()),n=Object(d.e)(t);return Object(l.e)(e,u.a.SHORT,n)}},{key:"rerouteToTrialsPage",value:function(e,t){if(!this.isTrialPath(e)){var n=this.getTrialsPagePath(e);n&&t.replace(n)}}},{key:"getTrialsPagePath",value:function(e){var t=Object(i.g)(e,{path:p.c,exact:!1}),n=Object(i.g)(e,{path:p.g,exact:!1});if(!t&&!n)return null;var r=t?p.f.EDUCATOR_TRIAL:p.f.STUDENT_TRIAL,a=t||n;return s.a.compile(r)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}({},a.params))}},{key:"isTrialPath",value:function(e){return Object(i.g)(e,{path:p.f.EDUCATOR_TRIAL,exact:!0})||Object(i.g)(e,{path:p.f.STUDENT_TRIAL,exact:!0})}}])&&b(t.prototype,n),a&&b(t,a),e}();t.a=new y},hMkO:function(e,t,n){},hf66:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("G4qV"),a=Object(r.a)((function(e){return e.student}),(function(e){return e.pages}))},hpIK:function(e,t,n){},hu4m:function(e,t,n){"use strict";var r=n("azDE");n.d(t,"a",(function(){return r.a}))},"hvs/":function(e,t,n){"use strict";var r=n("1AfR"),a=n("u4EO"),o=n("q1tI"),i=n.n(o),c=n("17x9"),s=n.n(c),u=n("TSYQ"),l=n.n(u),d=n("LFYD"),f=n("giI2");n("slDY");function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,y(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.a.createElement(f.a,{className:l()("processing-spinner",this.props.className)},d.a.SETTINGS)}}])&&m(n.prototype,r),a&&m(n,a),t}(o.Component);h.propTypes={className:s.a.string},n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return h}))},i5n6:function(e,t,n){},iFdk:function(e,t,n){"use strict";var r=n("LFYD"),a=n("2bAp"),o=n("ZD0w"),i=n("BulX");t.a={ASSIGNMENTS:{identifier:"activities-list",label:Object(o.i18nMark)("Assignments"),icon:r.a.ASSIGNMENTS,ariaLabel:Object(o.i18nMark)("Assignments"),iconAriaLabel:Object(o.i18nMark)("Assignments, icon"),route:i.i.STUDENT_ACTIVITY_LIST},MEETINGS:{identifier:"meetings-list",label:Object(o.i18nMark)("Meetings"),iconClassName:a.a.CALENDAR,ariaLabel:Object(o.i18nMark)("Meetings"),iconAriaLabel:Object(o.i18nMark)("Meetings, icon"),route:i.i.STUDENT_MEETINGS_LIST},SUPPORT:{identifier:"help",label:Object(o.i18nMark)("Support"),icon:r.a.SUPPORT,ariaLabel:Object(o.i18nMark)("Support"),iconAriaLabel:Object(o.i18nMark)("Support, icon")},SETTINGS:{identifier:"settings",label:Object(o.i18nMark)("Settings"),icon:r.a.CONFIGURE,ariaLabel:Object(o.i18nMark)("Settings"),iconAriaLabel:Object(o.i18nMark)("Settings, icon"),route:i.i.STUDENT_SETTINGS},NOTIFICATIONS:{identifier:"notifications",label:Object(o.i18nMark)("Notifications"),icon:r.a.ANNOUNCEMENT,ariaLabel:Object(o.i18nMark)("Notifications"),iconAriaLabel:Object(o.i18nMark)("Notifications, icon"),route:i.i.STUDENT_NOTIFICATIONS}}},iGlQ:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("ZD0w"),i=n("TSYQ"),c=n.n(i),s=n("giI2"),u=n("LFYD"),l=n("upoK"),d=(n("y54d"),function(){window.open("https://bongolearn.zendesk.com/")}),f=Object(o.withI18n)()((function(e){var t=e.i18n;return a.a.createElement(l.a,{key:"help_item",className:c()("help-list-item",e.className),onClick:d,leftIcon:a.a.createElement(s.a,{ariaLabel:t._("Help, icon")},u.a.HELP),primaryText:t._("Help")})})),p=n("BJep");n("Goub");n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p.a})),n.d(t,"c",(function(){return l.a}))},iT46:function(e,t,n){e.exports={loadingEllipsis:"b_x4MnvsxA",dot:"b_yNiaHtc2",dot1:"b_uPycUSrP","loadingEllipsis-dot1":"b_xY1lE7NK",dot2:"b_8kH9Lo3M","loadingEllipsis-dot2":"b_A1plfsAJ",dot3:"b_4cRXvUbr","loadingEllipsis-dot3":"b_qegqU0yi"}},idEK:function(e,t,n){},io3D:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n("lTCR"),a=n.n(r),o=n("mxsA");function i(){var e=l(["\n  fragment ReflectionAnswersMinimal on ReflectAnswer {\n    __typename\n  }\n"]);return i=function(){return e},e}function c(){var e=l(["\n  fragment ReflectionAnswers on ReflectAnswer {\n    answerText\n    question {\n      ...ReflectionQuestion\n    }\n    submitter {\n      ...GeneralUser\n    }\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}function s(){var e=l(["\n  fragment ReflectionSettings on ReflectStageSettings {\n    reflectStageEnabled\n    reflectQuestions {\n      ...ReflectionQuestion\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function u(){var e=l(["\n  fragment ReflectionQuestion on ReflectQuestion {\n    dbId\n    questionText\n    # orderNumber #TODO: this field is not returned?\n  }\n"]);return u=function(){return e},e}function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=a()(u()),f=a()(s(),d),p=a()(c(),d,o.e),m=a()(i())},iqyR:function(e,t,n){},j15M:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("TSYQ"),s=n.n(c),u=n("8bCP"),l=n("HCbP"),d=n("mTCQ"),f=n("nOAq"),p=n("RKRe");n("0l2v");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g="page",E=function(e){function t(){var e,n,r,o,i,c,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var b=arguments.length,v=new Array(b),E=0;E<b;E++)v[E]=arguments[E];return r=this,o=(e=y(t)).call.apply(e,[this].concat(v)),n=!o||"object"!==m(o)&&"function"!==typeof o?h(r):o,i=h(h(n)),u=function(){var e=n.props.withTallHeader;return a.a.createElement("div",{className:s()(g,n.props.className)},a.a.createElement("div",{className:s()("page-heading",e&&"tall-header")}),a.a.createElement(d.a,null,a.a.createElement("div",{className:"content-title-container md-toolbar-relative"},l.a.isPageTitleVisible()&&n.props.title?a.a.createElement("div",{className:s()("content-title",n.props.titleClassName)},a.a.createElement("div",{className:"content-header-info"},a.a.createElement("h1",{className:"content-title-header"},n.props.title),n.props.description&&a.a.createElement("div",{className:"content-title-description"},n.props.description)),a.a.createElement("div",{className:"content-header-content-right"},n.props.headerContentRight)):null),a.a.createElement(f.a,null,n.props.children),a.a.createElement(p.a,null)))},(c="render")in i?Object.defineProperty(i,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[c]=u,n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"unstable_handleError",value:function(e){u.b.error(e)}}])&&b(n.prototype,r),o&&b(n,o),t}(r.Component);E.defaultProps={withTallHeader:!0},E.propTypes={className:i.a.string,description:i.a.element,header:i.a.element,headerContentRight:i.a.any,title:i.a.string,titleClassName:i.a.string,withTallHeader:i.a.bool},t.a=E},jEQv:function(e,t,n){},jI2F:function(e,t,n){},jLiW:function(e,t,n){},jNk8:function(e,t,n){},jUYD:function(e,t,n){},jUYa:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("TSYQ"),u=n.n(s),l=n("LvDl"),d=n.n(l),f=n("4XMt"),p=n("hFGE");n("1CkY");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){return d.a.pick(e,Object.keys(v.componentProps))}var v=function(e){var t=e.controlComponent;if(!t)switch(e.type){case"checkbox":t=p.a;break;case"radio":t=p.d}return a.a.createElement(c.I,b({},y(e),{className:u()("input-selection-control-group",e.className),controlComponent:t,disabled:!e.enabled,"aria-label":e.ariaLabel}))};v.componentProps={className:i.a.string,onChange:i.a.func,style:i.a.object,label:i.a.string,labelClassName:i.a.string,controlComponent:i.a.oneOfType([i.a.string,i.a.func,i.a.object]),controls:i.a.arrayOf(i.a.shape({key:i.a.oneOfType([i.a.number,i.a.string]),label:i.a.node.isRequired,value:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]).isRequired})),defaultValue:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),type:i.a.oneOf(["checkbox","radio"]),value:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),id:i.a.string,name:i.a.string},v.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}({},v.componentProps,{enabled:i.a.bool,ariaLabel:i.a.string,tooltip:i.a.any}),v.defaultProps={enabled:!0},t.a=Object(f.c)(v)},jlV6:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n("lTCR"),a=n.n(r);function o(){var e=s(["\n    fragment FiveStarRating on ActivityResultStudentReviewFiveStarRating {\n        value\n    }\n"]);return o=function(){return e},e}function i(){var e=s(["\n    fragment FiveStarRatingAnonymous on ActivityStudentGroupReviewFiveStarRatingAnonymous {\n        value\n        comment\n    }\n"]);return i=function(){return e},e}function c(){var e=s(["\n    fragment FiveStarRatingWithUser on ActivityStudentGroupReviewFiveStarRatingWithUser {\n        value\n        user {\n            dbId\n            firstName\n            lastName\n        }\n        comment\n    }\n"]);return c=function(){return e},e}function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var u=a()(c()),l=a()(i()),d=a()(o())},jq4a:function(e,t,n){},jztT:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("8For"),s=n("LFYD"),u=n("TSYQ"),l=n.n(u);n("zgE9");var d=function(e){return a.a.createElement("div",{className:l()("quick-nav",e.className)},function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]),n!==e.length-1&&t.push(a.a.createElement(c.a,{key:"nav-sep-"+n,className:"quick-nav-separator"},s.a.RIGHT));return t}(e.navItems))};d.propTypes={className:i.a.string,navItems:i.a.array.isRequired},d.defaultProps={navItems:[]},t.a=d},"k+/p":function(e,t,n){e.exports={donutContainer:"b_efyYfCh7",donutTitle:"b_meb9lVy8",donutContents:"b_2GHisuH9",innerLabel:"b_9W9Eg2L8",primaryLabel:"b_idrGm8ZU",secondaryLabel:"b_2o0xu4Ro"}},"k/UH":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("4XMt"),s=n("xrVw"),u=n("TSYQ"),l=n.n(u),d=n("LvDl"),f=n.n(d);n("3JS6");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e){return a.a.createElement(s.L,m({},function(e){return f.a.pick(e,Object.keys(b.componentProps))}(e),{className:l()("input-switch",e.className),disabled:!e.enabled,"aria-label":e.ariaLabel}),e.children)};b.componentProps={className:i.a.string,checked:i.a.bool,id:i.a.string,label:i.a.string.isRequired,labelBefore:i.a.bool,name:i.a.string,onChange:i.a.func},b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},b.componentProps,{enabled:i.a.bool,ariaLabel:i.a.string,tooltip:i.a.any}),b.defaultProps={enabled:!0};var y=Object(c.c)(b);n.d(t,"a",(function(){return y}))},k5BF:function(e,t,n){e.exports={page:"b_cQ94Hd9I",pageContent:"b_8GUp77jS",contentBox:"b_vfrbGt4W",loadingOverlay:"b_osT4lvkF",messageContainer:"b_mZan2q2V",messages:"b_lXzVpRdn",messageLinkNotAssociated:"b_w0WsjbfM",messageLinkInfo:"b_2807M2bn",header:"b_57vkTemS",headerText:"b_xF2PPgZM",chooseContainer:"b_l0a6XXLT",chooseMessage:"b_qE0MPS1b",chooseModeButtonsPrimary:"b_1nTsxPBZ",chooseModeButtonsSecondary:"b_pNjLJiMT",courseNameInput:"b_ebZw3RPI",courseNameInputTooltip:"b_6745DWpy",templateCourseSelect:"b_haqdvQbj",copyCourseSelect:"b_A0y8qf3l",footer:"b_fzhpUrhS",footerMessages:"b_o7k6yC5v",footerActions:"b_l7nStajk",footerActionsCenter:"b_7eiDzv12"}},k709:function(e,t,n){},kE32:function(e,t,n){},kJHI:function(e,t,n){},kKdm:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={SINGLE:"single",SUMMARY:"summary"}},kNkO:function(e,t,n){e.exports=n.p+"static/config/build-info.json"},kbsL:function(e,t,n){"use strict";var r=n("qSfp"),a=n("5id7"),o=n("q1tI"),i=n.n(o),c=n("17x9"),s=n.n(c),u=n("TSYQ"),l=n.n(u),d=n("LvDl"),f=n.n(d),p=n("Uu12"),m=n("QMWu");function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=h(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==b(a)&&"function"!==typeof a?E(r):a,w(E(E(n)),"onClick",(function(){if(n.props.enabled&&n.props.onClick){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.props.onClick(t)}})),n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e,t=f.a.clone(this.props);return t.isToggle&&(t.checked||(t.primary=!1,t.secondary=!1)),i.a.createElement(r.b,y({},Object(p.j)(t),(e=t,f.a.pick(e,Object.keys(O.componentProps))),{className:l()(t.className),onClick:this.onClick,floating:!0}),t.isLoading?i.a.createElement(m.a,{id:"button-flat-progress",className:"button-flat-progress"}):t.children)}}])&&v(n.prototype,a),o&&v(n,o),t}(o.Component);O.componentProps=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({},r.b.propTypes),O.propTypes={checked:s.a.bool,isLoading:s.a.bool,isToggle:s.a.bool,mini:s.a.bool},O.defaultProps={checked:!1,enabled:!0,isLoading:!1,isToggle:!1,mini:!1};var S=O;function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=function(e){return i.a.createElement(r.b,_({},Object(p.j)(e),function(e){return f.a.pick(e,Object.keys(I.componentProps))}(e),{className:e.className,outlined:!0}),e.children)};I.componentProps=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}({},r.b.propTypes),I.propTypes={className:s.a.string,children:s.a.node},I.defaultProps={};var T=I,R=n("ST1l"),P=n("Onr9"),A=n("xWUU");n("mFy2");function N(e){return(N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=D(t).call(this,e),n=!a||"object"!==N(a)&&"function"!==typeof a?M(r):a,x(M(M(n)),"toggleDialog",(function(){n.setState({visible:!n.state.visible},(function(){n.dialog=document.getElementById(n.props.id+"-dialog")}))})),x(M(M(n)),"handleOutsideClick",(function(e){n.setState({visible:n.button.contains(e.target)||n.dialog.contains(e.target)})})),n.state={visible:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.button=document.getElementById(this.props.id)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.visible;n!==t.visible&&window["".concat(n?"add":"remove","EventListener")]("click",this.handleOutsideClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleOutsideClick)}},{key:"render",value:function(){var e=this.state.visible,t=this.props,n=t.className,r=t.dialogContent,a=t.dialogClassName,o=t.dialogTitle,c=t.enabled,s=t.tooltip;return i.a.createElement("span",null,i.a.createElement(P.a,j({},Object(p.j)(this.props),{id:this.props.id,key:this.props.id,ariaLabel:this.props.ariaLabel,className:l()("button-icon-notification-toggle",n),enabled:c,onClick:this.toggleDialog,tooltip:s}),this.props.children),i.a.createElement(A.a,{id:this.props.id+"-dialog",visible:e,dialogContent:r,className:l()("notification-dialog",a),title:o}))}}])&&k(n.prototype,r),a&&k(n,a),t}(o.Component);F.propTypes={ariaLabel:s.a.string,id:s.a.string.isRequired,className:s.a.string,dialogContent:s.a.any.isRequired,dialogClassName:s.a.string,dialogTitle:s.a.string,enabled:s.a.bool,tooltip:s.a.any},F.defaultProps={enabled:!0};var U=F,V=n("xrVw");function G(e){return(G="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return!t||"object"!==G(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),W(this,Q(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return i.a.createElement(V.B,q({},Object(p.j)(this.props),(e=this.props,f.a.pick(e,Object.keys(z.componentProps))),{className:Object(r.c)(this.props,"button-menu"),inkContainerClassName:l()(r.a.INK_OVERLAY,this.props.inkContainerClassName),"aria-label":this.props.ariaLabel,disabled:!this.props.enabled}),this.props.children);var e}}])&&B(n.prototype,a),o&&B(n,o),t}(o.Component);H(z,"HorizontalAnchors",V.B.HorizontalAnchors),H(z,"VerticalAnchors",V.B.VerticalAnchors),z.componentProps={anchor:s.a.any,className:s.a.string,icon:s.a.bool,iconBefore:s.a.bool,flat:s.a.bool,floating:s.a.bool,iconChildren:s.a.string,id:s.a.string.isRequired,inkContainerClassName:s.a.string,listHeightRestricted:s.a.bool,menuItems:s.a.array.isRequired,onClick:s.a.func,primary:s.a.bool,raised:s.a.bool,secondary:s.a.bool,simplifiedMenu:s.a.bool},z.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){H(e,t,n[t])}))}return e}({},z.componentProps,{ariaLabel:s.a.string,enabled:s.a.bool}),z.defaultProps={enabled:!0,icon:!0,iconBefore:!0,listHeightRestricted:!1,simplifiedMenu:!1,anchor:{x:V.B.HorizontalAnchors.INNER_RIGHT,y:V.B.VerticalAnchors.OVERLAP}};var K=z,X=n("PrLO"),J=n("g3iL");n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return P.a})),n.d(t,"e",(function(){return U})),n.d(t,"f",(function(){return K})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return R.a})),n.d(t,"i",(function(){return X.a})),n.d(t,"j",(function(){return J.a}))},kdSA:function(e,t,n){e.exports={idealChartAreaColor:"rgba(110,172,82,0.5)",lineColor:"#2679c7","auto-analysis-dialog":"b_ePeTp7gR","auto-analysis-dialog-content-loading":"b_g5addnJJ","auto-analysis-dialog-content-waiting":"b_763Jm6RN","auto-analysis-dialog-content-waiting-left":"b_eIxrwGqD","auto-analysis-dialog-content-waiting-right":"b_3ZT3HuaO","auto-analysis-dialog-content-waiting-spinner":"b_9HSAEITD","auto-analysis-dialog-content-waiting-title":"b_1MTrBrQA","auto-analysis-dialog-content-waiting-details":"b_8zeg56zT","auto-analysis-dialog-content-error":"b_AfigukGm","auto-analysis-dialog-content-report":"b_kuK6yVKs","closeable-dialog--full":"b_xbqOhccB",container:"b_45PorGOY",chartHeader:"b_8XoOXpOn",chartHeaderText:"b_kkjkjeEW",chartBody:"b_nZjHWhz2",minimumLengthContainer:"b_8gOjJOQ9",minimumLengthIconContainer:"b_6gR80XOx",minimumLengthIconChart:"b_wuGpIkGa",minimumLengthMessage:"b_5rS3uMdg"}},kgSG:function(e,t,n){e.exports={userGroupContainer:"b_7ihrog4W",groupLabel:"b_6G06WHQG",groupGradeContainer:"b_cH7iPR1Y",smallUserName:"b_jLhJgBC7",largeUserName:"b_3QZtUs48"}},khwW:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("55Ip"),s=n("kbsL"),u=n("LFYD"),l=n("TSYQ"),d=n.n(l);n("zgE9");function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=new Array(i),d=0;d<i;d++)l[d]=arguments[d];return r=this,o=(e=m(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==f(o)&&"function"!==typeof o?y(r):o,v(y(y(n)),"getRouteLinkItem",(function(){var e=n.props,t=e.text,r=e.to;return r?a.a.createElement(c.b,{to:r},t):a.a.createElement("span",null,t)})),v(y(y(n)),"getMenuButton",(function(){var e=n.props,t=e.text,r=e.menuItems;return a.a.createElement("span",{className:"menu-button-container"},a.a.createElement("span",null,t),a.a.createElement(s.f,{id:"quick-nav-menu-button",className:"quick-nav-menu-button",menuItems:r,anchor:{x:s.f.HorizontalAnchors.INNER_RIGHT,y:s.f.VerticalAnchors.BOTTOM}},u.a.ARROW_DOWN))})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.menuItems,t=e&&e.length>0,n=d()("quick-nav-item",this.props.className);return t||(n=d()(n,this.props.to?"with-link":"plain-text")),a.a.createElement("div",{className:n},t?this.getMenuButton():this.getRouteLinkItem())}}])&&p(n.prototype,r),o&&p(n,o),t}(r.Component);h.propTypes={className:i.a.string,menuItems:i.a.array,text:i.a.string.isRequired,to:i.a.any},h.defaultProps={route:null,menuItems:[]},t.a=h},kwFD:function(e,t,n){},"l+NT":function(e,t,n){e.exports=n.p+"static/media/Google_Chrome_icon.d320793b.svg"},"l+gj":function(e,t,n){},l44G:function(e,t,n){e.exports={page:"b_cyoV6bP4",pageContent:"b_7uJvhME5",contentBox:"b_aGyloWkf",loadingOverlay:"b_7K2W4I48",header:"b_pEcW8Oun",headerText:"b_cWJ9UGS5",subHeaderText:"b_1lIvGqTM",button:"b_33aSvlNc"}},lBBP:function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"u",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"r",(function(){return y})),n.d(t,"v",(function(){return v})),n.d(t,"o",(function(){return h})),n.d(t,"l",(function(){return g})),n.d(t,"m",(function(){return E})),n.d(t,"n",(function(){return w})),n.d(t,"s",(function(){return O})),n.d(t,"q",(function(){return S})),n.d(t,"t",(function(){return C}));var r="[Auth] Set user data",a="[Auth] Set has error",o="[Auth] Set is loading",i="[Auth] Set preset comments",c="[Auth] Set comment preset is loading",s="[Auth] Add comment preset",u="[Auth] Delete comment preset",l="[Auth] Edit comment preset",d="[Auth] Set isMarketingCommunicationAccepted",f="[Auth] Set is508on",p="[Auth] Set timezone";function m(e){return{type:r,payload:e}}function b(e){return{type:a,payload:e}}function y(e){return{type:o,payload:e}}function v(e){return{type:i,payload:e}}function h(e){return{type:c,payload:e}}function g(e){return{type:s,payload:e}}function E(e){return{type:u,payload:e}}function w(e){return{type:l,payload:e}}function O(e){return{type:d,payload:e}}function S(e){return{type:f,payload:e}}function C(e){return{type:p,payload:e}}},lDEH:function(e,t,n){},lTx3:function(e,t,n){e.exports={userListContainer:"b_jUi0Ion3",compact:"b_zf47Qsxn",userListHeader:"b_wZHbAaeg",userListHeaderTitle:"b_yLtv7CI0",userListHeaderActions:"b_mrcMIZhc",small:"b_biatjbII",userCountMessage:"b_1ucU0dnL",large:"b_b1QY26eH",expandButton:"b_2a0VQwZh",userList:"b_3ZyarQ18",userItemContainer:"b_5XqJDdax",statusFilterCollapsed:"b_sT9ouFg9"}},lXiE:function(e,t,n){},la5r:function(e,t,n){},"lb/n":function(e,t,n){e.exports={"grade-container":"b_qKd8k1Yz","grade-different-scores-message":"b_b9DjLIZz","grade-card-buttons":"b_zyBgld07"}},leQN:function(e,t,n){},"ll/r":function(e,t,n){},lojD:function(e,t,n){},"lt1+":function(e,t,n){},lwGG:function(e,t,n){e.exports={searchInput:"b_q9zY63QR",searchInputLeftIcon:"b_aMRZAWni",hasValue:"b_onh5B0od",clearButton:"b_zt8HGEx5"}},m14I:function(e,t,n){e.exports={dialog:"b_m1xCvbjr"}},"m3+W":function(e,t,n){},mFy2:function(e,t,n){},mGax:function(e,t,n){},mLCR:function(e,t,n){var r={"./ar":["jnO4",0],"./ar.js":["jnO4",0],"./de":["tGlX",0],"./de.js":["tGlX",0],"./es":["iYuL",0],"./es.js":["iYuL",0],"./fr":["nyYc",0],"./fr-ca":["2fjn",0],"./fr-ca.js":["2fjn",0],"./fr.js":["nyYc",0],"./nl":["+s0g",0],"./nl.js":["+s0g",0],"./pt-br":["0tRk",0],"./pt-br.js":["0tRk",0]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,7)}))}a.keys=function(){return Object.keys(r)},a.id="mLCR",e.exports=a},mTCQ:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("TSYQ"),s=n.n(c),u=(n("0l2v"),function(e){return a.a.createElement("main",{className:s()("container",e.className)},e.children)});u.propTypes={className:i.a.string},t.a=u},mWtQ:function(e,t,n){},mqCC:function(e,t,n){var r={"./ar":["P55f",1],"./ar.js":["P55f",1],"./de":["2Eew",1],"./de.js":["2Eew",1],"./en":["x3V9",1],"./en.js":["x3V9",1],"./es":["ReGA",1],"./es.js":["ReGA",1],"./fr":["X5w2",1],"./fr.js":["X5w2",1],"./nl":["1Ehj",1],"./nl.js":["1Ehj",1],"./pt-BR":["5vXV",1],"./pt-BR.js":["5vXV",1]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,7)}))}a.keys=function(){return Object.keys(r)},a.id="mqCC",e.exports=a},mtWD:function(e,t,n){},mxsA:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return h}));var r=n("lTCR"),a=n.n(r),o=n("LvDl"),i=n.n(o),c=n("N90w");function s(){var e=p(["\n  fragment CurrentUser on CurrentUser {\n    dbId\n    externalTrackingUuid\n    firstName\n    lastName\n    locale\n    ltiLocale\n    is508on\n    isNameSet\n    showTermsAndConditions\n    institution {\n      externalTrackingUuid\n      name\n      integrationType\n      locale\n      featureToggles {\n        ","\n      }\n      trialExpireAt\n    }\n    roles\n    isMarketingCommunicationAccepted\n    isGdprSubject\n    cengageSettings {\n      ssoToken\n    }\n    timezone\n  }\n"]);return s=function(){return e},e}function u(){var e=p(["\n  fragment AnonymousUser on AnonymousUser {\n    dbId\n  }\n"]);return u=function(){return e},e}function l(){var e=p(["\n  fragment GeneralUser on User {\n    dbId\n    firstName\n    lastName\n    roles\n  }\n"]);return l=function(){return e},e}function d(){var e=p(["\n  fragment EducatorUser on User {\n    dbId\n    firstName\n    lastName\n  }\n"]);return d=function(){return e},e}function f(){var e=p(["\n  fragment StudentUser on User {\n    dbId\n    firstName\n    lastName\n  }\n"]);return f=function(){return e},e}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=a()(f()),b=a()(d()),y=a()(l()),v=a()(u()),h=a()(s(),i.a.values(c.b).join("\r\n"))},"n0/K":function(e,t,n){},n9mc:function(e,t,n){e.exports={leftIcon:"b_abL8p35J",active:"b_l9zRRxWT"}},nOAq:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("TSYQ"),s=n.n(c),u=(n("0l2v"),function(e){return a.a.createElement("div",{className:s()("content",e.className)},e.children)});u.propTypes={className:i.a.string},t.a=u},na1x:function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var a="oaocieklgnankpgmdbbepdkjpfheohgi",o={EXTENSION_LOADED:"rtcmulticonnection-extension-loaded",ERROR:"PermissionDeniedError",ARE_YOU_THERE:"are-you-there",GET_SOURCE_ID:"get-sourceId"},i={INSTALLED:"installed",NOT_INSTALLED:"not installed",INSTALLED_DISABLED:"installed disabled"},c=function(){};function s(e){return u.apply(this,arguments)}function u(){var e;return e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.mozGetUserMedia){e.next=4;break}return e.next=3,t(null,"firefox",{video:{mozMediaSource:"window",mediaSource:"window"}});case 3:return e.abrupt("return",e.sent);case 4:return c=t,e.prev=5,e.next=8,l();case 8:window.addEventListener("message",d),n={command:o.GET_SOURCE_ID,requestURL:window.location.href},window.postMessage(n,window.location.origin),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,c(e.t0);case 17:case"end":return e.stop()}}),e,this,[[5,13]])})),(u=function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)}))}).apply(this,arguments)}var l=function(){return new Promise((function(e,t){var n=document.createElement("img");n.src="chrome-extension://".concat(a,"/icon.png"),n.onload=function(){var n=null;window.addEventListener("message",(function t(r){r.data===o.EXTENSION_LOADED&&(window.removeEventListener("message",t),n&&clearTimeout(n),e())})),setTimeout((function(){t(i.INSTALLED_DISABLED)}),2e3),window.postMessage(o.ARE_YOU_THERE,window.location.origin)},n.onerror=function(){t(i.NOT_INSTALLED)}}))};function d(e){if(e.data&&(e.data===o.ERROR&&c(e.data,null,null),e.data.sourceId)){var t=function(e){var t={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width>1920?window.screen.width:1920,maxHeight:window.screen.height>1080?window.screen.height:1080},optional:[]}};e&&(t.video.mandatory.chromeMediaSourceId=e);return t}(e.data.sourceId);c(null,e.data.sourceId,t)}}},nbG6:function(e,t,n){"use strict";var r=n("VQZn"),a=n("q1tI"),o=n.n(a),i=n("17x9"),c=n.n(i),s=n("xrVw"),u=n("TSYQ"),l=n.n(u),d=n("LvDl"),f=n.n(d);n("Luur");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e){return o.a.createElement(s.e,m({},function(e){return f.a.pick(e,Object.keys(b.componentProps))}(e),{className:l()("card-actions",e.className)}),e.children)};b.componentProps={className:c.a.string,expander:c.a.bool},b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},b.componentProps),b.defaultProps={expander:!1};var y=b;function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=function(e){return o.a.createElement(s.f,h({},function(e){return f.a.pick(e,Object.keys(g.componentProps))}(e),{className:l()("op-card-body",e.className)}),e.children)};g.componentProps={className:c.a.string,expandable:c.a.bool},g.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}({},g.componentProps),g.defaultProps={expandable:!1};var E=g;function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){return o.a.createElement("div",{className:l()("md-card-title md-card-title--primary card-title",e.className)},o.a.createElement("div",{className:"card-title-left-content"},e.title&&o.a.createElement("div",{className:"card-title-left-content-text"},o.a.createElement("h2",{className:"md-card-title--title md-card-title--large md-text card-header"},e.title)),e.children&&o.a.createElement("div",{className:"card-title-left-content-children"},e.children)),o.a.createElement("div",{className:"card-title-right-content"},e.actions&&o.a.createElement("div",{className:"card-title-actions"},e.actions)))};O.componentProps={className:c.a.string,expander:c.a.bool,title:c.a.string.isRequired},O.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({},O.componentProps,{actions:c.a.oneOfType([c.a.array,c.a.element])}),O.defaultProps={expander:!1};var S=O;n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return S}))},nseW:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"j",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"l",(function(){return y}));var a=":activityId",o=":classId",i=":studentId",c={STUDENT_ACTIVITY:"/student/activity/".concat(a),STUDENT_ACTIVITY_LIST:"/student/class/".concat(o,"/activity-list"),STUDENT_MEETINGS_LIST:"/student/class/".concat(o,"/meetings"),ONEDRIVE_PROXY:"/onedrive-proxy",EDUCATOR_LIBRARY:"/educator/class/".concat(o,"/library"),EDUCATOR_ACTIVITY_GRADING:"/educator/activity/".concat(a,"/student/").concat(i,"/grade"),EDUCATOR_ACTIVITY_STUDENT_PROGRESS:"/educator/activity/".concat(a,"/student/").concat(i,"/progress"),EDUCATOR_ACTIVITY_SETTINGS:"/educator/activity/".concat(a,"/settings"),EDUCATOR_ACTIVITY_GROUP_FORMATION:"/educator/activity/".concat(a,"/groups"),EDUCATOR_GRADEBOOK:"/educator/activity/".concat(a,"/gradebook"),EDUCATOR_ACTIVITY_LIST:"/educator/class/".concat(o,"/activity-list"),EDUCATOR_RUBRICS_LIST:"/educator/class/".concat(o,"/rubrics"),EDUCATOR_RUBRIC_CREATE:"/educator/class/".concat(o,"/rubric/create"),EDUCATOR_RUBRIC_EDIT:"/educator/class/".concat(o,"/rubric/").concat(":rubricId","/edit"),EDUCATOR_RUBRIC_COPY:"/educator/class/".concat(o,"/rubric/").concat(":rubricId","/copy"),EDUCATOR_RUBRIC_IMPORT:"/educator/class/".concat(o,"/rubric/import"),EDUCATOR_MEETINGS:"/educator/class/".concat(o,"/meetings"),STANDALONE_DOUBLE_PLAYER:"/standalone-double-player",STUDENT_STANDALONE_RECORDER:"/student/standalone-recorder",EDUCATOR_STANDALONE_RECORDER:"/educator/standalone-recorder",GROUP_FORMATION_NOT_IN_GROUP:"/student/activity/".concat(a,"/not-in-group")},s="/(educator|student)/class/".concat(o),u="/educator/class/".concat(o),l="/student/class/".concat(o),d={STUDENT_RESOURCE_ERROR:"/student/class/".concat(o,"/resource-error"),STUDENT_ACTIVITY:"/student/class/".concat(o,"/assignments/").concat(a),STANDALONE_QA_RECORDER:"/student/class/".concat(o,"/assignments/").concat(a,"/standalone-recorder"),STUDENT_ACTIVITY_LIST:"/student/class/".concat(o,"/assignments"),GROUP_FORMATION_NOT_IN_GROUP:"/student/class/".concat(o,"/assignments/").concat(a,"/not-in-group"),GROUP_FORMATION_SYSTEM:"/student/class/".concat(o,"/assignment/").concat(a,"/system-form-groups"),STUDENT_MEETINGS_LIST:"/student/class/".concat(o,"/meetings"),STUDENT_NOTIFICATIONS:"/student/class/".concat(o,"/notifications"),STUDENT_HELP:"/student/class/".concat(o,"/help"),STUDENT_SETTINGS:"/student/class/".concat(o,"/settings"),STUDENT_MEETING_PREVIEW:"/student/class/".concat(o,"/meeting-preview/").concat(":meetingId","/"),STUDENT_TRIAL:"/student/class/".concat(o,"/trial"),STUDENT_COURSE_BASE:"/student/course",STUDENT_COURSE:"/student/course/".concat(o),STUDENT_COURSE_MEETING_BASE:"/student/course/".concat(o,"/meeting"),STUDENT_COURSE_MEETING:"/student/course/".concat(o,"/meeting/").concat(":meetingId"),STUDENT_COURSE_ACTIVITY_BASE:"/student/course/".concat(o,"/activity"),STUDENT_COURSE_ACTIVITY:"/student/course/".concat(o,"/activity/").concat(a),STUDENT_COURSE_ACTIVITY_MEETING_BASE:"/student/course/".concat(o,"/activity/").concat(a,"/meeting"),STUDENT_COURSE_ACTIVITY_MEETING:"/student/course/".concat(o,"/activity/").concat(a,"/meeting/").concat(":meetingId")},f={EDUCATOR_ACTIVITY:"/educator/class/".concat(o,"/activity"),EDUCATOR_ACTIVITY_CREATE:"/educator/class/".concat(o,"/assignments/create/").concat(":activityType"),EDUCATOR_CREATE_GROUP_ACTIVITY:"/educator/class/".concat(o,"/assignments/create/group"),EDUCATOR_CREATE_INDIVIDUAL_ACTIVITY:"/educator/class/".concat(o,"/assignments/create/individual"),EDUCATOR_CREATE_QA_ACTIVITY:"/educator/class/".concat(o,"/assignments/create/q-and-a"),EDUCATOR_CREATE_INTERACTIVE_VIDEO_ACTIVITY:"/educator/class/".concat(o,"/assignments/create/interactive-video"),EDUCATOR_LIBRARY:"/educator/class/".concat(o,"/library"),EDUCATOR_ACTIVITY_SETTINGS:"/educator/class/".concat(o,"/assignments/").concat(a,"/settings"),EDUCATOR_ACTIVITY_GROUP_FORMATION:"/educator/class/".concat(o,"/assignments/").concat(a,"/groups"),EDUCATOR_GRADEBOOK:"/educator/class/".concat(o,"/assignments/").concat(a,"/grade/book"),EDUCATOR_ACTIVITY_LIST:"/educator/class/".concat(o,"/assignments"),EDUCATOR_RUBRICS_LIST:"/educator/class/".concat(o,"/rubrics"),EDUCATOR_RUBRIC_CREATE:"/educator/class/".concat(o,"/rubrics/create"),EDUCATOR_RUBRIC_EDIT:"/educator/class/".concat(o,"/rubrics/").concat(":rubricId","/edit"),EDUCATOR_RUBRIC_COPY:"/educator/class/".concat(o,"/rubrics/").concat(":rubricId","/copy"),EDUCATOR_RUBRIC_IMPORT:"/educator/class/".concat(o,"/rubrics/import"),EDUCATOR_MEETINGS:"/educator/class/".concat(o,"/meetings"),EDUCATOR_NOTIFICATIONS:"/educator/class/".concat(o,"/notifications"),EDUCATOR_HELP:"/educator/class/".concat(o,"/help"),EDUCATOR_MEETING_PREVIEW:"/educator/class/".concat(o,"/meeting-preview/").concat(":meetingId","/"),EDUCATOR_SETTINGS:"/educator/class/".concat(o,"/settings"),EDUCATOR_TEMPLATE_SETTINGS:"/educator/class/".concat(o,"/template-settings"),EDUCATOR_TRIAL:"/educator/class/".concat(o,"/trial"),EDUCATOR_ACTIVITY_OVERVIEW:"/educator/class/".concat(o,"/activity/").concat(a),EDUCATOR_ACTIVITY_STUDENT_DETAILS:"/educator/class/".concat(o,"/activity/").concat(a,"/learner/").concat(i),EDUCATOR_COURSE_BASE:"/educator/course",EDUCATOR_COURSE_CREATE:"/educator/course/create",EDUCATOR_COURSE:"/educator/course/".concat(o),EDUCATOR_COURSE_CONTENT_BASE:"/educator/course/".concat(o,"/content"),EDUCATOR_COURSE_CONTENT_CREATE:"/educator/course/".concat(o,"/content/create"),EDUCATOR_COURSE_CONTENT_ACTIVITY_CREATE:"/educator/course/".concat(o,"/content/activity/create"),EDUCATOR_COURSE_MEETING_BASE:"/educator/course/".concat(o,"/meeting"),EDUCATOR_COURSE_MEETING:"/educator/course/".concat(o,"/meeting/").concat(":meetingId")},p={ANON_BASE:"/anon",ANON_COURSE_BASE:"/anon/course",ANON_COURSE:"/anon/course/".concat(o),ANON_COURSE_MEETING_BASE:"/anon/course/".concat(o,"/meeting"),ANON_COURSE_MEETING:"/anon/course/".concat(o,"/meeting/").concat(":meetingId")},m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({LAUNCH:"/launch",EDUCATOR_LAUNCH:"/educator/launch",STUDENT_LAUNCH:"/student/launch",ERROR:"/error/:errorCode?"},f,d,p,{ONEDRIVE_PROXY:"/onedrive-proxy",EXTERNAL_PLAYER:"/external-player/".concat(":mediaId","/").concat(":signature"),STANDALONE_DOUBLE_PLAYER:"/standalone-double-player",STUDENT_STANDALONE_RECORDER:"/student/standalone-recorder",EDUCATOR_STANDALONE_RECORDER:"/educator/standalone-recorder"}),b={EDUCATOR_ACTIVITY_EDIT:"/educator/activity/".concat(a,"/edit"),STUDENT_INCLASS_ACTIVITY:"/student/activity/".concat(a,"/inclassroom"),GRADEBOOK:" /educator/activity/".concat(a,"/gradebook")},y=[m.LAUNCH,m.EDUCATOR_LAUNCH,m.STUDENT_LAUNCH,m.ERROR,m.ONEDRIVE_PROXY,m.EXTERNAL_PLAYER,m.EXTERNAL_PLAYER+"/styled",p.ANON_BASE]},nu8V:function(e,t,n){e.exports={form:"b_mwEtwtcH",inputs:"b_3lHO4LkP"}},nuPF:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t.identifier)return e[n].path;return null}function a(e,t){var n=[];if(e&&e.state&&(n=e.state.quickNavItems),n){for(var r=null,a=0;a<n.length;a++)if(n[a].context&&n[a].context.identifier===t.identifier){r=a;break}null!==r&&(n=n.slice(0,r))}return n}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))},o41Y:function(e,t,n){"use strict";var r=n("BA0I"),a="Toolwire",o="TW-",i=n("LvDl"),c=n.n(i);n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"h",(function(){return v}));var s=function(e){return!(!e||!e.integrationType)&&c.a.includes(e.integrationType,r.b.D2L_PREMIUM)},u=function(e){return!(!e||!e.integrationType)&&c.a.includes(e.integrationType,r.b.D2L_FREEMIUM)},l=function(e){return c.a.get(e,"featureToggles.isLegacyFreemium",!1)},d=function(e){return u(e)||s(e)},f=function(e){return d(e)&&function(e){return!(!e||!e.integrationType)&&c.a.includes(e.integrationType,r.b.KAPLAN)}(e)},p=function(e){return!(!e||!e.integrationType)&&(e&&c.a.includes(e.integrationType,r.b.TOP_HAT))},m=function(e,t){return p(e)&&t&&"TYPE__TOP_HAT_PREMIUM"!==t.integrationMode},b=function(e){return!(!e||!e.integrationType)&&(e&&c.a.includes(e.integrationType,r.b.STANDARD))},y=function(e){return e&&c.a.includes(e.integrationType,r.b.CENGAGE)},v=function(e){return e&&(e.name===a||c.a.startsWith(e.name,o))}},oA72:function(e,t,n){e.exports={container:"b_7pRvEcD5",itemSeparator:"b_llakUrbW",workItemsContainer:"b_hdr7lKwC",title:"b_tYKZKpcv",detailsContainer:"b_s7VxaB9v",details:"b_6uI36tOc",totalLabel:"b_uBeTkeVz",workItem:"b_kBAFAQ6O",workItemIcon:"b_kroE1xOh",workItemCount:"b_fAV1N4hI",zeroCount:"b_z4e3cssL","submission-summary--item-count":"b_cSvLzyqp",tooltip:"b_gYfBg4yq",column:"b_fssv12T2",header:"b_h7em5qD0",content:"b_qsVEjE7j"}},oRYB:function(e,t,n){},"oUO/":function(e,t,n){},oe1p:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("Ty5D"),s=n("giI2"),u=n("iGlQ"),l=n("TSYQ"),d=n.n(l),f=n("nuPF"),p=n("vRGJ"),m=n.n(p);function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=v(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==b(a)&&"function"!==typeof a?g(r):a,E(g(g(n)),"clickHandler",(function(e){var t=n.props,r=t.history,a=t.match;if(e.route){var o=m.a.compile(e.route)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}({},a.params));r.push(o)}else e.link&&(window.location=e.link)})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,this.props.displayedNavigationItems.map((function(t){var n={route:null,link:null};if(t.route)n.route=t.route;else{var r=Object(f.a)(e.props.navigationItems,t);if(!r)return null;n.link=r}return a.a.createElement(u.c,{key:t.identifier,enabled:t.enabled,tooltip:{label:t.tooltipLabel,position:t.tooltipPosition},className:d()("external-nav-list",e.props.className),leftIcon:a.a.createElement(s.a,{iconClassName:t.iconClassName},t.icon),onClick:function(){return e.clickHandler(n)},primaryText:t.label,ariaLabel:t.ariaLabel})})))}}])&&y(n.prototype,r),o&&y(n,o),t}(r.Component);w.propTypes={displayedNavigationItems:i.a.array.isRequired,navigationItems:i.a.array.isRequired,className:i.a.string},w.defaultProps={navigationItems:[]};var O=Object(c.k)(w),S=n("jztT"),C=n("khwW"),_=n("bFdo");n("G57k");n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return _.b})),n.d(t,"b",(function(){return _.a})),n.d(t,"d",(function(){return S.a})),n.d(t,"e",(function(){return C.a}))},ok3h:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("puQj"),a=n.n(r),o=n("2Gxn");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isRecorderSupported",value:function(){return e.isAudioAnalyzeSupported()&&(e.isStreamRecordingSupported()||e.isWebRtcSupported())}},{key:"isAudioAnalyzeSupported",value:function(){return!(!window.AudioContext&&!window.webkitAudioContext)}},{key:"isStreamRecordingSupported",value:function(){return!o.b()&&!!window.MediaRecorder}},{key:"isWebRtcSupported",value:function(){return e.isWebRtcCapableIosSafari()}},{key:"isGetDisplayMediaSupported",value:function(){return Boolean(navigator.getDisplayMedia||navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)}},{key:"isScreenCapturingSupported",value:function(){return!!e.isStreamRecordingSupported()&&!o.f()&&e.isGetDisplayMediaSupported()}},{key:"isWebRtcCapableIosSafari",value:function(){return a.a&&a.a.safari&&+a.a.version>=e.SAFARI_VERSION_WITH_WEBRTC&&o.b()}},{key:"isChromeVersionRequiringPermissions",value:function(){return a.a&&a.a.chrome&&+a.a.version>=e.CHROME_VERSION_REQUIRING_IFRAME_PERMISSIONS}},{key:"isPermissionBasedError",value:function(t){return!!t&&e.MEDIA_REQUEST_PERMISSIONS_ERROR_NAMES.includes(t.name)}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}();c(s,"SAFARI_VERSION_WITH_WEBRTC",11),c(s,"CHROME_VERSION_REQUIRING_IFRAME_PERMISSIONS",64),c(s,"MEDIA_REQUEST_PERMISSIONS_ERROR_NAMES",["NotAllowedError"])},ouSu:function(e,t,n){e.exports={container:"b_j57O0iSb",detailsItem:"b_r91ph5V7",totalLabel:"b_pHwxlUnO"}},p7mv:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}));var r="[Nav] Navigation is loading",a="[Nav] Set navigation items";function o(e){return{type:r,payload:e}}function i(e){return{type:a,payload:e}}},pElA:function(e,t,n){"use strict";n.d(t,"S",(function(){return r})),n.d(t,"bb",(function(){return a})),n.d(t,"U",(function(){return o})),n.d(t,"jb",(function(){return i})),n.d(t,"db",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"E",(function(){return u})),n.d(t,"u",(function(){return l})),n.d(t,"cb",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"D",(function(){return p})),n.d(t,"t",(function(){return m})),n.d(t,"s",(function(){return b})),n.d(t,"hb",(function(){return y})),n.d(t,"ib",(function(){return v})),n.d(t,"Q",(function(){return h})),n.d(t,"A",(function(){return g})),n.d(t,"k",(function(){return E})),n.d(t,"y",(function(){return w})),n.d(t,"O",(function(){return O})),n.d(t,"R",(function(){return S})),n.d(t,"B",(function(){return C})),n.d(t,"z",(function(){return _})),n.d(t,"P",(function(){return I})),n.d(t,"j",(function(){return T})),n.d(t,"F",(function(){return R})),n.d(t,"b",(function(){return P})),n.d(t,"r",(function(){return A})),n.d(t,"X",(function(){return N})),n.d(t,"W",(function(){return j})),n.d(t,"n",(function(){return k})),n.d(t,"x",(function(){return D})),n.d(t,"kb",(function(){return L})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return x})),n.d(t,"c",(function(){return F})),n.d(t,"N",(function(){return U})),n.d(t,"K",(function(){return V})),n.d(t,"l",(function(){return G})),n.d(t,"w",(function(){return q})),n.d(t,"G",(function(){return B})),n.d(t,"g",(function(){return W})),n.d(t,"o",(function(){return Q})),n.d(t,"lb",(function(){return Y})),n.d(t,"H",(function(){return H})),n.d(t,"a",(function(){return z})),n.d(t,"q",(function(){return K})),n.d(t,"C",(function(){return X})),n.d(t,"M",(function(){return J})),n.d(t,"m",(function(){return Z})),n.d(t,"p",(function(){return $})),n.d(t,"v",(function(){return ee})),n.d(t,"mb",(function(){return te})),n.d(t,"gb",(function(){return ne})),n.d(t,"L",(function(){return re})),n.d(t,"eb",(function(){return ae})),n.d(t,"T",(function(){return oe})),n.d(t,"Z",(function(){return ie})),n.d(t,"Y",(function(){return ce})),n.d(t,"J",(function(){return se})),n.d(t,"I",(function(){return ue})),n.d(t,"f",(function(){return le})),n.d(t,"ab",(function(){return de})),n.d(t,"fb",(function(){return fe})),n.d(t,"V",(function(){return pe})),n.d(t,"nb",(function(){return me})),n.d(t,"ob",(function(){return be})),n.d(t,"Vb",(function(){return ye})),n.d(t,"Tb",(function(){return ve})),n.d(t,"fc",(function(){return he})),n.d(t,"hc",(function(){return ge})),n.d(t,"xb",(function(){return Ee})),n.d(t,"Pb",(function(){return we})),n.d(t,"Hb",(function(){return Oe})),n.d(t,"wb",(function(){return Se})),n.d(t,"Ob",(function(){return Ce})),n.d(t,"Gb",(function(){return _e})),n.d(t,"gc",(function(){return Ie})),n.d(t,"nc",(function(){return Te})),n.d(t,"oc",(function(){return Re})),n.d(t,"zb",(function(){return Pe})),n.d(t,"Lb",(function(){return Ae})),n.d(t,"Mb",(function(){return Ne})),n.d(t,"yb",(function(){return je})),n.d(t,"Qb",(function(){return ke})),n.d(t,"qb",(function(){return De})),n.d(t,"Eb",(function(){return Le})),n.d(t,"ac",(function(){return Me})),n.d(t,"Fb",(function(){return xe})),n.d(t,"Kb",(function(){return Fe})),n.d(t,"pc",(function(){return Ue})),n.d(t,"rb",(function(){return Ve})),n.d(t,"sb",(function(){return Ge})),n.d(t,"mc",(function(){return qe})),n.d(t,"ic",(function(){return Be})),n.d(t,"Jb",(function(){return We})),n.d(t,"Rb",(function(){return Qe})),n.d(t,"qc",(function(){return Ye})),n.d(t,"Bb",(function(){return He})),n.d(t,"vb",(function(){return ze})),n.d(t,"rc",(function(){return Ke})),n.d(t,"tb",(function(){return Xe})),n.d(t,"Zb",(function(){return Je})),n.d(t,"Ib",(function(){return Ze})),n.d(t,"pb",(function(){return $e})),n.d(t,"Db",(function(){return et})),n.d(t,"Nb",(function(){return tt})),n.d(t,"Ub",(function(){return nt})),n.d(t,"Ab",(function(){return rt})),n.d(t,"Cb",(function(){return at})),n.d(t,"Xb",(function(){return ot})),n.d(t,"lc",(function(){return it})),n.d(t,"jc",(function(){return ct})),n.d(t,"Wb",(function(){return st})),n.d(t,"cc",(function(){return ut})),n.d(t,"bc",(function(){return lt})),n.d(t,"Sb",(function(){return dt})),n.d(t,"dc",(function(){return ft})),n.d(t,"ub",(function(){return pt})),n.d(t,"ec",(function(){return mt})),n.d(t,"kc",(function(){return bt})),n.d(t,"Yb",(function(){return yt})),n.d(t,"sc",(function(){return vt})),n.d(t,"tc",(function(){return ht}));var r="[Activity] Set data",a="[Activity] Set is loading",o="[Activity] Set background refresh is loading",i="[Activity] Show milestone form",c="[Activity] Set milestone is loading",s="[Activity] Add milestone",u="[Activity] Edit milestone",l="[Activity] Delete milestone",d="[Activity] Set meeting is loading",f="[Activity] Add meeting",p="[Activity] Edit meeting",m="[Activity] Delete meeting",b="[Activity] Delete media",y="[Activity] Set results partials",v="[Activity] Set results partials is loading",h="[Activity] Select in progress partial",g="[Activity] Deselect in progress partial",E="[Activity] Add partials to submit",w="[Activity] Deselect all progress partials",O="[Activity] Select all progress partials",S="[Activity] Select ready to submit partial",C="[Activity] Deselect ready to submit partial",_="[Activity] Deselect all ready to submit partials",I="[Activity] Select all ready to submit partials",T="[Activity] Add partials to progress",R="[Activity] Edit partial",P="[Activity] Add group comment",A="[Activity] Delete group comment",N="[Activity] Set group comments is loading",j="[Activity] Set group comments",k="[Activity] Add submitted results",D="[Activity] Delete submitted results",L="[Activity] Team eval is loading",M="[Activity] Add group team eval five star",x="[Activity] Add group team eval rubric points",F="[Activity] Add group team eval rubric comment",U="[Activity] Remove submission is loading",V="[Activity] Peer review comment is loading",G="[Activity] Peer review comment added",q="[Activity] Peer review comment deleted",B="[Activity] Peer review comment edited",W="[Activity] Add media partial",Q="[Activity] Create peer review five star",Y="[Activity] Update activity",H="[Activity] Feedback comment is loading",z="[Activity] Add feedback comment",K="[Activity] Delete feedback comment",X="[Activity] Edit feedback comment",J="[Activity] Refresh feedback comments",Z="[Activity] Add rubric self assessment",$="[Activity] Create peer review rubric",ee="[Activity] Delete result partial",te="[Activity-QA] Update question and results",ne="[Activity] Set educator progress view refresh is loading",re="[Activity] Set refreshed actvity data",ae="[QA-Activity] Submit requested at",oe="[Activity] Set activity is submitting",ie="[Activity] Set group name is editing",ce="[Activity] Set group name",se="[Activity Merge activity data",ue="[Interactive-Video-Activity] Set answer is loading",le="[Interactive-Video-Activity] Add interactive video answer",de="[Interactive-Video-Activity] Set interactive video finished watching",fe="[Reflection-Question-Answers] Set reflection question answers",pe="[Activity-QA] Set current question",me="[Activity] Update result media",be="[Activity-QA] Update result requiredMedia",ye=function(e){return{type:r,payload:e}},ve=function(e){return{type:re,payload:e}},he=function(e){return{type:a,payload:e}},ge=function(e){return{type:c,payload:e}},Ee=function(e){return{type:s,payload:e}},we=function(e){return{type:u,payload:e}},Oe=function(e){return{type:l,payload:e}},Se=function(e){return{type:f,payload:e}},Ce=function(e){return{type:p,payload:e}},_e=function(e){return{type:m,payload:e}},Ie=function(e){return{type:d,payload:e}},Te=function(e){return{type:y,payload:e}},Re=function(e){return{type:v,payload:e}},Pe=function(e){return{type:E,payload:e}},Ae=function(){return{type:w}},Ne=function(){return{type:_}},je=function(e){return{type:T,payload:e}},ke=function(e){return{type:R,payload:e}},De=function(e){return{type:P,payload:e}},Le=function(e){return{type:A,payload:e}},Me=function(e){return{type:N,payload:e}},xe=function(e){return{type:b,payload:e}},Fe=function(){return{type:D}},Ue=function(e){return{type:L,payload:e}},Ve=function(e){return{type:M,payload:e}},Ge=function(e){return{type:F,payload:e}},qe=function(e){return{type:U,payload:e}},Be=function(e){return{type:V,payload:e}},We=function(e){return{type:q,payload:e}},Qe=function(e){return{type:B,payload:e}},Ye=function(e){return{type:Y,payload:e}},He=function(e){return{type:Q,payload:e}},ze=function(e){return{type:W,payload:e}},Ke=function(e){return{type:te,payload:e}},Xe=function(e,t){return{type:x,payload:{rubricResult:e,peerDbId:t}}},Je=function(e){return{type:H,payload:e}},Ze=function(e){return{type:ee,payload:e}},$e=function(e){return{type:z,payload:e}},et=function(e){return{type:K,payload:e}},tt=function(e){return{type:X,payload:e}},nt=function(e){return{type:J,payload:e}},rt=function(e){return{type:Z,payload:e}},at=function(e,t){return{type:$,payload:{review:e,submitterDbId:t}}},ot=function(e){return{type:o,payload:e}},it=function(e){return{type:ne,payload:e}},ct=function(e){return{type:ae,payload:e}},st=function(e){return{type:oe,payload:e}},ut=function(e){return{type:ie,payload:e}},lt=function(e){return{type:ce,payload:e}},dt=function(e){return{type:se,payload:e}},ft=function(e){return{type:ue,payload:e}},pt=function(e){return{type:le,payload:e}},mt=function(e){return{type:de,payload:e}},bt=function(e){return{type:fe,payload:e}},yt=function(e){return{type:pe,payload:e}},vt=function(e){return{type:me,payload:e}},ht=function(e){return{type:be,payload:e}}},pGwi:function(e,t,n){},pX12:function(e,t,n){var r={"./ar/messages":["6JE8",3],"./de/messages":["pe+L",4],"./en/messages":["HS0P",5],"./es/messages":["H8xX",6],"./fr/messages":["P/Gs",7],"./fr_CA/messages":["9ylK",8],"./nl/messages":["8pyE",9],"./pt_BR/messages":["2Uxq",10]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,7)}))}a.keys=function(){return Object.keys(r)},a.id="pX12",e.exports=a},pfuG:function(e,t,n){e.exports={peerReviewContainer:"b_m3FJ9BJW"}},ppB1:function(e,t,n){"use strict";var r,a;function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"n",(function(){return c})),n.d(t,"o",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"h",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"l",(function(){return E})),n.d(t,"d",(function(){return w})),n.d(t,"m",(function(){return O})),n.d(t,"p",(function(){return S}));var c="InteractiveQuestionOfTypeChoice",s="InteractiveQuestionOfTypeVideo",u="InteractiveAnswerOfTypeVideo",l=2048,d=2048,f=2048,p=2,m=5,b=1,y=20,v={SETTINGS:{IS_RETAKE:"isRetakeRequired",IS_SUMMARY_VISIBLE:"isSubmissionSummaryVisible",MEDIA:"media"},QUESTION_VIDEO:{SHOW_TIME:"showTime",SORT:"orderNumber",TEXT:"questionText"},QUESTION:{OPTIONS:"options",SHOW_TIME:"showTime",SORT:"orderNumber",TEXT:"questionText",WEIGHT:"score"},OPTION:{DESCRIPTION:"optionDescription",IS_CORRECT:"correct",TEXT:"optionText"}},h="NEW",g=(i(r={},v.OPTION.DESCRIPTION,""),i(r,v.OPTION.IS_CORRECT,!1),i(r,v.OPTION.TEXT,""),i(r,"isDirty",!1),r),E=o({},g,{isNew:!0}),w=(i(a={},v.QUESTION.OPTIONS,[]),i(a,v.QUESTION.SHOW_TIME,0),i(a,v.QUESTION.SORT,y),i(a,v.QUESTION.TEXT,""),i(a,v.QUESTION.WEIGHT,0),i(a,"type",c),a),O=o({},w,{isNew:!0});function S(){return h+"_"+(new Date).getTime()}},psRa:function(e,t,n){},q2J1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("LvDl"),a=n.n(r),o=function(e){if(!e)return null;for(var t=[],n=function(n){t.push((function(t){var r=a.a.get(t,e[n]);return a.a.isString(r)?r.toLowerCase():r}))},r=0;r<e.length;r++)n(r);return t},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return a.a.orderBy(e.slice(),t,n)}},q8N1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o}));var r={ENTER:13,ARROW_DOWN:40,ARROW_UP:38,ARROW_LEFT:37,ARROW_RIGHT:39,PLUS:107,MINUS:109,SPACE:32},a=function(e,t){return function(n){var r=n.which===e,a=e.length&&-1!==e.indexOf(n.which);(r||a)&&(n.preventDefault(),t(n))}},o=function(e){return a(r.ENTER,e)}},"qBI/":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("VQZn"),s=n("ZD0w"),u=n("r1K/");function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,p(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.i18n;return e.lmsLocked?a.a.createElement(c.a,null,a.a.createElement(u.b,{type:u.a.WARNING},a.a.createElement("p",{className:"u-fs-15px u-m-0"},t._("Assignment is locked. Please contact your educator for more details")))):null}}])&&d(n.prototype,r),o&&d(n,o),t}(r.Component);b.propTypes={i18n:i.a.object,lmsLocked:i.a.bool};var y=Object(s.withI18n)()(b),v=n("/MKj"),h=n("Wtf/");function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==g(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,O(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement(y,{lmsLocked:this.props.lmsLocked})}}])&&E(n.prototype,r),o&&E(n,o),t}(r.Component);C.propTypes={lmsLocked:i.a.bool};t.a=Object(v.b)((function(e){return{lmsLocked:h.getLmsLocked(e)}}))(C)},qJsM:function(e,t,n){},qSfp:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return S}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("TSYQ"),u=n.n(s),l=n("LvDl"),d=n.n(l),f=n("Uu12"),p=n("4XMt");n("/I3q");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={BUTTON:"button",INK_OVERLAY:"button-ink-overlay",INK_OVERLAY_HIDDEN:"button-ink-overlay--hidden",TYPE_UNSTYLED:"button-unstyled",TYPE_OUTLINED:"button-outlined",TYPE_FLAT:"button-flat",TYPE_FLOATING:"button-floating",TYPE_FLOATING_MINI:"button-floating-mini",TYPE_ICON:"button-icon",TYPE_RAISED:"button-raised",SKIN_BASE:"button-base",SKIN_PRIMARY:"button-primary",SKIN_SECONDARY:"button-secondary"};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[O.BUTTON,t],r=e.primary,a=e.secondary;r?n.push(O.SKIN_PRIMARY):a?n.push(O.SKIN_SECONDARY):n.push(O.SKIN_BASE);var o=e.raised,i=e.flat,c=e.floating,s=e.mini,l=e.icon,d=e.outlined;return o?n.push(O.TYPE_RAISED):i?n.push(O.TYPE_FLAT):c?(n.push(O.TYPE_RAISED),n.push(O.TYPE_FLOATING),s&&n.push(O.TYPE_FLOATING_MINI)):l?(n.push(O.TYPE_FLAT),n.push(O.TYPE_ICON)):d?(n.push(O.TYPE_FLAT),n.push(O.TYPE_OUTLINED)):(n.push(O.TYPE_FLAT),n.push(O.TYPE_UNSTYLED)),n.push(e.className),u()(n)}var C={isTooltipOpen:!1},_=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=h(t).call(this,e),n=!a||"object"!==m(a)&&"function"!==typeof a?E(r):a,w(E(E(n)),"getComponentProps",(function(){return d.a.pick(n.props,Object.keys(t.componentProps))})),w(E(E(n)),"onBlur",(function(){var e=n.props.onBlur;n.hideTooltip();for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e(r)})),w(E(E(n)),"onFocus",(function(){var e=n.props.onFocus;n.showTooltip();for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e(r)})),w(E(E(n)),"onMouseEnter",(function(){var e=n.props.onMouseEnter;n.showTooltip();for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e(r)})),w(E(E(n)),"onMouseLeave",(function(){var e=n.props.onMouseLeave;n.hideTooltip();for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e(r)})),w(E(E(n)),"onTouchStart",(function(){var e=n.props.onTouchStart;n.showTooltip();for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e(r)})),w(E(E(n)),"onTouchEnd",(function(){var e=n.props.onTouchEnd;n.hideTooltip();for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e(r)})),w(E(E(n)),"showTooltip",(function(){n.setState({isTooltipOpen:!0})})),w(E(E(n)),"hideTooltip",(function(){n.setState({isTooltipOpen:!1})})),n.state=y({},C),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.ariaLabel,r=t.children,o=t.enabled,i=t.inkContainerClassName,s=t.isInkVisible,l=t.tooltip,m=this.state.isTooltipOpen,y=null;return l&&(y=d.a.merge({},l,{trigger:"manual",open:d.a.isBoolean(l.open)?l.open:m,onRequestClose:function(){if(e.hideTooltip(),l.onRequestClose){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l.onRequestClose(n)}}})),a.a.createElement(p.b,b({},y,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd}),a.a.createElement(c.c,b({},Object(f.j)(this.props),this.getComponentProps(),function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.raised,n=e.flat,r=e.floating,a=e.icon;return!!(t||n||r||a)}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})?{}:{flat:!0}}(this.props),{className:S(this.props),inkContainerClassName:u()(O.INK_OVERLAY,w({},O.INK_OVERLAY_HIDDEN,!s),i),"aria-label":n,disabled:!o,onBlur:this.onBlur,onFocus:this.onFocus}),r))}}])&&v(n.prototype,r),o&&v(n,o),t}(r.Component);_.componentProps={className:i.a.string,flat:i.a.bool,floating:i.a.bool,forceIconFontSize:i.a.bool,forceIconSize:i.a.any,icon:i.a.bool,iconBefore:i.a.bool,iconChildren:i.a.string,iconClassName:i.a.string,iconEl:i.a.element,id:i.a.any,inkContainerClassName:i.a.string,mini:i.a.bool,onClick:i.a.func,primary:i.a.bool,raised:i.a.bool,secondary:i.a.bool,title:i.a.string},_.propTypes=y({},_.componentProps,{ariaLabel:i.a.string,enabled:i.a.bool,isInkVisible:i.a.bool,onBlur:i.a.func,onFocus:i.a.func,onMouseEnter:i.a.func,onMouseLeave:i.a.func,onTouchEnd:i.a.func,onTouchStart:i.a.func,outlined:i.a.bool,tooltip:i.a.any}),_.defaultProps={enabled:!0,isInkVisible:!0,onBlur:function(){},onFocus:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onTouchEnd:function(){},onTouchStart:function(){}},t.b=_},qcdR:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("TSYQ"),s=n.n(c),u=n("/Vro"),l=n.n(u);function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={isVisible:!1},h=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=p(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==d(a)&&"function"!==typeof a?b(r):a,y(b(b(n)),"state",v),y(b(b(n)),"delayedHideTimeout",null),y(b(b(n)),"show",(function(){n.setState({isVisible:!0},n.delayedHide)})),y(b(b(n)),"hide",(function(){n.setState({isVisible:!1})})),y(b(b(n)),"delayedHide",(function(){var e=n.props.duration;clearTimeout(n.delayedHideTimeout),n.delayedHideTimeout=setTimeout(n.hide,e)})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){clearTimeout(this.delayedHideTimeout)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.message;return this.state.isVisible?a.a.createElement("div",{className:s()(l.a.overlayContainer,t)},a.a.createElement("div",{className:s()(l.a.messageContainer,t)},a.a.createElement("p",{className:l.a.message},n))):null}}])&&f(n.prototype,r),o&&f(n,o),t}(a.a.PureComponent);h.defaultProps={duration:3e3},h.propTypes={className:i.a.string,message:i.a.node.isRequired,duration:i.a.number},t.a=h},"qea/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l}));var r="[Activity Configuration] Set group configuration",a="[Activity Configuration] Set individual configuration",o="[Activity Configuration] Set Q&A configuration",i="[Activity Configuration] Set interactive video configuration",c=function(e){return{type:r,payload:e}},s=function(e){return{type:a,payload:e}},u=function(e){return{type:o,payload:e}},l=function(e){return{type:i,payload:e}}},qisB:function(e,t,n){},qlgi:function(e,t,n){e.exports={rating:"b_iyBKxCJy"}},"r1K/":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("TSYQ"),s=n.n(c),u=n("KhDq");n.d(t,"a",(function(){return u.a}));n("pGwi");var l=function(e){var t=e.children,n=e.className,r=e.contentInheritsStatusColor,o=e.message,i=e.type,c=null;if(!(c=o?a.a.createElement("p",{className:"status-message-content-text"},o):t)||0===c.length)return null;var l=["status-message-content","status-message-content--"+i];return r&&l.push("status-message-content--"+i+"-color"),a.a.createElement("div",{className:s()("status-message",n)},a.a.createElement(u.b,{className:"status-message-icon",type:i,enableTooltip:!1}),a.a.createElement("div",{className:s()(l)},c))};l.propTypes={className:i.a.string,message:i.a.string,contentInheritsStatusColor:i.a.bool,type:i.a.oneOf(Object.values(u.a))},l.defaultProps={message:null,contentInheritsStatusColor:!1,type:u.a.INFO},t.b=l},r6t9:function(e,t,n){"use strict";var r=n("DQM/");function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){var n=t.uploadUrl,r=t.token,a=t.fileName;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uploadUrl=n,this.token=r,this.fileName=a,this.uploadQueue=[],this.uploadedChunksCount=0,this.uploading=!1,this.chunkGenerationComplete=!1,this.finished=!1,this.canceled=!1,this.requestController=new AbortController,this.signal=this.requestController.signal}var t,n,r;return t=e,(n=[{key:"addToUploadQueue",value:function(e){this.uploadQueue.push(e),this._uploadNextChunk()}},{key:"stopUpload",value:function(){this.uploading&&this.requestController.abort(),this.canceled=!0}},{key:"isUploadingFinished",value:function(){return this.finished}},{key:"stopWaitingForChunks",value:function(){this.chunkGenerationComplete=!0,this._isUploadingFinished()&&this.finish()}},{key:"onProgress",value:function(e){this.onProgressHandler=e}},{key:"finish",value:function(){this.finished=!0}},{key:"getUploadingProgress",value:function(){var e=this.uploadedChunksCount+this.uploadQueue.length;return this.uploading&&e++,this.uploadedChunksCount/e*100}},{key:"_isUploadingFinished",value:function(){return this.chunkGenerationComplete&&0===this.uploadQueue.length&&!this.uploading}},{key:"_uploadNextChunk",value:function(){if(this._isUploadingFinished())return this.finish();if(!this.uploading&&0!==this.uploadQueue.length&&!this.canceled){var e=this.uploadQueue.shift(),t=this._getRequestBody(e);this._upload(t)}}},{key:"_getRequestBody",value:function(e){var t=e.index,n=e.blob,r=new FormData;return 0===t&&(t="zero"),r.append("video-filename",this.fileName),r.append("video-index",t),r.append("token",this.token),r.append("video-blob",n,"blob"),r}},{key:"_upload",value:function(e){var t=this;this.uploading=!0,fetch(this.uploadUrl,{method:"POST",body:e,signal:this.signal}).then((function(){t.uploadedChunksCount++,t.uploading=!1,t._uploadNextChunk(),t.onProgressHandler instanceof Function&&t.onProgressHandler(t.getUploadingProgress())})).catch((function(){t.canceled||t.finished||setTimeout((function(){t._upload(e)}),1e3)}))}}])&&a(t.prototype,n),r&&a(t,r),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return c}));var c=function(){function e(t){var n=this,a=t.mediaStream,i=t.uploadUrl,c=t.token,s=t.fileName,u=t.resultKey;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.chunkGenerator=new r.b(a),this.chunkUploader=new o({uploadUrl:i,token:c,fileName:s}),this.resultKey=u,this.chunkGenerator.onChunk((function(e){n.chunkUploader.addToUploadQueue(e)})),this.chunkGenerator.onStop((function(){n.chunkUploader.stopWaitingForChunks()}))}var t,n,a;return t=e,(n=[{key:"startCapturing",value:function(){this.chunkGenerator.startCapturing()}},{key:"stopCapturing",value:function(){return this.chunkGenerator.stopCapturing()}},{key:"getUploadingProgress",value:function(){return this.chunkUploader.getUploadingProgress()}},{key:"isUploadingFinished",value:function(){return this.chunkUploader.isUploadingFinished()}},{key:"onProgress",value:function(e){this.chunkUploader.onProgress(e)}},{key:"getAllChunks",value:function(){return this.chunkGenerator.getAllChunks()}},{key:"stopUpload",value:function(){this.chunkUploader.stopUpload()}}])&&i(t.prototype,n),a&&i(t,a),e}()},r9GM:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s}));var r="[Browser] Set viewport dimensions",a="[Browser] Set viewport orientation",o="[Browser] Set viewport size",i=function(e){return{type:r,payload:e}},c=function(e){return{type:a,payload:e}},s=function(e){return{type:o,payload:e}}},rOOD:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b}));var r=n("G4qV"),a=n("upk1"),o=Object(r.a)(a.a,(function(e){return e.doublePlayer})),i=function(e,t){return o(e)[t]};function c(e,t,n){var r=i(e,t);return r?r[n]:null}var s=function(e,t){return c(e,t,"deskshareIsActive")},u=function(e,t){return c(e,t,"secondaryVideoX")},l=function(e,t){return c(e,t,"secondaryVideoY")},d=function(e,t){return c(e,t,"secondaryVideoWidth")},f=function(e,t){return c(e,t,"inited")},p=function(e,t){return c(e,t,"inFullScreen")},m=function(e,t){return c(e,t,"isSplitView")},b=function(e,t){return s(e,t)?function(e,t){return c(e,t,"desksharePlayerId")}(e,t):function(e,t){return c(e,t,"webcamPlayerId")}(e,t)}},rZyJ:function(e,t,n){},rchA:function(e,t,n){},rdgG:function(e,t,n){e.exports={captionsEditor:"b_3TGk5OD8",toolbar:"b_4t3FlzCV",toolbarButton:"b_ymIasDzU",toolbarDivider:"b_Jq5PkuZY",captionsEditorTextFieldContainer:"b_5NpQbfPX",captionsEditorTextField:"b_rPRihugM",actions:"b_4eOGSaUu"}},rgW0:function(e,t,n){},rgrG:function(e,t,n){e.exports=n.p+"static/media/poweredby-bongo.d8543749.svg"},rklM:function(e,t,n){},rlsJ:function(e,t,n){},rnBV:function(e,t,n){"use strict";t.a={PROGRESS:"ACTIVITY_STATE_PROGRESS",SUBMITTED:"ACTIVITY_STATE_SUBMITTED"}},s0JW:function(e,t,n){},s6u6:function(e,t,n){},sFEX:function(e,t,n){},sIVs:function(e,t,n){"use strict";var r=n("lTCR"),a=n.n(r),o=n("svEP"),i=n("92Bf"),c=n("O+79"),s=n("eDl9"),u=n("mxsA"),l=n("09Br"),d=n("io3D"),f=n("/KNH");function p(){var e=h(["\n    query getActivityData($activityId: Int!, $studentId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            submitDueAt\n            type\n            termClass {\n                dbId\n            }\n            instructionsText\n            instructionsMedia {\n                ...MediaFull\n            }\n            gradeType\n            autoGradeScoreSource\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            studentFivestarValuationEnabled\n            isVideoToolEnabled\n            isDocumentToolEnabled\n            isMeetingToolEnabled\n            isVideoAnalysisScoreEnabled\n            autoAnalysisEnabled\n            rubric {\n                ...Rubric\n            }\n            reflectStageSettings {\n                ...ReflectionSettings\n            }\n            dataForOneStudent(studentDbId: $studentId) {\n                ...EducatorIndividualActivityStudentData\n            }\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return p=function(){return e},e}function m(){var e=h(["\n    query getActivityData($activityId: Int!, $studentId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            submitDueAt\n            type\n            termClass {\n                dbId\n            }\n            gradeType\n            autoGradeScoreSource\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            rubricPeerAllowed\n            studentFivestarValuationEnabled\n            isVideoAnalysisScoreEnabled\n            autoAnalysisEnabled\n            rubric {\n                ...Rubric\n            }\n            reflectStageSettings {\n                ...ReflectionSettings\n            }\n            rubricSelfAllowed\n            dataForAllStudents {\n                student {\n                    dbId\n                    firstName\n                    lastName\n                }\n                activity {\n                    dbId\n                }\n                educatorGrade {\n                    ...EducatorGrade\n                }\n            }\n            dataForOneStudent(studentDbId: $studentId) {\n                ...EducatorIndividualActivityStudentData\n            }\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return m=function(){return e},e}function b(){var e=h(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            submitDueAt\n            type\n            termClass {\n                dbId\n            }\n            commentaryText\n            commentaryMedia {\n                ...MediaFull\n            }\n            gradeType\n            autoGradeScoreSource\n            instructionsText\n            instructionsMedia {\n                ...MediaFull\n            }\n            videoAnalysisKeyTerms {\n                term\n                count\n            }\n            isVideoToolEnabled\n            isDocumentToolEnabled\n            isMeetingToolEnabled\n            isVideoAnalysisScoreEnabled\n            autoAnalysisEnabled\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            studentFivestarValuationEnabled\n            rubric {\n                ...Rubric\n            }\n            reflectStageSettings {\n                ...ReflectionSettings\n            }\n            executorsType\n            minStudentsAmountInGroup\n            maxStudentsAmountInGroup\n            rubricPeerAllowed\n            rubricSelfAllowed\n            ltiDeepLinking\n            ltiGradeIdentifier\n            ltiGradeSyncEnabled\n            allowViewOthersResultsWithoutOwn\n            isCommentingAnonymous\n            peerReviewSubmitterAnonymous\n            cengageSettings {\n                countTowardsFinalGrade\n                score\n                locked\n                inPath\n            }\n            dataForAllStudents {\n                student {\n                    dbId\n                }\n                result {\n                    submitter {\n                        roles\n                    }\n                }\n                educatorGrade {\n                    ...EducatorGrade\n                }\n                rubricEvaluations {\n                    user {\n                        ...GeneralUser\n                    }\n                    rubric {\n                        ...Rubric\n                    }\n                    points\n                }\n                reflectAnswers {\n                    ...ReflectionAnswersMinimal\n                }\n            }\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return b=function(){return e},e}function y(){var e=h(["\n    fragment EducatorIndividualActivityStudentData on ActivityStudentData {\n        student {\n            ...EducatorUser\n        }\n        educatorGrade {\n            ...EducatorGrade\n        }\n        peerReview {\n            fiveStarValue\n            fiveStarRatesAmount\n            rubricGrade\n        }\n        resultPartialsCreatedCount\n        resultPartials {\n            ... on ActivityResultPartialDocument {\n                ...Document\n            }\n            ... on ActivityResultPartialLink {\n                ...Link\n            }\n            ... on ActivityResultPartialMedia {\n                ...MediaPartial\n            }\n            ... on ActivityResultPartialMeeting {\n                ...MeetingPartial\n            }\n        }\n        rubricEvaluations {\n            ...RubricEvaluation\n        }\n        reflectAnswers {\n            ...ReflectionAnswers\n        }\n        reviewedResults {\n            ...ReviewedResult\n        }\n        result {\n            ...EducatorIndividualProjectResult\n        }\n        isGradeDraftAllowed\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return y=function(){return e},e}function v(){var e=h(["\n    fragment EducatorIndividualProjectResult on ActivityResultIndividualProject {\n        submitter {\n            ...EducatorUser\n        }\n        submittedAt\n        media {\n            ...MediaFull\n        }\n        documents {\n            ...Document\n        }\n        links {\n            ...Link\n        }\n        deletable\n        comments {\n            ...Comment\n            ...AnonymousComment\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return v=function(){return e},e}function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g=a()(v(),c.b,c.a,i.d,s.b,s.a,u.c),E=a()(y(),s.b,s.a,s.c,s.d,g,u.c,o.a,l.c,d.b,f.a),w=a()(b(),u.e,o.a,l.d,d.c,i.d,d.a),O=a()(m(),l.d,d.c,o.a,E),S=a()(p(),i.d,l.d,d.c,E),C=n("x1nL");function _(){var e=A(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            ...IndividualActivity\n            availableResults {\n                ...StudentIndividualProjectResult      \n            }\n            reviewedResults {\n                ...StudentIndividualProjectResult\n            }\n        }\n    }\n    ","\n    ","\n"]);return _=function(){return e},e}function I(){var e=A(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            ...IndividualActivity\n            availableResults {\n                ...StudentIndividualProjectResult      \n            }\n            reviewedResults {\n                ...StudentIndividualProjectResult\n            }\n        }\n    }\n    ","\n    ","\n"]);return I=function(){return e},e}function T(){var e=A(["\n    fragment IndividualActivity on Activity {\n        dbId\n        name\n        lmsLocked\n        className\n        submitDueAt\n        type\n        deletable\n        allowViewOthersResultsWithoutOwn\n        termClass {\n            ...TermClassBasic\n        }\n        commentaryText\n        commentaryMedia {\n            ...MediaFull\n        }\n        gradeType\n        autoGradeScoreSource\n        instructionsText\n        instructionsMedia {\n            ...MediaFull\n        }\n        rubric {\n            ...Rubric\n        }\n        reflectStageSettings {\n            ...ReflectionSettings\n        }\n        isVideoToolEnabled\n        isDocumentToolEnabled\n        isMeetingToolEnabled\n        isVideoAnalysisScoreEnabled\n        autoAnalysisEnabled\n        isCommentingAnonymous\n        peerReviewSubmitterAnonymous\n        peerReviewType\n        peerReviewAmount\n        peerReviewGradeEnabled\n        peerReviewGradeWeight\n        peerReviewDueAt\n        studentFivestarValuationEnabled\n        rubricPeerAllowed\n        rubricSelfAllowed\n        submittable\n        myData {\n            ...StudentIndividualActivityStudentData\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return T=function(){return e},e}function R(){var e=A(["\n    fragment StudentIndividualActivityStudentData on ActivityStudentData {\n        student {\n            ...StudentUser\n        }\n        educatorGrade {\n            ...StudentEducatorGrade\n        }\n        peerReview {\n            fiveStarValue\n            fiveStarRatesAmount\n            rubricGrade\n        }\n        resultPartials {\n            ... on ActivityResultPartialDocument {\n                ...Document\n            }\n            ... on ActivityResultPartialLink {\n                ...Link\n            }\n            ... on ActivityResultPartialMedia {\n                ...MediaPartial\n            }\n            ... on ActivityResultPartialMeeting {\n                ...MeetingPartial\n            }\n        }\n        rubricEvaluations {\n            ...RubricEvaluation\n        }\n        reflectAnswers {\n            ...ReflectionAnswers\n        }\n        result {\n            ...StudentIndividualProjectResult\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return R=function(){return e},e}function P(){var e=A(["\n    fragment StudentIndividualProjectResult on ActivityResultIndividualProject {\n        submitter {\n            ...StudentUser\n        }\n        submittedAt\n        media {\n            ...MediaFull\n        }\n        documents {\n            ...Document\n        }\n        links {\n            ...Link\n        }\n        deletable\n        isViewed {\n            value\n        }\n        comments {\n            ...Comment\n            ...AnonymousComment\n        }\n        myFiveStarRating {\n            value\n        }\n        myRubricEvaluation{\n            ...StudentReviewRubric\n        }\n        reflectAnswers {\n            ...ReflectionAnswers\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return P=function(){return e},e}function A(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var N=a()(P(),c.b,c.a,i.d,l.e,s.b,s.a,u.d,d.b),j=a()(R(),N,s.b,s.a,s.c,s.d,u.d,o.b,d.b,l.c),k=a()(T(),j,i.d,l.d,d.c,C.e),D=a()(I(),k,N),L=a()(_(),k,N),M=L,x=L;n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"f",(function(){return N})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return M})),n.d(t,"g",(function(){return x}))},sJ7f:function(e,t,n){},sRqO:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("ZD0w"),i=n("TSYQ"),c=n.n(i),s=n("LFYD"),u=n("8For"),l=n("q8N1"),d=(n("Nj73"),"".concat("video-player-play-button","--icon"));t.a=Object(o.withI18n)()((function(e){var t=e.i18n,n=e.className;return a.a.createElement("div",{id:e.id,className:c()("video-player-play-button",n),onClick:function(t){t.stopPropagation(),e.play()},onKeyDown:Object(l.b)(e.play),role:"button",tabIndex:0,"aria-label":t._("Play Video")},a.a.createElement(u.a,{className:d,ariaLabel:t._("Play Video, icon")},s.a.PLAY))}))},sZpB:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"n",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return y})),n.d(t,"k",(function(){return v}));var r="[Educator library] ",a=r+"Set loading",o=r+"Set list",i=r+"Delete item",c=r+"Set item processing",s=r+"Edit item title",u=r+"Add item to list",l=r+"Replace item",d=function(e){return{type:a,payload:e}},f=function(e){return{type:o,payload:e}},p=function(e){return{type:i,payload:e}},m=function(e){return{type:c,payload:e}},b=function(e,t){return{type:s,payload:{id:e,title:t}}},y=function(e){return{type:u,payload:e}},v=function(e){return{type:l,payload:e}}},sjRd:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("/W66"),s=n("/MKj"),u=n("ZD0w"),l=n("kbsL"),d=n("iGlQ"),f=n("etP2"),p=n("wRmV"),m=n("UyA7"),b=n("LFYD"),y=n("oe1p"),v=n("H9kt"),h=n("vnhF"),g=n("iFdk"),E=n("HCbP"),w=n("LvDl"),O=n.n(w),S=n("TSYQ"),C=n.n(S),_=(n("hpIK"),n("HNnK")),I=n("Rso3");function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=this,o=(e=A(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==T(o)&&"function"!==typeof o?j(r):o,k(j(j(n)),"state",{drawerVisible:!1}),k(j(j(n)),"onNavClick",(function(){n.setState({drawerVisible:!0})})),k(j(j(n)),"closeDrawer",(function(){n.setState({drawerVisible:!1})})),k(j(j(n)),"handleOutsideClick",(function(e){n.navContainer&&!n.navContainer.contains(e.target)&&n.setState({drawerVisible:!1})})),k(j(j(n)),"getNavMenu",(function(){var e=n.props,t=e.hideNavigation,r=e.topNavigationItems,o=e.i18n;return t?null:0===n.getNavDrawerItems().length&&0===r.length?null:a.a.createElement(l.d,{id:"button-navigation-menu",ariaLabel:o._("Menu"),onClick:n.onNavClick},b.a.MENU)})),k(j(j(n)),"getMenuButton",(function(){var e=n.props,t=e.menuOptions,r=e.i18n,o=[];return t&&(o=R(t)),E.a.isHelpVisible()&&(o.length>0&&o.push(a.a.createElement(c.a,{key:"menu_item_divider[help]"})),o.push(a.a.createElement(d.a,{key:"help_menu_item"}))),0===o.length?null:a.a.createElement(l.f,{id:"toolbar-menu-button",icon:!0,menuItems:o,ariaLabel:r._("Menu")},b.a.MENU_VERT)})),k(j(j(n)),"getEducatorNavItems",(function(){var e=n.props,t=e.isD2LFreemium,r=e.i18n;if(!E.a.isEducatorGlobalNavVisible())return[];var a=[];return E.a.isEducatorAssignmentNavigationVisible()&&a.push(h.a.ASSIGNMENTS),E.a.isEducatorMeetingNavigationVisible()&&a.push(h.a.MEETINGS),E.a.isEducatorRubricNavigationVisible()&&a.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}({},h.a.RUBRICS,{enabled:!t,tooltipLabel:t?r._(v.a.FREEMIUM_CONFIG_OPTION):null,tooltipPosition:p.a.RIGHT})),E.a.isEducatorLibraryAvailable()&&a.push(h.a.LIBRARY),E.a.isNotificationsNavigationVisible()&&a.push(h.a.NOTIFICATIONS),E.a.isSettingsNavigationVisible()&&a.push(h.a.SETTINGS),E.a.isTemplateSettingsNavigationVisible()&&a.push(h.a.TEMPLATE_SETTINGS),E.a.isSupportNavigationVisible()&&a.push(h.a.SUPPORT),a})),k(j(j(n)),"getStudentNavItems",(function(){if(!E.a.isStudentGlobalNavVisible())return[];var e=[];return E.a.isStudentAssignmentNavigationVisible()&&e.push(g.a.ASSIGNMENTS),E.a.isStudentMeetingNavigationVisible()&&e.push(g.a.MEETINGS),E.a.isNotificationsNavigationVisible()&&e.push(g.a.NOTIFICATIONS),E.a.isSettingsNavigationVisible()&&e.push(g.a.SETTINGS),E.a.isSupportNavigationVisible()&&e.push(g.a.SUPPORT),e})),k(j(j(n)),"localizeNavItems",(function(e){var t=n.props.i18n;return O.a.map(e,(function(e){return O.a.assign({},e,{label:t._(e.label)})}))})),k(j(j(n)),"getNavDrawerItems",(function(){var e=n.props.navigationDrawerType,t=[];return e===y.b.EDUCATOR?t=n.getEducatorNavItems():e===y.b.STUDENT&&(t=n.getStudentNavItems()),n.localizeNavItems(t)})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleOutsideClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleOutsideClick)}},{key:"render",value:function(){var e=this,t=this.state.drawerVisible,n=this.props,r=n.actions,o=n.activityId,i=n.classId,c=n.navigationDrawerType,s=n.topNavigationItems,u=n.title,l=this.getNavDrawerItems(),d=[];return r&&(d=R(r)),d.push(this.getMenuButton()),d=O.a.compact(d),a.a.createElement("div",{ref:function(t){return e.navContainer=t}},a.a.createElement(I.a,null),a.a.createElement(f.a,{className:C()(this.props.className),nav:E.a.isHamburgerMenuAllowed()?this.getNavMenu():null,actions:d,title:u},this.props.children),a.a.createElement(y.c,{key:"nav_drawer",activityId:o,classId:i,onClose:this.closeDrawer,navigationItems:l,topNavigationItems:s,type:c,visible:t}))}}])&&P(n.prototype,r),o&&P(n,o),t}(r.Component);D.propTypes={activityId:i.a.number,actions:i.a.array,classId:i.a.number,hideNavigation:i.a.bool,menuOptions:i.a.array,navigationDrawerType:i.a.string,title:i.a.any,topNavigationItems:i.a.array},D.defaultProps={actions:[],hideNavigation:!1,menuOptions:[],topNavigationItems:[]};t.a=Object(u.withI18n)()(Object(s.b)((function(e){return{isD2LFreemium:m.u(e),ltiScope:m.l(e),currentUser:_.h(e),institution:m.i(e),termClass:m.m(e)}}))(D))},slDY:function(e,t,n){},svEP:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var r=n("lTCR"),a=n.n(r),o=n("09Br"),i=n("mxsA");function c(){var e=d(["\n    fragment StudentEducatorGrade on EducatorGrade {\n        passFail\n        completion\n        gradeValue\n        fiveStarValue\n        rubricGrade\n        overallValue\n        gradeParts {\n          ...GradePart\n        }\n    }\n    ","\n"]);return c=function(){return e},e}function s(){var e=d(["\n    fragment EducatorGrade on EducatorGrade {\n        passFail\n        completion\n        gradeValue\n        fiveStarValue\n        overallValue\n        gradeParts {\n          ...GradePart\n        }\n        myRubricEvaluation {\n          ...RubricEvaluation\n        }\n        isDraft\n        isFinalizable\n    }\n    ","\n    ","\n"]);return s=function(){return e},e}function u(){var e=d(["\n    fragment GradePart on GradePart {\n        weight\n        partValue\n        autoValue\n        type\n        evaluationType\n        evaluations {\n            ...Evaluation\n        }\n    }\n    ","\n"]);return u=function(){return e},e}function l(){var e=d(["\n    fragment Evaluation on Evaluation {\n        value\n        user {\n            ...GeneralUser\n        }\n        rubric {\n            rubric {\n                maxValue\n            }\n        }\n    }\n    ","\n    ","\n"]);return l=function(){return e},e}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=a()(l(),i.e,o.c),p=a()(u(),f),m=a()(s(),o.c,p),b=a()(c(),p)},szwm:function(e,t,n){"use strict";t.a={ACTIVITY_RESULT:"TYPE__ACTIVITY_RESULT",ACTIVITY_FEEDBACK:"TYPE__ACTIVITY_RESULT_FEEDBACK",COMMENT:"TYPE__COMMENT",LIBRARY:"TYPE__LIBRARY",PROFILE:"TYPE__PROFILE"}},t080:function(e,t,n){e.exports={noteContainer:"b_77uPdUuq",overviewToolbar:"b_iotjFBlg",noteMessage:"b_pAO4XIAd",manageGroupsButtonContainer:"b_2o1myiiB",manageGroupsButton:"b_aSuFvrnb",exportButton:"b_qYh0rlrG",contentContainer:"b_8PBM0nwY"}},t4gB:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("iGlQ"),u=n("s/Ur"),l=n.n(u),d=n("TSYQ"),f=n.n(d),p=n("LvDl"),m=n.n(p);n("qisB");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v="data-table";function h(e){var t=e.id?"".concat(e.id,"--data-table"):"";return a.a.createElement(c.k,y({},function(e){return m.a.pick(e,Object.keys(g.componentProps))}(e),{id:t,className:f()(v,e.className),baseId:t||"data-table",summary:e.tableSummary}),function(e){var t=e.id?"".concat(e.id,"--data-table-header"):"";return a.a.createElement(c.O,{id:t},a.a.createElement(c.Q,null,e.columns.map((function(e,t){var n={},r=!1;return e.grow&&(r=e.grow),e.width&&(n.width=e.width),a.a.createElement(c.N,{grow:r,key:t,style:n,className:e.headerClassName,sorted:e.sorted,onClick:e.onClick},e.label)}))))}(e),function(e){var t=e.id?"".concat(e.id,"--data-table-body"):"";return a.a.createElement(c.M,{id:t},e.data.map((function(t,n){return a.a.createElement(c.Q,{key:n},e.columns.map((function(e,r){return e.width&&e.width,e.isCustomColumn?e.renderer(t,n+"_"+r):a.a.createElement(c.N,{key:r,className:e.className},e.renderer?e.renderer(t,n+"_"+r):t[e.accessor])})))})))}(e),e.footer)}var g=function(e){var t=e.className,n=e.hasMobileListView,r=e.id?"".concat(e.id,"--data-table-wrapper"):"";return a.a.createElement("div",{id:r},n?a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{query:"(min-width: 701px)"},h(e)),a.a.createElement(l.a,{query:"(max-width: 700px)"},a.a.createElement("div",{className:f()(v,t)},function(e){var t=e.id?"".concat(e.id,"--data-table"):"",n=m.a.find(e.columns,(function(t){return t.accessor===e.listAccessor}));return a.a.createElement("div",null,a.a.createElement(s.b,{id:t,className:"table-column-list-wrap"},e.data.map((function(t,r){return a.a.createElement(s.c,{className:"table-column-list",key:r,leftIcon:n&&n.getListLeftIcon?n.getListLeftIcon(t):null,onClick:function(){e.onListRowSelect(t)},primaryText:t[e.listAccessor]})}))))}(e)))):h(e))};g.defaultProps={selectableRows:!1,hasMobileListView:!0,footer:null},g.componentProps={bodyClassName:i.a.string,className:i.a.string,selectableRows:i.a.bool},g.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}({},g.passThroughProps,{id:i.a.string,columns:i.a.array.isRequired,data:i.a.array.isRequired,headerClassName:i.a.string,listAccessor:i.a.string.isRequired,onListRowSelect:i.a.func,hasMobileListView:i.a.bool,tableSummary:i.a.string,footer:i.a.object}),t.a=g},t6et:function(e,t,n){},tE7O:function(e,t,n){},tPwa:function(e,t,n){},tS7S:function(e,t,n){},tY0J:function(e,t,n){},tdQW:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("ZD0w"),u=n("TSYQ"),l=n.n(u),d=n("LvDl"),f=n.n(d),p=n("qSfp");n("1CkY");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){return f.a.pick(e,Object.keys(v.componentProps))}var v=function(e){var t=e.i18n,n=f.a.merge({},e);return n.raised=!n.flat,a.a.createElement(c.u,b({},y(n),{className:l()("input-file",n.className),labelClassName:Object(p.c)(n,l()(n.labelClassName,"input-file-button")),disabled:!n.enabled,label:t._("Select a file")}),n.children)};v.componentProps={className:i.a.string,onChange:i.a.func,flat:i.a.bool,id:i.a.string,labelClassName:i.a.string,name:i.a.string,primary:i.a.bool,secondary:i.a.bool},v.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}({},v.componentProps,{enabled:i.a.bool}),v.defaultProps={enabled:!0},t.a=Object(s.withI18n)()(v)},tdhA:function(e,t,n){},te1l:function(e,t,n){e.exports=n.p+"static/media/poweredby-bongo-text.cafb77b1.svg"},topR:function(e,t,n){e.exports={meetingLobby:"b_t8ZTSpI5",header:"b_weicbrKK",headerTitle:"b_aOi3bkVJ",headerDatetime:"b_l4giqzG2",headerModerator:"b_8A2E1vAT",contentLoader:"b_h8mYAuTU",mainContent:"b_zk3TFL6A",mainContentOverlay:"b_aHaS1ksj",mainContentOverlayIcon:"b_eigDc9Wq",mainContentOverlayTitle:"b_qeD3PDVg",mainContentOverlayMessage:"b_13pu53dV",mainContentOverlayActions:"b_AenICUf3",newWindowCancel:"b_vgEmxyDv",extraInfo:"b_lzhllyAf",extraInfoButtons:"b_pWpsQ4wz",extraInfoButton:"b_wdLrcL25",extraInfoButtonLeft:"b_8qkLDxk5",extraInfoButtonLeftIcon:"b_2Etk2PTO",extraInfoButtonCenter:"b_yHIM2Zds",extraInfoButtonRight:"b_x2gQze6q",joinCard:"b_1KpTwdVW",joinCardDisabled:"b_55bU9etD"}},tslA:function(e,t,n){e.exports=n.p+"static/config/features.json"},u3PK:function(e,t,n){},u4EO:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o);n("slDY");function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.loading;return a.a.createElement("div",{className:"loader"},this.props.children,e?a.a.createElement("div",{className:"loader-overlay"},a.a.createElement("div",{className:"loader-spinner"})):null)}}])&&s(n.prototype,r),o&&s(n,o),t}(r.Component);f.propTypes={loading:i.a.bool.isRequired}},"u90/":function(e,t,n){},uVrG:function(e,t,n){},uaEo:function(e,t,n){"use strict";var r=n("Wtf/"),a=2048,o=n("HNnK"),i=n("IF/7"),c=n("wNa6"),s=n("LvDl"),u=n.n(s);n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return C}));var l="TYPE_REVIEWER_USER",d="TYPE_REVIEWEE_USER",f="TYPE_REVIEWEE_GROUP",p={},m={},b={};function y(e){var t=c.a.getState(),n=Object(o.h)(t);return!Object(i.c)(n)&&(!Object(i.c)(e)&&(Object(o.i)(t)!==e.dbId&&r.isReviewerAnonymous(t)))}var v=function(e,t,n){var r=e.completedBy;return E(n,r,t)},h=function(e,t){var n=e.completedBy;return E(t,n,y(n))},g=function(e,t){var n=e.commenter;return E(t,n,y(n))},E=function(e,t,n){var r=null;return t&&(r=n?S(t.dbId,l,e):O(t,e)),r||e._("Anonymous Reviewer")},w=function(e,t){var n=e.activityStudentGroup,a=e.submitter,s=function(){var e=c.a.getState(),t=Object(o.h)(e);return!Object(i.c)(t)&&r.isSubmitterAnonymous(e)}(),u=null;return n?u=s?S(n.dbId,f,t):function(e){if(e)return e.name;return null}(n):a&&(u=s?S(a.dbId,d,t):O(a,t)),u||t._("Anonymous Submission")};function O(e,t){if(e){var n=e.firstName,r=e.lastName;if(n||r)return t._("{firstName} {lastName}",{firstName:n,lastName:r})}return null}function S(e,t,n){if(e){var r={};switch(t){case l:r=p;break;case d:r=m;break;case f:r=b}var a=r[e];if(!a){var o=u.a.keys(r).length+1;switch(t){case l:a=n._("Reviewer {anonymousNumber}",{anonymousNumber:o});break;case d:case f:a=n._("Submission {anonymousNumber}",{anonymousNumber:o})}r[e]=a}return a}return null}function C(e){var t=u.a.trim(e).length<1,n=e.length>a;return{isEmpty:t,exceedsLimit:n,maxLength:a,isValid:!n&&!t}}},ul3U:function(e,t,n){"use strict";var r=n("lTCR"),a=n.n(r),o=n("svEP"),i=n("92Bf"),c=n("mxsA"),s=n("09Br"),u=n("O+79");function l(){var e=f(["\n    fragment InteractiveVideoQuestionVideo on InteractiveQuestionOfTypeVideo {\n        dbId\n        questionText\n        showTime\n        orderNumber\n    }\n"]);return l=function(){return e},e}function d(){var e=f(["\n    fragment InteractiveVideoQuestionMultipleChoice on InteractiveQuestionOfTypeChoice {\n        dbId\n        questionText\n        showTime\n        orderNumber\n        score\n        options {\n            dbId\n            optionText\n        }\n    }\n"]);return d=function(){return e},e}function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p=a()(d()),m=a()(l()),b=n("/KNH");function y(){var e=C(["\n    query getActivityData($activityId: Int!, $studentId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            submitDueAt\n            groupReviewType\n            type\n            termClass {\n                dbId\n            }\n            instructionsText\n            instructionsMedia {\n                ...MediaFull\n            }\n            gradeType\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            rubricPeerAllowed\n            rubricSelfAllowed\n            studentFivestarValuationEnabled\n            rubric {\n                ...Rubric\n            }\n            dataForOneStudent(studentDbId: $studentId) {\n                ...EducatorInteractiveVideoActivityStudentData\n            }\n            interactiveVideoSettings {\n                isRetakeRequired\n                isSubmissionSummaryVisible\n                media {\n                    ...MediaBasic\n                }\n            }\n            interactiveQuestions {\n                __typename\n                dbId\n                orderNumber\n                questionText\n                showTime\n                ... on InteractiveQuestionOfTypeChoice {\n                    # rewindTime\n                    score\n                    options {\n                        __typename\n                        dbId\n                        optionText\n                        ... on InteractiveQuestionOptionFull {\n                            optionDescription\n                            correct\n                        }\n                    }\n                }\n            }\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return y=function(){return e},e}function v(){var e=C(["\n    query getActivityData($activityId: Int!, $studentId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            submitDueAt\n            type\n            termClass {\n                dbId\n            }\n            gradeType\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            rubricPeerAllowed\n            rubricSelfAllowed\n            studentFivestarValuationEnabled\n            rubric {\n                ...Rubric\n            }\n            dataForAllStudents {\n                student {\n                    dbId\n                    firstName\n                    lastName\n                }\n                activity {\n                    dbId\n                }\n                educatorGrade {\n                    ...EducatorGrade\n                }\n            }\n            dataForOneStudent(studentDbId: $studentId) {\n                ...EducatorInteractiveVideoActivityStudentData\n            }\n        }\n    }\n    ","\n    ","\n    ","\n"]);return v=function(){return e},e}function h(){var e=C(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            submitDueAt\n            type\n            termClass {\n                dbId\n            }\n            commentaryText\n            commentaryMedia {\n                ...MediaFull\n            }\n            gradeType\n            instructionsText\n            instructionsMedia {\n                ...MediaFull\n            }\n            isVideoToolEnabled\n            isDocumentToolEnabled\n            isMeetingToolEnabled\n            peerReviewType\n            peerReviewAmount\n            peerReviewGradeEnabled\n            peerReviewGradeWeight\n            peerReviewDueAt\n            rubric {\n                ...Rubric\n            }\n            executorsType\n            minStudentsAmountInGroup\n            maxStudentsAmountInGroup\n            rubricPeerAllowed\n            rubricSelfAllowed\n            studentFivestarValuationEnabled\n            ltiDeepLinking\n            ltiGradeIdentifier\n            ltiGradeSyncEnabled\n            allowViewOthersResultsWithoutOwn\n            isCommentingAnonymous\n            peerReviewSubmitterAnonymous\n            cengageSettings {\n                countTowardsFinalGrade\n                score\n                locked\n                inPath\n            }\n            dataForAllStudents {\n                student {\n                    dbId\n                }\n                result {\n                    submitter {\n                        roles\n                    }\n                }\n                educatorGrade {\n                    ...EducatorGrade\n                }\n                rubricEvaluations {\n                    user {\n                        ...GeneralUser\n                    }\n                    rubric {\n                        ...Rubric\n                    }\n                    points\n                }\n                interactiveAnswers {\n                    __typename\n                    # No need to get real data, just need to determine if an answer has been recorded\n                }\n            }\n            ...EducatorInteractiveVideoConfiguration\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return h=function(){return e},e}function g(){var e=C(["\n    fragment EducatorInteractiveVideoActivityStudentData on ActivityStudentData {\n        student {\n            ...EducatorUser\n        }\n        educatorGrade {\n            ...EducatorGrade\n        }\n        peerReview {\n            fiveStarValue\n            fiveStarRatesAmount\n            rubricGrade\n        }\n        rubricEvaluations {\n            ...RubricEvaluation\n        }\n        reviewedResults {\n            ...ReviewedResult\n        }\n        result {\n            ...EducatorInteractiveVideoProjectResult\n        }\n        isGradeDraftAllowed\n        interactiveAnswers {\n            ...EducatorInteractiveVideoAnswerMultipleChoice\n            ...EducatorInteractiveVideoAnswerVideo\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return g=function(){return e},e}function E(){var e=C(["\n    fragment EducatorInteractiveVideoProjectResult on ActivityResultInteractiveVideo {\n        submitter {\n            ...EducatorUser\n        }\n        submittedAt\n        media {\n            ...MediaFull\n        }\n        deletable\n        comments {\n            ...Comment\n            ...AnonymousComment\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return E=function(){return e},e}function w(){var e=C(["\n    fragment EducatorInteractiveVideoConfiguration on Activity {\n        interactiveVideoSettings {\n            isRetakeRequired\n            isSubmissionSummaryVisible\n            media {\n                ...MediaBasic\n            }\n        }\n        interactiveQuestions {\n            __typename\n            dbId\n            orderNumber\n            questionText\n            showTime\n            ... on InteractiveQuestionOfTypeChoice {\n                # rewindTime\n                score\n                options {\n                    __typename\n                    dbId\n                    optionText\n                    ... on InteractiveQuestionOptionFull {\n                        optionDescription\n                        correct\n                    }\n                }\n            }\n        }\n    }\n    ","\n"]);return w=function(){return e},e}function O(){var e=C(["\n    fragment EducatorInteractiveVideoAnswerVideo on InteractiveAnswerOfTypeVideo {\n        question {\n            ...InteractiveVideoQuestionMultipleChoice\n            ...InteractiveVideoQuestionVideo\n        }\n        submitter {\n            ...EducatorUser\n        }\n        media {\n            ...MediaFull\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return O=function(){return e},e}function S(){var e=C(["\n    fragment EducatorInteractiveVideoAnswerMultipleChoice on InteractiveAnswerOfTypeChoice {\n        question {\n            ...InteractiveVideoQuestionMultipleChoice\n            ...InteractiveVideoQuestionVideo\n        }\n        submitter {\n            ...EducatorUser\n        }\n        option {\n            dbId\n            optionText\n            optionDescription\n            correct\n        }\n    }\n    ","    \n    ","\n    ","\n"]);return S=function(){return e},e}function C(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _=a()(S(),c.c,p,m),I=a()(O(),i.d,c.c,p,m),T=a()(w(),i.b),R=a()(E(),u.b,u.a,i.d,c.c),P=a()(g(),R,c.c,o.a,s.c,_,I,b.a),A=a()(h(),c.e,o.a,s.d,i.d,T),N=a()(v(),s.d,o.a,P),j=a()(y(),s.d,i.b,i.d,P),k=n("x1nL");function D(){var e=V(["\n    query getActivityData($activityId: Int!) {\n        activity(dbId: $activityId) {\n            ...InteractiveVideoActivity\n            availableResults {\n                ...StudentInteractiveVideoProjectResult\n            }\n            reviewedResults {\n                ...StudentInteractiveVideoProjectResult\n            }\n        }\n    }\n    ","\n    ","\n"]);return D=function(){return e},e}function L(){var e=V(["\n    fragment InteractiveVideoActivity on Activity {\n        dbId\n        name\n        lmsLocked\n        className\n        submitDueAt\n        type\n        allowViewOthersResultsWithoutOwn\n        termClass {\n            ...TermClassBasic\n        }\n        commentaryText\n        commentaryMedia {\n            ...MediaFull\n        }\n        gradeType\n        instructionsText\n        instructionsMedia {\n            ...MediaFull\n        }\n        rubric {\n            ...Rubric\n        }\n        peerReviewType\n        peerReviewAmount\n        peerReviewGradeEnabled\n        peerReviewGradeWeight\n        peerReviewDueAt\n        isCommentingAnonymous\n        peerReviewSubmitterAnonymous\n        studentFivestarValuationEnabled\n        rubricPeerAllowed\n        rubricSelfAllowed\n        interactiveVideoSettings {\n            isRetakeRequired\n            isSubmissionSummaryVisible\n            media {\n                ...MediaBasic\n            }\n        }\n        interactiveQuestions {\n            ...InteractiveVideoQuestionMultipleChoice\n            ...InteractiveVideoQuestionVideo\n        }\n        submittable\n        myData {\n            ...StudentInteractiveVideoActivityStudentData\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return L=function(){return e},e}function M(){var e=V(["\n    fragment StudentInteractiveVideoActivityStudentData on ActivityStudentData {\n        student {\n            ...StudentUser\n        }\n        educatorGrade {\n            ...StudentEducatorGrade\n        }\n        peerReview {\n            fiveStarValue\n            fiveStarRatesAmount\n            rubricGrade\n        }\n        interactiveVideoWatchingFinishedAt\n        interactiveAnswers {\n            ...StudentInteractiveVideoAnswerMultipleChoice\n            ...StudentInteractiveVideoAnswerVideo\n        }\n        rubricEvaluations {\n            ...RubricEvaluation\n        }\n        result {\n            ...StudentInteractiveVideoProjectResult\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return M=function(){return e},e}function x(){var e=V(["\n    fragment StudentInteractiveVideoProjectResult on ActivityResultInteractiveVideo {\n        submitter {\n            ...StudentUser\n        }\n        submittedAt\n        media {\n            ...MediaFull\n        }\n        deletable\n        isViewed {\n            value\n        }\n        comments {\n            ...Comment\n            ...AnonymousComment\n        }\n        myFiveStarRating {\n            value\n        }\n        myRubricEvaluation{\n            ...StudentReviewRubric\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return x=function(){return e},e}function F(){var e=V(["\n    fragment StudentInteractiveVideoAnswerVideo on InteractiveAnswerOfTypeVideo {\n        question {\n            ...InteractiveVideoQuestionMultipleChoice\n            ...InteractiveVideoQuestionVideo\n        }\n        submitter {\n            ...StudentUser\n        }\n        media {\n            ...MediaFull\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return F=function(){return e},e}function U(){var e=V(["\n    fragment StudentInteractiveVideoAnswerMultipleChoice on InteractiveAnswerOfTypeChoice {\n        question {\n            ...InteractiveVideoQuestionMultipleChoice\n            ...InteractiveVideoQuestionVideo\n        }\n        submitter {\n            ...StudentUser\n        }\n        option {\n            dbId\n            optionText\n            optionDescription\n            correct\n        }\n    }\n    ","    \n    ","\n    ","\n"]);return U=function(){return e},e}function V(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var G=a()(U(),c.d,p,m),q=a()(F(),i.d,c.d,p,m),B=a()(x(),u.b,u.a,i.d,c.d,s.e),W=a()(M(),B,c.d,o.b,s.c,G,q),Q=a()(L(),W,i.b,i.d,s.d,k.e,p,m),Y=a()(D(),Q,B),H=Y,z=Y;n.d(t,"c",(function(){return A})),n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return G})),n.d(t,"e",(function(){return q})),n.d(t,"h",(function(){return B})),n.d(t,"f",(function(){return Y})),n.d(t,"g",(function(){return H})),n.d(t,"i",(function(){return z}))},unGX:function(e,t,n){e.exports={container:"b_ccocldCI",scoreContainer:"b_6Szdpj7Z",scoreLabel:"b_tvy4eths",scoreInnerContainer:"b_32LaTJ9D",label:"b_estxdfBb",c:"b_6BOSrNMF",b:"b_pQ0opqQs",a:"b_6SlyKizp",unknown:"b_jmdR4vS9",progressContainer:"b_rG2h7MUN",leftContainer:"b_xZwbFLh4",centerContainer:"b_gHtbEvLZ",rightContainer:"b_cILa9osr"}},upk1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.common}},upoK:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("xrVw"),i=n("17x9"),c=n.n(i),s=n("4XMt"),u=n("LvDl"),l=n.n(u),d=n("TSYQ"),f=n.n(d);n("y54d");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return l.a.pick(e,Object.keys(y.componentProps))}var y=function(e){return a.a.createElement(o.z,m({},b(e),{className:f()("list-item",e.className),"aria-label":e.ariaLabel,disabled:!e.enabled,onClick:function(t){return function(e,t){t.onClick&&t.onClick(t.data)}(0,e)},tileProps:{id:e.id}}),e.children)};y.componentProps={active:c.a.bool,className:c.a.string,headerClassName:c.a.string,itemProps:c.a.object,leftAvatar:c.a.element,leftNodeClassName:c.a.string,leftIcon:c.a.object,onClick:c.a.func,primaryText:c.a.any,rightIcon:c.a.object,secondaryText:c.a.string},y.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},y.componentProps,{ariaLabel:c.a.string,data:c.a.object,enabled:c.a.bool,id:c.a.string}),y.defaultProps={enabled:!0,primaryText:"(unknown)",selectableRows:!1},t.a=Object(s.c)(y)},uqCR:function(e,t,n){},uvcT:function(e,t,n){"use strict";var r=n("NlSD"),a=n("lTCR"),o=n.n(a),i=n("p7mv"),c=n("wNa6"),s=n("8bCP");function u(){var e=d(["\n    query getNavigation($termClassDbId: Int!, $activityDbId: Int!) {\n        navigation(termClassDbId: $termClassDbId, activityDbId: $activityDbId) {\n            identifier\n            path\n        }\n    }\n"]);return u=function(){return e},e}function l(){var e=d(["\n    query getNavigation($termClassDbId: Int!) {\n        navigation(termClassDbId: $termClassDbId) {\n            identifier\n            path\n        }\n    }\n"]);return l=function(){return e},e}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"getNavigationItems",value:function(e){return c.a.dispatch(i.c(!0)),r.a.query({query:m,variables:{termClassDbId:e},fetchPolicy:"network-only"}).then((function(e){c.a.dispatch(i.c(!1)),c.a.dispatch(i.d(e.data.navigation))})).catch((function(e){c.a.dispatch(i.c(!1)),s.b.error(e)}))}},{key:"getActivityNavigationItems",value:function(e,t){return c.a.dispatch(i.c(!0)),r.a.query({query:b,variables:{termClassDbId:e,activityDbId:t},fetchPolicy:"network-only"}).then((function(e){c.a.dispatch(i.c(!1)),c.a.dispatch(i.d(e.data.navigation))})).catch((function(e){c.a.dispatch(i.c(!1)),s.b.error(e)}))}}])&&f(t.prototype,n),a&&f(t,a),e}(),m=o()(l()),b=o()(u());t.a=new p},uxn8:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n("LvDl"),a=n.n(r),o=n("8bCP");function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t){return 0===t?e.slice(1):t===e.length-1?e.slice(0,-1):t>=e.length?(o.b.warn("ReduxHelpers -> removeFromArray::: Can't remove array item with index larger that array length"),e):t<0?(o.b.warn("ReduxHelpers -> removeFromArray::: Can't remove array item with index less that zero"),e):[].concat(i(e.slice(0,t)),i(e.slice(t+1)))}function s(e,t,n){var r=-1;return a.a.each(e,(function(e,o){a.a.get(e,n)===a.a.get(t,n)&&(r=o)})),r}function u(e,t,n){var r=s(e,n,t);return-1===r?(o.b.warn("ReduxHelpers -> removeFromArrayOfObjects::: Can't remove object that doesn't exist in array"),e):c(e,r)}function l(e,t,n){return[].concat(i(e.slice(0,n)),[t],i(e.slice(n)))}function d(e,t,n){var r=e[t];return l(e=c(e,t),r,n)}},v6po:function(e,t,n){"use strict";t.a={ACTIVITY_OVERVIEW:"ACTIVITY_OVERVIEW",ACTIVITY_COMMENTARY:"ACTIVITY_COMMENTARY",DIRECT_LIBRARY:"DIRECT_LIBRARY",STUDENT_RESULT:"STUDENT_RESULT",STUDENT_RESULT_PARTIAL:"STUDENT_RESULT_PARTIAL",QA_QUESTION:"QA_QUESTION",INTERACTIVE_VIDEO:"INTERACTIVE_VIDEO",COMMENT:"COMMENT"}},vCeT:function(e,t,n){"use strict";t.a={INITIALIZED:"INITIALIZED",STREAM_ADDED:"STREAM_ADDED",RECORDING_STARTED:"RECORDING_STARTED",RECORDING_STOPPED:"RECORDING_STOPPED",RECORDING_PAUSED:"RECORDING_PAUSED",RECORDING_RESUMED:"RECORDING_RESUMED",PREVIEW_IS_READY:"PREVIEW_IS_READY",UPLOADING_PROGRESS:"UPLOADING_PROGRESS",UPLOAD_FINISHED:"UPLOAD_FINISHED",NOTIFICATION:"NOTIFICATION",REQUEST_NEW_STREAMS:"REQUEST_NEW_STREAMS",RESET_STREAMS:"RESET_STREAMS"}},vGZo:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={STUDENT:"student",EDUCATOR:"educator",ANON:"external"}},vQ62:function(e,t,n){e.exports={detailsHeader:"b_rY5FRHDt",headerActions:"b_6iD8NEl4",activityActions:"b_pY5H6pBR",headerInfo:"b_z2N2RnVt",headerTitle:"b_ex9gKjB5",detailsContainer:"b_yPCm6ICC",activityInfo:"b_opqDjCWC",infoItem:"b_gxQTPU75",activityLogDialog:"b_8aX5Ua6O",activityLogContainer:"b_uoB6d5xM",chatDialog:"b_epWj6Hkv",chatContainer:"b_d1cTeABZ"}},vYxz:function(e,t,n){e.exports={joinCard:"b_atLTDGUP",joinTop:"b_tft05yLa",joinMiddle:"b_nfMmBmy9",joinBottom:"b_s8qjtipM",joinButtonTooltip:"b_dB734JBS",joinButton:"b_3SWCc3pk",joinButtonSide:"b_zNHbZUtv",joinButtonLabel:"b_mfLe2S95",joinButtonIcon:"b_mRi2jxCn",userAvatar:"b_xpZKh5v0",userAvatarAnon:"b_vedUOxTT",userAvatarAnonIcon:"b_lUxM7194",userName:"b_eXapxfkZ",userNameInput:"b_5QLi4YmX",userNameInputField:"b_zJrZ8sBM",meetingStatus:"b_pgZpVSqF",meetingStatusLabel:"b_3DLSlOAR",meetingAttendeeAvatars:"b_8pUFtaEj",meetingAttendeeAvatar:"b_49hoRGDM",meetingAttendeeOverflowLabel:"b_svVNFQfB"}},vbAW:function(e,t,n){e.exports={scoreItemContainer:"b_f95tMykX",scoreLabel:"b_cUxcg07Y",scoreValue:"b_mPuNqGvQ"}},vlAY:function(e,t,n){},vnhF:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n("LFYD"),a=n("2bAp"),o=n("ZD0w"),i=n("BulX"),c=n("LvDl"),s=n.n(c),u=["label","ariaLabel","iconAriaLabel","breadcrumbLabel"],l=!1;function d(e){if(!l){for(var t=s.a.keys(f),n=function(n){var r=t[n],a=f[r];a&&s.a.forEach(u,(function(t){a[t]&&(a[t]=e._(a[t]))}))},r=0;r<t.length;r++)n(r);l=!0}}var f={ASSIGNMENTS:{identifier:"activities-list",label:Object(o.i18nMark)("Assignments"),icon:r.a.ASSIGNMENTS,ariaLabel:Object(o.i18nMark)("Assignments"),iconAriaLabel:Object(o.i18nMark)("Assignments, icon"),route:i.d.EDUCATOR_ACTIVITY_LIST},CONFIGURATION:{identifier:"configuration",label:Object(o.i18nMark)("Configuration"),breadcrumbLabel:Object(o.i18nMark)("Configure Assignment"),icon:r.a.SETTINGS,ariaLabel:Object(o.i18nMark)("Configuration"),iconAriaLabel:Object(o.i18nMark)("Configuration, icon")},CONFIGURATION_NEW:{identifier:"configuration",label:Object(o.i18nMark)("Configuration"),breadcrumbLabel:Object(o.i18nMark)("Configure Assignment"),icon:r.a.SETTINGS,ariaLabel:Object(o.i18nMark)("Configuration"),iconAriaLabel:Object(o.i18nMark)("Configuration, icon")},D2L_QUICK_LINK_ACTIVITY_LIST:{identifier:"d2l_quick_link_activity_list"},ACTIVITY_OVERVIEW:{identifier:"activity-overview",label:Object(o.i18nMark)("Overview"),icon:r.a.GRADEBOOK,ariaLabel:Object(o.i18nMark)("Overview"),iconAriaLabel:Object(o.i18nMark)("Activity Overview, icon")},GRADING:{identifier:"grading",label:Object(o.i18nMark)("Grading"),icon:r.a.GRADE,ariaLabel:Object(o.i18nMark)("Grading"),iconAriaLabel:Object(o.i18nMark)("Grading, icon")},GROUPS:{identifier:"manage_groups",label:Object(o.i18nMark)("Manage groups"),icon:r.a.GROUP,ariaLabel:Object(o.i18nMark)("Manage groups"),iconAriaLabel:Object(o.i18nMark)("Manage groups, icon")},LIBRARY:{identifier:"library",label:Object(o.i18nMark)("Library"),icon:r.a.LIBRARY,ariaLabel:Object(o.i18nMark)("Library"),iconAriaLabel:Object(o.i18nMark)("Library, icon"),route:i.d.EDUCATOR_LIBRARY},LTI_IGNORE_LIST:{identifier:"lti-ignore-list",label:Object(o.i18nMark)("LTI Ignore List"),icon:"",ariaLabel:Object(o.i18nMark)("LTI Ignore List"),iconAriaLabel:Object(o.i18nMark)("LTI Ignore List, icon")},MEETINGS:{identifier:"meetings-list",label:Object(o.i18nMark)("Meetings"),iconClassName:a.a.CALENDAR,ariaLabel:Object(o.i18nMark)("Meetings"),iconAriaLabel:Object(o.i18nMark)("Meetings, icon"),route:i.d.EDUCATOR_MEETINGS},PROGRESS:{identifier:"student_progress",label:Object(o.i18nMark)("Progress"),iconClassName:r.a.PERSON,ariaLabel:Object(o.i18nMark)("Progress"),iconAriaLabel:Object(o.i18nMark)("Progress, icon")},RUBRICS:{identifier:"rubrics",label:Object(o.i18nMark)("Rubrics"),breadcrumbLabel:Object(o.i18nMark)("Rubrics"),icon:r.a.RUBRIC,ariaLabel:Object(o.i18nMark)("Rubrics"),iconAriaLabel:Object(o.i18nMark)("Rubrics, icon"),route:i.d.EDUCATOR_RUBRICS_LIST},RUBRICS_COPY:{identifier:"rubrics_copy",label:Object(o.i18nMark)("Copy rubric"),breadcrumbLabel:Object(o.i18nMark)("Copy Rubric"),iconClassName:r.a.RUBRIC,ariaLabel:Object(o.i18nMark)("Copy rubric"),iconAriaLabel:Object(o.i18nMark)("Copy rubric, icon")},RUBRICS_CREATE:{identifier:"rubrics_create",label:Object(o.i18nMark)("Create rubric"),breadcrumbLabel:Object(o.i18nMark)("Create Rubric"),iconClassName:r.a.RUBRIC,ariaLabel:Object(o.i18nMark)("Create rubric"),iconAriaLabel:Object(o.i18nMark)("Create rubric, icon")},RUBRICS_EDIT:{identifier:"rubrics_edit",label:Object(o.i18nMark)("Edit rubric"),breadcrumbLabel:Object(o.i18nMark)("Edit Rubric"),iconClassName:r.a.RUBRIC,ariaLabel:Object(o.i18nMark)("Edit rubric"),iconAriaLabel:Object(o.i18nMark)("Edit rubric, icon")},RUBRICS_IMPORT:{identifier:"rubrics_import",label:Object(o.i18nMark)("Import rubric"),breadcrumbLabel:Object(o.i18nMark)("Import Rubric"),iconClassName:r.a.RUBRIC,ariaLabel:Object(o.i18nMark)("Import rubric"),iconAriaLabel:Object(o.i18nMark)("Import rubric, icon")},SUPPORT:{identifier:"help",label:Object(o.i18nMark)("Support"),icon:r.a.SUPPORT,ariaLabel:Object(o.i18nMark)("Support"),iconAriaLabel:Object(o.i18nMark)("Support, icon")},ACTIVITY_CREATE:{identifier:"activity-create-old-ui"},SETTINGS:{identifier:"settings",label:Object(o.i18nMark)("Settings"),icon:r.a.CONFIGURE,ariaLabel:Object(o.i18nMark)("Settings"),iconAriaLabel:Object(o.i18nMark)("Settings, icon"),route:i.d.EDUCATOR_SETTINGS},NOTIFICATIONS:{identifier:"notifications",label:Object(o.i18nMark)("Notifications"),icon:r.a.ANNOUNCEMENT,ariaLabel:Object(o.i18nMark)("Notifications"),iconAriaLabel:Object(o.i18nMark)("Notifications, icon"),route:i.d.EDUCATOR_NOTIFICATIONS},TEMPLATE_SETTINGS:{identifier:"template-settings",label:Object(o.i18nMark)("Template settings"),icon:r.a.EDIT,ariaLabel:Object(o.i18nMark)("Template settings"),iconAriaLabel:Object(o.i18nMark)("Template settings, icon"),route:i.d.EDUCATOR_TEMPLATE_SETTINGS},TRIAL:{identifier:"trial",label:Object(o.i18nMark)("Trial"),icon:r.a.TIMER,ariaLabel:Object(o.i18nMark)("Trial"),iconAriaLabel:Object(o.i18nMark)("Trial, icon"),route:i.d.TRIAL}};t.a=f},w8M0:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("TSYQ"),u=n.n(s),l=n("LvDl"),d=n.n(l);n("aapZ");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){return a.a.createElement(c.p,p({},function(e){return d.a.pick(e,Object.keys(m.componentProps))}(e),{className:u()("drawer",e.className)}),e.children)};m.DrawerTypes=c.p.DrawerTypes,m.componentProps={className:i.a.string,header:i.a.any,navItems:i.a.any,onMediaTypeChange:i.a.func,onVisibilityChange:i.a.func,overlay:i.a.bool,position:i.a.string,transitionDuration:i.a.number,type:i.a.any,visible:i.a.bool},m.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},m.componentProps),m.defaultProps={visible:!1,overlay:!0,transitionDuration:0,type:c.p.DrawerTypes.TEMPORARY};var b=m;n.d(t,"a",(function(){return b}))},"wGj+":function(e,t,n){},wJfn:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("ZD0w"),i=n("yzbm"),c=n("LvDl"),s=n.n(c),u=n("LFYD"),l=n("hu4m"),d=n("kbsL"),f=n("8For"),p=n("2Gxn"),m=n("P/HN"),b=n("iGlQ"),y=n("/W66"),v=n("lLLA"),h=n.n(v),g=n("TSYQ"),E=n.n(g),w=n("giI2"),O=n("upoK");n("PcDh");function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C,_=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"addLeadingZero",value:function(e){return e<10?"0"+e:""+e}},{key:"getUploadSpeedString",value:function(e){(e<0||!isFinite(e))&&(e=0);var t=Math.round(e/1024);return isFinite(e)||(t=0),t<1e3?t+" Kb/s":(t/1024).toFixed(2)+" Mb/s"}},{key:"getTimeLeftString",value:function(t,n,r){return isFinite(r)||(r=0),isFinite(n)||(n=0),isFinite(t)||(t=0),t=t>=0?t:0,n=n>=0?n:0,r=r>=0?r:0,e.addLeadingZero(r)+":"+e.addLeadingZero(n)+":"+e.addLeadingZero(t)}},{key:"fileSizeToString",value:function(e){var t=(e/1024).toFixed(0);if(t<1e3)return t+" kb";var n=(t/1024).toFixed(0);return n<1e3?n+" mb":(n/1024).toFixed(2)+" gb"}}],(n=null)&&S(t.prototype,n),r&&S(t,r),e}(),I=n("PO6j"),T=n("q8N1");function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return(P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==P(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N(this,j(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(r=[{key:"handleRemove",value:function(){this.props.removeFile(this.props.file)}},{key:"render",value:function(){var e=this.props.file,t=e.name,n=e.size,r=e.status,o=e.uploadingPercent,i=e.isProcessed,c=e.hasError,s=this.props.i18n,l=_.fileSizeToString(n),d=s._("Size - {fileSizeString} ({uploadingPercent}% uploaded)",{fileSizeString:l,uploadingPercent:o}),f=r===h.a.status.UPLOAD_SUCCESSFUL,p=a.a.createElement("span",null,c&&a.a.createElement("span",null,a.a.createElement(I.a,null,s._("Error during processing of file {name}",{name:t})),a.a.createElement(w.a,{title:s._("Error during file processing"),ariaLabel:s._("Error during file processing, icon"),className:"c-file-uploader__error-icon"},u.a.ERROR)),!i&&!f&&a.a.createElement("span",{onClick:this.handleRemove.bind(this),role:"button",onKeyDown:Object(T.b)(this.handleRemove.bind(this)),"aria-label":s._('Delete file "{name}"',{name:t}),tabIndex:0},a.a.createElement(w.a,{title:s._("Remove from list"),ariaLabel:s._("Remove from list, icon"),className:"c-file-uploader__remove-icon"},u.a.DELETE)),i&&a.a.createElement("span",null,a.a.createElement(I.a,null,s._("Successfully uploaded {name}",{name:t})),a.a.createElement(w.a,{title:s._("Processed successfully"),ariaLabel:s._("Processed successfully, icon"),className:"c-file-uploader__success-icon"},u.a.DONE)));return a.a.createElement(O.a,{className:E()("c-file-uploader__file",L[r]),leftIcon:a.a.createElement(w.a,{ariaLabel:s._("File, icon")},u.a.FILE),rightIcon:p,secondaryText:d,primaryText:t})}}])&&A(n.prototype,r),o&&A(n,o),t}(r.Component),L=(R(C={},h.a.status.QUEUED,"c-file-uploader__file--queued"),R(C,h.a.status.UPLOADING,"c-file-uploader__file--uploading"),R(C,h.a.status.UPLOAD_SUCCESSFUL,"c-file-uploader__file--success"),R(C,h.a.status.PAUSED,"c-file-uploader__file--paused"),R(C,h.a.status.UPLOAD_RETRYING,"c-file-uploader__file--retry"),C),M=Object(o.withI18n)()(D);n("dUr/");function x(e){return(x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==x(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(this,V(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.files,r=t.i18n;return a.a.createElement("div",{"aria-label":r._("File list"),tabIndex:0},a.a.createElement(b.b,{className:"file-uploader-list--list"},n.map((function(t){return a.a.createElement(M,{key:t.id+t.name,file:t,removeFile:e.props.removeFile})}))),a.a.createElement(y.a,null))}}])&&F(n.prototype,r),o&&F(n,o),t}(r.Component),B=Object(o.withI18n)()(q);function W(e){return(W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return!t||"object"!==W(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X="c-file-uploader__info-field",J="c-file-uploader__info-field-icon",Z="c-file-uploader__info-field-text",$=["video/*"],ee=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),H(this,z(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,e),n=t,(r=[{key:"onFilesSelect",value:function(e,t){var n=e.concat(t);0!==(n=s.a.compact(n)).length&&(n=n.map((function(e){return{name:e.name,blob:e}})),this.props.addFiles(n))}},{key:"render",value:function(){var e=this.props,t=e.isInitialState,n=e.isUploadReadyState,r=e.isUploadingState,o=e.isPausedState,c=e.startUpload,s=e.pauseUpload,b=e.resumeUpload,y=e.uploadedFilesCount,v=e.uploadedPercent,h=e.uploadSpeedBps,g=e.secondsLeft,E=e.minutesLeft,w=e.hoursLeft,O=e.files,S=e.multiSelection,C=e.allowedExtensions,I=e.allowedNumFiles,T=e.i18n,R=t||n,P=O?O.length:0,A=Boolean(P>0),N=0;O.forEach((function(e){N+=e.size}));var j=P<I,k={};if(!j)switch(I){case 1:k.label=T._("This context only supports a single video file for upload");break;default:k.label=T._("You've reached the maximum number of video files which can be uploaded in this batch")}var D=p.f(),L=!(A||D),M=n||r||o;return a.a.createElement("div",{className:"c-file-uploader"},a.a.createElement("div",{className:"file-uploader-choose-actions-container"},R&&!L&&a.a.createElement(m.a,{text:T._("Add Video"),accept:[].concat(Q(C),$),disabled:!j,tooltip:k,showFileName:!1,icon:u.a.ADD,multiple:S,onFile:this.onFilesSelect.bind(this)}),R&&D&&a.a.createElement(m.a,{text:T._("Record Video"),accept:$,showFileName:!1,icon:u.a.VIDEOCAM,inputProps:{capture:"user"},multiple:!1,onFile:this.onFilesSelect.bind(this)})),a.a.createElement("div",{className:"file-uploader-list--container"},A&&a.a.createElement(l.a,{zDepth:1,className:"file-uploader-list--paper"},a.a.createElement(B,{files:O,removeFile:this.props.removeFile})),L&&a.a.createElement(i.a,{onDrop:this.onFilesSelect.bind(this),accept:[].concat(Q(C),$),className:"c-file-uploader__drop-area",activeClassName:"c-file-uploader__drop-area--active",multiple:S},a.a.createElement("p",{className:"c-file-uploader__drop-area-text"},T._("Drop video or click here"))),r&&a.a.createElement("div",{className:"c-file-uploader__upload-progress",tabIndex:0,role:"progressbar","aria-label":T._("Total Uploading Progress"),"aria-valuenow":v,"aria-valuemin":"0","aria-valuemax":"100","aria-valuetext":"Uploading progress is ".concat(v,"%")},a.a.createElement("div",{className:"c-file-uploader__upload-progressbar"},a.a.createElement("div",{className:"c-file-uploader__upload-progress-strip",style:{width:v+"%"}}))),A&&a.a.createElement("div",{className:"c-file-uploader__info"},a.a.createElement("p",{className:X,title:T._("Total Files Size")},a.a.createElement(f.a,{ariaLabel:T._("Total Files Size, icon"),className:J},u.a.FILE_UPLOAD),a.a.createElement("span",{className:Z},_.fileSizeToString(N))),a.a.createElement("p",{className:X,title:T._("Uploaded File Count")},a.a.createElement(f.a,{ariaLabel:T._("Uploaded File Count, icon"),className:J},u.a.CHECK_CIRCLE),a.a.createElement("span",{className:Z},"".concat(y,"/").concat(O.length))),r&&a.a.createElement("p",{className:X,title:T._("Upload Speed")},a.a.createElement(f.a,{ariaLabel:T._("Upload Speed, icon"),className:J},u.a.WIFI),a.a.createElement("span",{className:Z},_.getUploadSpeedString(h))),r&&a.a.createElement("p",{className:X,title:T._("Time Left")},a.a.createElement(f.a,{ariaLabel:T._("Time Left, icon"),className:J},u.a.ACCESS_TIME),a.a.createElement("span",{className:Z},_.getTimeLeftString(g,E,w)))),M&&a.a.createElement("div",{className:"file-uploader-transfer-actions-container"},n&&a.a.createElement(d.h,{id:"button-file-begin-upload",ariaLabel:T._("Begin Upload"),primary:!0,onClick:c},T._("Begin Upload")),r&&a.a.createElement(d.h,{id:"button-file-pause-upload",ariaLabel:T._("Pause Upload"),primary:!0,onClick:s},T._("Pause Upload")),o&&a.a.createElement(d.h,{id:"button-file-resume-upload",ariaLabel:T._("Resume Upload"),primary:!0,onClick:b},T._("Resume Upload")))))}}])&&Y(n.prototype,r),o&&Y(n,o),t}(r.Component);t.a=Object(o.withI18n)()(ee)},wKwc:function(e,t,n){e.exports={userDetailsPage:"b_A6OMZSMr",overviewToolbar:"b_wVlrGf3u",large:"b_yLwko2SB"}},wNa6:function(e,t,n){"use strict";var r=n("ANjH"),a=n("5HXA"),o=n("pElA"),i=n("LvDl"),c=n.n(i),s=n("uxn8"),u=n("zyHd");function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={isLoading:!1,activityData:null,milestoneFormIsShowing:!1,milestoneIsLoading:!1,meetingIsLoading:!1,resultsPartialsIsLoading:!1,selectedInProgressPartials:[],selectedReadyToSubmitPartials:[],groupCommentsIsLoading:!1,teamEvalIsLoading:!1,removeSubmissionIsLoading:!1,peerReviewCommentIsLoading:!1,feedbackCommentIsLoading:!1,backgroundRefreshIsLoading:!1,refreshEducatorProgressIsLoading:!1,isActivitySubmitting:!1,isGroupNameEditing:!1,interactiveAnswerIsLoading:!1};function m(e,t){if(c.a.isArray(e))return t}var b=n("3Tiu"),y={isQuestionLoading:!1,activeQuestion:null,isQuestionBeingWithdrawn:!1,isAnswerBeingDeleted:!1,isSubmitting:!1,practiceData:null,backgroundRefreshIsLoading:!1,currentActivityState:null},v=n("b+Px");function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={groupFormationData:null,isLoading:!1},w=Object(r.combineReducers)({activity:function(){var e,t,n,r,a,i,f,b,y,v,h,g,E,w,O,S,C,_,I,T,R,P,A,N,j,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,D=arguments.length>1?arguments[1]:void 0;switch(D.type){case o.S:return c.a.assign({},k,{activityData:D.payload});case o.L:return d({},k,{activityData:d({},k.activityData,D.payload)});case o.bb:return c.a.assign({},k,{isLoading:D.payload});case o.db:return c.a.assign({},k,{milestoneIsLoading:D.payload});case o.jb:return c.a.assign({},k,{milestoneFormIsShowing:D.payload});case o.K:return c.a.assign({},k,{peerReviewCommentIsLoading:D.payload});case o.H:return c.a.assign({},k,{feedbackCommentIsLoading:D.payload});case o.I:return c.a.assign({},k,{interactiveAnswerIsLoading:D.payload});case o.U:return c.a.assign({},k,{backgroundRefreshIsLoading:D.payload});case o.gb:return c.a.assign({},k,{refreshEducatorProgressIsLoading:D.payload});case o.T:return c.a.assign({},k,{isActivitySubmitting:D.payload});case o.Z:return c.a.assign({},k,{isGroupNameEditing:D.payload});case o.J:return c.a.mergeWith({},k,{activityData:D.payload},m);case o.Y:return(y=c.a.clone(k.activityData.myData.studentGroup)).name=D.payload.name,c.a.merge({},k,{activityData:{myData:{studentGroup:y}}});case o.i:return(e=c.a.clone(k.activityData.myData.studentGroup.milestones)).push(D.payload),c.a.merge({},k,{activityData:{myData:{studentGroup:{milestones:e}}}});case o.E:return t=c.a.clone(k.activityData),A=c.a.clone(t.myData),y=c.a.clone(A.studentGroup),(j=c.a.clone(y.milestones))[c.a.findIndex(j,["dbId",+D.payload.dbId])]=D.payload,y.milestones=j,A.studentGroup=y,t.myData=A,c.a.assign({},k,{activityData:t});case o.u:return t=c.a.clone(k.activityData),A=c.a.clone(t.myData),y=c.a.clone(k.activityData.myData.studentGroup),j=c.a.clone(y.milestones),c.a.remove(j,(function(e){return+e.dbId===+D.payload.dbId})),y.milestones=j,A.studentGroup=y,t.myData=A,c.a.assign({},k,{activityData:t});case o.h:return(a=c.a.clone(k.activityData.myData.resultPartials)).push(D.payload),c.a.merge({},k,{activityData:{myData:{resultPartials:a}}});case o.t:return t=c.a.clone(k.activityData),A=c.a.clone(t.myData),a=c.a.clone(A.resultPartials),c.a.remove(a,(function(e){return!(!u.a.isMeeting(e)||e.dbId!==D.payload)})),A.resultPartials=a,t.myData=A,c.a.assign({},k,{activityData:t});case o.s:return t=c.a.clone(k.activityData),c.a.remove(t.myData.resultPartials,(function(e){return+e.dbId===+D.payload})),c.a.assign({},k,{activityData:t});case o.cb:return c.a.assign({},k,{meetingIsLoading:D.payload});case o.hb:return t=c.a.clone(k.activityData),(A=c.a.clone(t.myData)).resultPartials=D.payload,t.myData=A,c.a.assign({},k,{activityData:t});case o.ib:return c.a.assign({},k,{resultsPartialsIsLoading:D.payload});case o.n:return c.a.merge({},k,{activityData:{myData:{result:D.payload}}});case o.x:return t=c.a.clone(k.activityData),(A=c.a.clone(t.myData)).result=null,t.myData=A,c.a.assign({},k,{activityData:t});case o.Q:return-1!==(n=s.a(k.selectedInProgressPartials,D.payload,"dbId"))?k:u.a.containVideoPartial(k.selectedInProgressPartials)&&u.a.isVideoPartial(D.payload)?k:((r=c.a.clone(k.selectedInProgressPartials)).push(D.payload),c.a.assign({},k,{selectedInProgressPartials:r}));case o.A:return-1===(n=s.a(k.selectedInProgressPartials,D.payload,"dbId"))?k:(r=c.a.clone(k.selectedInProgressPartials),r=s.d(r,n),c.a.assign({},k,{selectedInProgressPartials:r}));case o.R:return-1!==(n=s.a(k.selectedReadyToSubmitPartials,D.payload,"dbId"))?k:((f=c.a.clone(k.selectedReadyToSubmitPartials)).push(D.payload),c.a.assign({},k,{selectedReadyToSubmitPartials:f}));case o.B:return-1===(n=s.a(k.selectedReadyToSubmitPartials,D.payload,"dbId"))?k:(f=c.a.clone(k.selectedReadyToSubmitPartials),f=s.d(f,n),c.a.assign({},k,{selectedReadyToSubmitPartials:f}));case o.y:return c.a.assign({},k,{selectedInProgressPartials:[]});case o.O:r=[];var L=!1,M=!1;return k.selectedInProgressPartials.forEach((function(e){u.a.isVideoPartial(e)&&(r.push(e),L=!0)})),u.a.getReadyToSubmitPartials(k.activityData.myData.resultPartials).forEach((function(e){u.a.isVideoPartial(e)&&(M=!0)})),i=u.a.getInProgressPartials(k.activityData.myData.resultPartials),(i=c.a.clone(i)).forEach((function(e){u.a.isVideoPartial(e)&&L||u.a.isVideoPartial(e)&&M||u.a.isMediaInProcessingProgress(e)||u.a.isUnprocessedMeeting(e)||(u.a.isVideoPartial(e)&&(L=!0),r.push(e))})),c.a.assign({},k,{selectedInProgressPartials:r});case o.z:return c.a.assign({},k,{selectedReadyToSubmitPartials:[]});case o.P:return f=c.a.clone(u.a.getReadyToSubmitPartials(k.activityData.myData.resultPartials)),c.a.assign({},k,{selectedReadyToSubmitPartials:f});case o.k:return a=c.a.merge([],k.activityData.myData.resultPartials),D.payload.forEach((function(e){var t=s.a(a,e,"dbId");-1!==t&&(a[t].finalizedAt=e.finalizedAt)})),c.a.merge({},k,{activityData:{myData:{resultPartials:a}}});case o.j:return a=c.a.merge([],k.activityData.myData.resultPartials),D.payload.forEach((function(e){var t=s.a(a,e,"dbId");-1!==t?a[t].finalizedAt=null:a.push(e)})),c.a.merge({},k,{activityData:{myData:{resultPartials:a}}});case o.F:return a=c.a.clone(k.activityData.myData.resultPartials),N=s.a(a,D.payload,"dbId"),a[N]=D.payload,c.a.merge({},k,{activityData:{myData:{resultPartials:a}}});case o.v:return a=l(k.activityData.myData.resultPartials),c.a.remove(a,(function(e){return+e.dbId===+D.payload})),d({},k,{activityData:d({},k.activityData,{myData:d({},k.activityData.myData,{resultPartials:a})})});case o.b:var x=D.payload;return(b=c.a.clone(k.activityData.myData.studentGroup.comments)).push(x),c.a.merge({},k,{activityData:{myData:{studentGroup:{comments:b}}}});case o.r:return t=c.a.clone(k.activityData),A=c.a.clone(t.myData),y=c.a.clone(A.studentGroup),b=c.a.clone(y.comments),c.a.remove(b,(function(e){return+e.dbId===+D.payload})),y.comments=b,A.studentGroup=y,t.myData=A,c.a.assign({},k,{activityData:t});case o.X:return c.a.assign({},k,{groupCommentsIsLoading:D.payload});case o.W:return b=D.payload,c.a.merge({},k,{activityData:{myData:{studentGroup:{comments:b}}}});case o.kb:return c.a.assign({},k,{teamEvalIsLoading:D.payload});case o.d:return v=c.a.clone(k.activityData.myData.studentGroup.members),O=D.payload,w=c.a.findIndex(v,["dbId",O.peerDbId]),(S=c.a.clone(v[w])).myFiveStarRating={value:O.value,comment:O.comment},v[w]=S,c.a.merge({},k,{activityData:{myData:{studentGroup:{members:v}}}});case o.e:return v=c.a.clone(k.activityData.myData.studentGroup.members),O=D.payload.rubricResult,I=D.payload.peerDbId,-1===(w=c.a.findIndex(v,["dbId",I]))?k:((S=c.a.clone(v[w])).myRubricEvaluation={points:O.points,comment:O.comment,cells:O.cells},v[w]=S,c.a.merge({},k,{activityData:{myData:{studentGroup:{members:v}}}}));case o.c:return v=c.a.clone(k.activityData.myData.studentGroup.members),O=D.payload,w=c.a.findIndex(v,["dbId",O.peerDbId]),(S=c.a.clone(v[w])).myRubricEvaluation=d({},S.myRubricEvaluation,{comment:O.comment}),v[w]=S,c.a.merge({},k,{activityData:{myData:{studentGroup:{members:v}}}});case o.N:return c.a.assign({},k,{removeSubmissionIsLoading:D.payload});case o.l:E=c.a.clone(k.activityData.reviewedResults),h=c.a.clone(k.activityData.availableResults);var F=c.a.findIndex(E,["submitter.dbId",D.payload.submitter.dbId]);if(-1!==F){var U=c.a.clone(E[F]);U.comments=s.b(U.comments,D.payload,0),E[F]=U}else{var V=c.a.findIndex(h,["submitter.dbId",D.payload.submitter.dbId]),G=c.a.clone(h[V]);G.comments=s.b(G.comments,D.payload,0),s.b(E,G,0)}return c.a.merge({},k,{activityData:{reviewedResults:E}});case o.G:E=c.a.clone(k.activityData.reviewedResults),g=c.a.findIndex(E,["submitter.dbId",D.payload.submitter.dbId]);var q=c.a.clone(E[g]),B=c.a.clone(q.comments);return B[_=c.a.findIndex(B,["dbId",D.payload.dbId])]=D.payload,q.comments=B,E[g]=q,c.a.merge({},k,{activityData:{reviewedResults:E}});case o.w:t=c.a.clone(k.activityData),E=c.a.clone(t.reviewedResults);for(var W=0;W<E.length;W++){var Q=c.a.clone(E[W]),Y=c.a.clone(Q.comments),H=c.a.findIndex(Y,(function(e){return+e.dbId===+D.payload.removedId}));H>=0&&(Y[H]=d({},Y[H],{isDeleted:!0,commentMedia:null}),Q.comments=Y,E[W]=Q)}return t.reviewedResults=E,c.a.assign({},k,{activityData:t});case o.o:return k;case o.lb:return k.activityData.dbId!==D.payload.dbId?k:(t=c.a.clone(k.activityData),Object.keys(D.payload).forEach((function(e){t[e]=D.payload[e]})),c.a.assign({},k,{activityData:t}));case o.g:return t=c.a.clone(k.activityData),A=c.a.clone(t.myData),(a=c.a.clone(A.resultPartials)).push(D.payload),A.resultPartials=a,t.myData=A,c.a.assign({},k,{activityData:t});case o.mb:return t=c.a.clone(k.activityData),(A=c.a.clone(t.myData)).qaAnswers=D.payload.myData.qaAnswers,t.qaQuestion=D.payload.qaQuestion,t.myData=A,t.result=D.payload.myData.result,c.a.assign({},k,{activityData:t});case o.a:return(C=c.a.clone(k.activityData.myData.result.comments)).push(D.payload),c.a.merge({},k,{activityData:{myData:{result:{comments:C}}}});case o.q:return t=c.a.clone(k.activityData),A=c.a.clone(t.myData),q=c.a.clone(A.result),B=c.a.clone(q.comments),(_=c.a.findIndex(B,["dbId",D.payload.removedId]))>=0&&(B[_]=d({},B[_],{isDeleted:!0,commentMedia:null}),q.comments=B,A.result=q),t.myData=A,c.a.assign({},k,{activityData:t});case o.C:return q=c.a.clone(k.activityData.myData.result),_=c.a.findIndex(q.comments,["dbId",D.payload.dbId]),(B=c.a.clone(q.comments))[_]=D.payload,q.comments=B,c.a.merge({},k,{activityData:{myData:{result:q}}});case o.M:return(q=c.a.clone(k.activityData.myData.result)).comments=D.payload,c.a.merge({},k,{activityData:{myData:{result:q}}});case o.m:return(q=c.a.clone(k.activityData.myData.result)).myRubricEvaluation=D.payload,c.a.merge({},k,{activityData:{myData:{result:q}}});case o.p:return q=c.a.clone(k.activityData),T=c.a.merge([],q.availableResults),R=c.a.merge([],q.reviewedResults),P=c.a.findIndex(T,["submitter.dbId",D.payload.submitterDbId]),F=c.a.findIndex(R,["submitter.dbId",D.payload.submitterDbId]),P>=0&&(T[P]=d({},T[P],{myRubricEvaluation:D.payload.review})),F>=0&&(R[F]=d({},R[F],{myRubricEvaluation:D.payload.review})),q.availableResults=T,q.reviewedResults=R,c.a.merge({},k,{activityData:q});case o.eb:return t=c.a.clone(k.activityData),(A=c.a.clone(t.myData)).qaSubmitRequestedAt=D.payload.requestedAt,t.myData=A,c.a.assign({},k,{activityData:t});case o.D:return a=c.a.clone(k.activityData.myData.resultPartials),N=s.a(a,D.payload,"dbId"),a[N]=D.payload,c.a.merge({},k,{activityData:{myData:{resultPartials:a}}});case o.f:t=c.a.clone(k.activityData),A=c.a.clone(t.myData);var z=c.a.clone(A.interactiveAnswers);return z.push(D.payload.answer),A.interactiveAnswers=z,t.myData=A,c.a.assign({},k,{activityData:t});case o.ab:return t=c.a.clone(k.activityData),(A=c.a.clone(t.myData)).interactiveVideoWatchingFinishedAt=D.payload.watchingFinishedAt,t.myData=A,c.a.assign({},k,{activityData:t});case o.fb:return t=c.a.clone(k.activityData),(A=c.a.clone(t.myData)).reflectAnswers=D.payload.answers,t.myData=A,c.a.assign({},k,{activityData:t});case o.V:return(t=c.a.merge({},k.activityData)).qaQuestion=D.payload,c.a.merge({},k,{activityData:t});case o.nb:return c.a.merge({},k,{activityData:{myData:{result:{media:D.payload}}}});case o.ob:return c.a.merge({},k,{activityData:{myData:{result:{requiredMedia:D.payload}}}});default:return k}},qaActivity:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case b.d:return c.a.assign({},t,{activeQuestion:n.payload});case b.a:return c.a.has(t,"activeQuestion.qaQuestion.media.srcUrl")?((e=c.a.merge({},t)).activeQuestion.qaQuestion.media.srcUrl=n.payload,e):t;case b.h:return c.a.assign({},t,{isQuestionLoading:n.payload});case b.g:return c.a.assign({},t,{isQuestionBeingWithdrawn:n.payload});case b.e:return c.a.assign({},t,{isAnswerBeingDeleted:n.payload});case b.f:return e=c.a.assign({},t,{practiceData:n.payload});case b.c:return c.a.assign({},t,{backgroundRefreshIsLoading:n.payload});case b.j:return c.a.merge({},t,{activityData:n.payload});case b.i:return c.a.assign({},t,{isSubmitting:n.payload});case b.b:return c.a.assign({},t,{currentActivityState:n.payload});default:return t}},groupFormation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.b:return h({},e,{isLoading:t.payload});case v.a:return h({},e,{groupFormationData:t.payload});default:return e}}}),O=Object(r.combineReducers)({pages:w}),S=n("Ondw");function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={isLoading:!1,activityData:null,activityDataWithContext:{},showGroupMembers:!0,activityCommentIsLoading:!1,commentPresetIsLoading:!1,commentPresets:[],groupCreationIsLoading:!1,deleteQAAnswerIsLoading:!1,deleteResultIsLoading:!1,gradingRefreshIsLoading:!1,gradebookStudentData:{activityId:null,searchValue:null,sortConfig:null,students:null}},T=n("sZpB");function R(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N={isLoading:!1,list:[],isItemProcessing:!1},j=n("qea/");function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L={groupConfiguration:null,individualConfiguration:null,qaConfiguration:null,interactiveVideoConfiguration:null},M=Object(r.combineReducers)({activity:function(){var e,t,n,r,a,o,i,s,u,l,d,f,p,m,b,y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,v=arguments.length>1?arguments[1]:void 0;switch(v.type){case S.s:return c.a.assign({},y,{activityData:v.payload});case S.C:return c.a.assign({},y,{isLoading:v.payload});case S.F:return c.a.assign({},y,{showGroupMembers:v.payload});case S.y:return p=v.payload.grade,b=v.payload.studentId,m=c.a.map(y.activityData.dataForAllStudents,(function(e){return e.student.dbId===b?c.a.assign({},e,{educatorGrade:p}):e})),t=c.a.merge({},y,{activityData:{dataForAllStudents:m}}),y.activityData.dataForOneStudent.student.dbId===b&&c.a.merge(t,{activityData:{dataForOneStudent:{educatorGrade:p}}}),t;case S.x:return p=v.payload.grade,m=c.a.map(y.activityData.dataForAllStudents,(function(e){return c.a.assign({},e,{educatorGrade:p})})),f=c.a.assign({},y.activityData.dataForOneStudent,{educatorGrade:p}),c.a.merge({},y,{activityData:{dataForAllStudents:m,dataForOneStudent:f}});case S.e:return m=c.a.map(y.activityData.dataForAllStudents,(function(e){return c.a.merge({},e,{educatorGrade:{isDraft:!1}})})),f=c.a.merge({},y.activityData.dataForOneStudent,{educatorGrade:{isDraft:!1}}),c.a.merge({},y,{activityData:{dataForAllStudents:m,dataForOneStudent:f}});case S.B:return c.a.merge({},y,{activityData:{dataForOneStudent:{isGradeDraftAllowed:v.payload}}});case S.r:return c.a.assign({},y,{activityCommentIsLoading:v.payload});case S.v:return c.a.assign({},y,{commentPresetIsLoading:v.payload});case S.A:return c.a.assign({},y,{groupCreationIsLoading:v.payload});case S.j:return c.a.assign({},y,{deleteQAAnswerIsLoading:v.payload});case S.u:return c.a.assign({},y,{commentPresets:v.payload});case S.w:return c.a.assign({},y,{deleteResultIsLoading:v.payload});case S.E:return c.a.assign({},y,{gradingRefreshIsLoading:v.payload});case S.a:return(e=c.a.clone(y.activityData.dataForOneStudent.result.comments)).push(v.payload),t=c.a.merge({},y,{activityData:{dataForOneStudent:{result:{comments:e}}}});case S.f:return o=c.a.clone(y.activityData),f=c.a.clone(o.dataForOneStudent),n=c.a.clone(f.result),r=c.a.clone(n.comments),(a=c.a.findIndex(n.comments,["dbId",v.payload.removedId]))>=0&&(r[a]=C({},r[a],{isDeleted:!0,commentMedia:null}),n.comments=r,f.result=n),o.dataForOneStudent=f,c.a.assign({},y,{activityData:o});case S.l:return n=c.a.clone(y.activityData.dataForOneStudent.result),a=c.a.findIndex(n.comments,["dbId",v.payload.dbId]),(r=c.a.clone(n.comments))[a]=v.payload,n.comments=r,c.a.merge({},y,{activityData:{dataForOneStudent:{result:n}}});case S.g:return o=c.a.clone(y.activityData),(f=c.a.clone(o.dataForOneStudent)).result=null,c.a.has(f,"interactiveAnswers")&&(f.interactiveAnswers=[]),c.a.has(f,"reflectAnswers")&&(f.reflectAnswers=[]),o.dataForOneStudent=f,c.a.assign({},y,{activityData:o});case S.n:return(i=c.a.clone(y.activityData.dataForOneStudent.studentGroup)).name=v.payload.name,c.a.merge({},y,{activityData:{dataForOneStudent:{studentGroup:i}}});case S.b:return(s=c.a.clone(y.commentPresets)).push(v.payload),c.a.assign({},y,{commentPresets:s});case S.m:return(u=(s=c.a.clone(y.commentPresets))[a=c.a.findIndex(s,["dbId",v.payload.dbId])]).commentText=v.comment.commentText,s[a]=u,c.a.assign({},y,{commentPresets:s});case S.h:return s=c.a.clone(y.commentPresets),c.a.remove(s,(function(e){return+e.dbId===+v.payload.removedId})),c.a.assign({},y,{commentPresets:s});case S.G:return(o=c.a.clone(y.activityData)).studentGroups=v.payload,c.a.assign({},y,{activityData:o});case S.d:return o=c.a.clone(y.activityData),(l=c.a.clone(o.studentGroups)).concat(v.payload),o.studentGroups=l,c.a.assign({},y,{activityData:o});case S.k:return o=c.a.clone(y.activityData),l=c.a.clone(o.studentGroups),c.a.remove(l,(function(e){return+e.dbId===+v.payload.removedId})),o.studentGroups=l,c.a.assign({},y,{activityData:o});case S.c:return o=c.a.clone(y.activityData),(l=c.a.clone(o.studentGroups))[c.a.findIndex(l,["dbId",v.payload.studentGroup.dbId])]=v.payload.studentGroup,o.studentGroups=l,c.a.assign({},y,{activityData:o});case S.p:return y;case S.i:return o=c.a.clone(y.activityData),d=c.a.clone(o.dataForOneStudent.qaAnswers),c.a.remove(d,(function(e){return+e.dbId===+v.payload.removedId})),o.dataForOneStudent.qaAnswers=d,c.a.merge({},y,{activityData:{dataForOneStudent:{qaAnswers:d}}});case S.o:return(n=c.a.clone(y.activityData.dataForOneStudent.result)).comments=v.payload,c.a.merge({},y,{activityData:{dataForOneStudent:{result:n}}});case S.H:return c.a.merge({},y,{activityData:{dataForOneStudent:{result:{media:v.payload}}}});case S.I:return c.a.merge({},y,{activityData:{dataForOneStudent:{result:{requiredMedia:v.payload}}}});case S.D:return n=c.a.merge({},y),c.a.set(n,v.payload.propPath,v.payload.value),n;case S.q:return c.a.merge({},I,{gradebookStudentData:y.gradebookStudentData});case S.t:return C({},y,{activityDataWithContext:C({},y.activityDataWithContext,_({},v.context,v.payload))});case S.z:return C({},y,{gradebookStudentData:v.payload});default:return y}},library:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.g:return(e=c.a.merge({},t)).isLoading=n.payload,e;case T.f:return(e=c.a.merge({},t)).list=n.payload,e;case T.b:var r=t.list.filter((function(e){return e.dbId!==n.payload}));return P({},t,{list:r});case T.e:return P({},t,{isItemProcessing:n.payload});case T.c:return P({},t,{list:t.list.map((function(e){return e.dbId!==n.payload.id?e:P({},e,{title:n.payload.title})}))});case T.a:return P({},t,{list:[n.payload].concat(R(t.list))});case T.d:var a=n.payload,o=t.list.map((function(e){return e.dbId===a.dbId?a:e}));return P({},t,{list:o});default:return t}},configuration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.a:return k({},e,{groupConfiguration:t.payload});case j.b:return k({},e,{individualConfiguration:t.payload});case j.d:return k({},e,{qaConfiguration:t.payload});case j.c:return k({},e,{interactiveVideoConfiguration:t.payload});default:return e}}}),x=n("AEU+"),F=n("lBBP");function U(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){G(e,t,n[t])}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={userData:null,hasError:!1,isLoading:!0,commentPresetIsLoading:!1,commentPresets:[]},B=n("r9GM");function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y={viewport:{size:null,orientation:null,dimensions:{width:null,height:null}}},H=n("yWXI");function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){K(e,t,n[t])}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={capabilities:{},preferences:z({},n("zNLh").a),launchpoint:{}},J=n("MOhp"),Z=n("o41Y");function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ee(e,t,n[t])}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te={isEnvironmentConfigLoading:!0,environmentConfig:null,featureConfig:{},fileTransferConfig:null,fileTransferConfigIsLoading:!1,fileTransferConfigHasError:!1,fileUploadConfig:null,fileUploadConfigIsLoading:!1,fileUploadConfigHasError:!1,isD2L:!1,isD2LPremium:!1,isD2LFreemium:!1,isD2LLegacyFreemium:!1,isPlainLti:!1,institution:null,ltiScope:null,isTermClassLoading:!1,termClass:null,theme:n("Dl6w").b},ne=n("h3Re");function re(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){oe(e,t,n[t])}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie={locations:[]},ce=n("TDYo");function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ue(e,t,n[t])}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le={errors:{noAudioDevices:!1,noVideoDevices:!1,failedToGetSettings:!1,failedToGetCameraStream:!1,failedToGetDesktopStream:!1,failedToGetAudioStream:!1,recorderIsNotSupported:!1,finalizeFailed:!1},settings:void 0,cameraStream:void 0,desktopStream:void 0,microphoneStream:void 0,recordedCameraStream:void 0,recordedDesktopStream:void 0,recordedMicrophoneStream:void 0,viewState:n("V+cX").a.INITIAL,audioDevices:[],videoDevices:[],currentCameraId:null,currentMicrophoneId:null,audioLevel:0,audioIsNormal:!1,recordingTime:0,playbackDuration:0,playbackTime:0,playbackPlaying:!1,submitting:!1,recordingPaused:!1,uploadingProgressPercent:0,audioAnalyzerState:void 0,showRecordButton:void 0,autoSubmit:void 0},de=n("uy2z"),fe=n("DozO");function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){me(e,t,n[t])}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be={files:[],isInitialState:!0,isUploadReadyState:!1,isUploadingState:!1,isPausedState:!1,uploadedFilesCount:0,uploadedPercent:0,uploadSpeedBps:0,secondsLeft:0,minutesLeft:0,hoursLeft:0},ye=n("zoNz");function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){he(e,t,n[t])}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge={deskshareIsActive:!1,secondaryVideoX:10,secondaryVideoY:10,secondaryVideoWidth:150,webcamPlayerId:null,desksharePlayerId:null,inited:!1,inFullScreen:!1,isSplitView:!1},Ee=n("OWj0"),we={currentModal:null,previousModals:[]},Oe=n("Yo20"),Se={items:{}},Ce=n("p7mv");function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ie(e,t,n[t])}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Te={navigation:null,isLoading:!1},Re=n("e/6q"),Pe={currentColorIndex:0,currentUsers:{},currentInitials:{}},Ae=n("Q0J0");function Ne(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ke(e,t,n[t])}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De={loading:!1,createLoading:!1,hasError:!1,createHasError:!1,list:[]},Le=n("2HZR");function Me(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Fe(e,t,n[t])}))}return e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue={loading:!1,createLoading:!1,hasError:!1,createHasError:!1,list:[]},Ve=n("Z+gg");function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){qe(e,t,n[t])}))}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be={hasUnsupportedBrowserMessageBeenDismissed:!1},We=Object(r.combineReducers)({player:x.a,auth:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case F.k:return c.a.merge({},t,{userData:n.payload});case F.f:return c.a.merge({},t,{hasError:n.payload});case F.h:return c.a.merge({},t,{isLoading:n.payload});case F.d:return c.a.merge({},t,{commentPresets:n.payload});case F.e:return c.a.merge({},t,{commentPresetIsLoading:n.payload});case F.a:return V({},t,{commentPresets:[].concat(U(t.commentPresets),[n.payload])});case F.b:return e=U(t.commentPresets),c.a.remove(e,(function(e){return+e.dbId===+n.payload})),V({},t,{commentPresets:e});case F.c:e=U(t.commentPresets);var r=c.a.findIndex(e,(function(e){return e.dbId===n.payload.dbId}));return e[r]=n.payload,V({},t,{commentPresets:e});case F.i:return c.a.merge({},t,{userData:{isMarketingCommunicationAccepted:n.payload}});case F.g:return c.a.merge({},t,{userData:{is508on:n.payload}});case F.j:return c.a.merge({},t,{userData:{timezone:n.payload}});default:return t}},browser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.a:return W({},e,{viewport:W({},e.viewport,{dimensions:t.payload})});case B.b:return W({},e,{viewport:W({},e.viewport,{orientation:t.payload})});case B.c:return W({},e,{viewport:W({},e.viewport,{size:t.payload})});default:return e}},customization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.b:return z({},e,{launchpoint:t.payload});case H.a:return z({},e,{capabilities:t.payload});case H.c:return z({},e,{preferences:t.payload});default:return e}},config:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case J.a:return(e=c.a.clone(t)).fileTransferConfig=n.payload,e;case J.f:return(e=c.a.clone(t)).fileTransferConfigHasError=n.payload,e;case J.g:return(e=c.a.clone(t)).fileTransferConfigIsLoading=n.payload,e;case J.b:return(e=c.a.clone(t)).fileUploadConfig=n.payload,e;case J.h:return(e=c.a.clone(t)).fileUploadConfigHasError=n.payload,e;case J.i:return(e=c.a.clone(t)).fileUploadConfigIsLoading=n.payload,e;case J.c:return(e=c.a.clone(t)).fileUploadConfigIsLoading=te.fileUploadConfigIsLoading,e.fileUploadConfig=te.fileUploadConfig,e.fileUploadConfigHasError=te.fileUploadConfigHasError,e;case J.j:return $({},t,{institution:n.payload,isD2L:Object(Z.b)(n.payload),isD2LFreemium:Object(Z.c)(n.payload),isD2LPremium:Object(Z.f)(n.payload),isD2LLegacyFreemium:Object(Z.e)(n.payload),isPlainLti:Object(Z.g)(n.payload)});case J.m:return $({},t,{ltiScope:n.payload});case J.l:return $({},t,{isTermClassLoading:n.payload});case J.n:return $({},t,{termClass:n.payload});case J.o:return $({},t,{theme:n.payload});case J.d:return $({},t,{environmentConfig:n.payload});case J.e:return $({},t,{featureConfig:n.payload});case J.k:return $({},t,{isEnvironmentConfigLoading:n.payload});default:return t}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.a:return ae({},e,{locations:[t.payload].concat(re(e.locations))});default:return e}},fileUploader:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case fe.a:return(e=c.a.merge({},n)).files.push(r.payload),e;case fe.c:return be;case fe.b:return(e=c.a.merge({},n)).files=s.e(e.files,"id",r.payload),e;case fe.g:return e=c.a.merge({},n),-1===(t=s.a(e.files,{id:r.payload.fileId},"id"))?n:(e.files[t].status=r.payload.status,e);case fe.h:return e=c.a.merge({},n),-1===(t=s.a(e.files,{id:r.payload.fileId},"id"))?n:(e.files[t].uploadingPercent=r.payload.uploadingPercent,e);case fe.f:return e=c.a.merge({},n),-1===(t=s.a(e.files,{id:r.payload.fileId},"id"))?n:(e.files[t].isProcessed=r.payload.isProcessed,e);case fe.e:return e=c.a.merge({},n),-1===(t=s.a(e.files,{id:r.payload.fileId},"id"))?n:(e.files[t].hasError=r.payload.hasError,e);case fe.d:return e=c.a.merge({},n),-1===(t=s.a(e.files,{id:r.payload.fileId},"id"))?n:(e.files[t].dbId=r.payload.dbId,e);case fe.i:var a=r.payload,o=a.prop,i=a.value;return e=pe({},n),e=c.a.set(e,o,i);default:return n}},recorder:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case ce.b:return e=JSON.parse(JSON.stringify(le)),(t=se({},n))[r.payload.recorderId]=e,t;case ce.a:return c.a.omit(n,r.payload);case ce.c:var a=r.payload,o=a.recorderId,i=a.prop,s=a.value;return(t=se({},n))[o]=c.a.set(t[o],i,s),t;default:return n}},commands:de.callReducer,doublePlayer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case ye.b:return e=ve({},ge),(e=c.a.merge(e,r.payload.initialState)).inited=!0,(t=ve({},n))[r.payload.playerId]=e,t;case ye.a:return c.a.omit(n,r.payload);case ye.c:var a=r.payload,o=a.playerId,i=a.prop,s=a.value;return(t=ve({},n))[o]=c.a.set(t[o],i,s),t;default:return n}},modal:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Ee.b:return(e=c.a.assign({},t)).currentModal=n.payload,e;case Ee.a:return(e=c.a.merge({},t)).currentModal=null,e;case Ee.c:return(e=c.a.merge({},t)).previousModals.push(e.currentModal),e.currentModal=n.payload,e;case Ee.d:return(e=c.a.merge({},t)).currentModal=e.previousModals.pop(),e;default:return t}},navigation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce.a:return _e({},e,{isLoading:t.payload});case Ce.b:return _e({},e,{navigation:t.payload});default:return e}},avatar:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Re.a:if((e=c.a.clone(t)).currentColorIndex=++n.payload.colorIndex,e.currentUsers[n.payload.name]=n.payload.color,e.currentInitials[n.payload.initials]){var r=c.a.clone(e.currentInitials[n.payload.initials]);!r.indexOf(n.payload.colorIndex)>0&&(r.push(n.payload.colorIndex),e.currentInitials[n.payload.initials]=r)}else e.currentInitials[n.payload.initials]=[n.payload.colorIndex];return e;case Re.b:return(e=c.a.clone(t)).currentColorIndex=0,e;default:return t}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.a:var n=c.a.merge({},e);return n.items[t.payload.itemId]={type:t.payload.itemType},n;case Oe.c:var r=c.a.merge({},e);return t.payload.itemIds&&t.payload.itemIds.forEach((function(e){delete r.items[e]})),r;case Oe.d:return e;case Oe.b:return Se;default:return e}},deleteUserRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.g:return je({},e,{loading:t.payload});case Ae.d:return je({},e,{createLoading:t.payload});case Ae.c:return je({},e,{createHasError:t.payload});case Ae.e:return je({},e,{hasError:t.payload});case Ae.f:return je({},e,{list:t.payload});case Ae.a:return je({},e,{list:[].concat(Ne(e.list),[t.payload])});case Ae.b:var n=Ne(e.list),r=c.a.findIndex(n,{dbId:t.payload.dbId});return-1===r?e:(n[r]=t.payload,je({},e,{list:n}));default:return e}},exportUserDataRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.g:return xe({},e,{loading:t.payload});case Le.e:return xe({},e,{hasError:t.payload});case Le.d:return xe({},e,{createLoading:t.payload});case Le.c:return xe({},e,{createHasError:t.payload});case Le.f:return xe({},e,{list:t.payload});case Le.a:return xe({},e,{list:[].concat(Me(e.list),[t.payload])});case Le.b:var n=Me(e.list),r=c.a.findIndex(n,{dbId:t.payload.dbId});return-1===r?e:(n[r]=t.payload,xe({},e,{list:n}));default:return e}},session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.a:return Ge({},e,{hasUnsupportedBrowserMessageBeenDismissed:!0});default:return e}}}),Qe=n("7Yj1"),Ye=n("6zxP"),He=n("45tj");var ze,Ke={frontend:Object(He.a)([].concat((ze=Object(Ye.a)(),function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(ze)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(ze)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),["en-US"]))},Xe=Object(r.combineReducers)({common:We,educator:M,student:O,locale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.a:return c.a.assign({},e,t.payload);default:return e}}}),Je=Object(a.composeWithDevTools)({name:"Bongo[".concat(window.location.origin).concat(window.location.pathname,"]")});t.a=Object(r.createStore)(Xe,Je())},wR0W:function(e,t,n){"use strict";t.a={SET_PARAMS:"setParams",SET_SHOW_RECORD_BUTTON:"setShowRecordButton",SET_AUTO_SUBMIT:"setAutoSubmit",WINDOWED_RECORDER_LOADED:"windowedRecorderLoaded",RECORDING_FINISHED:"recordingFinished",RECORDING_STOPPED:"recordingStopped",RECORDING_RECORD:"recordingRecord",RECORDING_RESET:"recordingReset",SET_RECORDINGS_FILE_NAMES:"setRecordingsFileNames",SET_AUDIO_IS_NORMAL:"setAudioIsNormal",SET_VIEW_STATE:"setViewState",START_RECORD:"startRecord",STOP_RECORD:"stopRecord",RESET:"reset",SUBMIT:"submit",CLOSE_STANDALONE_WINDOW:"closeStandaloneWindow"}},wRmV:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("jAlv"),s=(n("l9hb"),n("TSYQ")),u=n.n(s),l=n("LvDl"),d=n.n(l);n("lXiE");function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={TOP:"top",LEFT:"left",BOTTOM:"bottom",RIGHT:"right"},E=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=b(t).call(this,e),n=!o||"object"!==f(o)&&"function"!==typeof o?v(r):o,h(v(v(n)),"setupEventListeners",(function(){var e=!1,t=d.a.get(n.tippyComponent,"current.tooltipDOM");if(t){var r=n.props.ariaLabel;r&&t.setAttribute("aria-label",r),n.eventListenersSetup||(t.addEventListener("mouseenter",n.onNativeMouseEnter),t.addEventListener("mouseleave",n.onNativeMouseLeave),t.addEventListener("touchstart",n.onNativeTouchStart,{passive:!0}),t.addEventListener("touchend",n.onNativeTouchEnd),e=!0)}n.eventListenersSetup=e})),h(v(v(n)),"getComponentProps",(function(e){return d.a.pick(e,Object.keys(t.componentProps))})),h(v(v(n)),"onNativeMouseEnter",(function(){for(var e=n.props.onMouseEnter,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e(r)})),h(v(v(n)),"onNativeMouseLeave",(function(){for(var e=n.props.onMouseLeave,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e(r)})),h(v(v(n)),"onNativeTouchStart",(function(){for(var e=n.props.onTouchStart,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e(r)})),h(v(v(n)),"onNativeTouchEnd",(function(){for(var e=n.props.onTouchEnd,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e(r)})),n.tippyComponent=a.a.createRef(),n.eventListenersSetup=!1,n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.setupEventListeners()}},{key:"componentDidUpdate",value:function(){this.setupEventListeners()}},{key:"componentWillUnmount",value:function(){var e=d.a.get(this.tippyComponent,"current");e&&e.destroyTippy()}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.html,r=e.children;if(!t&&!n)return r;var o=d.a.clone(this.props);return o.label&&(o.title=o.label),a.a.createElement(c.Tooltip,p({},this.getComponentProps(o),{ref:this.tippyComponent,className:u()("bongo-tooltip",o.className)}),o.children)}}])&&m(n.prototype,r),o&&m(n,o),t}(a.a.Component);E.componentProps={animation:i.a.string,arrow:i.a.bool,className:i.a.string,delay:i.a.number,disabled:i.a.bool,distance:i.a.number,duration:i.a.number,html:i.a.element,interactive:i.a.bool,onRequestClose:i.a.func,open:i.a.bool,popperOptions:i.a.object,position:i.a.string,sticky:i.a.bool,stickyDuration:i.a.number,style:i.a.object,tabIndex:i.a.number,title:i.a.any,theme:i.a.string,touchHold:i.a.bool,trigger:i.a.string,useContext:i.a.bool},E.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({},E.componentProps,{ariaLabel:i.a.string,label:i.a.string,onMouseEnter:i.a.func,onMouseLeave:i.a.func,onTouchStart:i.a.func,onTouchEnd:i.a.func}),E.defaultProps={animation:"shift",arrow:!0,delay:250,disabled:!1,duration:250,interactive:!1,onMouseEnter:function(){},onMouseLeave:function(){},onTouchStart:function(){},onTouchEnd:function(){},popperOptions:{modifiers:{preventOverflow:{enabled:!0,boundariesElement:"viewport"}}},position:g.TOP,sticky:!1,stickyDuration:200,style:{display:"inline-flex"},theme:"dark",touchHold:!0,trigger:"mouseenter focus",useContext:!1},E.POSITION=g,t.b=E},wdTX:function(e,t,n){e.exports={page:"b_ArRJyZwZ",pageContent:"b_htrCki4x",contentBox:"b_fIQzJDE7",content:"b_fyPR4Nk6",messageContainer:"b_vPrQo71e",messages:"b_93A93XHv",messageLinkNotAssociated:"b_nKRLbO1Z",messageLinkInfo:"b_pTRWyRch",header:"b_jw8i0MMs",headerText:"b_pPNGCofJ"}},wpyS:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("kbsL"),s=n("YSsg"),u=n("TSYQ"),l=n.n(u),d=n("ZD0w"),f=n("yBPd"),p=n("Wqtl"),m=n("PJr8"),b=(n("NVgV"),n("Y7ox"));function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=h(t).call(this,e),n=!a||"object"!==y(a)&&"function"!==typeof a?E(r):a,w(E(E(n)),"getInitialStateFromProps",(function(e){return{saveEnabled:!1,currentPoints:e.rubricPoints}})),w(E(E(n)),"onGradeChange",(function(e){n.setState({saveEnabled:e.valid,currentPoints:e.points,cellIds:e.cellIds}),n.props.onGradeChange(e)})),w(E(E(n)),"onSubmit",(function(){if(n.props.onSubmit){var e=n.state,t=e.cellIds,r=e.currentPoints,a=e.saveEnabled;n.props.onSubmit(t,r,a)}})),n.state=n.getInitialStateFromProps(e),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.onCancel,n=e.className,r=e.rubric,o=e.mode,i=e.isSubmitting,u=e.grade,b=e.allowInvalid,y=e.i18n,v=e.showCurrentScore,h=this.state,g=h.saveEnabled,E=h.currentPoints,w=[a.a.createElement(c.b,{id:"button-rubric-dialog-close",primary:!0,ariaLabel:y._("Close"),enabled:!i,isLoading:i,onClick:t},a.a.createElement(d.Trans,{id:"Close"}))],O=[a.a.createElement(c.b,{id:"button-rubric-dialog-cancel",secondary:!0,ariaLabel:y._("Cancel"),enabled:!i,onClick:t},a.a.createElement(d.Trans,{id:"Cancel"})),a.a.createElement(c.b,{id:"button-rubric-dialog-save",primary:!0,ariaLabel:y._("Save"),enabled:!i&&g||b,isLoading:i,onClick:this.onSubmit},a.a.createElement(d.Trans,{id:"Save"}))];return a.a.createElement(s.a,{actions:o===p.a.VIEW?w:O,ariaLabel:y._("Rubric"),dialogClassName:l()("rubric-dialog",n),contentClassName:"rubric-dialog__content",id:"rubric-dialog",title:a.a.createElement("div",{className:"rubric-dialog-title"},v?a.a.createElement("span",null,a.a.createElement(d.Trans,{id:"Rubric Points"})," ",a.a.createElement(m.c,{points:E,max:r.maxValue})):a.a.createElement(d.Trans,{id:"Rubric"})),modal:!0,visible:!0},a.a.createElement("div",{className:"rubric-dialog__rubric-wrapper"},a.a.createElement(f.a,{rubric:r,grade:u,mode:o,onGradeChange:this.onGradeChange})))}}])&&v(n.prototype,r),o&&v(n,o),t}(r.Component);O.defaultProps={onGradeChange:function(){},allowInvalid:!1,onCancel:b.a.closeModal,showCurrentScore:!0},O.propTypes={onCancel:i.a.func,onSubmit:i.a.func,onGradeChange:i.a.func,isSubmitting:i.a.bool,className:i.a.string,rubric:i.a.any.isRequired,rubricPoints:i.a.number,mode:i.a.oneOf([p.a.VIEW,p.a.GRADE]).isRequired,grade:i.a.arrayOf(i.a.number),allowInvalid:i.a.bool,showCurrentScore:i.a.bool},t.a=Object(d.withI18n)()(O)},x1nL:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return v}));var r=n("lTCR"),a=n.n(r);function o(){var e=d(["\n  query getCourse($courseId: Int!) {\n    termClass(dbId: $courseId) {\n      ...TermClassBasicEducator\n    }\n  }\n  ","\n"]);return o=function(){return e},e}function i(){var e=d(["\n  query getCourse($courseId: Int!) {\n    termClass(dbId: $courseId) {\n      ...TermClassBasic\n    }\n  }\n  ","\n"]);return i=function(){return e},e}function c(){var e=d(["\n  fragment TermClassBasicEducator on TermClass {\n    ...TermClassBasic\n    hasDirectLinkResources\n  }\n  ","\n"]);return c=function(){return e},e}function s(){var e=d(["\n  fragment TermClassBasic on TermClass {\n    dbId\n    name\n    institution {\n      ...InstitutionBasic\n    }\n    isDeepLinkingEnabled\n    integrationMode\n  }\n  ","\n"]);return s=function(){return e},e}function u(){var e=d(["\n  fragment InstitutionBasic on Institution {\n    externalTrackingUuid\n    name\n    integrationType\n    trialExpireAt\n  }\n"]);return u=function(){return e},e}function l(){var e=d(["\n  fragment D2lCourse on D2lCourse {\n    code\n    name\n    lmsCode\n    termClassDbId\n  }\n"]);return l=function(){return e},e}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=a()(l()),p=a()(u()),m=a()(s(),p),b=a()(c(),m),y=a()(i(),m),v=a()(o(),b)},x6TD:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("giI2"),u=n("kbsL"),l=n("A2tp"),d=n("hHKf"),f=n("EiE3"),p=n("Y7ox"),m=n("zyHd"),b=n("QccL"),y=n("TSYQ"),v=n.n(y),h=n("LvDl"),g=n.n(h),E=(n("L9xK"),n("LFYD")),w=n("Ty5D"),O=n("v6po");function S(e){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P="c-video-container__deskshare-button",A=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return r=this,o=(e=_(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==S(o)&&"function"!==typeof o?T(r):o,R(T(T(n)),"state",{showVideoDialog:!1,showingToolbar:!1,containerWidth:0}),R(T(T(n)),"updateContainerSize",(function(){n.videoContainer&&n.setState({containerWidth:n.videoContainer.offsetWidth})})),R(T(T(n)),"componentDidMount",(function(){window.addEventListener("resize",n.updateContainerSize.bind(T(T(n)))),n.updateContainerSize()})),R(T(T(n)),"onPreviewClose",(function(){n.setState({showVideoDialog:!1})})),R(T(T(n)),"onContainerFocus",(function(){n.setState({showingToolbar:!0})})),R(T(T(n)),"onContainerBlur",(function(){n.setState({showingToolbar:!1})})),R(T(T(n)),"onDownload",(function(){Object(b.b)(n.props.media)})),R(T(T(n)),"getDesktopSharingIcon",(function(){var e=n.props,t=e.i18n,r=e.allowDesktopSharing,o=e.media,i={label:null,className:"deskshare-container"};return i.label=r?t._("This video includes screen recording"):t._("This video includes screen recording but only the camera recording will be visible during playback"),o&&o.slaveMedia&&a.a.createElement(s.a,{ariaLabel:t._("Deskshare"),tooltip:i,className:P},E.a.APP_WINDOW)})),R(T(T(n)),"onMediaChange",(function(e){Object(b.d)(e.dbId,e.caption),n.forceUpdate()})),R(T(T(n)),"onManageCaptions",(function(){var e=n.props.media;p.a.showModal(a.a.createElement(f.a,{media:e,onMediaChange:n.onMediaChange}))})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateContainerSize.bind(this))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.media,o=t.onAddMedia,i=t.onSetMedia,c=t.isLocked,f=t.isManageCaptionsAllowed,p=t.showControls,y=t.i18n,h=t.id,w=t.match.params,O=w.activityId,S=w.classId,C=this.state,_=C.showVideoDialog,I=C.showingToolbar,T=C.containerWidth,R={media:r},P=null,A=null;if(r&&m.a.isMediaProcessed(R)){P={autoplay:!1,controls:p,showPseudoPlayButton:!p,onPseudoPlayClick:function(){e.setState({showVideoDialog:!0})},sources:[{src:r.srcUrl,type:"video/mp4"}],transcriptUrl:g.a.get(r,"transcript.src"),autoCaptionsEnabled:!1};var N=Object(b.c)(r);N?(P.autoCaptionsEnabled=N.isAutoGenerated,P.tracks=[N]):P.tracks=[],f&&r.canEditCaptions&&(A=this.onManageCaptions)}return a.a.createElement("div",{ref:function(t){e.videoContainer=t},onTouchStart:this.onContainerFocus,onTouchEnd:this.onContainerBlur,onMouseEnter:this.onContainerFocus,onMouseLeave:this.onContainerBlur,style:{height:T/1.333},className:v()("c-video-container",n,I?"showing-toolbar":null)},!r&&a.a.createElement(u.d,{id:"".concat(h,"--button-video-add"),ariaLabel:y._("Add Video"),onClick:o,enabled:!c,className:"c-video-container__add-button"},E.a.VIDEO_ADD),r&&m.a.isMediaProcessed(R)&&a.a.createElement(l.a,{id:"".concat(h,"--player"),options:P,activityId:+O,termClassId:+S,mediaId:r.dbId,captions:{autoCaptionsEnabled:g.a.get(r,"caption.isAutoGenerated",!1)},onManageCaptions:A,usageContext:this.props.usageContext,playerId:this.props.playerId||"Activity config media #"+r.dbId}),r&&!m.a.isMediaProcessed(R)&&a.a.createElement("div",null,a.a.createElement("span",{title:y._("Media is processing")},a.a.createElement(s.a,{className:"c-video-container__wait-icon",ariaLabel:y._("Media Processing, icon")},E.a.HOURGLASS_EMPTY))),this.getDesktopSharingIcon(),r&&a.a.createElement("div",{onFocus:this.onContainerFocus,onBlur:this.onContainerBlur,className:v()("video-actions",I?"focused":null)},a.a.createElement(u.d,{id:"".concat(h,"--button-video-menu-add"),ariaLabel:y._("Add video"),onClick:function(){e.onContainerBlur(),o()},enabled:!c,className:"c-video-container__toolbar-button"},E.a.VIDEO_ADD),!r.slaveMedia&&a.a.createElement(u.d,{id:"".concat(h,"--button-video-menu-download"),ariaLabel:y._("Download"),onClick:function(){e.onContainerBlur(),e.onDownload()},enabled:m.a.isMediaProcessed(R),className:"c-video-container__toolbar-button"},E.a.DOWNLOAD),a.a.createElement(u.d,{id:"".concat(h,"--button-video-menu-remove"),ariaLabel:y._("Delete"),onClick:function(){e.onContainerBlur(),i.bind(null,null)()},enabled:!c,className:"c-video-container__toolbar-button"},E.a.DELETE)),r&&_&&a.a.createElement(d.b,{autoplay:!0,media:r,activityId:+O,termClassId:+S,usageContext:this.props.usageContext,onCancel:this.onPreviewClose}))}}])&&C(n.prototype,r),o&&C(n,o),t}(r.Component);A.defaultProps={allowDesktopSharing:!0,isLocked:!1,isManageCaptionsAllowed:!0,showControls:!1,usageContext:O.a.ACTIVITY_OVERVIEW},A.propTypes={allowDesktopSharing:i.a.bool,className:i.a.string,id:i.a.string,media:i.a.object,onAddMedia:i.a.func,onSetMedia:i.a.func,playerId:i.a.string,isLocked:i.a.bool,isManageCaptionsAllowed:i.a.bool,showControls:i.a.bool,usageContext:i.a.oneOf(Object.values(O.a))},t.a=Object(w.k)(Object(c.withI18n)()(A))},xHcp:function(e,t,n){"use strict";var r=n("NlSD"),a=n("lTCR"),o=n.n(a),i=n("wNa6"),c=n("pElA"),s=n("LvDl"),u=n.n(s),l=n("zyHd"),d=n("7n1V"),f=n("92Bf"),p=n("eDl9"),m=n("O+79"),b=n("09Br"),y=n("mxsA"),v=n("sIVs"),h=n("8DtX"),g=n("AuRu"),E=n("ul3U"),w=n("jlV6"),O=n("io3D"),S=n("ArDN"),C=n("8bCP");function _(){var e=ge(["\n    mutation createReflectAnswers($input: CreateReflectAnswersInput!) {\n        createReflectAnswers(input: $input){\n            answers {\n                ...ReflectionAnswers\n            }\n            errors {\n                path\n                messages\n            }\n        }\n    }\n    ","\n"]);return _=function(){return e},e}function I(){var e=ge(["\n    mutation setInteractiveVideoWatchingFinishedAt($input: SetInteractiveVideoWatchingFinishedAtInput!) {\n        setInteractiveVideoWatchingFinishedAt(input: $input) {\n            watchingFinishedAt\n        }\n    }\n"]);return I=function(){return e},e}function T(){var e=ge(["\n    mutation createInteractiveAnswer($input: CreateInteractiveAnswerInput!) {\n        createInteractiveAnswer(input: $input) {\n            answer {\n                ...StudentInteractiveVideoAnswerMultipleChoice\n                ...StudentInteractiveVideoAnswerVideo\n            }\n            option {\n                dbId\n                optionText\n                optionDescription\n                correct\n            }\n        }\n    }\n    ","\n    ","\n"]);return T=function(){return e},e}function R(){var e=ge(["\n    mutation  createActivityResultPartialLink($input: CreateActivityResultPartialLinkInput!) {\n        createActivityResultPartialLink(input: $input) {\n            link {\n                ...Link\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n    ","\n"]);return R=function(){return e},e}function P(){var e=ge(["\n    mutation  combineActivityResultPartial($input: CombineActivityResultPartialMediaInput!) {\n        combineActivityResultPartialMedia(input: $input) {\n            media {\n                __typename\n                dbId\n                title\n                media {\n                    dbId\n                    allowExternalPlay\n                    processingStatus\n                    srcUrl\n                    downloadUrl\n                    externalPlayUrl\n                }\n                owner {\n                    ...StudentUser\n                }\n                finalizedAt\n            }\n        }\n    }\n    ","\n"]);return P=function(){return e},e}function A(){var e=ge(["\n    mutation createActivityResultStudentReviewRubricEvaluation($input: CreateActivityResultStudentReviewRubricEvaluationInput!) {\n        createActivityResultStudentReviewRubricEvaluation(input: $input) {\n            review {\n                date\n                user {\n                    ...StudentUser\n                }\n                rubric {\n                    dbId\n                    name\n                    rows {\n                        dbId\n                        cells {\n                            dbId\n                            description\n                            points\n                        }\n                    }\n                }\n                points\n                cells {\n                    dbId\n                    description\n                    points\n                }\n            }\n            errors {\n                path\n                message\n            }\n        }\n    }\n    ","\n"]);return A=function(){return e},e}function N(){var e=ge(["\n    mutation editActivityStudentGroupTitle($input: EditActivityStudentGroupTitleInput!) {\n        editActivityStudentGroupTitle(input: $input) {\n            group {\n                name\n            }\n        }\n    }\n"]);return N=function(){return e},e}function j(){var e=ge(["\n    mutation setResultViewed($input: SetResultViewedInput!) {\n        setResultViewed(input: $input) {\n            reviewDbId\n        }\n    }\n"]);return j=function(){return e},e}function k(){var e=ge(["\n    mutation createPeerReviewFiveStar($input: CreateActivityResultStudentReviewFiveStarRatingInput!) {\n        createActivityResultStudentReviewFiveStarRating(input: $input) {\n            review {\n                value\n            }\n        }\n    }\n"]);return k=function(){return e},e}function D(){var e=ge(["\n    mutation deletePeerReviewComment($input: DeleteActivityResultCommentInput!) {\n        deleteActivityResultComment(input: $input) {\n            removedId\n        }\n    }\n"]);return D=function(){return e},e}function L(){var e=ge(["\n    mutation editPeerReviewComment($input: EditActivityResultCommentInput!) {\n        editActivityResultComment(input: $input) {\n            comment {\n                ...Comment\n                ...AnonymousComment\n            }\n        }\n    }\n    ","\n    ","\n"]);return L=function(){return e},e}function M(){var e=ge(["\n    mutation createPeerReviewComment($input: CreateActivityResultCommentInput!) {\n        createActivityResultComment(input: $input) {\n            comment {\n                ...Comment\n                ...AnonymousComment\n            }\n        }\n    }\n    ","\n    ","\n"]);return M=function(){return e},e}function x(){var e=ge(["\n    mutation createStudentGroupReviewComment($input: CreateActivityStudentGroupReviewCommentInput!) {\n        createActivityStudentGroupReviewComment(input: $input) {\n            comment\n        }\n    }\n"]);return x=function(){return e},e}function F(){var e=ge(["\n    mutation createActivityStudentGroupReviewRubricEvaluation($input: CreateActivityStudentGroupReviewRubricEvaluationInput!) {\n        createActivityStudentGroupReviewRubricEvaluation(input: $input) {\n            review {\n                ...GroupReviewRubricWithUser\n                ...GroupReviewRubricAnonymous\n            }\n        }\n    }\n    ","\n    ","\n    ","\n"]);return F=function(){return e},e}function U(){var e=ge(["\n    mutation createStudentGroupReviewFiveStar($input: CreateActivityStudentGroupReviewFiveStarRatingInput!) {\n        createActivityStudentGroupReviewFiveStarRating(input: $input) {\n            review {\n                ...FiveStarRatingWithUser\n                ...FiveStarRatingAnonymous\n            }\n        }\n    }\n    ","\n    ","\n"]);return U=function(){return e},e}function V(){var e=ge(["\n    mutation deleteActivityStudentGroupComment($input: DeleteActivityStudentGroupCommentInput!) {\n        deleteActivityStudentGroupComment(input: $input) {\n            removedId\n        }\n    }\n"]);return V=function(){return e},e}function G(){var e=ge(["\n    mutation createGroupComment($input: CreateActivityStudentGroupCommentInput!) {\n        createActivityStudentGroupComment(input: $input) {\n            comment {\n                dbId\n                text\n                isSystem\n                user {\n                    dbId\n                    firstName\n                    lastName\n                }\n                createdAt\n            }\n            errors {\n                path\n                messages\n            }\n        }\n    }\n"]);return G=function(){return e},e}function q(){var e=ge(["\n    mutation deleteSubmission($input: DeleteActivityResultInput!){\n        deleteActivityResult(input: $input) {\n            removedId\n        }\n    }\n"]);return q=function(){return e},e}function B(){var e=ge(["\n    mutation requestCreatingQaSubmit($input: RequestQaSubmitInput!){\n        requestCreatingQaSubmit(input: $input) {\n            requestedAt\n        }\n    }\n"]);return B=function(){return e},e}function W(){var e=ge(["\n    mutation submitAssignment($input: CreateActivityResultInput!){\n        createActivityResult(input: $input) {\n            result {\n                submittedAt\n            }\n        }\n    }\n"]);return W=function(){return e},e}function Q(){var e=ge(["\n    mutation editMediaTitle($input: EditActivityResultPartialMediaTitleInput!) {\n        editActivityResultPartialMediaTitle(input: $input) {\n            media {\n                __typename\n                dbId\n                title\n                media {\n                    ...MediaFull\n                }\n                owner {\n                    dbId\n                    firstName\n                    lastName\n                }\n                finalizedAt\n            }\n        }\n    }\n    ","\n"]);return Q=function(){return e},e}function Y(){var e=ge(["\n    mutation editMeetingTitle($input: EditActivityResultPartialMeetingTitleInput!) {\n        editActivityResultPartialMeetingTitle(input: $input) {\n            meeting {\n                ...MeetingPartial\n            }\n        }\n    }\n    ","\n"]);return Y=function(){return e},e}function H(){var e=ge(["\n    mutation editLinkTitle($input: EditActivityResultPartialLinkTitleInput!) {\n        editActivityResultPartialLinkTitle(input: $input) {\n            link {\n                __typename\n                dbId\n                title\n                url\n                owner {\n                    dbId\n                    firstName\n                    lastName\n                }\n                finalizedAt\n            }\n        }\n    }\n"]);return H=function(){return e},e}function z(){var e=ge(["\n    mutation editDocumentTitle($input: EditActivityResultPartialDocumentTitleInput!) {\n        editActivityResultPartialDocumentTitle(input: $input) {\n            document {\n                __typename\n                dbId\n                title\n                downloadUrl\n                previewUrl\n                owner {\n                    dbId\n                    firstName\n                    lastName\n                }\n                finalizedAt\n            }\n        }\n    }\n"]);return z=function(){return e},e}function K(){var e=ge(["\n    mutation moveMeetingToProgress($input: ChangeActivityResultPartialMeetingStatusInput!){\n        changeActivityResultPartialMeetingStatusToWorkInProgress(input: $input) {\n            meeting {\n                dbId\n                finalizedAt\n            }\n        }\n    }\n"]);return K=function(){return e},e}function X(){var e=ge(["\n    mutation moveMediaToProgress($input: ChangeActivityResultPartialMediaStatusInput!){\n        changeActivityResultPartialMediaStatusToWorkInProgress(input: $input) {\n            media {\n                dbId\n                finalizedAt\n            }\n        }\n    }\n"]);return X=function(){return e},e}function J(){var e=ge(["\n    mutation moveLinkToProgress($input: ChangeActivityResultPartialLinkStatusInput!){\n        changeActivityResultPartialLinkStatusToWorkInProgress(input: $input) {\n            link {\n                dbId\n                finalizedAt\n            }\n        }\n    }\n"]);return J=function(){return e},e}function Z(){var e=ge(["\n    mutation moveDocumentToProgress($input: ChangeActivityResultPartialDocumentStatusInput!){\n        changeActivityResultPartialDocumentStatusToWorkInProgress(input: $input) {\n            document {\n                dbId\n                finalizedAt\n            }\n        }\n    }\n"]);return Z=function(){return e},e}function $(){var e=ge(["\n    mutation moveMeetingToSubmit($input: ChangeActivityResultPartialMeetingStatusInput!){\n        changeActivityResultPartialMeetingStatusToReadyToSubmit(input: $input) {\n            meeting {\n                dbId\n                finalizedAt\n            }\n        }\n    }\n"]);return $=function(){return e},e}function ee(){var e=ge(["\n    mutation moveMediaToSubmit($input: ChangeActivityResultPartialMediaStatusInput!){\n        changeActivityResultPartialMediaStatusToReadyToSubmit(input: $input) {\n            media {\n                dbId\n                finalizedAt\n            }\n        }\n    }\n"]);return ee=function(){return e},e}function te(){var e=ge(["\n    mutation moveLinkToSubmit($input: ChangeActivityResultPartialLinkStatusInput!){\n        changeActivityResultPartialLinkStatusToReadyToSubmit(input: $input) {\n            link {\n                dbId\n                finalizedAt\n            }\n        }\n    }\n"]);return te=function(){return e},e}function ne(){var e=ge(["\n    mutation moveDocumentToSubmit($input: ChangeActivityResultPartialDocumentStatusInput!){\n        changeActivityResultPartialDocumentStatusToReadyToSubmit(input: $input) {\n            document {\n                dbId\n                finalizedAt\n            }\n        }\n    }\n"]);return ne=function(){return e},e}function re(){var e=ge(["\n    mutation addFile($input: UploadActivityResultPartialDocumentInput!) {\n        uploadActivityResultPartialDocument(input: $input){\n            errors {\n                path\n                messages\n            }\n        }\n    }\n\n"]);return re=function(){return e},e}function ae(){var e=ge(["\n    mutation deleteMedia($input:  DeleteActivityResultPartialInput!) {\n        deleteActivityResultPartialLink(input: $input) {\n            removedId\n        }\n    }\n"]);return ae=function(){return e},e}function oe(){var e=ge(["\n    mutation deleteDocument($input:  DeleteActivityResultPartialInput!) {\n        deleteActivityResultPartialDocument(input: $input) {\n            removedId\n        }\n    }\n"]);return oe=function(){return e},e}function ie(){var e=ge(["\n    mutation deleteMedia($input:  DeleteActivityResultPartialInput!) {\n        deleteActivityResultPartialMedia(input: $input) {\n            removedId\n        }\n    }\n"]);return ie=function(){return e},e}function ce(){var e=ge(["\n    mutation deleteMeeting($input:  DeleteActivityResultPartialInput!) {\n        deleteActivityResultPartialMeeting(input: $input) {\n            removedId\n        }\n    }\n"]);return ce=function(){return e},e}function se(){var e=ge(["\n    mutation cancelMeeting($input:  CancelActivityResultPartialMeetingInput!) {\n        cancelActivityResultPartialMeeting(input: $input) {\n            errors {\n                path\n                messages\n            }\n            meeting {\n                dbId\n            }\n        }\n    }\n"]);return se=function(){return e},e}function ue(){var e=ge(["\n    mutation editMeeting($input: EditActivityResultPartialMeetingInput!){\n        editActivityResultPartialMeeting(input: $input){\n            errors {\n                path\n                messages\n            }\n            meeting {\n                dbId\n                title\n                recordedMedia: media {\n                    ...MediaFull\n                }\n                owner {\n                    dbId\n                    firstName\n                    lastName\n                }\n                scheduledAt\n                finalizedAt\n            }\n        }\n    }\n    ","\n"]);return ue=function(){return e},e}function le(){var e=ge(["\n    mutation createActivityResultPartialMeeting($input: CreateActivityResultPartialMeetingInput!) {\n        createActivityResultPartialMeeting(input: $input){\n            errors {\n                path\n                messages\n            }\n            meeting {\n                dbId\n                title\n                recordedMedia: media {\n                    ...MediaFull\n                }\n                owner {\n                    dbId\n                    firstName\n                    lastName\n                }\n                scheduledAt\n                finalizedAt\n            }\n        }\n    }\n    ","\n"]);return le=function(){return e},e}function de(){var e=ge(["\n    mutation editMilestone($input: EditMilestoneInput!){\n        editMilestone(input: $input){\n            errors {\n                path\n                messages\n            }\n            milestone {\n                dbId\n                description\n                assignedTo{\n                    dbId\n                    firstName\n                    lastName\n                }\n                status\n                dueDate\n            }\n        }\n    }\n"]);return de=function(){return e},e}function fe(){var e=ge(["\n    mutation createMilestone($input: CreateMilestoneInput!){\n        createMilestone(input: $input){\n            errors {\n                path\n                messages\n            }\n            milestone {\n                dbId\n                description\n                assignedTo{\n                    dbId\n                    firstName\n                    lastName\n                }\n                status\n                dueDate\n            }\n        }\n    }\n"]);return fe=function(){return e},e}function pe(){var e=ge(["\n    mutation userViewedActivityEvent($activityDbId: Int!){\n        userViewedActivityEvent(activityDbId: $activityDbId) {\n            event {\n                createdAt\n            }\n        }\n    }\n"]);return pe=function(){return e},e}function me(){var e=ge(["\n    query getActivityResults($activityId: Int!) {\n        activity(dbId:$activityId) {\n            myData {\n                resultPartials {\n                    ... on ActivityResultPartialDocument{\n                        ...Document\n                    }\n                    ... on ActivityResultPartialLink {\n                        ...Link\n                    }\n                    ... on ActivityResultPartialMedia {\n                        ...MediaPartial\n                    }\n                    ... on ActivityResultPartialMeeting {\n                        ...MeetingPartial\n                    }\n                }\n            }\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return me=function(){return e},e}function be(){var e=ge(["\n    query getActivityInfo($activityId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            myData {\n                result {\n                    ... on ActivityResultIndividualProject {\n                        comments {\n                            ...Comment\n                            ...AnonymousComment\n                        }\n                    }\n                    ... on ActivityResultQa {\n                        comments {\n                            ...Comment\n                            ...AnonymousComment\n                        }\n                    }\n                    ... on ActivityResultGroupProject {\n                        comments {\n                            ...Comment\n                            ...AnonymousComment\n                        }\n                    }\n                    ... on ActivityResultInteractiveVideo {\n                        comments {\n                            ...Comment\n                            ...AnonymousComment                            \n                        }\n                    }\n                }\n            }\n        }\n    }\n    ","\n    ","\n"]);return be=function(){return e},e}function ye(){var e=ge(["\n    query getActivityInfo($activityId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            reviewedResults {\n                ...StudentQAProjectResult\n                ...StudentIndividualProjectResult\n                ...StudentGroupProjectResult\n                ...StudentInteractiveVideoProjectResult\n            }\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return ye=function(){return e},e}function ve(){var e=ge(["\n    query getActivityInfo($activityId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            availableResults {\n                ...StudentQAProjectResult\n                ...StudentIndividualProjectResult\n                ...StudentGroupProjectResult\n                ...StudentInteractiveVideoProjectResult\n            }\n            reviewedResults {\n                ...StudentQAProjectResult\n                ...StudentIndividualProjectResult\n                ...StudentGroupProjectResult\n                ...StudentInteractiveVideoProjectResult\n            }\n        }\n    }\n    ","\n    ","\n    ","\n    ","\n"]);return ve=function(){return e},e}function he(){var e=ge(["\n    query getActivityInfo($activityId: Int!) {\n        activity(dbId: $activityId) {\n            dbId\n            name\n            className\n            type\n            allowViewOthersResultsWithoutOwn\n            termClass {\n                dbId\n            }\n        }\n    }\n"]);return he=function(){return e},e}function ge(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),we(this,"getGroupActivityData",(function(e){return t.getActivity(e,h.d)})),we(this,"getGroupFormationData",(function(e){return t.getActivity(e,h.f)})),we(this,"getIndividualActivity",(function(e){return t.getActivity(e,v.d)})),we(this,"getQAActivity",(function(e){return t.getActivity(e,g.d)})),we(this,"getInteractiveVideoActivity",(function(e){return t.getActivity(e,E.f)})),we(this,"refreshGroupProgressActivity",(function(e){return t.refreshActivity(e,h.h)})),we(this,"refreshGroupSubmittedActivity",(function(e){return t.refreshActivity(e,h.e)})),we(this,"refreshIndividualProgressActivity",(function(e){return t.refreshActivity(e,v.e)})),we(this,"refreshIndividualSubmittedActivity",(function(e){return t.refreshActivity(e,v.g)})),we(this,"refreshInteractiveVideoProgressActivity",(function(e){return t.refreshActivity(e,E.g)})),we(this,"refreshInteractiveVideoSubmittedActivity",(function(e){return t.refreshActivity(e,E.i)})),we(this,"saveTeamEvalFiveStar",(function(e,n,a,o,s){return new Promise((function(u,l){i.a.dispatch(c.pc(!0)),r.a.mutate({mutation:nt,variables:{input:{activityDbId:e,peerDbId:n,value:a}}}).then((function(r){t.saveTeamEvalComment(e,n,o).then((function(e){var t=r.data.createActivityStudentGroupReviewFiveStarRating.review;t.comment=e.data.createActivityStudentGroupReviewComment.comment,t.peerDbId=n,i.a.dispatch(c.rb(t)),i.a.dispatch(c.pc(!1)),s&&s(),u()}))})).catch((function(e){l(e),i.a.dispatch(c.pc(!1))}))}))})),we(this,"saveTeamEvalRubricPoints",(function(e,t,n,a,o){return new Promise((function(a,s){i.a.dispatch(c.pc(!0));for(var u={rows:[]},l=0;l<n.length;l++)u.rows[l]={evaluationCell:n[l]};r.a.mutate({mutation:rt,variables:{input:{activityDbId:e,peerDbId:t,review:u}}}).then((function(e){if(e&&e.data){var n=e.data.createActivityStudentGroupReviewRubricEvaluation.review;i.a.dispatch(c.tb(n,t)),o&&o(),a(n)}else s(e);i.a.dispatch(c.pc(!1))})).catch((function(e){s(e),i.a.dispatch(c.pc(!1))}))}))}))}var t,n,a;return t=e,(n=[{key:"getBasicActivityData",value:function(e){return i.a.dispatch(c.fc(!0)),new Promise((function(t,n){r.a.query({query:Se,variables:{activityId:e},errorPolicy:"ignore"}).then((function(e){e&&e.data?t(e.data.activity):n(e),i.a.dispatch(c.fc(!1))})).catch((function(e){n(e),i.a.dispatch(c.fc(!1))}))}))}},{key:"getActivityData",value:function(e){var t=this;return new Promise((function(n,a){i.a.dispatch(c.fc(!0)),r.a.query({query:Se,variables:{activityId:e},errorPolicy:"ignore"}).then((function(r){r&&r.data?t.getActivityByType(r.data.activity).then((function(r){r.data&&r.data.activity?(t.sendUserViewedEvent(e),i.a.dispatch(c.Vb(r.data.activity)),n(r.data.activity),i.a.dispatch(c.fc(!1))):(a(r),i.a.dispatch(c.fc(!1)))})).catch((function(e){a(e),i.a.dispatch(c.fc(!1))})):(a(r),i.a.dispatch(c.fc(!1)))})).catch((function(e){a(e),i.a.dispatch(c.fc(!1))}))}))}},{key:"sendUserViewedEvent",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:Re,variables:{activityDbId:e}}).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},{key:"getEducatorProgressActivityData",value:function(e,t){var n=this;return new Promise((function(a,o){i.a.dispatch(c.fc(!0)),i.a.dispatch(c.Vb(null)),r.a.query({query:Se,variables:{activityId:e},errorPolicy:"ignore"}).then((function(r){r&&r.data?n.getEducatorActivityProgressByType(e,r.data.activity.type,t).then((function(e){if(e&&e.data){var t=u.a.clone(e.data.activity);t.myData=t.dataForOneStudent,i.a.dispatch(c.Vb(t)),a(t),i.a.dispatch(c.fc(!1))}else o(e),i.a.dispatch(c.fc(!1))})).catch((function(e){o(e),i.a.dispatch(c.fc(!1))})):(o(r),i.a.dispatch(c.fc(!1)))})).catch((function(e){o(e),i.a.dispatch(c.fc(!1))}))}))}},{key:"refreshEducatorProgressActivityData",value:function(e,t,n){var r=this;return new Promise((function(a,o){i.a.dispatch(c.lc(!0)),r.getEducatorActivityProgressByType(e,t,n).then((function(e){if(e&&e.data){var t=u.a.clone(e.data.activity);t.myData=t.dataForOneStudent,i.a.dispatch(c.Vb(t)),i.a.dispatch(c.lc(!1)),a(e)}else i.a.dispatch(c.lc(!1)),o(e)})).catch((function(e){o(e),i.a.dispatch(c.lc(!1))}))}))}},{key:"getActivityByType",value:function(e){var t=e.dbId;switch(e.type){case d.b.QA_ENHANCED:return this.getQAActivity(t);case d.b.INDIVIDUAL_PROJECT:return this.getIndividualActivity(t);case d.b.GROUP_PRESENTATION:return this.getGroupActivity(t);case d.b.INTERACTIVE_VIDEO:return this.getInteractiveVideoActivity(t);default:return null}}},{key:"refreshActivityData",value:function(e){var t=this,n=u.a.pick(e,["dbId","type"]);return new Promise((function(e,r){t.getActivityByType(n).then((function(t){t.data&&t.data.activity?(i.a.dispatch(c.Vb(t.data.activity)),e(t.data.activity)):r(t)})).catch((function(e){r(e)}))}))}},{key:"getEducatorActivityProgressByType",value:function(e,t,n){var r=null;switch(t){case d.b.QA_ENHANCED:r=g.b;break;case d.b.INDIVIDUAL_PROJECT:r=v.b;break;case d.b.GROUP_PRESENTATION:r=h.b;break;case d.b.INTERACTIVE_VIDEO:r=E.b;break;default:return null}return r?this.getEducatorActivityProgress(r,e,n):null}},{key:"getGroupActivity",value:function(e){var t=this;return new Promise((function(n,a){r.a.query({query:h.g,variables:{activityId:e},errorPolicy:"all"}).then((function(o){if(o&&o.data&&o.data.activity){var s=o.data.activity;if(!s.allowGroupsForming||s.myData&&s.myData.studentGroup&&s.myData.studentGroup.dbId)r.a.query({query:h.d,variables:{activityId:e},errorPolicy:"all"}).then((function(e){n(e)})).catch((function(e){a(e),i.a.dispatch(c.fc(!1))}));else switch(s.executorsType){case S.a.SYSTEM_FORMED:n(o);break;case S.a.STUDENT_FORMED:default:t.getGroupFormationData(e).then((function(e){n(e)})).catch((function(e){a(e),i.a.dispatch(c.fc(!1))}))}}else i.a.dispatch(c.fc(!1)),a(o)})).catch((function(e){a(e),i.a.dispatch(c.fc(!1))}))}))}},{key:"getActivity",value:function(e,t){return r.a.query({query:t,variables:{activityId:e},errorPolicy:"all"})}},{key:"getEducatorActivityProgress",value:function(e,t,n){return r.a.query({query:e,variables:{activityId:t,studentId:n},errorPolicy:"all"})}},{key:"refreshActivity",value:function(e,t){return new Promise((function(n,a){i.a.dispatch(c.Xb(!0)),r.a.query({query:t,variables:{activityId:e},errorPolicy:"ignore"}).then((function(e){e&&e.data?(i.a.dispatch(c.Tb(e.data.activity)),n(e.data.activity)):a(e),i.a.dispatch(c.Xb(!1))})).catch((function(e){a(e),i.a.dispatch(c.Xb(!1))}))}))}},{key:"createMeeting",value:function(e,t){return new Promise((function(n,a){i.a.dispatch(c.gc(!0)),r.a.mutate({mutation:Ne,variables:{input:{activityDbId:e,meeting:{scheduledAt:t.scheduledAt,title:t.title}}}}).then((function(e){if(e&&e.data){var t=e.data.createActivityResultPartialMeeting.errors;0===t.length?(i.a.dispatch(c.wb(e.data.createActivityResultPartialMeeting.meeting)),n(e.data.createActivityResultPartialMeeting)):a(t)}else a(e);i.a.dispatch(c.gc(!1))})).catch((function(e){a(e),i.a.dispatch(c.gc(!1))}))}))}},{key:"createLink",value:function(e,t,n){var a={activityDbId:e,link:{title:t,url:n}};return r.a.mutate({mutation:pt,variables:{input:a}}).then((function(e){var t=e.data.createActivityResultPartialLink.errors;return t&&t.length?Promise.reject(t):Promise.resolve(e.data.createActivityResultPartialLink.link)}))}},{key:"editMeeting",value:function(e){return new Promise((function(t,n){i.a.dispatch(c.gc(!0)),r.a.mutate({mutation:je,variables:{input:{dbId:e.dbId,meeting:{scheduledAt:e.scheduledAt,title:e.title}}}}).then((function(e){if(e&&e.data){var r=e.data.editActivityResultPartialMeeting.errors;0===r.length?(i.a.dispatch(c.Ob(e.data.editActivityResultPartialMeeting.meeting)),t(e.data.editActivityResultPartialMeeting)):n(r)}else n(e);i.a.dispatch(c.gc(!1))})).catch((function(e){n(e),i.a.dispatch(c.gc(!1))}))}))}},{key:"cancelMeeting",value:function(e){return new Promise((function(t,n){i.a.dispatch(c.gc(!0)),r.a.mutate({mutation:ke,variables:{input:{dbId:e}}}).then((function(e){e&&e.data?(i.a.dispatch(c.Gb(e.data.cancelActivityResultPartialMeeting.meeting.dbId)),t(e.data.cancelActivityResultPartialMeeting)):n(e),i.a.dispatch(c.gc(!1))})).catch((function(e){n(e),i.a.dispatch(c.gc(!1))}))}))}},{key:"deleteMeeting",value:function(e){return new Promise((function(t,n){i.a.dispatch(c.gc(!0)),r.a.mutate({mutation:De,variables:{input:{dbId:e}}}).then((function(e){e&&e.data?t(e):n(e),i.a.dispatch(c.gc(!1))})).catch((function(e){n(e),i.a.dispatch(c.gc(!1))}))}))}},{key:"createMilestone",value:function(e,t){return new Promise((function(e,n){i.a.dispatch(c.hc(!0)),r.a.mutate({mutation:Pe,variables:{input:{groupDbId:t.groupDbId,milestone:{dueDate:t.dueDate,description:t.description,status:t.status,assignedTo:t.assignedTo}}}}).then((function(t){t&&t.data?0===t.data.createMilestone.errors.length?(i.a.dispatch(c.xb(t.data.createMilestone.milestone)),e(t.data.createMilestone)):n(t.data.createMilestone):n(t),i.a.dispatch(c.hc(!1))})).catch((function(e){n(e),i.a.dispatch(c.hc(!1))}))}))}},{key:"editMilestone",value:function(e,t){return new Promise((function(e,n){i.a.dispatch(c.hc(!0)),r.a.mutate({mutation:Ae,variables:{input:{dbId:t.dbId,milestone:{dueDate:t.dueDate,description:t.description,status:t.status,assignedTo:t.assignedTo}}}}).then((function(t){t&&t.data?0===t.data.editMilestone.errors.length?(i.a.dispatch(c.Pb(t.data.editMilestone.milestone)),e(t.data.editMilestone)):n(t.data.editMilestone):n(t),i.a.dispatch(c.hc(!1))})).catch((function(e){n(e),i.a.dispatch(c.hc(!1))}))}))}},{key:"deleteMilestone",value:function(e,t){return new Promise((function(e,n){i.a.dispatch(c.hc(!0)),r.a.mutate({mutation:Ae,variables:{input:{dbId:t.dbId,milestone:{dueDate:t.dueDate,description:t.description,status:t.status,assignedTo:t.assignedTo}}}}).then((function(t){t&&t.data?0===t.data.editMilestone.errors.length?(i.a.dispatch(c.Hb(t.data.editMilestone.milestone)),e(t.data.editMilestone)):n(t.data.editMilestone):n(t),i.a.dispatch(c.hc(!1))})).catch((function(e){n(e),i.a.dispatch(c.hc(!1))}))}))}},{key:"getActivityResults",value:function(e){return new Promise((function(t,n){return i.a.dispatch(c.oc(!0)),r.a.query({query:Te,variables:{activityId:e}}).then((function(e){if(e&&e.data){var r=e.data.activity.myData.resultPartials;i.a.dispatch(c.nc(r)),t(r)}else n(e.data.activity);i.a.dispatch(c.oc(!1))})).catch((function(e){n(e),i.a.dispatch(c.oc(!1))}))}))}},{key:"parseSubmitErrors",value:function(e){var t={};return e.forEach((function(e){var n=e.path.pop();t[n]=e.messages})),t}},{key:"addPartialsToReadyForSubmit",value:function(e,t){var n=this;i.a.dispatch(c.oc(!0));var r=t.map((function(e){return l.a.isDocument(e)?n.moveDocumentToReadyToSubmit(e):l.a.isLink(e)?n.moveLinkToReadyToSubmit(e):l.a.isMedia(e)?n.moveMediaToReadyToSubmit(e):l.a.isMeeting(e)?n.moveMeetingToReadyToSubmit(e):null}));return Promise.all(r).then((function(){i.a.dispatch(c.oc(!1)),i.a.dispatch(c.Lb())})).catch((function(){i.a.dispatch(c.oc(!1)),i.a.dispatch(c.Lb())}))}},{key:"addPartialsToInProgress",value:function(e,t){var n=this;i.a.dispatch(c.oc(!0));var r=t.map((function(e){return l.a.isDocument(e)?n.moveDocumentToProgress(e):l.a.isLink(e)?n.moveLinkToProgress(e):l.a.isMedia(e)?n.moveMediaToProgress(e):l.a.isMeeting(e)?n.moveMeetingToProgress(e):null}));return Promise.all(r).then((function(){i.a.dispatch(c.oc(!1)),i.a.dispatch(c.Mb())})).catch((function(){i.a.dispatch(c.oc(!1)),i.a.dispatch(c.Mb())}))}},{key:"addFile",value:function(e,t){var n=this;return new Promise((function(a,o){r.a.mutate({mutation:Fe,variables:{input:{activityDbId:t,"document[fileInfo][file]":e}}}).then((function(e){var r=e.data.uploadActivityResultPartialDocument.errors;if(r.length){var i=n.parseSubmitErrors(r);o(i)}else a(e);n.getActivityResults(t)})).catch((function(e){o(e)}))}))}},{key:"editPartials",value:function(e){var t=this;i.a.dispatch(c.oc(!0));var n=e.map((function(e){return l.a.isDocument(e)?t.editDocumentTitle(e):l.a.isLink(e)?t.editLinkTitle(e):l.a.isMedia(e)?t.editMediaTitle(e):l.a.isMeeting(e)?t.editMeetingTitle(e):null}));return Promise.all(n).then((function(){i.a.dispatch(c.oc(!1))})).catch((function(e){return i.a.dispatch(c.oc(!1)),Promise.reject(e)}))}},{key:"deletePartials",value:function(e){var t=this;i.a.dispatch(c.oc(!0));var n=e.map((function(e){return l.a.isDocument(e)?t.deleteDocument(e):l.a.isLink(e)?t.deleteLink(e):l.a.isMedia(e)?t.deleteMedia(e):l.a.isMeeting(e)?t.deleteMeeting(e.dbId):null}));return Promise.all(n).then((function(){i.a.dispatch(c.oc(!1))})).catch((function(){i.a.dispatch(c.oc(!1))}))}},{key:"deleteDocument",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:Me,variables:{input:{dbId:e.dbId}}}).then((function(e){if(e&&e.data){var r=e.data.deleteActivityResultPartialDocument.removedId;i.a.dispatch(c.Ib(r)),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"deleteLink",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:xe,variables:{input:{dbId:e.dbId}}}).then((function(e){if(e&&e.data){var r=e.data.deleteActivityResultPartialLink.removedId;i.a.dispatch(c.Ib(r)),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"deleteMedia",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:Le,variables:{input:{dbId:e.dbId}}}).then((function(e){if(e&&e.data){var r=e.data.deleteActivityResultPartialMedia.removedId;i.a.dispatch(c.Fb(r)),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"moveDocumentToReadyToSubmit",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:Ue,variables:{input:{dbId:e.dbId}}}).then((function(e){if(e&&e.data){var r=e.data.changeActivityResultPartialDocumentStatusToReadyToSubmit.document;i.a.dispatch(c.zb([r])),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"moveLinkToReadyToSubmit",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:Ve,variables:{input:{dbId:e.dbId}}}).then((function(e){if(e&&e.data){var r=e.data.changeActivityResultPartialLinkStatusToReadyToSubmit.link;i.a.dispatch(c.zb([r])),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"moveMediaToReadyToSubmit",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:Ge,variables:{input:{dbId:e.dbId}}}).then((function(e){if(e&&e.data){var r=e.data.changeActivityResultPartialMediaStatusToReadyToSubmit.media;i.a.dispatch(c.zb([r])),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"moveMeetingToReadyToSubmit",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:qe,variables:{input:{dbId:e.dbId}}}).then((function(e){if(e&&e.data){var r=e.data.changeActivityResultPartialMeetingStatusToReadyToSubmit.meeting;i.a.dispatch(c.zb([r])),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"moveDocumentToProgress",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:Be,variables:{input:{dbId:e.dbId}}}).then((function(e){if(e&&e.data){var r=e.data.changeActivityResultPartialDocumentStatusToWorkInProgress.document;i.a.dispatch(c.yb([r])),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"moveLinkToProgress",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:We,variables:{input:{dbId:e.dbId}}}).then((function(e){if(e&&e.data){var r=e.data.changeActivityResultPartialLinkStatusToWorkInProgress.link;i.a.dispatch(c.yb([r])),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"moveMediaToProgress",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:Qe,variables:{input:{dbId:e.dbId}}}).then((function(e){if(e&&e.data){var r=e.data.changeActivityResultPartialMediaStatusToWorkInProgress.media;i.a.dispatch(c.yb([r])),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"moveMeetingToProgress",value:function(e){return new Promise((function(t,n){r.a.mutate({mutation:Ye,variables:{input:{dbId:e.dbId}}}).then((function(e){if(e&&e.data){var r=e.data.changeActivityResultPartialMeetingStatusToWorkInProgress.meeting;i.a.dispatch(c.yb([r])),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"editDocumentTitle",value:function(e){return new Promise((function(t,n){i.a.dispatch(c.oc(!0)),r.a.mutate({mutation:He,variables:{input:{dbId:e.dbId,title:e.title}}}).then((function(e){if(e&&e.errors&&e.errors.length)return n(e.errors);if(e&&e.data){var r=e.data.editActivityResultPartialDocumentTitle.document;i.a.dispatch(c.Qb(r)),t(r)}else n(e);i.a.dispatch(c.oc(!1))})).catch((function(e){n(e),i.a.dispatch(c.oc(!1))}))}))}},{key:"editLinkTitle",value:function(e){return new Promise((function(t,n){i.a.dispatch(c.oc(!0)),r.a.mutate({mutation:ze,variables:{input:{dbId:e.dbId,title:e.title}}}).then((function(e){if(e&&e.errors&&e.errors.length)return n(e.errors);if(e&&e.data){var r=e.data.editActivityResultPartialLinkTitle.link;i.a.dispatch(c.Qb(r)),t(r)}else n(e);i.a.dispatch(c.oc(!1))})).catch((function(e){n(e),i.a.dispatch(c.oc(!1))}))}))}},{key:"editMediaTitle",value:function(e){return new Promise((function(t,n){i.a.dispatch(c.oc(!0)),r.a.mutate({mutation:Xe,variables:{input:{dbId:e.dbId,title:e.title}}}).then((function(e){if(e&&e.errors&&e.errors.length)return n(e.errors);if(e&&e.data){var r=e.data.editActivityResultPartialMediaTitle.media;i.a.dispatch(c.Qb(r)),t(r)}else n(e);i.a.dispatch(c.oc(!1))})).catch((function(e){n(e),i.a.dispatch(c.oc(!1))}))}))}},{key:"editMeetingTitle",value:function(e){return new Promise((function(t,n){i.a.dispatch(c.oc(!0)),r.a.mutate({mutation:Ke,variables:{input:{dbId:e.dbId,title:e.title}}}).then((function(e){if(e&&e.errors&&e.errors.length)return n(e.errors);if(e&&e.data){var r=e.data.editActivityResultPartialMeetingTitle.meeting;i.a.dispatch(c.Qb(r)),t(r)}else n(e);i.a.dispatch(c.oc(!1))})).catch((function(e){n(e),i.a.dispatch(c.oc(!1))}))}))}},{key:"addGroupComment",value:function(e,t){return new Promise((function(n,a){i.a.dispatch(c.ac(!0)),r.a.mutate({mutation:et,variables:{input:{groupDbId:t,comment:{body:e}}}}).then((function(e){if(e&&e.data){var t=e.data.createActivityStudentGroupComment.comment;i.a.dispatch(c.qb(t)),n(t)}else a(e);i.a.dispatch(c.ac(!1))})).catch((function(e){a(e),i.a.dispatch(c.ac(!1))}))}))}},{key:"deleteGroupComment",value:function(e){return new Promise((function(t,n){i.a.dispatch(c.ac(!0)),r.a.mutate({mutation:tt,variables:{input:{dbId:e}}}).then((function(e){if(e&&e.data){var r=e.data.deleteActivityStudentGroupComment.removedId;i.a.dispatch(c.Eb(r)),t(r)}else n(e);i.a.dispatch(c.ac(!1))})).catch((function(e){n(e),i.a.dispatch(c.ac(!1))}))}))}},{key:"submitAssignment",value:function(e){var t=this;return new Promise((function(n,a){i.a.dispatch(c.oc(!0)),i.a.dispatch(c.Wb(!0)),r.a.mutate({mutation:Je,variables:{input:{activityDbId:e}}}).then((function(r){n(r),i.a.dispatch(c.oc(!1)),i.a.dispatch(c.Wb(!1)),t.getActivityData(e)})).catch((function(e){a(e),i.a.dispatch(c.oc(!1)),i.a.dispatch(c.Wb(!1))}))}))}},{key:"submitQAActivity",value:function(e){return new Promise((function(t,n){i.a.dispatch(c.Wb(!0)),r.a.mutate({mutation:Ze,variables:{input:{activityDbId:e}}}).then((function(e){if(e&&e.data){var r=e.data.requestCreatingQaSubmit;i.a.dispatch(c.jc(r)),t(r)}else n(e);i.a.dispatch(c.Wb(!1))})).catch((function(e){n(e),i.a.dispatch(c.Wb(!1))}))}))}},{key:"deleteSubmission",value:function(e){var t=this;return new Promise((function(n,a){i.a.dispatch(c.mc(!0)),r.a.mutate({mutation:$e,variables:{input:{activityDbId:e}}}).then((function(r){if(r&&r.data){var o=r.data.deleteActivityResult.result;i.a.dispatch(c.Kb(o)),n(o),t.getActivityData(e)}else a(r);i.a.dispatch(c.mc(!1))})).catch((function(e){a(e),i.a.dispatch(c.mc(!1))}))}))}},{key:"saveRubricTeamEvalComment",value:function(e,t,n){return this.saveTeamEvalComment(e,t,n).then((function(e){i.a.dispatch(c.sb({comment:e.data.createActivityStudentGroupReviewComment.comment,peerDbId:t})),i.a.dispatch(c.pc(!1))}))}},{key:"saveTeamEvalComment",value:function(e,t,n){return new Promise((function(a,o){i.a.dispatch(c.pc(!0)),r.a.mutate({mutation:at,variables:{input:{activityDbId:e,peerDbId:t,comment:{commentText:n}}}}).then((function(e){i.a.dispatch(c.pc(!1)),a(e)})).catch((function(e){o(e),i.a.dispatch(c.pc(!1))}))}))}},{key:"addPeerReviewComment",value:function(e,t,n,a){var o=this;return new Promise((function(s,u){i.a.dispatch(c.ic(!0)),r.a.mutate({mutation:ot,variables:{input:{activityDbId:e,submitterDbId:t,comment:{commentText:n,syncTime:a}}}}).then((function(){o.getPeerReviews(e).then((function(){i.a.dispatch(c.ic(!1)),s()})).catch((function(e){u(e),i.a.dispatch(c.ic(!1))}))})).catch((function(e){u(e),i.a.dispatch(c.ic(!1))}))}))}},{key:"addPeerReviewVideo",value:function(e,t,n,a){var o=this;return new Promise((function(s,u){i.a.dispatch(c.ic(!0)),r.a.mutate({mutation:ot,variables:{input:{activityDbId:e,submitterDbId:t,comment:{commentMedia:n,syncTime:a}}}}).then((function(){o.getPeerReviews(e).then((function(){i.a.dispatch(c.ic(!1)),s()})).catch((function(e){u(e),i.a.dispatch(c.ic(!1))}))})).catch((function(e){u(e),i.a.dispatch(c.ic(!1))}))}))}},{key:"editPeerReviewComment",value:function(e,t){return new Promise((function(n,a){i.a.dispatch(c.ic(!0)),r.a.mutate({mutation:it,variables:{input:{dbId:e,comment:{commentText:t.commentText,commentMedia:t.commentMedia,syncTime:t.syncTime}}}}).then((function(e){if(e&&e.data){var t=e.data.editActivityResultComment.comment;i.a.dispatch(c.Rb(e.data.editActivityResultComment.comment)),n(t)}else a(e);i.a.dispatch(c.ic(!1))})).catch((function(e){a(e),i.a.dispatch(c.ic(!1))}))}))}},{key:"deletePeerReviewComment",value:function(e,t){return new Promise((function(e,n){i.a.dispatch(c.ic(!0)),r.a.mutate({mutation:ct,variables:{input:{dbId:t}}}).then((function(t){if(t&&t.data){var r=t.data.deleteActivityResultComment;i.a.dispatch(c.Jb(r)),i.a.dispatch(c.ic(!1)),e(r)}else i.a.dispatch(c.ic(!1)),n(t)})).catch((function(e){n(e),i.a.dispatch(c.ic(!1))}))}))}},{key:"createPeerReviewFiveStar",value:function(e,t,n){var a=this;return new Promise((function(o,s){i.a.dispatch(c.ic(!0)),r.a.mutate({mutation:st,variables:{input:{activityDbId:e,submitterDbId:t,value:n}}}).then((function(n){if(n&&n.data){var r=n.data.createActivityResultStudentReviewFiveStarRating;r.submitter={dbId:t},i.a.dispatch(c.Bb(r)),a.getPeerReviews(e).then((function(){o(),i.a.dispatch(c.ic(!1))})).catch((function(e){s(e),i.a.dispatch(c.ic(!1))}))}else s(n)})).catch((function(e){s(e),i.a.dispatch(c.ic(!1))}))}))}},{key:"getPeerReviews",value:function(e){return new Promise((function(t,n){r.a.query({query:Ce,variables:{activityId:e}}).then((function(e){e&&e.data?(i.a.dispatch(c.qc(e.data.activity)),t(e.data.activity)):n(e)})).catch((function(e){n(e)}))}))}},{key:"setPeerReviewViewed",value:function(e,t){var n=this;return new Promise((function(a,o){r.a.mutate({mutation:ut,variables:{input:{activityDbId:e,submitterDbId:t}}}).then((function(t){t&&t.data?n.getPeerReviews(e).then((function(){a()})).catch((function(e){o(e)})):o(t)})).catch((function(e){o(e)}))}))}},{key:"getResultComments",value:function(e){return new Promise((function(t,n){r.a.query({query:Ie,variables:{activityId:e}}).then((function(e){if(e&&e.data){var r=e.data.activity;i.a.dispatch(c.Ub(r.myData.result.comments)),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"getReviewedPeerReviews",value:function(e){return new Promise((function(t,n){r.a.query({query:_e,variables:{activityId:e}}).then((function(e){if(e&&e.data){var r=e.data.activity;i.a.dispatch(c.qc(r)),t(r)}else n(e)})).catch((function(e){n(e)}))}))}},{key:"combineVideos",value:function(e,t){return new Promise((function(n,a){r.a.mutate({mutation:ft,variables:{input:{activityDbId:e,partialMediaDbIds:t}}}).then((function(e){if(e&&e.data){var t=e.data.combineActivityResultPartialMedia.media;i.a.dispatch(c.vb(t)),n(t)}else a(e)})).catch((function(e){a(e)}))}))}},{key:"addFeedbackComment",value:function(e,t,n,a){return new Promise((function(o,s){i.a.dispatch(c.Zb(!0)),r.a.mutate({mutation:ot,variables:{input:{activityDbId:e,submitterDbId:t,comment:{commentText:n,syncTime:a}}}}).then((function(e){if(e&&e.data){var t=e.data.createActivityResultComment.comment;i.a.dispatch(c.pb(t)),o(t)}else s(e);i.a.dispatch(c.Zb(!1))})).catch((function(e){s(e),i.a.dispatch(c.Zb(!1))}))}))}},{key:"deleteFeedbackComment",value:function(e,t){return new Promise((function(e,n){i.a.dispatch(c.Zb(!0)),r.a.mutate({mutation:ct,variables:{input:{dbId:t}}}).then((function(t){if(t&&t.data){var r=t.data.deleteActivityResultComment;i.a.dispatch(c.Db(r)),e(r)}else n(t);i.a.dispatch(c.Zb(!1))})).catch((function(e){n(e),i.a.dispatch(c.ic(!1))}))}))}},{key:"editFeedbackComment",value:function(e,t){return new Promise((function(n,a){i.a.dispatch(c.Zb(!0)),r.a.mutate({mutation:it,variables:{input:{dbId:e,comment:{commentText:t.commentText,commentMedia:t.commentMedia,syncTime:t.syncTime}}}}).then((function(e){if(e&&e.data){var t=e.data.editActivityResultComment.comment;i.a.dispatch(c.Nb(t)),n(t)}else a(e);i.a.dispatch(c.Zb(!1))})).catch((function(e){a(e),i.a.dispatch(c.ic(!1))}))}))}},{key:"addFeedbackCommentVideo",value:function(e,t,n,a){return new Promise((function(o,s){i.a.dispatch(c.Zb(!0)),r.a.mutate({mutation:ot,variables:{input:{activityDbId:e,submitterDbId:t,comment:{commentMedia:n,syncTime:a}}}}).then((function(e){if(e&&e.data){var t=e.data.createActivityResultComment.comment;i.a.dispatch(c.pb(t)),o(t)}else s(e);i.a.dispatch(c.Zb(!1))})).catch((function(e){s(e),i.a.dispatch(c.Zb(!1))}))}))}},{key:"createRubricPeerReview",value:function(e,t,n,a){var o=this;return new Promise((function(s,u){var l={rows:n.map((function(e){return{evaluationCell:e}}))};r.a.mutate({mutation:dt,variables:{input:{activityDbId:e,submitterDbId:t,review:l}}}).then((function(n){if(n&&n.data){var r=n.data.createActivityResultStudentReviewRubricEvaluation;if(n.data.createActivityResultStudentReviewRubricEvaluation.errors.length>0)u(r);else{var l=n.data.createActivityResultStudentReviewRubricEvaluation.review;a?(i.a.dispatch(c.Ab(l)),s(l)):(i.a.dispatch(c.Cb(l,t)),o.getPeerReviews(e).then((function(){s(l)})).catch((function(e){u(e)})))}}else u(n)})).catch((function(e){u(e)}))}))}},{key:"editGroupName",value:function(e,t){return new Promise((function(n,a){i.a.dispatch(c.cc(!0)),r.a.mutate({mutation:lt,variables:{input:{dbId:e,name:t}}}).then((function(e){if(e&&e.data){var t=e.data.editActivityStudentGroupTitle.group;i.a.dispatch(c.bc(t)),n(t)}else a(e);i.a.dispatch(c.cc(!1))})).catch((function(e){a(e),i.a.dispatch(c.cc(!1))}))}))}},{key:"createInteractiveAnswer",value:function(e,t){return new Promise((function(n,a){i.a.dispatch(c.dc(!0)),r.a.mutate({mutation:mt,variables:{input:{questionDbId:+e,answer:{option:+t}}}}).then((function(e){e&&e.data?n(e.data):a(e),i.a.dispatch(c.dc(!1))})).catch((function(e){a(e),i.a.dispatch(c.dc(!1))}))}))}},{key:"setInteractiveVideoFinishedWatching",value:function(e){return new Promise((function(t,n){i.a.dispatch(c.dc(!0)),r.a.mutate({mutation:bt,variables:{input:{activityDbId:e}}}).then((function(e){e&&e.data?(i.a.dispatch(c.ec(e.data.setInteractiveVideoWatchingFinishedAt)),t(e.data)):n(e),i.a.dispatch(c.dc(!1))})).catch((function(e){n(e),i.a.dispatch(c.dc(!1))}))}))}},{key:"saveReflectionQuestionAnswers",value:function(e,t){return new Promise((function(n,a){var o={activityDbId:e,answers:t};r.a.mutate({mutation:yt,variables:{input:o}}).then((function(e){try{var t=e.data.createReflectAnswers;t.errors&&t.errors.length>0?a(t.errors):(i.a.dispatch(c.kc(t)),n(t.answers))}catch(r){C.b.debug(r),a(r)}})).catch((function(e){a(e)}))}))}}])&&Ee(t.prototype,n),a&&Ee(t,a),e}();t.a=new Oe;var Se=o()(he()),Ce=o()(ve(),g.f,h.i,v.f,E.h),_e=o()(ye(),g.f,h.i,v.f,E.h),Ie=o()(be(),m.b,m.a),Te=o()(me(),p.b,p.a,p.c,p.d),Re=o()(pe()),Pe=o()(fe()),Ae=o()(de()),Ne=o()(le(),f.d),je=o()(ue(),f.d),ke=o()(se()),De=o()(ce()),Le=o()(ie()),Me=o()(oe()),xe=o()(ae()),Fe=o()(re()),Ue=o()(ne()),Ve=o()(te()),Ge=o()(ee()),qe=o()($()),Be=o()(Z()),We=o()(J()),Qe=o()(X()),Ye=o()(K()),He=o()(z()),ze=o()(H()),Ke=o()(Y(),p.d),Xe=o()(Q(),f.d),Je=o()(W()),Ze=o()(B()),$e=o()(q()),et=o()(G()),tt=o()(V()),nt=o()(U(),w.b,w.a),rt=o()(F(),b.d,b.b,b.a),at=o()(x()),ot=o()(M(),m.b,m.a),it=o()(L(),m.b,m.a),ct=o()(D()),st=o()(k()),ut=o()(j()),lt=o()(N()),dt=o()(A(),y.d),ft=o()(P(),y.d),pt=o()(R(),p.b),mt=o()(T(),E.d,E.e),bt=o()(I()),yt=o()(_(),O.b)},xWUU:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("xrVw"),s=n("TSYQ"),u=n.n(s),l=function(e){return a.a.createElement(c.j,{collapsed:!e.visible},a.a.createElement(c.m,{"aria-describedby":e.id,autopadContent:!1,className:u()("notification-dialog",e.className),containFocus:!1,id:e.id,title:e.title,titleClassName:u()("notification-dialog-title",e.titleClassName)},e.dialogContent))};l.propTypes={id:i.a.string.isRequired,className:i.a.string,dialogContent:i.a.any.isRequired,title:i.a.string,titleClassName:i.a.string,visible:i.a.bool.isRequired},t.a=l},xY7h:function(e,t,n){e.exports={autoJoinDialog:"b_4Hn32qud",autoJoin:"b_4OPZ1hFd",autoJoinDialogHeader:"b_6euH9Bm6",autoJoinMessage:"b_dbplLJOD"}},xp71:function(e,t,n){},xyD6:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n("G4qV"),a=n("hf66"),o=Object(r.a)(a.a,(function(e){return e.activity})),i=Object(r.a)(o,(function(e){return e.activityData})),c=Object(r.a)(i,(function(e){return e.myData})),s=Object(r.a)(i,(function(e){return e.interactiveVideoSettings})),u=Object(r.a)(i,(function(e){return e.interactiveQuestions}));Object(r.a)(c,(function(e){return e.interactiveVideoWatchingFinishedAt})),Object(r.a)(c,(function(e){return e.interactiveAnswers}))},y54d:function(e,t,n){},yBPd:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZD0w"),s=n("LvDl"),u=n.n(s),l=(n("NVgV"),n("TSYQ")),d=n.n(l),f=n("q8N1"),p=n("Wqtl"),m=n("jpbM"),b=n.n(m),y=n("ZmiZ"),v=n("kbsL"),h=n("LFYD"),g=n("uxn8");function E(e){return(E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==E(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,S(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),n=t,(r=[{key:"shouldComponentUpdate",value:function(e){return!(JSON.stringify(this.props.rows)===JSON.stringify(e.rows)&&this.props.showClientErrors===e.showClientErrors&&this.props.errors===e.errors&&JSON.stringify(this.props.grade)===JSON.stringify(e.grade))}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.rows,r=e.renderRows;return a.a.createElement("table",{className:"c-rubric__table",ref:this.props.tableRef,summary:t._("Your rubric evaluation of this team member")},a.a.createElement("tbody",null,r(n,!0)))}}])&&w(n.prototype,r),o&&w(n,o),t}(r.Component),I=Object(c.withI18n)()(_);function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==T(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(this,A(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,(r=[{key:"shouldComponentUpdate",value:function(e){return!(JSON.stringify(this.props.rows)===JSON.stringify(e.rows)&&this.props.fixedHeaderY===e.fixedHeaderY&&this.props.showClientErrors===e.showClientErrors&&this.props.errors===e.errors&&JSON.stringify(this.props.grade)===JSON.stringify(e.grade))}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.fixedHeaderY,r=e.renderRows,o=e.rows;return a.a.createElement("table",{className:d()("c-rubric__table","c-rubric__table--fixed-header"),ref:this.props.tableRef,summary:t._("Rubric Columns"),style:{top:n}},a.a.createElement("tbody",null,r([o[0]])))}}])&&R(n.prototype,r),o&&R(n,o),t}(r.Component),k=Object(c.withI18n)()(j);function D(e){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return!t||"object"!==D(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,x(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),n=t,(r=[{key:"shouldComponentUpdate",value:function(e){return!(JSON.stringify(this.props.rows)===JSON.stringify(e.rows)&&this.props.fixedColumnX===e.fixedColumnX&&this.props.showClientErrors===e.showClientErrors&&this.props.errors===e.errors&&JSON.stringify(this.props.grade)===JSON.stringify(e.grade))}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.fixedColumnX,r=e.renderFirstColumn;return a.a.createElement("table",{className:d()("c-rubric__table","c-rubric__table--fixed-column"),ref:this.props.tableRef,summary:t._("Rubric Rows"),style:{left:n}},a.a.createElement("tbody",null,r()))}}])&&L(n.prototype,r),o&&L(n,o),t}(r.Component),V=Object(c.withI18n)()(U),G=n("8For"),q=n("wRmV"),B=n("K32+");function W(e){return(W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X="c-rubric__description",J=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Y(t).call(this,e),n=!o||"object"!==W(o)&&"function"!==typeof o?z(r):o,K(z(z(n)),"handleTruncate",(function(e){n.state.truncated!==e&&n.setState({truncated:e})})),K(z(z(n)),"getTextContainer",(function(){var e=n.state.truncated,t=n.props.description;return e?a.a.createElement(q.b,{label:t},n.getTruncatedText()):n.getTruncatedText()})),K(z(z(n)),"getTruncatedText",(function(){var e=n.props.description;return a.a.createElement("p",{className:X},a.a.createElement(B.a,{lines:3,onTruncate:n.handleTruncate,ellipsis:a.a.createElement("span",null,"...")},e))})),n.state={truncated:!1},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.ariaLabel,n=e.className,r=e.clickHandler,o=e.isCorner,i=e.isHeader,c=e.isRowSelected,s=e.keyDownHandler,u=e.tabIndex,l=e.points;return a.a.createElement("td",{className:"c-rubric__cell"},a.a.createElement("div",{"aria-label":t,className:n,role:"button",tabIndex:u,onClick:r,onKeyDown:s},!o&&this.getTextContainer(),!i&&a.a.createElement("p",{className:"c-rubric__points"},l),c&&a.a.createElement(G.a,{className:"c-rubric__selected-row-icon"},h.a.DONE)))}}])&&Q(n.prototype,r),o&&Q(n,o),t}(r.Component);J.propTypes={ariaLabel:i.a.string,className:i.a.string,clickHandler:i.a.func,description:i.a.string,keyDownHandler:i.a.func,points:i.a.number,isCorner:i.a.bool,isHeader:i.a.bool,isRowSelected:i.a.bool,tabIndex:i.a.number};var Z=J;function $(e){return($="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe="c-rubric__row",ie=255,ce=1e3,se="description",ue="points",le=Object(c.i18nMark)("Required"),de=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=te(t).call(this,e),n=!o||"object"!==$(o)&&"function"!==typeof o?re(r):o,ae(re(re(n)),"computeState",(function(e,t){n.props.mode===p.a.CREATE&&((e={}).dbId=b()(5),e.rows=n.generateRows(n.props.initialRowsCount,n.props.initialCellsCount));var r=u.a.merge([],e.rows),a=new Array(r.length-1);return t&&(r.forEach((function(e,n){0!==n&&e.cells.forEach((function(e){-1!==t.indexOf(e.dbId)&&(a[n-1]=e)}))})),r.forEach((function(e){e.cells.forEach((function(e,t){e.points||(e.points=r[0].cells[t].points)}))}))),{rubric:u.a.merge({},e),savedRubric:u.a.merge({},e),fixedHeaderY:0,fixedColumnX:0,grade:a,errors:n.state&&n.state.errors||[]}})),ae(re(re(n)),"renderRows",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map((function(e,r){var o=e.dbId,i=e.cells;return a.a.createElement("tr",{key:o,className:oe},i.map((function(e,a){return n.renderCell(e,a,r,t)})))}))})),ae(re(re(n)),"addCell",(function(e){for(var t=u.a.clone(n.state.rubric),r=0;r<t.rows.length;r++)t.rows[r].cells=g.b(t.rows[r].cells,n.generateCell(),e+1);n.setState({rubric:t},n.onRubricChange)})),ae(re(re(n)),"removeCell",(function(e){for(var t=u.a.clone(n.state.rubric),r=0;r<t.rows.length;r++)t.rows[r].cells=g.d(t.rows[r].cells,e);n.setState({rubric:t},n.onRubricChange)})),ae(re(re(n)),"addRow",(function(e){var t=u.a.clone(n.state.rubric),r=t.rows[0].cells.length;t.rows=g.b(t.rows,n.generateRow(r),e+1),n.setState({rubric:t},n.onRubricChange)})),ae(re(re(n)),"removeRow",(function(e){var t=u.a.clone(n.state.rubric);t.rows=g.d(t.rows,e),n.setState({rubric:t},n.onRubricChange)})),ae(re(re(n)),"onChangeDescription",(function(e,t,r){var a=n.state.rubric;r.length>ie&&(r=r.substring(0,ie)),a.rows[e].cells[t].description=r,n.setState({rubric:a},n.onRubricChange)})),ae(re(re(n)),"onChangePoints",(function(e,t,r){var a=n.state.rubric,o=a.rows[e].cells[t].points,i=r;if(i.match(/^\d*\.?\d{0,2}$/)){try{var c=parseFloat(i);u.a.isNaN(c)?i=null:c>ce&&(i=ce)}catch(d){i=o}var s=u.a.merge({},a),l=u.a.merge({},s.rows[e].cells[t],{points:i});s.rows[e].cells[t]=l,n.setState({rubric:s},n.onRubricChange)}})),ae(re(re(n)),"onContainerScroll",(function(){n.recalculateFixedHeader(),n.recalculateFixedColumn()})),ae(re(re(n)),"renderFirstColumn",(function(){var e=n.state.rubric.rows,t=(e=u.a.merge([],e)).map((function(e){return e.cells=[e.cells[0]],e}));return n.renderRows(t)})),ae(re(re(n)),"onRubricChange",(function(){var e=u.a.merge({},n.state.rubric),t=n.props.onRubricChange,r=0,a=!0,o=[];delete e.__typename,delete e.owner,delete e.createdAt,delete e.isUsed,delete e.cengageSettings,e.rows.forEach((function(e,t){var i=[];if(delete e.dbId,delete e.__typename,e.cells.forEach((function(e,r){delete e.dbId,delete e.__typename;var c=n.validate(t,r);if(c.length>0&&(a=!1,o=o.concat(c)),e.description||(e.description=""),0!==r){var s=parseFloat(e.points);!u.a.isNaN(s)&&u.a.isNumber(s)||(s=n.getDefaultPoints(r)),i.push(s)}})),0!==t&&0!==(i=u.a.compact(i)).length){var c=Math.max.apply(null,i);r+=c}})),e.maxValue=Math.round(100*r)/100,e.isValid=a,t(e),n.setState({errors:o})})),ae(re(re(n)),"validate",(function(e,t){var r=n.props.i18n;if(0===e&&0===t||e>0&&t>0)return[];var a=n.state.rubric.rows[e].cells[t],o=[];return a.description||o.push({cellIndex:t,rowIndex:e,field:se,error:r._(le)}),0===e&&u.a.isNaN(parseFloat(a.points))&&o.push({cellIndex:t,rowIndex:e,field:ue,error:r._(le)}),o})),n.state=n.computeState(e.rubric,e.grade),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.savedRubric&&!u.a.isEqual(this.props.savedRubric,e.rubric)&&this.setState(this.computeState(e.rubric,e.grade))}},{key:"componentDidMount",value:function(){this.onRubricChange(),this.recalculateFixedHeader(),this.recalculateFixedColumn()}},{key:"componentWillUnmount",value:function(){}},{key:"getDefaultPoints",value:function(e){return+this.state.rubric.rows[0].cells[e].points}},{key:"handleCellClick",value:function(e,t){var n=this;if(this.props.mode===p.a.GRADE){var r=u.a.merge([],this.state.grade);r[t]&&r[t].dbId===e.dbId?r[t]=null:r[t]=e,this.setState({grade:r},(function(){n.onGradeChange()}))}}},{key:"onGradeChange",value:function(){var e={cellIds:[],points:0,valid:!0};this.state.grade.forEach((function(t){if(!t)return e.valid=!1,void e.cellIds.push(null);e.points+=parseFloat(t.points),e.cellIds.push(t.dbId)})),this.props.onGradeChange(e)}},{key:"isCellSelected",value:function(e){var t=!1;return this.state.grade.forEach((function(n){n&&n.dbId===e.dbId&&(t=!0)})),t}},{key:"isRowSelected",value:function(e){return!!this.state.grade[e]}},{key:"renderCell",value:function(e,t,n,r){var o,i=this;e=u.a.merge({},e);var c=this.props.i18n,s=this.getDefaultPoints(t),l=this.props.mode===p.a.CREATE||this.props.mode===p.a.EDIT,m=e,b=m.dbId,g=m.description,E=this.state.rubric.rows,w=0===n,O=0===t&&0===n,S=this.isCellSelected(e),C=0===t,_=0===n,I=!w&&!C,T=C&&this.isRowSelected(n-1),R=d()("c-rubric__cell-content",(ae(o={},"c-rubric__cell-content--head",w),ae(o,"c-rubric__cell-content--first-column",0===t),ae(o,"c-rubric__cell-content--selected",S),o));C||_||l||!u.a.isNaN(parseFloat(e.points))||(e.points=s);var P=function(){return i.handleCellClick(e,n-1)},A=E[n].cells[0].description,N=E[0].cells[t].description;if(O)return a.a.createElement("td",{key:b,className:"c-rubric__cell"},a.a.createElement("div",{className:R}));if(l){var j=!this.state.rubric.isUsed,k=this.state.rubric.rows[0].cells.length>this.props.minCellsCount&&j,D=this.state.rubric.rows.length>this.props.minRowsCount&&j,L=this.state.rubric.rows[0].cells.length<this.props.maxCellsCount&&j,M=this.state.rubric.rows.length<this.props.maxRowsCount&&j,x="",F="";this.props.showClientErrors&&(x=this.getDescriptionError(n,t),F=this.getPointsError(n,t));var U=_?c._("Default points: {0}",{0:e.points}):c._("Points: {0}",{0:e.points}),V=(_||C)&&r;return a.a.createElement("td",{key:b,className:"c-rubric__cell"},a.a.createElement("div",{className:R},a.a.createElement(y.b,{id:"description-"+e.dbId,name:"description-"+e.dbId,enabled:!V,errorText:x,value:e.description||"",onChange:this.onChangeDescription.bind(null,n,t),placeholder:c._("Description")}),!C&&j&&a.a.createElement(y.b,{id:"points-"+e.dbId,name:"description-"+e.dbId,enabled:!V,errorText:F,placeholder:c._("Points"),value:null===e.points?"":e.points,onChange:this.onChangePoints.bind(null,n,t),style:{width:65}}),!C&&!j&&a.a.createElement("p",{className:"c-rubric__points-text"},U),_&&k&&a.a.createElement(v.d,{id:"button-rubric-cell-remove["+n+"_"+t+"]",className:"c-rubric__remove-cell-button",enabled:!V,title:c._("Remove cell"),onClick:this.removeCell.bind(null,t)},h.a.DELETE),_&&j&&L&&a.a.createElement(v.d,{id:"button-rubric-cell-add["+n+"_"+t+"]",className:"c-rubric__add-cell-button",enabled:!V,title:c._("Add cell"),onClick:this.addCell.bind(null,t)},h.a.ADD),C&&j&&M&&a.a.createElement(v.d,{id:"button-rubric-row-add["+n+"_"+t+"]",className:"c-rubric__add-row-button",enabled:!V,onClick:this.addRow.bind(null,n),title:c._("Add row")},h.a.ADD),C&&D&&a.a.createElement(v.d,{id:"button-rubric-row-remove["+n+"_"+t+"]",className:"c-rubric__remove-row-button",enabled:!V,onClick:this.removeRow.bind(null,n),title:c._("Remove row")},h.a.DELETE)))}return a.a.createElement(Z,{key:b,ariaLabel:c._("Criterion: {criterion}. Level: {level}. Points: {0}",{0:e.points,criterion:A,level:N}),className:R,clickHandler:C?null:P,description:g,keyDownHandler:C?null:Object(f.b)(P),points:e.points,isCorner:O,isHeader:w,isRowSelected:T,tabIndex:I?0:-1})}},{key:"getDescriptionError",value:function(e,t){var n="";return this.state.errors.forEach((function(r){r.cellIndex===t&&r.rowIndex===e&&r.field===se&&(n=r.error)})),n}},{key:"getPointsError",value:function(e,t){var n="";return this.state.errors.forEach((function(r){r.cellIndex===t&&r.rowIndex===e&&r.field===ue&&(n=r.error)})),n}},{key:"generateCell",value:function(){return{dbId:b()(3),points:null,description:null}}},{key:"generateRow",value:function(e){for(var t={dbId:b()(3),cells:[]},n=0;n<e;n++)t.cells.push(this.generateCell());return t}},{key:"generateRows",value:function(e,t){for(var n=[],r=0;r<e;r++)n.push(this.generateRow(t));return n}},{key:"recalculateFixedHeader",value:function(){this.setState({fixedHeaderY:this.container.scrollTop})}},{key:"recalculateFixedColumn",value:function(){this.setState({fixedColumnX:this.container.scrollLeft})}},{key:"addError",value:function(e){var t=this.state.errors;t.push(e),this.setState({errors:t})}},{key:"resetErrors",value:function(){this.setState({errors:[]})}},{key:"render",value:function(){var e=this,t=this.state.rubric.rows,n=this.state,r=n.fixedHeaderY,o=n.fixedColumnX,i=n.grade,c=n.errors,s=this.props.showClientErrors;return this.state.rubric?(t=u.a.merge([],t),i=u.a.merge([],i),a.a.createElement("div",{className:"c-rubric",onScroll:this.onContainerScroll,ref:function(t){return e.container=t}},a.a.createElement(k,{tableRef:function(t){e.fixedHeaderTable=t},rows:t,grade:i,showClientErrors:s,errors:c,renderRows:this.renderRows,fixedHeaderY:r}),a.a.createElement(V,{tableRef:function(t){e.fixedColumnTable=t},rows:t,grade:i,showClientErrors:s,errors:c,fixedColumnX:o,renderFirstColumn:this.renderFirstColumn}),a.a.createElement(I,{tableRef:function(t){return e.mainTable=t},rows:t,grade:i,showClientErrors:s,errors:c,fixedColumnX:o,renderRows:this.renderRows}),a.a.createElement("div",{className:"c-rubric__fixed-corner",style:{left:o,top:r},ref:function(t){e.fixedCorner=t}}))):null}}])&&ee(n.prototype,r),o&&ee(n,o),t}(r.Component);de.defaultProps={onGradeChange:function(){},minCellsCount:2,minRowsCount:2,maxCellsCount:10,maxRowsCount:41,initialCellsCount:5,initialRowsCount:3,onRubricChange:function(){}},de.propTypes={rubric:i.a.shape({dbId:i.a.number,name:i.a.string,maxValue:i.a.number,isUsed:i.a.bool,rows:i.a.arrayOf(i.a.shape({dbId:i.a.number,cells:i.a.arrayOf(i.a.shape({dbId:i.a.number,description:i.a.string,points:i.a.number}))}))}),mode:i.a.oneOf([p.a.VIEW,p.a.GRADE,p.a.CREATE,p.a.EDIT]).isRequired,onGradeChange:i.a.func,minCellsCount:i.a.number,minRowsCount:i.a.number,maxCellsCount:i.a.number,maxRowsCount:i.a.number,initialCellsCount:i.a.number,initialRowsCount:i.a.number,onRubricChange:i.a.func};t.a=Object(c.withI18n)()(de)},"yG+V":function(e,t,n){"use strict";var r=n("1mi+");n.d(t,"a",(function(){return r.a}));n("kKdm"),n("7GeL")},yJ9H:function(e,t,n){e.exports={captionsChooser:"b_pvS4KOxm"}},yScL:function(e,t,n){},yWXI:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return s}));var r="[Customization] Set launchpoint settings",a="[Customization] Set capability settings",o="[Customization] Set preference settings",i=function(e){return{type:r,payload:e}},c=function(e){return{type:a,payload:e}},s=function(e){return{type:o,payload:e}}},ybFX:function(e,t,n){},yt4I:function(e,t,n){},yxKi:function(e,t,n){"use strict";n("nOAq"),n("mTCQ");var r=n("j15M"),a=n("q1tI"),o=n.n(a),i=n("17x9"),c=n.n(i),s=n("TSYQ"),u=n.n(s),l=(n("0l2v"),function(e){return o.a.createElement("div",{className:u()("page-heading",e.className)},o.a.createElement("div",{className:"page-heading-contents"},o.a.createElement("h1",{className:"page-heading-title"},e.title),o.a.createElement("p",{className:"page-heading-description"},e.description)))});l.propTypes={className:c.a.string,description:c.a.string,title:c.a.string};var d=n("8bCP");function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=2e4,g=function(e){function t(){var e,n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),u=0;u<c;u++)s[u]=arguments[u];return a=this,i=(e=m(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==f(i)&&"function"!==typeof i?y(a):i,v(y(y(n)),"componentDidMount",(function(){n._ismounted=!0,n.props.pollingEnabled&&n.startPolling()})),v(y(y(n)),"componentWillUnmount",(function(){n._ismounted=!1,clearTimeout(n.pollingTimer)})),v(y(y(n)),"startPolling",(function(){clearTimeout(n.pollingTimer),n._ismounted&&(n.pollingTimer=setTimeout((function(){n.performRefresh()}),h))})),v(y(y(n)),"performRefresh",(function(){var e=n.props,t=e.serviceMethod,r=e.serviceParameters;t.apply(null,r).then((function(){n.startPolling()}),(function(e){d.b.error(e),n.startPolling()}))})),v(y(y(n)),"render",(function(){var e=n.props,t=e.children,a=e.description,i=e.title;return o.a.createElement(r.a,{title:i,description:a},t)})),n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(a=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.pollingEnabled!==this.props.pollingEnabled&&(e.pollingEnabled?this.startPolling():clearTimeout(this.pollingTimer))}}])&&p(n.prototype,a),i&&p(n,i),t}(a.Component);g.propTypes={description:c.a.node,pollingEnabled:c.a.bool,serviceMethod:c.a.func.isRequired,serviceParameters:c.a.array,title:c.a.string},g.defaultProps={pollingEnabled:!0};var E=g;n("RKRe");n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return E}))},zAaz:function(e,t,n){},zFSh:function(e,t,n){},zHZz:function(e,t,n){},"zL4/":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("ZtzG"),s=(n("i5n6"),n("TSYQ")),u=n.n(s),l="column-avatar",d=16;function f(e){return a.a.createElement("div",{className:u()(l,e.className)},function(e){return e.value?"string"===typeof e.value?a.a.createElement(c.a,{tooltip:{distance:d},value:e.value}):e.value instanceof Array?e.value.map((function(e,t){return a.a.createElement(c.a,{tooltip:{distance:d},key:t,value:e})})):void 0:null}(e),e.showValue&&a.a.createElement("span",{className:"avatar-label"},e.value))}f.propTypes={className:i.a.string,value:i.a.any,showValue:i.a.bool},f.defaultProps={showValue:!1},t.a=f},zNLh:function(e,t,n){"use strict";var r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c}));var o={SS_SETTINGS:"bongo-customization-settings",CAPABILITIES:"capabilities",PREFERENCES:"preferences"},i={NAVIGATION_MENU:"navigationMenu",NAVIGATION_ACTIVITY_LEARNER_LIST:"navigationActivityLearnerList",LOGO:"logo",THEME:"theme"},c=(a(r={},"theme",null),a(r,"navigationMenu",{visible:!0}),a(r,"navigationActivityLearnerList",{visible:!0}),a(r,"logo",{visible:!0}),r)},zNkm:function(e,t,n){},zUuM:function(e,t,n){},zcQA:function(e,t,n){e.exports={groupHeaderActions:"b_szp7ch9u",headerAction:"b_fiPHiPnx",chatContainer:"b_2WA8U56L",activityLogContainer:"b_yqIFnN8G"}},zeqS:function(e,t,n){},zgE9:function(e,t,n){},zlvO:function(e,t,n){e.exports={button:"b_7iZms5cP",optionButton:"b_5xcXchB6",optionButtonTop:"b_a7tUrHYo",optionButtonBottom:"b_lO3IEyc6",optionButtonIcon:"b_mg00KPZ9",optionButtonLabel:"b_ahaYE9VF",optionButtonDescription:"b_shgKZeF8"}},zoNz:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return m}));var r="[Double player] Init",a="[Double player] Destroy",o="[Double player] Set prop",i=function(e,t){return{type:r,payload:{playerId:e,initialState:t}}},c=function(e){return{type:a,payload:e}},s=function(e,t,n){return{type:o,payload:{playerId:e,prop:t,value:n}}},u=function(e,t){return s(e,"deskshareIsActive",t)},l=function(e,t){return s(e,"secondaryVideoX",t)},d=function(e,t){return s(e,"secondaryVideoY",t)},f=function(e,t){return s(e,"secondaryVideoWidth",t)},p=function(e,t){return s(e,"inFullScreen",t)},m=function(e,t){return s(e,"isSplitView",t)}},zqO2:function(e,t,n){},zyHd:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("5ux5"),a=n("J4sO"),o=n("fcFR"),i=n("QccL");function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,s;return t=e,s=[{key:"isMedia",value:function(e){return e.__typename===r.a.MEDIA}},{key:"isMeeting",value:function(e){return e.__typename===r.a.MEETING}},{key:"isDocument",value:function(e){return e.__typename===r.a.DOCUMENT}},{key:"isLink",value:function(e){return e.__typename===r.a.LINK}},{key:"isReflectionAnswers",value:function(e){return e.__typename===r.a.REFLECTION_ANSWERS}},{key:"isVideoPartial",value:function(t){return e.isMedia(t)||e.isMeeting(t)}},{key:"isMediaInProcessingProgress",value:function(e){var t=e.media||e.recordedMedia;return t&&t.processingStatus===a.a.PROGRESS}},{key:"isMediaProcessed",value:function(e){var t=e.media||e.recordedMedia;return t&&t.processingStatus===a.a.READY}},{key:"isSlaveMediaProcessed",value:function(e){var t=e.media||e.recordedMedia;return!!t&&(!t.slaveMedia||t.slaveMedia.processingStatus===a.a.READY)}},{key:"isMediaInProcessingError",value:function(e){var t=e.media||e.recordedMedia;return t&&t.processingStatus===a.a.ERROR}},{key:"isUnprocessedMeeting",value:function(t){return e.isMeeting(t)&&!t.recordedMedia}},{key:"getMeetingsNotFinalizedPartials",value:function(t){return t.filter((function(t){var n=!0;return t.recordedMedia&&(n=!1),e.isMeeting(t)&&n}))}},{key:"getVideosToCombine",value:function(e){return this.getInProgressPartials(e).filter(this.isMedia).filter(this.isMediaProcessed).filter(this.isSlaveMediaProcessed)}},{key:"getInProgressPartials",value:function(t){return t.filter((function(t){var n=!0;return e.isMeeting(t)&&!t.recordedMedia?n=!1:t.finalizedAt&&(n=!1),n}))}},{key:"containVideoPartial",value:function(t){var n=!1;return t.forEach((function(t){e.isVideoPartial(t)&&(n=!0)})),n}},{key:"getReadyToSubmitPartials",value:function(e){return e.filter((function(e){return e.finalizedAt}))}},{key:"createReflectionAnswersPartial",value:function(e,t,n){return t&&t.length>0?{__typename:r.a.REFLECTION_ANSWERS,title:e,owner:t[0].submitter,dbId:"",finalizedAt:"",previewFunction:n,readOnly:!0,data:t}:null}},{key:"isBbbMedia",value:function(e){return!!e.meetingAssets}},{key:"isTwoStreamsMedia",value:function(e){return!!e.slaveMedia}},{key:"downloadPartial",value:function(t){if(e.isMedia(t)){var n=t.media,r=t.title;Object(i.b)(n,r)}else{var a=t.downloadUrl,c=t.title;a&&Object(o.a)(a,c)}}},{key:"createVideoPartial",value:function(e){return{dbId:e.dbId,media:e,__typename:r.a.MEDIA}}}],(n=null)&&c(t.prototype,n),s&&c(t,s),e}()},zyUR:function(e,t,n){}}]);
//# sourceMappingURL=main.eb7328e1.chunk.js.map